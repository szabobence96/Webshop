"use strict";(self.webpackChunkwebshop=self.webpackChunkwebshop||[]).push([[179],{6304:(en,Te,Q)=>{Q.d(Te,{Dh:()=>ut,GT:()=>Ae,cc:()=>me,hO:()=>Ne,on:()=>j,pX:()=>ce,xv:()=>Ve});var o=Q(5879),U=Q(120),Y=Q(2793);en=Q.hmd(en);const pe=["ngOnDestroy"],ce=(Re,at,We,xe={})=>new Proxy(Re,{get:(nt,Ze)=>We.runOutsideAngular(()=>{var it;if(Re[Ze])return!(null===(it=xe?.spy)||void 0===it)&&it.get&&xe.spy.get(Ze,Re[Ze]),Re[Ze];if(pe.indexOf(Ze)>-1)return()=>{};const he=at.toPromise().then(ue=>{const Ge=ue&&ue[Ze];return"function"==typeof Ge?Ge.bind(ue):Ge&&Ge.then?Ge.then(Le=>We.run(()=>Le)):We.run(()=>Ge)});return new Proxy(()=>{},{get:(ue,Ge)=>he[Ge],apply:(ue,Ge,Le)=>he.then(wt=>{var ot;const Yt=wt&&wt(...Le);return!(null===(ot=xe?.spy)||void 0===ot)&&ot.apply&&xe.spy.apply(Ze,Le,Yt),Yt})})})}),Ae=(Re,at)=>{at.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(xe=>{Object.defineProperty(Re.prototype,xe,Object.getOwnPropertyDescriptor(We.prototype||We,xe))})})};class De{constructor(at){return at}}const ut=new o.OlP("angularfire2.app.options"),Ve=new o.OlP("angularfire2.app.name");function j(Re,at,We){const nt="object"==typeof We&&We||{};nt.name=nt.name||"string"==typeof We&&We||"[DEFAULT]";const it=U.Z.apps.filter(he=>he&&he.name===nt.name)[0]||at.runOutsideAngular(()=>U.Z.initializeApp(Re,nt));try{JSON.stringify(Re)!==JSON.stringify(it.options)&&$("error",`${it.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(it)}const $=(Re,...at)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Re](...at)},de={provide:De,useFactory:j,deps:[ut,o.R0b,[new o.FiY,Ve]]};let Ne=(()=>{class Re{constructor(We){U.Z.registerVersion("angularfire",Y.q4.full,"core"),U.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),U.Z.registerVersion("angular",o.q4F.full,We.toString())}static initializeApp(We,xe){return{ngModule:Re,providers:[{provide:ut,useValue:We},{provide:Ve,useValue:xe}]}}}return Re.\u0275fac=function(We){return new(We||Re)(o.LFG(o.Lbi))},Re.\u0275mod=o.oAB({type:Re}),Re.\u0275inj=o.cJS({providers:[de]}),Re})();function me(Re,at,We,xe,nt){const[,Ze,it]=globalThis.\u0275AngularfireInstanceCache.find(he=>he[0]===Re)||[];if(Ze)return function lt(Re,at){try{return Re.toString()===at.toString()}catch{return Re===at}}(nt,it)||(mt("error",`${at} was already initialized on the ${We} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:nt,was:it})),Ze;{const he=xe();return globalThis.\u0275AngularfireInstanceCache.push([Re,he,nt]),he}}const st=!!en.hot,mt=(Re,...at)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Re](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(en,Te,Q)=>{Q.d(Te,{q4:()=>Nu,iC:()=>pr,HU:()=>si,vb:()=>ph,JM:()=>fh,u3:()=>Jc});var o=Q(5879),U=Q(4097),Y=Q(5861),pe=Q(534),ce=Q(9058),Ae=Q(4537),De=Q(7879);const ut=(D,F)=>F.some(H=>D instanceof H);let Ve,j;const Ne=new WeakMap,me=new WeakMap,lt=new WeakMap,st=new WeakMap,mt=new WeakMap;let We={get(D,F,H){if(D instanceof IDBTransaction){if("done"===F)return me.get(D);if("objectStoreNames"===F)return D.objectStoreNames||lt.get(D);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return it(D[F])},set:(D,F,H)=>(D[F]=H,!0),has:(D,F)=>D instanceof IDBTransaction&&("done"===F||"store"===F)||F in D};function Ze(D){return"function"==typeof D?function nt(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...F){return D.apply(he(this),F),it(Ne.get(this))}:function(...F){return it(D.apply(he(this),F))}:function(F,...H){const oe=D.call(he(this),F,...H);return lt.set(oe,F.sort?F.sort():[F]),it(oe)}}(D):(D instanceof IDBTransaction&&function at(D){if(me.has(D))return;const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("complete",Ue),D.removeEventListener("error",rt),D.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(D.error||new DOMException("AbortError","AbortError")),be()};D.addEventListener("complete",Ue),D.addEventListener("error",rt),D.addEventListener("abort",rt)});me.set(D,F)}(D),ut(D,function $(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,We):D)}function it(D){if(D instanceof IDBRequest)return function Re(D){const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("success",Ue),D.removeEventListener("error",rt)},Ue=()=>{H(it(D.result)),be()},rt=()=>{oe(D.error),be()};D.addEventListener("success",Ue),D.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Ne.set(H,D)}).catch(()=>{}),mt.set(F,D),F}(D);if(st.has(D))return st.get(D);const F=Ze(D);return F!==D&&(st.set(D,F),mt.set(F,D)),F}const he=D=>mt.get(D),Le=["get","getKey","getAll","getAllKeys","count"],wt=["put","add","delete","clear"],ot=new Map;function Yt(D,F){if(!(D instanceof IDBDatabase)||F in D||"string"!=typeof F)return;if(ot.get(F))return ot.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=wt.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Le.includes(H))return;const Ue=function(){var rt=(0,Y.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Bn=hn.store;return oe&&(Bn=Bn.index(Ft.shift())),(yield Promise.all([Bn[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ot.set(F,Ue),Ue}!function xe(D){We=D(We)}(D=>({...D,get:(F,H,oe)=>Yt(F,H)||D.get(F,H,oe),has:(F,H)=>!!Yt(F,H)||D.has(F,H)}));const nn="@firebase/installations",un="0.6.4",rn=1e4,gi=`w:${un}`,Pe="FIS_v2",we="https://firebaseinstallations.googleapis.com/v1",qe=36e5,Tt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function In({projectId:D}){return`${we}/projects/${D}/installations`}function dn(D){return{token:D.token,requestStatus:2,expiresIn:Un(D.expiresIn),creationTime:Date.now()}}function Ln(D,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,Y.Z)(function*(D,F){const oe=(yield F.json()).error;return Tt.create("request-failed",{requestName:D,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function tn({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ut(D){return cn.apply(this,arguments)}function cn(){return(cn=(0,Y.Z)(function*(D){const F=yield D();return F.status>=500&&F.status<600?D():F})).apply(this,arguments)}function Un(D){return Number(D.replace("s","000"))}function Ai(){return(Ai=(0,Y.Z)(function*({appConfig:D,heartbeatServiceProvider:F},{fid:H}){const oe=In(D),be=tn(D),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({fid:H,authVersion:Pe,appId:D.appId,sdkVersion:gi})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok){const hn=yield Ft.json();return{fid:hn.fid||H,registrationStatus:2,refreshToken:hn.refreshToken,authToken:dn(hn.authToken)}}throw yield Ln("Create Installation",Ft)})).apply(this,arguments)}function ri(D){return new Promise(F=>{setTimeout(F,D)})}const zo=/^[cdef][\w-]{21}$/,sn="";function Kt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const H=function Qt(D){return function Hi(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return zo.test(H)?H:sn}catch{return sn}}function jt(D){return`${D.appName}!${D.appId}`}const Oe=new Map;function Ce(D,F){const H=jt(D);Fe(H,F),function xt(D,F){const H=function zt(){return!gn&&"BroadcastChannel"in self&&(gn=new BroadcastChannel("[Firebase] FID Change"),gn.onmessage=D=>{Fe(D.data.key,D.data.fid)}),gn}();H&&H.postMessage({key:D,fid:F}),function Xt(){0===Oe.size&&gn&&(gn.close(),gn=null)}()}(H,F)}function Fe(D,F){const H=Oe.get(D);if(H)for(const oe of H)oe(F)}let gn=null;const Ht="firebase-installations-database",Oi=1,wi="firebase-installations-store";let Zn=null;function Li(){return Zn||(Zn=function ue(D,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(D,F),Bt=it(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(it(rt.result),Ft.oldVersion,Ft.newVersion,it(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}(Ht,Oi,{upgrade:(D,F)=>{0===F&&D.createObjectStore(wi)}})),Zn}function $n(D,F){return vr.apply(this,arguments)}function vr(){return(vr=(0,Y.Z)(function*(D,F){const H=jt(D),be=(yield Li()).transaction(wi,"readwrite"),Ue=be.objectStore(wi),rt=yield Ue.get(H);return yield Ue.put(F,H),yield be.done,(!rt||rt.fid!==F.fid)&&Ce(D,F.fid),F})).apply(this,arguments)}function _i(D){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,Y.Z)(function*(D){const F=jt(D),oe=(yield Li()).transaction(wi,"readwrite");yield oe.objectStore(wi).delete(F),yield oe.done})).apply(this,arguments)}function yr(D,F){return Co.apply(this,arguments)}function Co(){return(Co=(0,Y.Z)(function*(D,F){const H=jt(D),be=(yield Li()).transaction(wi,"readwrite"),Ue=be.objectStore(wi),rt=yield Ue.get(H),Bt=F(rt);return void 0===Bt?yield Ue.delete(H):yield Ue.put(Bt,H),yield be.done,Bt&&(!rt||rt.fid!==Bt.fid)&&Ce(D,Bt.fid),Bt})).apply(this,arguments)}function fe(D){return le.apply(this,arguments)}function le(){return le=(0,Y.Z)(function*(D){let F;const H=yield yr(D.appConfig,oe=>{const be=function X(D){return Vt(D||{fid:Kt(),registrationStatus:0})}(oe),Ue=function ne(D,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Tt.create("app-offline"))};const H={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},oe=function K(D,F){return Se.apply(this,arguments)}(D,H);return{installationEntry:H,registrationPromise:oe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Qe(D)}:{installationEntry:F}}(D,be);return F=Ue.registrationPromise,Ue.installationEntry});return H.fid===sn?{installationEntry:yield F}:{installationEntry:H,registrationPromise:F}}),le.apply(this,arguments)}function Se(){return Se=(0,Y.Z)(function*(D,F){try{const H=yield function Ei(D,F){return Ai.apply(this,arguments)}(D,F);return $n(D.appConfig,H)}catch(H){throw Ct(H)&&409===H.customData.serverCode?yield _i(D.appConfig):yield $n(D.appConfig,{fid:F.fid,registrationStatus:0}),H}}),Se.apply(this,arguments)}function Qe(D){return It.apply(this,arguments)}function It(){return(It=(0,Y.Z)(function*(D){let F=yield yn(D.appConfig);for(;1===F.registrationStatus;)yield ri(100),F=yield yn(D.appConfig);if(0===F.registrationStatus){const{installationEntry:H,registrationPromise:oe}=yield fe(D);return oe||H}return F})).apply(this,arguments)}function yn(D){return yr(D,F=>{if(!F)throw Tt.create("installation-not-found");return Vt(F)})}function Vt(D){return function ti(D){return 1===D.registrationStatus&&D.registrationTime+rn<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function di(){return(di=(0,Y.Z)(function*({appConfig:D,heartbeatServiceProvider:F},H){const oe=function Nn(D,{fid:F}){return`${In(D)}/${F}/authTokens:generate`}(D,H),be=function Tn(D,{refreshToken:F}){const H=tn(D);return H.append("Authorization",function zn(D){return`${Pe} ${D}`}(F)),H}(D,H),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:gi,appId:D.appId}})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok)return dn(yield Ft.json());throw yield Ln("Generate Auth Token",Ft)})).apply(this,arguments)}function br(D){return rs.apply(this,arguments)}function rs(){return rs=(0,Y.Z)(function*(D,F=!1){let H;const oe=yield yr(D.appConfig,Ue=>{if(!An(Ue))throw Tt.create("not-registered");const rt=Ue.authToken;if(!F&&function ai(D){return 2===D.requestStatus&&!function Gi(D){const F=Date.now();return F<D.creationTime||D.creationTime+D.expiresIn<F+qe}(D)}(rt))return Ue;if(1===rt.requestStatus)return H=function Je(D,F){return He.apply(this,arguments)}(D,F),Ue;{if(!navigator.onLine)throw Tt.create("app-offline");const Bt=function Yi(D){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:F})}(Ue);return H=function Wt(D,F){return kt.apply(this,arguments)}(D,Bt),Bt}});return H?yield H:oe.authToken}),rs.apply(this,arguments)}function He(){return(He=(0,Y.Z)(function*(D,F){let H=yield _t(D.appConfig);for(;1===H.authToken.requestStatus;)yield ri(100),H=yield _t(D.appConfig);const oe=H.authToken;return 0===oe.requestStatus?br(D,F):oe})).apply(this,arguments)}function _t(D){return yr(D,F=>{if(!An(F))throw Tt.create("not-registered");return function tr(D){return 1===D.requestStatus&&D.requestTime+rn<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function kt(){return kt=(0,Y.Z)(function*(D,F){try{const H=yield function xn(D,F){return di.apply(this,arguments)}(D,F),oe=Object.assign(Object.assign({},F),{authToken:H});return yield $n(D.appConfig,oe),H}catch(H){if(!Ct(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const oe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield $n(D.appConfig,oe)}else yield _i(D.appConfig);throw H}}),kt.apply(this,arguments)}function An(D){return void 0!==D&&2===D.registrationStatus}function wo(){return(wo=(0,Y.Z)(function*(D){const F=D,{installationEntry:H,registrationPromise:oe}=yield fe(F);return oe?oe.catch(console.error):br(F).catch(console.error),H.fid})).apply(this,arguments)}function Cr(){return Cr=(0,Y.Z)(function*(D,F=!1){const H=D;return yield function vs(D){return Os.apply(this,arguments)}(H),(yield br(H,F)).token}),Cr.apply(this,arguments)}function Os(){return(Os=(0,Y.Z)(function*(D){const{registrationPromise:F}=yield fe(D);F&&(yield F)})).apply(this,arguments)}function Ps(D){return Tt.create("missing-app-config-values",{valueName:D})}const Fa="installations",da=D=>{const F=D.getProvider("app").getImmediate(),H=function Wr(D){if(!D||!D.options)throw Ps("App Configuration");if(!D.name)throw Ps("App Name");const F=["projectId","apiKey","appId"];for(const H of F)if(!D.options[H])throw Ps(H);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(F);return{app:F,appConfig:H,heartbeatServiceProvider:(0,pe._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Dc=D=>{const F=D.getProvider("app").getImmediate(),H=(0,pe._getProvider)(F,Fa).getImmediate();return{getId:()=>function jr(D){return wo.apply(this,arguments)}(H),getToken:be=>function Na(D){return Cr.apply(this,arguments)}(H,be)}};(function Ac(){(0,pe._registerComponent)(new Ae.wA(Fa,da,"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("installations-internal",Dc,"PRIVATE"))})(),(0,pe.registerVersion)(nn,un),(0,pe.registerVersion)(nn,un,"esm2017");const ho="@firebase/remote-config",wr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class En{constructor(F,H,oe,be){this.client=F,this.storage=H,this.storageCache=oe,this.logger=be}isCachedDataFresh(F,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-H,be=oe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${be}.`),be}fetch(F){var H=this;return(0,Y.Z)(function*(){const[oe,be]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(be&&H.isCachedDataFresh(F.cacheMaxAgeMillis,oe))return be;F.eTag=be&&be.eTag;const Ue=yield H.client.fetch(F),rt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&rt.push(H.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(rt),Ue})()}}function Ii(D=navigator){return D.languages&&D.languages[0]||D.language}class fo{constructor(F,H,oe,be,Ue,rt){this.firebaseInstallations=F,this.sdkVersion=H,this.namespace=oe,this.projectId=be,this.apiKey=Ue,this.appId=rt}fetch(F){var H=this;return(0,Y.Z)(function*(){const[oe,be]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:H.sdkVersion,app_instance_id:oe,app_instance_id_token:be,app_id:H.appId,language_code:Ii()},hn={method:"POST",headers:Bt,body:JSON.stringify(Ft)},Bn=fetch(rt,hn),Sn=new Promise((Ya,Vr)=>{F.signal.addEventListener(()=>{const El=new Error("The operation was aborted.");El.name="AbortError",Vr(El)})});let ws;try{yield Promise.race([Bn,Sn]),ws=yield Bn}catch(Ya){let Vr="fetch-client-network";throw"AbortError"===Ya?.name&&(Vr="fetch-timeout"),wr.create(Vr,{originalErrorMessage:Ya?.message})}let Fo=ws.status;const er=ws.headers.get("ETag")||void 0;let Fu,Wa;if(200===ws.status){let Ya;try{Ya=yield ws.json()}catch(Vr){throw wr.create("fetch-client-parse",{originalErrorMessage:Vr?.message})}Fu=Ya.entries,Wa=Ya.state}if("INSTANCE_STATE_UNSPECIFIED"===Wa?Fo=500:"NO_CHANGE"===Wa?Fo=304:("NO_TEMPLATE"===Wa||"EMPTY_CONFIG"===Wa)&&(Fu={}),304!==Fo&&200!==Fo)throw wr.create("fetch-status",{httpStatus:Fo});return{status:Fo,eTag:er,config:Fu}})()}}class ss{constructor(F,H){this.client=F,this.storage=H}fetch(F){var H=this;return(0,Y.Z)(function*(){const oe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(F,oe)})()}attemptFetch(F,{throttleEndTimeMillis:H,backoffCount:oe}){var be=this;return(0,Y.Z)(function*(){yield function Gs(D,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);D.addEventListener(()=>{clearTimeout(Ue),oe(wr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,H);try{const Ue=yield be.client.fetch(F);return yield be.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function Gn(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const F=Number(D.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ue))throw Ue;const rt={throttleEndTimeMillis:Date.now()+(0,ce.$s)(oe),backoffCount:oe+1};return yield be.storage.setThrottleMetadata(rt),be.attemptFetch(F,rt)}})()}}class as{constructor(F,H,oe,be,Ue){this.app=F,this._client=H,this._storageCache=oe,this._storage=be,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function on(D,F){const H=D.target.error||void 0;return wr.create(F,{originalErrorMessage:H&&H?.message})}const Yr="app_namespace_store";class Ts{constructor(F,H,oe,be=function Or(){return new Promise((D,F)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=oe=>{F(on(oe,"storage-open"))},H.onsuccess=oe=>{D(oe.target.result)},H.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(Yr,{keyPath:"compositeKey"})}}catch(H){F(wr.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=F,this.appName=H,this.namespace=oe,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var H=this;return(0,Y.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([Yr],"readonly").objectStore(Yr),Ft=H.createCompositeKey(F);try{const hn=Bt.get(Ft);hn.onerror=Bn=>{Ue(on(Bn,"storage-get"))},hn.onsuccess=Bn=>{const Sn=Bn.target.result;be(Sn?Sn.value:void 0)}}catch(hn){Ue(wr.create("storage-get",{originalErrorMessage:hn?.message}))}})})()}set(F,H){var oe=this;return(0,Y.Z)(function*(){const be=yield oe.openDbPromise;return new Promise((Ue,rt)=>{const Ft=be.transaction([Yr],"readwrite").objectStore(Yr),hn=oe.createCompositeKey(F);try{const Bn=Ft.put({compositeKey:hn,value:H});Bn.onerror=Sn=>{rt(on(Sn,"storage-set"))},Bn.onsuccess=()=>{Ue()}}catch(Bn){rt(wr.create("storage-set",{originalErrorMessage:Bn?.message}))}})})()}delete(F){var H=this;return(0,Y.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([Yr],"readwrite").objectStore(Yr),Ft=H.createCompositeKey(F);try{const hn=Bt.delete(Ft);hn.onerror=Bn=>{Ue(on(Bn,"storage-delete"))},hn.onsuccess=()=>{be()}}catch(hn){Ue(wr.create("storage-delete",{originalErrorMessage:hn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class qo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,Y.Z)(function*(){const H=F.storage.getLastFetchStatus(),oe=F.storage.getLastSuccessfulFetchTimestampMillis(),be=F.storage.getActiveConfig(),Ue=yield H;Ue&&(F.lastFetchStatus=Ue);const rt=yield oe;rt&&(F.lastSuccessfulFetchTimestampMillis=rt);const Bt=yield be;Bt&&(F.activeConfig=Bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Ua(){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,Y.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function ur(){(0,pe._registerComponent)(new Ae.wA("remote-config",function D(F,{instanceIdentifier:H}){const oe=F.getProvider("app").getImmediate(),be=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wr.create("registration-window");if(!(0,ce.hl)())throw wr.create("indexed-db-unavailable");const{projectId:Ue,apiKey:rt,appId:Bt}=oe.options;if(!Ue)throw wr.create("registration-project-id");if(!rt)throw wr.create("registration-api-key");if(!Bt)throw wr.create("registration-app-id");const Ft=new Ts(Bt,oe.name,H=H||"firebase"),hn=new qo(Ft),Bn=new De.Yd(ho);Bn.logLevel=De.in.ERROR;const Sn=new fo(be,pe.SDK_VERSION,H,Ue,rt,Bt),ws=new ss(Sn,Ft),Fo=new En(ws,Ft,hn,Bn),er=new as(oe,Fo,hn,Ft,Bn);return function xr(D){const F=(0,ce.m9)(D);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(er),er},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(ho,"0.4.4"),(0,pe.registerVersion)(ho,"0.4.4","esm2017")}();const Zo=(D,F)=>F.some(H=>D instanceof H);let Kr,ni;const Va=new WeakMap,Nr=new WeakMap,or=new WeakMap,Qr=new WeakMap,_a=new WeakMap;let Jr={get(D,F,H){if(D instanceof IDBTransaction){if("done"===F)return Nr.get(D);if("objectStoreNames"===F)return D.objectStoreNames||or.get(D);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Xr(D[F])},set:(D,F,H)=>(D[F]=H,!0),has:(D,F)=>D instanceof IDBTransaction&&("done"===F||"store"===F)||F in D};function Fr(D){return"function"==typeof D?function fl(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mu(){return ni||(ni=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...F){return D.apply(pi(this),F),Xr(Va.get(this))}:function(...F){return Xr(D.apply(pi(this),F))}:function(F,...H){const oe=D.call(pi(this),F,...H);return or.set(oe,F.sort?F.sort():[F]),Xr(oe)}}(D):(D instanceof IDBTransaction&&function hl(D){if(Nr.has(D))return;const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("complete",Ue),D.removeEventListener("error",rt),D.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(D.error||new DOMException("AbortError","AbortError")),be()};D.addEventListener("complete",Ue),D.addEventListener("error",rt),D.addEventListener("abort",rt)});Nr.set(D,F)}(D),Zo(D,function Lc(){return Kr||(Kr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Jr):D)}function Xr(D){if(D instanceof IDBRequest)return function qi(D){const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("success",Ue),D.removeEventListener("error",rt)},Ue=()=>{H(Xr(D.result)),be()},rt=()=>{oe(D.error),be()};D.addEventListener("success",Ue),D.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Va.set(H,D)}).catch(()=>{}),_a.set(F,D),F}(D);if(Qr.has(D))return Qr.get(D);const F=Fr(D);return F!==D&&(Qr.set(D,F),_a.set(F,D)),F}const pi=D=>_a.get(D);function va(D,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(D,F),Bt=Xr(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(Xr(rt.result),Ft.oldVersion,Ft.newVersion,Xr(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}function ci(D,{blocked:F}={}){const H=indexedDB.deleteDatabase(D);return F&&H.addEventListener("blocked",()=>F()),Xr(H).then(()=>{})}const Lr=["get","getKey","getAll","getAllKeys","count"],ql=["put","add","delete","clear"],Ss=new Map;function Uc(D,F){if(!(D instanceof IDBDatabase)||F in D||"string"!=typeof F)return;if(Ss.get(F))return Ss.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=ql.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Lr.includes(H))return;const Ue=function(){var rt=(0,Y.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Bn=hn.store;return oe&&(Bn=Bn.index(Ft.shift())),(yield Promise.all([Bn[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return Ss.set(F,Ue),Ue}!function Ir(D){Jr=D(Jr)}(D=>({...D,get:(F,H,oe)=>Uc(F,H)||D.get(F,H,oe),has:(F,H)=>!!Uc(F,H)||D.has(F,H)}));const Ba="/firebase-messaging-sw.js",Vc="/firebase-cloud-messaging-push-scope",dc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zl="https://fcmregistrations.googleapis.com/v1",yi="google.c.a.c_id",Eu="google.c.a.c_l",Bc="google.c.a.ts";var hc=function(D){return D.PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",D}(hc||{});function Eo(D){const F=new Uint8Array(D);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fc(D){const H=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(H),be=new Uint8Array(oe.length);for(let Ue=0;Ue<oe.length;++Ue)be[Ue]=oe.charCodeAt(Ue);return be}const ya="fcm_token_details_db",Ds=5,$l="fcm_token_object_Store";function Ur(){return Ur=(0,Y.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(ya))return null;let F=null;return(yield va(ya,Ds,{upgrade:(oe=(0,Y.Z)(function*(be,Ue,rt,Bt){var Ft;if(Ue<2||!be.objectStoreNames.contains($l))return;const hn=Bt.objectStore($l),Bn=yield hn.index("fcmSenderId").get(D);if(yield hn.clear(),Bn)if(2===Ue){const Sn=Bn;if(!Sn.auth||!Sn.p256dh||!Sn.endpoint)return;F={token:Sn.fcmToken,createTime:null!==(Ft=Sn.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Sn.auth,p256dh:Sn.p256dh,endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:"string"==typeof Sn.vapidKey?Sn.vapidKey:Eo(Sn.vapidKey)}}}else if(3===Ue){const Sn=Bn;F={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:Eo(Sn.auth),p256dh:Eo(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:Eo(Sn.vapidKey)}}}else if(4===Ue){const Sn=Bn;F={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:Eo(Sn.auth),p256dh:Eo(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:Eo(Sn.vapidKey)}}}}),function(Ue,rt,Bt,Ft){return oe.apply(this,arguments)})})).close(),yield ci(ya),yield ci("fcm_vapid_details_db"),yield ci("undefined"),function Ws(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:F}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var oe}),Ur.apply(this,arguments)}const ba="firebase-messaging-database",zc=1,Go="firebase-messaging-store";let dr=null;function za(){return dr||(dr=va(ba,zc,{upgrade:(D,F)=>{0===F&&D.createObjectStore(Go)}})),dr}function eo(D){return jc.apply(this,arguments)}function jc(){return jc=(0,Y.Z)(function*(D){const F=Ca(D),oe=yield(yield za()).transaction(Go).objectStore(Go).get(F);if(oe)return oe;{const be=yield function Ou(D){return Ur.apply(this,arguments)}(D.appConfig.senderId);if(be)return yield Oo(D,be),be}}),jc.apply(this,arguments)}function Oo(D,F){return pc.apply(this,arguments)}function pc(){return(pc=(0,Y.Z)(function*(D,F){const H=Ca(D),be=(yield za()).transaction(Go,"readwrite");return yield be.objectStore(Go).put(F,H),yield be.done,F})).apply(this,arguments)}function Ys(){return(Ys=(0,Y.Z)(function*(D){const F=Ca(D),oe=(yield za()).transaction(Go,"readwrite");yield oe.objectStore(Go).delete(F),yield oe.done})).apply(this,arguments)}function Ca({appConfig:D}){return D.appId}const xi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wo(D,F){return ja.apply(this,arguments)}function ja(){return(ja=(0,Y.Z)(function*(D,F){const H=yield qc(D),oe=Ha(F),be={method:"POST",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(Ks(D.appConfig),be)).json()}catch(rt){throw xi.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw xi.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw xi.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function cs(){return(cs=(0,Y.Z)(function*(D,F){const H=yield qc(D),oe=Ha(F.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(`${Ks(D.appConfig)}/${F.token}`,be)).json()}catch(rt){throw xi.create("token-update-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw xi.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw xi.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Hc(D,F){return Po.apply(this,arguments)}function Po(){return(Po=(0,Y.Z)(function*(D,F){const oe={method:"DELETE",headers:yield qc(D)};try{const Ue=yield(yield fetch(`${Ks(D.appConfig)}/${F}`,oe)).json();if(Ue.error)throw xi.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(be){throw xi.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Ks({projectId:D}){return`${Zl}/projects/${D}/registrations`}function qc(D){return od.apply(this,arguments)}function od(){return(od=(0,Y.Z)(function*({appConfig:D,installations:F}){const H=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Ha({p256dh:D,auth:F,endpoint:H,vapidKey:oe}){const be={web:{endpoint:H,auth:F,p256dh:D}};return oe!==dc&&(be.web.applicationPubKey=oe),be}const w=6048e5;function z(){return z=(0,Y.Z)(function*(D){const F=yield function hr(D,F){return Io.apply(this,arguments)}(D.swRegistration,D.vapidKey),H={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:F.endpoint,auth:Eo(F.getKey("auth")),p256dh:Eo(F.getKey("p256dh"))},oe=yield eo(D.firebaseDependencies);if(oe){if(function ls(D,F){return F.vapidKey===D.vapidKey&&F.endpoint===D.endpoint&&F.auth===D.auth&&F.p256dh===D.p256dh}(oe.subscriptionOptions,H))return Date.now()>=oe.createTime+w?function Ke(D,F){return Rt.apply(this,arguments)}(D,{token:oe.token,createTime:Date.now(),subscriptionOptions:H}):oe.token;try{yield Hc(D.firebaseDependencies,oe.token)}catch(be){console.warn(be)}return Wn(D.firebaseDependencies,H)}return Wn(D.firebaseDependencies,H)}),z.apply(this,arguments)}function ye(){return ye=(0,Y.Z)(function*(D){const F=yield eo(D.firebaseDependencies);F&&(yield Hc(D.firebaseDependencies,F.token),yield function Gl(D){return Ys.apply(this,arguments)}(D.firebaseDependencies));const H=yield D.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),ye.apply(this,arguments)}function Rt(){return Rt=(0,Y.Z)(function*(D,F){try{const H=yield function Et(D,F){return cs.apply(this,arguments)}(D.firebaseDependencies,F),oe=Object.assign(Object.assign({},F),{token:H,createTime:Date.now()});return yield Oo(D.firebaseDependencies,oe),H}catch(H){throw yield function ee(D){return ye.apply(this,arguments)}(D),H}}),Rt.apply(this,arguments)}function Wn(D,F){return ii.apply(this,arguments)}function ii(){return(ii=(0,Y.Z)(function*(D,F){const oe={token:yield Wo(D,F),createTime:Date.now(),subscriptionOptions:F};return yield Oo(D,oe),oe.token})).apply(this,arguments)}function Io(){return(Io=(0,Y.Z)(function*(D,F){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fc(F)})})).apply(this,arguments)}function Zc(D){const F={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Qs(D,F){if(!F.notification)return;D.notification={};const H=F.notification.title;H&&(D.notification.title=H);const oe=F.notification.body;oe&&(D.notification.body=oe);const be=F.notification.image;be&&(D.notification.image=be);const Ue=F.notification.icon;Ue&&(D.notification.icon=Ue)}(F,D),function ml(D,F){F.data&&(D.data=F.data)}(F,D),function To(D,F){var H,oe,be,Ue,rt;if(!(F.fcmOptions||null!==(H=F.notification)&&void 0!==H&&H.click_action))return;D.fcmOptions={};const Bt=null!==(be=null===(oe=F.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==be?be:null===(Ue=F.notification)||void 0===Ue?void 0:Ue.click_action;Bt&&(D.fcmOptions.link=Bt);const Ft=null===(rt=F.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Ft&&(D.fcmOptions.analyticsLabel=Ft)}(F,D),F}function sd(D,F){const H=[];for(let oe=0;oe<D.length;oe++)H.push(D.charAt(oe)),oe<F.length&&H.push(F.charAt(oe));return H.join("")}function Pu(D){return xi.create("missing-app-config-values",{valueName:D})}sd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gh{constructor(F,H,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function $h(D){if(!D||!D.options)throw Pu("App Configuration Object");if(!D.name)throw Pu("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:H}=D;for(const oe of F)if(!H[oe])throw Pu(oe);return{appName:D.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:be,installations:H,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function Yl(){return(Yl=(0,Y.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ba,{scope:Vc}),D.swRegistration.update().catch(()=>{})}catch(F){throw xi.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function As(){return(As=(0,Y.Z)(function*(D,F){if(!F&&!D.swRegistration&&(yield function Wl(D){return Yl.apply(this,arguments)}(D)),F||!D.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw xi.create("invalid-sw-registration");D.swRegistration=F}})).apply(this,arguments)}function gl(){return(gl=(0,Y.Z)(function*(D,F){F?D.vapidKey=F:D.vapidKey||(D.vapidKey=dc)})).apply(this,arguments)}function Iu(){return Iu=(0,Y.Z)(function*(D,F){if(!navigator)throw xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xi.create("permission-blocked");return yield function $c(D,F){return gl.apply(this,arguments)}(D,F?.vapidKey),yield function ad(D,F){return As.apply(this,arguments)}(D,F?.serviceWorkerRegistration),function N(D){return z.apply(this,arguments)}(D)}),Iu.apply(this,arguments)}function ks(){return(ks=(0,Y.Z)(function*(D,F,H){const oe=function th(D){switch(D){case hc.NOTIFICATION_CLICKED:return"notification_open";case hc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:H[yi],message_name:H[Eu],message_time:H[Bc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ti(){return Ti=(0,Y.Z)(function*(D,F){const H=F.data;if(!H.isFirebaseMessaging)return;D.onMessageHandler&&H.messageType===hc.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Zc(H)):D.onMessageHandler.next(Zc(H)));const oe=H.data;(function So(D){return"object"==typeof D&&!!D&&yi in D})(oe)&&"1"===oe["google.c.a.e"]&&(yield function ip(D,F,H){return ks.apply(this,arguments)}(D,H.messageType,oe))}),Ti.apply(this,arguments)}const _l="@firebase/messaging",Yo=D=>{const F=new Gh(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function Tu(D,F){return Ti.apply(this,arguments)}(F,H)),F},to=D=>{const F=D.getProvider("messaging").getImmediate();return{getToken:oe=>function cd(D,F){return Iu.apply(this,arguments)}(F,oe)}};function vl(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,Y.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nh(){(0,pe._registerComponent)(new Ae.wA("messaging",Yo,"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("messaging-internal",to,"PRIVATE")),(0,pe.registerVersion)(_l,"0.12.4"),(0,pe.registerVersion)(_l,"0.12.4","esm2017")}();const mc="analytics",Su="firebase_id",On="origin",Wc=6e4,rp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ld="https://www.googletagmanager.com/gtag/js",qr=new De.Yd("@firebase/analytics"),Wi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rs(D){if(!D.startsWith(ld)){const F=Wi.create("invalid-gtag-resource",{gtagURL:D});return qr.warn(F.message),""}return D}function Yc(D){return Promise.all(D.map(F=>F.catch(H=>H)))}function pt(){return(pt=(0,Y.Z)(function*(D,F,H,oe,be,Ue){const rt=oe[be];try{if(rt)yield F[rt];else{const Ft=(yield Yc(H)).find(hn=>hn.measurementId===be);Ft&&(yield F[Ft.appId])}}catch(Bt){qr.error(Bt)}D("config",be,Ue)})).apply(this,arguments)}function Ns(){return(Ns=(0,Y.Z)(function*(D,F,H,oe,be){try{let Ue=[];if(be&&be.send_to){let rt=be.send_to;Array.isArray(rt)||(rt=[rt]);const Bt=yield Yc(H);for(const Ft of rt){const hn=Bt.find(Sn=>Sn.measurementId===Ft),Bn=hn&&F[hn.appId];if(!Bn){Ue=[];break}Ue.push(Bn)}}0===Ue.length&&(Ue=Object.values(F)),yield Promise.all(Ue),D("event",oe,be||{})}catch(Ue){qr.error(Ue)}})).apply(this,arguments)}const Ao=30,po=new class Qi{constructor(F={},H=1e3){this.throttleMetadata=F,this.intervalMillis=H}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,H){this.throttleMetadata[F]=H}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function sp(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function sr(){return(sr=(0,Y.Z)(function*(D){var F;const{appId:H,apiKey:oe}=D,be={method:"GET",headers:sp(oe)},Ue=rp.replace("{app-id}",H),rt=yield fetch(Ue,be);if(200!==rt.status&&304!==rt.status){let Bt="";try{const Ft=yield rt.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Bt=Ft.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Bt})}return rt.json()})).apply(this,arguments)}function fr(){return(fr=(0,Y.Z)(function*(D,F=po,H){const{appId:oe,apiKey:be,measurementId:Ue}=D.options;if(!oe)throw Wi.create("no-app-id");if(!be){if(Ue)return{measurementId:Ue,appId:oe};throw Wi.create("no-api-key")}const rt=F.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new wa;return setTimeout((0,Y.Z)(function*(){Bt.abort()}),void 0!==H?H:Wc),mo({appId:oe,apiKey:be,measurementId:Ue},rt,Bt,F)})).apply(this,arguments)}function mo(D,F,H){return no.apply(this,arguments)}function no(){return no=(0,Y.Z)(function*(D,{throttleEndTimeMillis:F,backoffCount:H},oe,be=po){var Ue;const{appId:rt,measurementId:Bt}=D;try{yield function io(D,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);D.addEventListener(()=>{clearTimeout(Ue),oe(Wi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(oe,F)}catch(Ft){if(Bt)return qr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:rt,measurementId:Bt};throw Ft}try{const Ft=yield function c_(D){return sr.apply(this,arguments)}(D);return be.deleteThrottleMetadata(rt),Ft}catch(Ft){const hn=Ft;if(!function Kh(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const F=Number(D.customData.httpStatus);return 429===F||500===F||503===F||504===F}(hn)){if(be.deleteThrottleMetadata(rt),Bt)return qr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${hn?.message}]`),{appId:rt,measurementId:Bt};throw Ft}const Bn=503===Number(null===(Ue=hn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ce.$s)(H,be.intervalMillis,Ao):(0,ce.$s)(H,be.intervalMillis),Sn={throttleEndTimeMillis:Date.now()+Bn,backoffCount:H+1};return be.setThrottleMetadata(rt,Sn),qr.debug(`Calling attemptFetch again in ${Bn} millis`),mo(D,Sn,oe,be)}}),no.apply(this,arguments)}class wa{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let dd,vc;function Au(){return(Au=(0,Y.Z)(function*(D,F,H,oe,be){if(be&&be.global)D("event",H,oe);else{const Ue=yield F;D("event",H,Object.assign(Object.assign({},oe),{send_to:Ue}))}})).apply(this,arguments)}function xa(){return(xa=(0,Y.Z)(function*(){if(!(0,ce.hl)())return qr.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(D){return qr.warn(Wi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ma(){return Ma=(0,Y.Z)(function*(D,F,H,oe,be,Ue,rt){var Bt;const Ft=function Ji(D){return fr.apply(this,arguments)}(D);Ft.then(Fo=>{H[Fo.measurementId]=Fo.appId,D.options.measurementId&&Fo.measurementId!==D.options.measurementId&&qr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Fo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fo=>qr.error(Fo)),F.push(Ft);const hn=function us(){return xa.apply(this,arguments)}().then(Fo=>{if(Fo)return oe.getId()}),[Bn,Sn]=yield Promise.all([Ft,hn]);(function ud(D){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(ld)&&H.src.includes(D))return H;return null})(Ue)||function op(D,F){const H=function sh(D,F){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(D,F)),H}("firebase-js-sdk-policy",{createScriptURL:Rs}),oe=document.createElement("script"),be=`${ld}?l=${D}&id=${F}`;oe.src=H?H?.createScriptURL(be):be,oe.async=!0,document.head.appendChild(oe)}(Ue,Bn.measurementId),vc&&(be("consent","default",vc),function yc(D){vc=D}(void 0)),be("js",new Date);const ws=null!==(Bt=rt?.config)&&void 0!==Bt?Bt:{};return ws[On]="firebase",ws.update=!0,null!=Sn&&(ws[Su]=Sn),be("config",Bn.measurementId,ws),dd&&(be("set",dd),function Jl(D){dd=D}(void 0)),Bn.measurementId}),Ma.apply(this,arguments)}class uh{constructor(F){this.app=F}_delete(){return delete bs[this.app.options.appId],Promise.resolve()}}let bs={},Fn=[];const cr={};let bc,li,Ro="dataLayer",$a=!1;function Tr(D,F,H){!function Cc(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const F=D.map((oe,be)=>`(${be+1}) ${oe}`).join(" "),H=Wi.create("invalid-analytics-context",{errorInfo:F});qr.warn(H.message)}}();const oe=D.options.appId;if(!oe)throw Wi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Wi.create("no-api-key");qr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bs[oe])throw Wi.create("already-exists",{id:oe});if(!$a){!function ah(D){let F=[];Array.isArray(window[D])?F=window[D]:window[D]=F}(Ro);const{wrappedGtag:Ue,gtagCore:rt}=function Do(D,F,H,oe,be){let Ue=function(...rt){window[oe].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Ue=window[be]),window[be]=function Du(D,F,H,oe){function Ue(){return Ue=(0,Y.Z)(function*(rt,...Bt){try{if("event"===rt){const[Ft,hn]=Bt;yield function oi(D,F,H,oe,be){return Ns.apply(this,arguments)}(D,F,H,Ft,hn)}else if("config"===rt){const[Ft,hn]=Bt;yield function gc(D,F,H,oe,be,Ue){return pt.apply(this,arguments)}(D,F,H,oe,Ft,hn)}else if("consent"===rt){const[Ft]=Bt;D("consent","update",Ft)}else if("get"===rt){const[Ft,hn,Bn]=Bt;D("get",Ft,hn,Bn)}else if("set"===rt){const[Ft]=Bt;D("set",Ft)}else D(rt,...Bt)}catch(Ft){qr.error(Ft)}}),Ue.apply(this,arguments)}return function be(rt){return Ue.apply(this,arguments)}}(Ue,D,F,H),{gtagCore:Ue,wrappedGtag:window[be]}}(bs,Fn,cr,Ro,"gtag");li=Ue,bc=rt,$a=!0}return bs[oe]=function ar(D,F,H,oe,be,Ue,rt){return Ma.apply(this,arguments)}(D,Fn,cr,F,bc,Ro,H),new uh(D)}function ap(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,Y.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Kc="@firebase/analytics";!function gd(){(0,pe._registerComponent)(new Ae.wA(mc,(F,{options:H})=>Tr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("analytics-internal",function D(F){try{const H=F.getProvider(mc).getImmediate();return{logEvent:(oe,be,Ue)=>function Qh(D,F,H,oe){D=(0,ce.m9)(D),function Mm(D,F,H,oe,be){return Au.apply(this,arguments)}(li,bs[D.app.options.appId],F,H,oe).catch(be=>qr.error(be))}(H,oe,be,Ue)}}catch(H){throw Wi.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,pe.registerVersion)(Kc,"0.10.0"),(0,pe.registerVersion)(Kc,"0.10.0","esm2017")}();var wl=Q(1954),Cs=Q(2631);const Xh=new class Jh extends Cs.v{}(class Ru extends wl.o{constructor(F,H){super(F,H),this.scheduler=F,this.work=H}schedule(F,H=0){return H>0?super.schedule(F,H):(this.delay=H,this.state=F,this.scheduler.flush(this),this)}execute(F,H){return H>0||this.closed?super.execute(F,H):this._execute(F,H)}requestAsyncId(F,H,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(F,H,oe):(F.flush(this),0)}});var ef=Q(6321),Ko=Q(5592),_d=Q(9397),Xs=Q(5137),tu=Q(3093);const Nu=new o.GfV("7.6.1"),nu="__angularfire_symbol__analyticsIsSupportedValue",iu="__angularfire_symbol__analyticsIsSupported",vd="__angularfire_symbol__remoteConfigIsSupportedValue",ru="__angularfire_symbol__remoteConfigIsSupported",ou="__angularfire_symbol__messagingIsSupportedValue",ea="__angularfire_symbol__messagingIsSupported";function fh(D,F,H){if(F){if(1===F.length)return F[0];const Ue=F.filter(rt=>rt.app===H);if(1===Ue.length)return Ue[0]}return H.container.getProvider(D).getImmediate({optional:!0})}globalThis[iu]||(globalThis[iu]=ap().then(D=>globalThis[nu]=D).catch(()=>globalThis[nu]=!1)),globalThis[ea]||(globalThis[ea]=vl().then(D=>globalThis[ou]=D).catch(()=>globalThis[ou]=!1)),globalThis[ru]||(globalThis[ru]=Ua().then(D=>globalThis[vd]=D).catch(()=>globalThis[vd]=!1));const ph=(D,F)=>{const H=F?[F]:(0,U.C6)(),oe=[];return H.forEach(be=>{be.container.getProvider(D).instances.forEach(rt=>{oe.includes(rt)||oe.push(rt)})}),oe};function xl(){}class ds{constructor(F,H=Xh){this.zone=F,this.delegate=H}now(){return this.delegate.now()}schedule(F,H,oe){const be=this.zone;return this.delegate.schedule(function(rt){be.runGuarded(()=>{F.apply(this,[rt])})},H,oe)}}class Qo{constructor(F){this.zone=F,this.task=null}call(F,H){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xl,{},xl,xl)),H.pipe((0,_d.b)({next:oe,complete:oe,error:oe})).subscribe(F).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let si=(()=>{class D{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new ds(Zone.current)),this.insideAngular=H.run(()=>new ds(Zone.current,ef.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(H){return new(H||D)(o.LFG(o.R0b))},D.\u0275prov=o.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function wc(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Vn(D){return wc().ngZone.run(()=>D())}function pr(D){return wc(),function Ml(D){return function(H){return(H=H.lift(new Qo(D.ngZone))).pipe((0,Xs.R)(D.outsideAngular),(0,tu.Q)(D.insideAngular))}}(wc())(D)}const Ea=(D,F)=>function(){const oe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Vn(()=>D.apply(void 0,oe))},Jc=(D,F)=>function(){let H;const oe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof oe[Ue]&&(F&&(H||(H=Vn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xl,{},xl,xl)))),oe[Ue]=Ea(oe[Ue],H));const be=function bd(D){return wc().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,oe));if(!F){if(be instanceof Ko.y){const Ue=wc();return be.pipe((0,Xs.R)(Ue.outsideAngular),(0,tu.Q)(Ue.insideAngular))}return Vn(()=>be)}return be instanceof Ko.y?be.pipe(pr):be instanceof Promise?Vn(()=>new Promise((Ue,rt)=>be.then(Bt=>Vn(()=>Ue(Bt)),Bt=>Vn(()=>rt(Bt))))):"function"==typeof be&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),be.apply(this,arguments)}:Vn(()=>be)}},6710:(en,Te,Q)=>{Q.d(Te,{$:()=>Ba,A:()=>$,D:()=>me,I:()=>cc,J:()=>da,L:()=>Mt,N:()=>yr,P:()=>ar,Q:()=>Ts,R:()=>bl,U:()=>ga,V:()=>Ua,W:()=>Bi,X:()=>Pr,Y:()=>Lc,Z:()=>Mu,_:()=>_a,a:()=>Js,a0:()=>dc,a1:()=>yi,a2:()=>eh,a3:()=>$l,a4:()=>Ur,a5:()=>ba,a6:()=>Go,a7:()=>za,a8:()=>jc,a9:()=>pc,aA:()=>ue,aB:()=>iu,aC:()=>_i,aD:()=>Co,aE:()=>_d,aF:()=>eu,aG:()=>md,aH:()=>ki,aL:()=>Gc,aO:()=>Kr,aa:()=>Gl,ab:()=>Ca,ac:()=>pl,ad:()=>Et,ae:()=>Hc,af:()=>Ks,ai:()=>w,aj:()=>z,ak:()=>ee,an:()=>fl,ao:()=>Qs,aq:()=>gl,ar:()=>_l,as:()=>Le,at:()=>Vt,au:()=>Qe,av:()=>xe,aw:()=>Sn,ax:()=>ea,ay:()=>ti,az:()=>nt,b:()=>ih,c:()=>li,d:()=>Tr,e:()=>Zr,f:()=>Kc,g:()=>Jh,h:()=>wl,i:()=>ko,j:()=>ef,k:()=>Wa,l:()=>ys,m:()=>El,o:()=>nf,p:()=>ut,r:()=>_c,s:()=>Ql,u:()=>us,v:()=>So,x:()=>$h});var o=Q(5861),U=Q(9058),Y=Q(534),pe=Q(7582),ce=Q(7879),Ae=Q(4537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const me=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new ce.Yd("@firebase/auth");function We(T,...C){Re.logLevel<=ce.in.ERROR&&Re.error(`Auth (${Y.SDK_VERSION}): ${T}`,...C)}function xe(T,...C){throw he(T,...C)}function nt(T,...C){return he(T,...C)}function Ze(T,C,E){const A=Object.assign(Object.assign({},lt()),{[C]:E});return new U.LL("auth","Firebase",A).create(C,{appName:T.name})}function it(T,C,E){if(!(C instanceof E))throw E.name!==C.constructor.name&&xe(T,"argument-error"),Ze(T,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(T,...C){if("string"!=typeof T){const E=C[0],A=[...C.slice(1)];return A[0]&&(A[0].appName=T.name),T._errorFactory.create(E,...A)}return st.create(T,...C)}function ue(T,C,...E){if(!T)throw he(C,...E)}function Ge(T){const C="INTERNAL ASSERTION FAILED: "+T;throw We(C),new Error(C)}function Le(T,C){T||Ge(C)}function wt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function ot(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class rn{constructor(C,E){this.shortDelay=C,this.longDelay=E,Le(E>C,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gi(T,C){Le(T.emulator,"Emulator should always be set here");const{url:E}=T.emulator;return C?`${E}${C.startsWith("/")?C.slice(1):C}`:E}class Pe{static initialize(C,E,A){this.fetchImpl=C,E&&(this.headersImpl=E),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const we={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new rn(3e4,6e4);function je(T,C){return T.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:T.tenantId}):C}function ct(T,C,E,A){return gt.apply(this,arguments)}function gt(){return(gt=(0,o.Z)(function*(T,C,E,A,q={}){return Tt(T,q,(0,o.Z)(function*(){let J={},Ie={};A&&("GET"===C?Ie=A:J={body:JSON.stringify(A)});const Xe=(0,U.xO)(Object.assign({key:T.config.apiKey},Ie)).slice(1),At=yield T._getAdditionalHeaders();return At["Content-Type"]="application/json",T.languageCode&&(At["X-Firebase-Locale"]=T.languageCode),Pe.fetch()(Ln(T,T.config.apiHost,E,Xe),Object.assign({method:C,headers:At,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Tt(T,C,E){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(T,C,E){T._canInitEmulator=!1;const A=Object.assign(Object.assign({},we),C);try{const q=new fn(T),J=yield Promise.race([E(),q.promise]);q.clearNetworkTimeout();const Ie=yield J.json();if("needConfirmation"in Ie)throw tn(T,"account-exists-with-different-credential",Ie);if(J.ok&&!("errorMessage"in Ie))return Ie;{const Xe=J.ok?Ie.errorMessage:Ie.error.message,[At,Nt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw tn(T,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===At)throw tn(T,"email-already-in-use",Ie);if("USER_DISABLED"===At)throw tn(T,"user-disabled",Ie);const pn=A[At]||At.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw Ze(T,pn,Nt);xe(T,pn)}}catch(q){if(q instanceof U.ZR)throw q;xe(T,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function In(T,C,E,A){return dn.apply(this,arguments)}function dn(){return(dn=(0,o.Z)(function*(T,C,E,A,q={}){const J=yield ct(T,C,E,A,q);return"mfaPendingCredential"in J&&xe(T,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Ln(T,C,E,A){const q=`${C}${E}?${A}`;return T.config.emulator?gi(T.config,q):`${T.config.apiScheme}://${q}`}class fn{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((E,A)=>{this.timer=setTimeout(()=>A(nt(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(T,C,E){const A={appName:T.name};E.email&&(A.email=E.email),E.phoneNumber&&(A.phoneNumber=E.phoneNumber);const q=nt(T,C,A);return q.customData._tokenResponse=E,q}function Ut(){return(Ut=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Ei(){return(Ei=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function Ai(T){if(T)try{const C=new Date(Number(T));if(!isNaN(C.getTime()))return C.toUTCString()}catch{}}function zo(){return(zo=(0,o.Z)(function*(T,C=!1){const E=(0,U.m9)(T),A=yield E.getIdToken(C),q=Kt(A);ue(q&&q.exp&&q.auth_time&&q.iat,E.auth,"internal-error");const J="object"==typeof q.firebase?q.firebase:void 0,Ie=J?.sign_in_provider;return{claims:q,token:A,authTime:Ai(sn(q.auth_time)),issuedAtTime:Ai(sn(q.iat)),expirationTime:Ai(sn(q.exp)),signInProvider:Ie||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(T){return 1e3*Number(T)}function Kt(T){const[C,E,A]=T.split(".");if(void 0===C||void 0===E||void 0===A)return We("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,U.tV)(E);return q?JSON.parse(q):(We("Failed to decode base64 JWT payload"),null)}catch(q){return We("Caught error parsing JWT payload as JSON",q?.toString()),null}}function jt(T,C){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,o.Z)(function*(T,C,E=!1){if(E)return C;try{return yield C}catch(A){throw A instanceof U.ZR&&function Ce({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(A)&&T.auth.currentUser===T&&(yield T.auth.signOut()),A}})).apply(this,arguments)}class Me{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var E;if(C){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const q=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(C=!1){var E=this;if(!this.isRunning)return;const A=this.getInterval(C);this.timerId=setTimeout((0,o.Z)(function*(){yield E.iteration()}),A)}iteration(){var C=this;return(0,o.Z)(function*(){try{yield C.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E?.code&&C.schedule(!0))}C.schedule()})()}}class $e{constructor(C,E){this.createdAt=C,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ai(this.lastLoginAt),this.creationTime=Ai(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(T){return xt.apply(this,arguments)}function xt(){return xt=(0,o.Z)(function*(T){var C;const E=T.auth,A=yield T.getIdToken(),q=yield jt(T,function zn(T,C){return Ei.apply(this,arguments)}(E,{idToken:A}));ue(q?.users.length,E,"internal-error");const J=q.users[0];T._notifyReloadListener(J);const Ie=null!==(C=J.providerUserInfo)&&void 0!==C&&C.length?function Ht(T){return T.map(C=>{var{providerId:E}=C,A=(0,pe._T)(C,["providerId"]);return{providerId:E,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(J.providerUserInfo):[],Xe=function Xt(T,C){return[...T.filter(A=>!C.some(q=>q.providerId===A.providerId)),...C]}(T.providerData,Ie),pn=!!T.isAnonymous&&!(T.email&&J.passwordHash||Xe?.length),Yn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Xe,metadata:new $e(J.createdAt,J.lastLoginAt),isAnonymous:pn};Object.assign(T,Yn)}),xt.apply(this,arguments)}function zt(){return(zt=(0,o.Z)(function*(T){const C=(0,U.m9)(T);yield Fe(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function wi(){return(wi=(0,o.Z)(function*(T,C){const E=yield Tt(T,{},(0,o.Z)(function*(){const A=(0,U.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:q,apiKey:J}=T.config,Ie=Ln(T,q,"/v1/token",`key=${J}`),Xe=yield T._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",Pe.fetch()(Ie,{method:"POST",headers:Xe,body:A})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Zn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){ue(C.idToken,"internal-error"),ue(typeof C.idToken<"u","internal-error"),ue(typeof C.refreshToken<"u","internal-error");const E="expiresIn"in C&&typeof C.expiresIn<"u"?Number(C.expiresIn):function Qt(T){const C=Kt(T);return ue(C,"internal-error"),ue(typeof C.exp<"u","internal-error"),ue(typeof C.iat<"u","internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,E)}getToken(C,E=!1){var A=this;return(0,o.Z)(function*(){return ue(!A.accessToken||A.refreshToken,C,"user-token-expired"),E||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(C,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,E){var A=this;return(0,o.Z)(function*(){const{accessToken:q,refreshToken:J,expiresIn:Ie}=yield function Oi(T,C){return wi.apply(this,arguments)}(C,E);A.updateTokensAndExpiration(q,J,Number(Ie))})()}updateTokensAndExpiration(C,E,A){this.refreshToken=E||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(C,E){const{refreshToken:A,accessToken:q,expirationTime:J}=E,Ie=new Zn;return A&&(ue("string"==typeof A,"internal-error",{appName:C}),Ie.refreshToken=A),q&&(ue("string"==typeof q,"internal-error",{appName:C}),Ie.accessToken=q),J&&(ue("number"==typeof J,"internal-error",{appName:C}),Ie.expirationTime=J),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new Zn,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Li(T,C){ue("string"==typeof T||typeof T>"u","internal-error",{appName:C})}class $n{constructor(C){var{uid:E,auth:A,stsTokenManager:q}=C,J=(0,pe._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Me(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=A,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new $e(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(C){var E=this;return(0,o.Z)(function*(){const A=yield jt(E,E.stsTokenManager.getToken(E.auth,C));return ue(A,E.auth,"internal-error"),E.accessToken!==A&&(E.accessToken=A,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),A})()}getIdTokenResult(C){return function Hi(T){return zo.apply(this,arguments)}(this,C)}reload(){return function gn(T){return zt.apply(this,arguments)}(this)}_assign(C){this!==C&&(ue(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(E=>Object.assign({},E)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){const E=new $n(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}));return E.metadata._copy(this.metadata),E}_onReload(C){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,E=!1){var A=this;return(0,o.Z)(function*(){let q=!1;C.idToken&&C.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(C),q=!0),E&&(yield Fe(A)),yield A.auth._persistUserIfCurrent(A),q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var C=this;return(0,o.Z)(function*(){const E=yield C.getIdToken();return yield jt(C,function Tn(T,C){return Ut.apply(this,arguments)}(C.auth,{idToken:E})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,E){var A,q,J,Ie,Xe,At,Nt,pn;const Yn=null!==(A=E.displayName)&&void 0!==A?A:void 0,ro=null!==(q=E.email)&&void 0!==q?q:void 0,Oa=null!==(J=E.phoneNumber)&&void 0!==J?J:void 0,oo=null!==(Ie=E.photoURL)&&void 0!==Ie?Ie:void 0,hp=null!==(Xe=E.tenantId)&&void 0!==Xe?Xe:void 0,rf=null!==(At=E._redirectEventId)&&void 0!==At?At:void 0,Xc=null!==(Nt=E.createdAt)&&void 0!==Nt?Nt:void 0,Lu=null!==(pn=E.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:Ol,emailVerified:sf,isAnonymous:mh,providerData:af,stsTokenManager:Pm}=E;ue(Ol&&Pm,C,"internal-error");const au=Zn.fromJSON(this.name,Pm);ue("string"==typeof Ol,C,"internal-error"),Li(Yn,C.name),Li(ro,C.name),ue("boolean"==typeof sf,C,"internal-error"),ue("boolean"==typeof mh,C,"internal-error"),Li(Oa,C.name),Li(oo,C.name),Li(hp,C.name),Li(rf,C.name),Li(Xc,C.name),Li(Lu,C.name);const gh=new $n({uid:Ol,auth:C,email:ro,emailVerified:sf,displayName:Yn,isAnonymous:mh,photoURL:oo,phoneNumber:Oa,tenantId:hp,stsTokenManager:au,createdAt:Xc,lastLoginAt:Lu});return af&&Array.isArray(af)&&(gh.providerData=af.map(f_=>Object.assign({},f_))),rf&&(gh._redirectEventId=rf),gh}static _fromIdTokenResponse(C,E,A=!1){return(0,o.Z)(function*(){const q=new Zn;q.updateFromServerResponse(E);const J=new $n({uid:E.localId,auth:C,stsTokenManager:q,isAnonymous:A});return yield Fe(J),J})()}}const vr=new Map;function _i(T){Le(T instanceof Function,"Expected a class definition");let C=vr.get(T);return C?(Le(C instanceof T,"Instance stored in cache mismatched with class"),C):(C=new T,vr.set(T,C),C)}const yr=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(E,A){var q=this;return(0,o.Z)(function*(){q.storage[E]=A})()}_get(E){var A=this;return(0,o.Z)(function*(){const q=A.storage[E];return void 0===q?null:q})()}_remove(E){var A=this;return(0,o.Z)(function*(){delete A.storage[E]})()}_addListener(E,A){}_removeListener(E,A){}}return T.type="NONE",T})();function Co(T,C,E){return`firebase:${T}:${C}:${E}`}class fe{constructor(C,E,A){this.persistence=C,this.auth=E,this.userKey=A;const{config:q,name:J}=this.auth;this.fullUserKey=Co(this.userKey,q.apiKey,J),this.fullPersistenceKey=Co("persistence",q.apiKey,J),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,o.Z)(function*(){const E=yield C.persistence._get(C.fullUserKey);return E?$n._fromJSON(C.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var E=this;return(0,o.Z)(function*(){if(E.persistence===C)return;const A=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=C,A?E.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,E,A="authUser"){return(0,o.Z)(function*(){if(!E.length)return new fe(_i(yr),C,A);const q=(yield Promise.all(E.map(function(){var Nt=(0,o.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let J=q[0]||_i(yr);const Ie=Co(A,C.config.apiKey,C.name);let Xe=null;for(const Nt of E)try{const pn=yield Nt._get(Ie);if(pn){const Yn=$n._fromJSON(C,pn);Nt!==J&&(Xe=Yn),J=Nt;break}}catch{}const At=q.filter(Nt=>Nt._shouldAllowMigration);return J._shouldAllowMigration&&At.length?(J=At[0],Xe&&(yield J._set(Ie,Xe.toJSON())),yield Promise.all(E.map(function(){var Nt=(0,o.Z)(function*(pn){if(pn!==J)try{yield pn._remove(Ie)}catch{}});return function(pn){return Nt.apply(this,arguments)}}())),new fe(J,C,A)):new fe(J,C,A)})()}}function le(T){const C=T.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(Se(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(X(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(It(C))return"Blackberry";if(yn(C))return"Webos";if(ne(C))return"Safari";if((C.includes("chrome/")||K(C))&&!C.includes("edge/"))return"Chrome";if(Qe(C))return"Android";{const A=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function X(T=(0,U.z$)()){return/firefox\//i.test(T)}function ne(T=(0,U.z$)()){const C=T.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function K(T=(0,U.z$)()){return/crios\//i.test(T)}function Se(T=(0,U.z$)()){return/iemobile/i.test(T)}function Qe(T=(0,U.z$)()){return/android/i.test(T)}function It(T=(0,U.z$)()){return/blackberry/i.test(T)}function yn(T=(0,U.z$)()){return/webos/i.test(T)}function Vt(T=(0,U.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function ti(T=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function Nn(T=(0,U.z$)()){return Vt(T)||Qe(T)||yn(T)||It(T)||/windows phone/i.test(T)||Se(T)}function rs(T,C=[]){let E;switch(T){case"Browser":E=le((0,U.z$)());break;case"Worker":E=`${le((0,U.z$)())}-${T}`;break;default:E=T}const A=C.length?C.join(","):"FirebaseCore-web";return`${E}/JsCore/${Y.SDK_VERSION}/${A}`}function He(){return(He=(0,o.Z)(function*(T){return(yield ct(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(T,C){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,o.Z)(function*(T,C){return ct(T,"GET","/v2/recaptchaConfig",je(T,C))})).apply(this,arguments)}function kt(T){return void 0!==T&&void 0!==T.getResponse}function An(T){return void 0!==T&&void 0!==T.enterprise}class ai{constructor(C){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===C.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=C.recaptchaKey.split("/")[3],this.emailPasswordEnabled=C.recaptchaEnforcementState.some(E=>"EMAIL_PASSWORD_PROVIDER"===E.provider&&"OFF"!==E.enforcementState)}}function Yi(T){return new Promise((C,E)=>{const A=document.createElement("script");A.setAttribute("src",T),A.onload=C,A.onerror=q=>{const J=nt("internal-error");J.customData=q,E(J)},A.type="text/javascript",A.charset="UTF-8",function Gi(){var T,C;return null!==(C=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==C?C:document}().appendChild(A)})}function tr(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Cr{constructor(C){this.type="recaptcha-enterprise",this.auth=ki(C)}verify(C="verify",E=!1){var A=this;return(0,o.Z)(function*(){function J(){return J=(0,o.Z)(function*(Xe){if(!E){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var At=(0,o.Z)(function*(Nt,pn){_t(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yn=>{if(void 0!==Yn.recaptchaKey){const ro=new ai(Yn);return null==Xe.tenantId?Xe._agentRecaptchaConfig=ro:Xe._tenantRecaptchaConfigs[Xe.tenantId]=ro,Nt(ro.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Yn=>{pn(Yn)})});return function(Nt,pn){return At.apply(this,arguments)}}())}),J.apply(this,arguments)}function Ie(Xe,At,Nt){const pn=window.grecaptcha;An(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(Xe,{action:C}).then(Yn=>{At(Yn)}).catch(()=>{At("NO_RECAPTCHA")})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,At)=>{(function q(Xe){return J.apply(this,arguments)})(A.auth).then(Nt=>{if(!E&&An(window.grecaptcha))Ie(Nt,Xe,At);else{if(typeof window>"u")return void At(new Error("RecaptchaVerifier is only supported in browser"));Yi("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{Ie(Nt,Xe,At)}).catch(pn=>{At(pn)})}}).catch(Nt=>{At(Nt)})})})()}}function vs(T,C,E){return Os.apply(this,arguments)}function Os(){return(Os=(0,o.Z)(function*(T,C,E,A=!1){const q=new Cr(T);let J;try{J=yield q.verify(E)}catch{J=yield q.verify(E,!0)}const Ie=Object.assign({},C);return Object.assign(Ie,A?{captchaResp:J}:{captchaResponse:J}),Object.assign(Ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ie})).apply(this,arguments)}class os{constructor(C){this.auth=C,this.queue=[]}pushCallback(C,E){const A=J=>new Promise((Ie,Xe)=>{try{Ie(C(J))}catch(At){Xe(At)}});A.onAbort=E,this.queue.push(A);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(C){var E=this;return(0,o.Z)(function*(){if(E.auth.currentUser===C)return;const A=[];try{for(const q of E.queue)yield q(C),q.onAbort&&A.push(q.onAbort)}catch(q){A.reverse();for(const J of A)try{J()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}class Mn{constructor(C,E,A,q){this.app=C,this.heartbeatServiceProvider=E,this.appCheckServiceProvider=A,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xo(this),this.idTokenSubscription=new xo(this),this.beforeStateQueue=new os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(C,E){var A=this;return E&&(this._popupRedirectResolver=_i(E)),this._initializationPromise=this.queue((0,o.Z)(function*(){var q,J;if(!A._deleted&&(A.persistenceManager=yield fe.create(A,C),!A._deleted)){if(null!==(q=A._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(E),A.lastNotifiedUid=(null===(J=A.currentUser)||void 0===J?void 0:J.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,o.Z)(function*(){if(C._deleted)return;const E=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||E){if(C.currentUser&&E&&C.currentUser.uid===E.uid)return C._currentUser._assign(E),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(E,!0)}})()}initializeCurrentUser(C){var E=this;return(0,o.Z)(function*(){var A;const q=yield E.assertedPersistence.getCurrentUser();let J=q,Ie=!1;if(C&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Xe=null===(A=E.redirectUser)||void 0===A?void 0:A._redirectEventId,At=J?._redirectEventId,Nt=yield E.tryRedirectSignIn(C);(!Xe||Xe===At)&&Nt?.user&&(J=Nt.user,Ie=!0)}if(!J)return E.directlySetCurrentUser(null);if(!J._redirectEventId){if(Ie)try{yield E.beforeStateQueue.runMiddleware(J)}catch(Xe){J=q,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(Xe))}return J?E.reloadAndSetCurrentUserOrClear(J):E.directlySetCurrentUser(null)}return ue(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===J._redirectEventId?E.directlySetCurrentUser(J):E.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(C){var E=this;return(0,o.Z)(function*(){let A=null;try{A=yield E._popupRedirectResolver._completeRedirectFn(E,C,!0)}catch{yield E._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(C){var E=this;return(0,o.Z)(function*(){try{yield Fe(C)}catch(A){if("auth/network-request-failed"!==A?.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var C=this;return(0,o.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var E=this;return(0,o.Z)(function*(){const A=C?(0,U.m9)(C):null;return A&&ue(A.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(A&&A._clone(E))})()}_updateCurrentUser(C,E=!1){var A=this;return(0,o.Z)(function*(){if(!A._deleted)return C&&ue(A.tenantId===C.tenantId,A,"tenant-id-mismatch"),E||(yield A.beforeStateQueue.runMiddleware(C)),A.queue((0,o.Z)(function*(){yield A.directlySetCurrentUser(C),A.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,o.Z)(function*(){return yield C.beforeStateQueue.runMiddleware(null),(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null,!0)})()}setPersistence(C){var E=this;return this.queue((0,o.Z)(function*(){yield E.assertedPersistence.setPersistence(_i(C))}))}initializeRecaptchaConfig(){var C=this;return(0,o.Z)(function*(){const E=yield _t(C,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new ai(E);null==C.tenantId?C._agentRecaptchaConfig=A:C._tenantRecaptchaConfigs[C.tenantId]=A,A.emailPasswordEnabled&&new Cr(C).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new U.LL("auth","Firebase",C())}onAuthStateChanged(C,E,A){return this.registerStateListener(this.authStateSubscription,C,E,A)}beforeAuthStateChanged(C,E){return this.beforeStateQueue.pushCallback(C,E)}onIdTokenChanged(C,E,A){return this.registerStateListener(this.idTokenSubscription,C,E,A)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,E){var A=this;return(0,o.Z)(function*(){const q=yield A.getOrInitRedirectPersistenceManager(E);return null===C?q.removeCurrentUser():q.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var E=this;return(0,o.Z)(function*(){if(!E.redirectPersistenceManager){const A=C&&_i(C)||E._popupRedirectResolver;ue(A,E,"argument-error"),E.redirectPersistenceManager=yield fe.create(E,[_i(A._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(C){var E=this;return(0,o.Z)(function*(){var A,q;return E._isInitialized&&(yield E.queue((0,o.Z)(function*(){}))),(null===(A=E._currentUser)||void 0===A?void 0:A._redirectEventId)===C?E._currentUser:(null===(q=E.redirectUser)||void 0===q?void 0:q._redirectEventId)===C?E.redirectUser:null})()}_persistUserIfCurrent(C){var E=this;return(0,o.Z)(function*(){if(C===E.currentUser)return E.queue((0,o.Z)(function*(){return E.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(E=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,E,A,q){if(this._deleted)return()=>{};const J="function"==typeof E?E:E.next.bind(E),Ie=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(Ie,this,"internal-error"),Ie.then(()=>J(this.currentUser)),"function"==typeof E?C.addObserver(E,A,q):C.addObserver(E)}directlySetCurrentUser(C){var E=this;return(0,o.Z)(function*(){E.currentUser&&E.currentUser!==C&&E._currentUser._stopProactiveRefresh(),C&&E.isProactiveRefreshEnabled&&C._startProactiveRefresh(),E.currentUser=C,C?yield E.assertedPersistence.setCurrentUser(C):yield E.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,o.Z)(function*(){var E;const A={"X-Client-Version":C.clientVersion};C.app.options.appId&&(A["X-Firebase-gmpid"]=C.app.options.appId);const q=yield null===(E=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();q&&(A["X-Firebase-Client"]=q);const J=yield C._getAppCheckToken();return J&&(A["X-Firebase-AppCheck"]=J),A})()}_getAppCheckToken(){var C=this;return(0,o.Z)(function*(){var E;const A=yield null===(E=C.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getToken();return A?.error&&function at(T,...C){Re.logLevel<=ce.in.WARN&&Re.warn(`Auth (${Y.SDK_VERSION}): ${T}`,...C)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function ki(T){return(0,U.m9)(T)}class xo{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,U.ne)(E=>this.observer=E)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cc(T,C,E){const A=ki(T);ue(A._canInitEmulator,A,"emulator-config-failed"),ue(/^https?:\/\//.test(C),A,"invalid-emulator-scheme");const q=!!E?.disableWarnings,J=Wr(C),{host:Ie,port:Xe}=function Ps(T){const C=Wr(T),E=/(\/\/)?([^?#/]+)/.exec(T.substr(C.length));if(!E)return{host:"",port:null};const A=E[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(A);if(q){const J=q[1];return{host:J,port:Fa(A.substr(J.length+1))}}{const[J,Ie]=A.split(":");return{host:J,port:Fa(Ie)}}}(C);A.config.emulator={url:`${J}//${Ie}${null===Xe?"":`:${Xe}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ie,port:Xe,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function xu(){function T(){const C=document.createElement("p"),E=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Wr(T){const C=T.indexOf(":");return C<0?"":T.substr(0,C+1)}function Fa(T){if(!T)return null;const C=Number(T);return isNaN(C)?null:C}class da{constructor(C,E){this.providerId=C,this.signInMethod=E}toJSON(){return Ge("not implemented")}_getIdTokenResponse(C){return Ge("not implemented")}_linkToIdToken(C,E){return Ge("not implemented")}_getReauthenticationResolver(C){return Ge("not implemented")}}function Dc(T,C){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:resetPassword",je(T,C))})).apply(this,arguments)}function ho(T,C){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:update",je(T,C))})).apply(this,arguments)}function Mo(T,C){return wr.apply(this,arguments)}function wr(){return(wr=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signInWithPassword",je(T,C))})).apply(this,arguments)}function lc(T,C){return fa.apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:sendOobCode",je(T,C))})).apply(this,arguments)}function kc(){return(kc=(0,o.Z)(function*(T,C){return lc(T,C)})).apply(this,arguments)}function pa(T,C){return Is.apply(this,arguments)}function Is(){return(Is=(0,o.Z)(function*(T,C){return lc(T,C)})).apply(this,arguments)}function uc(T,C){return qn.apply(this,arguments)}function qn(){return(qn=(0,o.Z)(function*(T,C){return lc(T,C)})).apply(this,arguments)}function xr(){return(xr=(0,o.Z)(function*(T,C){return lc(T,C)})).apply(this,arguments)}function Mr(){return(Mr=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signInWithEmailLink",je(T,C))})).apply(this,arguments)}function Nc(){return(Nc=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signInWithEmailLink",je(T,C))})).apply(this,arguments)}class Ho extends da{constructor(C,E,A,q=null){super("password",A),this._email=C,this._password=E,this._tenantId=q}static _fromEmailAndPassword(C,E){return new Ho(C,E,"password")}static _fromEmailAndCode(C,E,A=null){return new Ho(C,E,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(C){var E=this;return(0,o.Z)(function*(){var A;switch(E.signInMethod){case"password":const q={returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=C._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const J=yield vs(C,q,"signInWithPassword");return Mo(C,J)}return Mo(C,q).catch(function(){var J=(0,o.Z)(function*(Ie){if("auth/missing-recaptcha-token"===Ie.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield vs(C,q,"signInWithPassword");return Mo(C,Xe)}return Promise.reject(Ie)});return function(Ie){return J.apply(this,arguments)}}());case"emailLink":return function La(T,C){return Mr.apply(this,arguments)}(C,{email:E._email,oobCode:E._password});default:xe(C,"internal-error")}})()}_linkToIdToken(C,E){var A=this;return(0,o.Z)(function*(){switch(A.signInMethod){case"password":return ho(C,{idToken:E,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Rc(T,C){return Nc.apply(this,arguments)}(C,{idToken:E,email:A._email,oobCode:A._password});default:xe(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function $s(T,C){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signInWithIdp",je(T,C))})).apply(this,arguments)}class Mt extends da{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const E=new Mt(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(E.idToken=C.idToken),C.accessToken&&(E.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(E.nonce=C.nonce),C.pendingToken&&(E.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(E.accessToken=C.oauthToken,E.secret=C.oauthTokenSecret):xe("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C,{providerId:A,signInMethod:q}=E,J=(0,pe._T)(E,["providerId","signInMethod"]);if(!A||!q)return null;const Ie=new Mt(A,q);return Ie.idToken=J.idToken||void 0,Ie.accessToken=J.accessToken||void 0,Ie.secret=J.secret,Ie.nonce=J.nonce,Ie.pendingToken=J.pendingToken||null,Ie}_getIdTokenResponse(C){return $s(C,this.buildRequest())}_linkToIdToken(C,E){const A=this.buildRequest();return A.idToken=E,$s(C,A)}_getReauthenticationResolver(C){const E=this.buildRequest();return E.autoCreate=!1,$s(C,E)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),C.postBody=(0,U.xO)(E)}return C}}function Ii(){return(Ii=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:sendVerificationCode",je(T,C))})).apply(this,arguments)}function Gs(){return(Gs=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signInWithPhoneNumber",je(T,C))})).apply(this,arguments)}function ss(){return(ss=(0,o.Z)(function*(T,C){const E=yield In(T,"POST","/v1/accounts:signInWithPhoneNumber",je(T,C));if(E.temporaryProof)throw tn(T,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const vi={USER_NOT_FOUND:"user-not-found"};function as(){return(as=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signInWithPhoneNumber",je(T,Object.assign(Object.assign({},C),{operation:"REAUTH"})),vi)})).apply(this,arguments)}class on extends da{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,E){return new on({verificationId:C,verificationCode:E})}static _fromTokenResponse(C,E){return new on({phoneNumber:C,temporaryProof:E})}_getIdTokenResponse(C){return function fo(T,C){return Gs.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,E){return function Gn(T,C){return ss.apply(this,arguments)}(C,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function ma(T,C){return as.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:E,verificationId:A,verificationCode:q}=this.params;return C&&E?{temporaryProof:C,phoneNumber:E}:{sessionInfo:A,code:q}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:E,verificationCode:A,phoneNumber:q,temporaryProof:J}=C;return A||E||q||J?new on({verificationId:E,verificationCode:A,phoneNumber:q,temporaryProof:J}):null}}class Er{constructor(C){var E,A,q,J,Ie,Xe;const At=(0,U.zd)((0,U.pd)(C)),Nt=null!==(E=At.apiKey)&&void 0!==E?E:null,pn=null!==(A=At.oobCode)&&void 0!==A?A:null,Yn=function Yr(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=At.mode)&&void 0!==q?q:null);ue(Nt&&pn&&Yn,"argument-error"),this.apiKey=Nt,this.operation=Yn,this.code=pn,this.continueUrl=null!==(J=At.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Ie=At.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==(Xe=At.tenantId)&&void 0!==Xe?Xe:null}static parseLink(C){const E=function Hl(T){const C=(0,U.zd)((0,U.pd)(T)).link,E=C?(0,U.zd)((0,U.pd)(C)).deep_link_id:null,A=(0,U.zd)((0,U.pd)(T)).deep_link_id;return(A?(0,U.zd)((0,U.pd)(A)).link:null)||A||E||C||T}(C);try{return new Er(E)}catch{return null}}}let Ts=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(E,A){return Ho._fromEmailAndPassword(E,A)}static credentialWithLink(E,A){const q=Er.parseLink(A);return ue(q,"argument-error"),Ho._fromEmailAndCode(E,q.code,q.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class qo{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class ur extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class Pr extends ur{static credentialFromJSON(C){const E="string"==typeof C?JSON.parse(C):C;return ue("providerId"in E&&"signInMethod"in E,"argument-error"),Mt._fromParams(E)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return ue(C.idToken||C.accessToken,"argument-error"),Mt._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return Pr.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return Pr.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:E,oauthAccessToken:A,oauthTokenSecret:q,pendingToken:J,nonce:Ie,providerId:Xe}=C;if(!A&&!q&&!E&&!J||!Xe)return null;try{return new Pr(Xe)._credential({idToken:E,accessToken:A,nonce:Ie,pendingToken:J})}catch{return null}}}let ga=(()=>{class T extends ur{constructor(){super("facebook.com")}static credential(E){return Mt._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return T.credential(E.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Ua=(()=>{class T extends ur{constructor(){super("google.com"),this.addScope("profile")}static credential(E,A){return Mt._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:A})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:A,oauthAccessToken:q}=E;if(!A&&!q)return null;try{return T.credential(A,q)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Bi=(()=>{class T extends ur{constructor(){super("github.com")}static credential(E){return Mt._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return T.credential(E.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Kr extends da{constructor(C,E){super(C,C),this.pendingToken=E}_getIdTokenResponse(C){return $s(C,this.buildRequest())}_linkToIdToken(C,E){const A=this.buildRequest();return A.idToken=E,$s(C,A)}_getReauthenticationResolver(C){const E=this.buildRequest();return E.autoCreate=!1,$s(C,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C,{providerId:A,signInMethod:q,pendingToken:J}=E;return A&&q&&J&&A===q?new Kr(A,J):null}static _create(C,E){return new Kr(C,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Lc extends qo{constructor(C){ue(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return Lc.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return Lc.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const E=Kr.fromJSON(C);return ue(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:E,providerId:A}=C;if(!E||!A)return null;try{return Kr._create(A,E)}catch{return null}}}let Mu=(()=>{class T extends ur{constructor(){super("twitter.com")}static credential(E,A){return Mt._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:A})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:A,oauthTokenSecret:q}=E;if(!A||!q)return null;try{return T.credential(A,q)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Va(T,C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signUp",je(T,C))})).apply(this,arguments)}class or{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,E,A,q=!1){return(0,o.Z)(function*(){const J=yield $n._fromIdTokenResponse(C,A,q),Ie=Qr(A);return new or({user:J,providerId:Ie,_tokenResponse:A,operationType:E})})()}static _forOperation(C,E,A){return(0,o.Z)(function*(){yield C._updateTokensIfNecessary(A,!0);const q=Qr(A);return new or({user:C,providerId:q,_tokenResponse:A,operationType:E})})()}}function Qr(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function _a(T){return qi.apply(this,arguments)}function qi(){return(qi=(0,o.Z)(function*(T){var C;const E=ki(T);if(yield E._initializationPromise,null!==(C=E.currentUser)&&void 0!==C&&C.isAnonymous)return new or({user:E.currentUser,providerId:null,operationType:"signIn"});const A=yield Va(E,{returnSecureToken:!0}),q=yield or._fromIdTokenResponse(E,"signIn",A,!0);return yield E._updateCurrentUser(q.user),q})).apply(this,arguments)}class hl extends U.ZR{constructor(C,E,A,q){var J;super(E.code,E.message),this.operationType=A,this.user=q,Object.setPrototypeOf(this,hl.prototype),this.customData={appName:C.name,tenantId:null!==(J=C.tenantId)&&void 0!==J?J:void 0,_serverResponse:E.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(C,E,A,q){return new hl(C,E,A,q)}}function Jr(T,C,E,A){return("reauthenticate"===C?E._getReauthenticationResolver(T):E._getIdTokenResponse(T)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?hl._fromErrorAndOperation(T,J,C,A):J})}function Ir(T){return new Set(T.map(({providerId:C})=>C).filter(C=>!!C))}function fl(T,C){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,o.Z)(function*(T,C){const E=(0,U.m9)(T);yield va(!0,E,C);const{providerUserInfo:A}=yield function cn(T,C){return Un.apply(this,arguments)}(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[C]}),q=Ir(A||[]);return E.providerData=E.providerData.filter(J=>q.has(J.providerId)),q.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E}),Fr.apply(this,arguments)}function Xr(T,C){return pi.apply(this,arguments)}function pi(){return(pi=(0,o.Z)(function*(T,C,E=!1){const A=yield jt(T,C._linkToIdToken(T.auth,yield T.getIdToken()),E);return or._forOperation(T,"link",A)})).apply(this,arguments)}function va(T,C,E){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(T,C,E){yield Fe(C);const q=!1===T?"provider-already-linked":"no-such-provider";ue(Ir(C.providerData).has(E)===T,C.auth,q)})).apply(this,arguments)}function Lr(T,C){return ql.apply(this,arguments)}function ql(){return(ql=(0,o.Z)(function*(T,C,E=!1){const{auth:A}=T,q="reauthenticate";try{const J=yield jt(T,Jr(A,q,C,T),E);ue(J.idToken,A,"internal-error");const Ie=Kt(J.idToken);ue(Ie,A,"internal-error");const{sub:Xe}=Ie;return ue(T.uid===Xe,A,"user-mismatch"),or._forOperation(T,q,J)}catch(J){throw"auth/user-not-found"===J?.code&&xe(A,"user-mismatch"),J}})).apply(this,arguments)}function Ss(T,C){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,o.Z)(function*(T,C,E=!1){const A="signIn",q=yield Jr(T,A,C),J=yield or._fromIdTokenResponse(T,A,q);return E||(yield T._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Ba(T,C){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,o.Z)(function*(T,C){return Ss(ki(T),C)})).apply(this,arguments)}function dc(T,C){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,o.Z)(function*(T,C){const E=(0,U.m9)(T);return yield va(!1,E,C.providerId),Xr(E,C)})).apply(this,arguments)}function yi(T,C){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,o.Z)(function*(T,C){return Lr((0,U.m9)(T),C)})).apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(T,C){return In(T,"POST","/v1/accounts:signInWithCustomToken",je(T,C))})).apply(this,arguments)}function eh(T,C){return hc.apply(this,arguments)}function hc(){return hc=(0,o.Z)(function*(T,C){const E=ki(T),A=yield function Bc(T,C){return $o.apply(this,arguments)}(E,{token:C,returnSecureToken:!0}),q=yield or._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(q.user),q}),hc.apply(this,arguments)}class Eo{constructor(C,E){this.factorId=C,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(C,E){return"phoneInfo"in E?fc._fromServerResponse(C,E):"totpInfo"in E?ya._fromServerResponse(C,E):xe(C,"internal-error")}}class fc extends Eo{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,E){return new fc(E)}}class ya extends Eo{constructor(C){super("totp",C)}static _fromServerResponse(C,E){return new ya(E)}}function Ds(T,C,E){var A;ue((null===(A=E.url)||void 0===A?void 0:A.length)>0,T,"invalid-continue-uri"),ue(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),C.continueUrl=E.url,C.dynamicLinkDomain=E.dynamicLinkDomain,C.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(ue(E.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),C.iOSBundleId=E.iOS.bundleId),E.android&&(ue(E.android.packageName.length>0,T,"missing-android-pkg-name"),C.androidInstallApp=E.android.installApp,C.androidMinimumVersionCode=E.android.minimumVersion,C.androidPackageName=E.android.packageName)}function $l(T,C,E){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,o.Z)(function*(T,C,E){var A;const q=ki(T),J={requestType:"PASSWORD_RESET",email:C,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=q._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Ie=yield vs(q,J,"getOobCode",!0);E&&Ds(q,Ie,E),yield pa(q,Ie)}else E&&Ds(q,J,E),yield pa(q,J).catch(function(){var Ie=(0,o.Z)(function*(Xe){if("auth/missing-recaptcha-token"!==Xe.code)return Promise.reject(Xe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const At=yield vs(q,J,"getOobCode",!0);E&&Ds(q,At,E),yield pa(q,At)}});return function(Xe){return Ie.apply(this,arguments)}}())}),Ou.apply(this,arguments)}function Ur(T,C,E){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,o.Z)(function*(T,C,E){yield Dc((0,U.m9)(T),{oobCode:C,newPassword:E})})).apply(this,arguments)}function ba(T,C){return zc.apply(this,arguments)}function zc(){return zc=(0,o.Z)(function*(T,C){yield function dl(T,C){return jo.apply(this,arguments)}((0,U.m9)(T),{oobCode:C})}),zc.apply(this,arguments)}function Go(T,C){return dr.apply(this,arguments)}function dr(){return(dr=(0,o.Z)(function*(T,C){const E=(0,U.m9)(T),A=yield Dc(E,{oobCode:C}),q=A.requestType;switch(ue(q,E,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(A.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(A.mfaInfo,E,"internal-error");default:ue(A.email,E,"internal-error")}let J=null;return A.mfaInfo&&(J=Eo._fromServerResponse(ki(E),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:J},operation:q}})).apply(this,arguments)}function za(T,C){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.Z)(function*(T,C){const{data:E}=yield Go((0,U.m9)(T),C);return E.email})).apply(this,arguments)}function jc(T,C,E){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,o.Z)(function*(T,C,E){var A;const q=ki(T),J={returnSecureToken:!0,email:C,password:E,clientType:"CLIENT_TYPE_WEB"};let Ie;if(null!==(A=q._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Nt=yield vs(q,J,"signUpPassword");Ie=Va(q,Nt)}else Ie=Va(q,J).catch(function(){var Nt=(0,o.Z)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Yn=yield vs(q,J,"signUpPassword");return Va(q,Yn)}return Promise.reject(pn)});return function(pn){return Nt.apply(this,arguments)}}());const Xe=yield Ie.catch(Nt=>Promise.reject(Nt)),At=yield or._fromIdTokenResponse(q,"signIn",Xe);return yield q._updateCurrentUser(At.user),At}),Oo.apply(this,arguments)}function pc(T,C,E){return Ba((0,U.m9)(T),Ts.credential(C,E))}function Gl(T,C,E){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,o.Z)(function*(T,C,E){var A;const q=ki(T),J={requestType:"EMAIL_SIGNIN",email:C,clientType:"CLIENT_TYPE_WEB"};function Ie(Xe,At){ue(At.handleCodeInApp,q,"argument-error"),At&&Ds(q,Xe,At)}if(null!==(A=q._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Xe=yield vs(q,J,"getOobCode",!0);Ie(Xe,E),yield uc(q,Xe)}else Ie(J,E),yield uc(q,J).catch(function(){var Xe=(0,o.Z)(function*(At){if("auth/missing-recaptcha-token"!==At.code)return Promise.reject(At);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nt=yield vs(q,J,"getOobCode",!0);Ie(Nt,E),yield uc(q,Nt)}});return function(At){return Xe.apply(this,arguments)}}())}),Ys.apply(this,arguments)}function Ca(T,C){const E=Er.parseLink(C);return"EMAIL_SIGNIN"===E?.operation}function pl(T,C,E){return xi.apply(this,arguments)}function xi(){return(xi=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T),q=Ts.credentialWithLink(C,E||wt());return ue(q._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Ba(A,q)})).apply(this,arguments)}function ja(){return(ja=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:createAuthUri",je(T,C))})).apply(this,arguments)}function Et(T,C){return cs.apply(this,arguments)}function cs(){return cs=(0,o.Z)(function*(T,C){const A={identifier:C,continueUri:ot()?wt():"http://localhost"},{signinMethods:q}=yield function Wo(T,C){return ja.apply(this,arguments)}((0,U.m9)(T),A);return q||[]}),cs.apply(this,arguments)}function Hc(T,C){return Po.apply(this,arguments)}function Po(){return Po=(0,o.Z)(function*(T,C){const E=(0,U.m9)(T),q={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};C&&Ds(E.auth,q,C);const{email:J}=yield function Ui(T,C){return kc.apply(this,arguments)}(E.auth,q);J!==T.email&&(yield T.reload())}),Po.apply(this,arguments)}function Ks(T,C,E){return qc.apply(this,arguments)}function qc(){return qc=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:C};E&&Ds(A.auth,J,E);const{email:Ie}=yield function Vi(T,C){return xr.apply(this,arguments)}(A.auth,J);Ie!==T.email&&(yield T.reload())}),qc.apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(T,C){return ct(T,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function w(T,C){return N.apply(this,arguments)}function N(){return N=(0,o.Z)(function*(T,{displayName:C,photoURL:E}){if(void 0===C&&void 0===E)return;const A=(0,U.m9)(T),J={idToken:yield A.getIdToken(),displayName:C,photoUrl:E,returnSecureToken:!0},Ie=yield jt(A,function od(T,C){return Ha.apply(this,arguments)}(A.auth,J));A.displayName=Ie.displayName||null,A.photoURL=Ie.photoUrl||null;const Xe=A.providerData.find(({providerId:At})=>"password"===At);Xe&&(Xe.displayName=A.displayName,Xe.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ie)}),N.apply(this,arguments)}function z(T,C){return ye((0,U.m9)(T),C,null)}function ee(T,C){return ye((0,U.m9)(T),null,C)}function ye(T,C,E){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.Z)(function*(T,C,E){const{auth:A}=T,J={idToken:yield T.getIdToken(),returnSecureToken:!0};C&&(J.email=C),E&&(J.password=E);const Ie=yield jt(T,ho(A,J));yield T._updateTokensIfNecessary(Ie,!0)})).apply(this,arguments)}class Wn{constructor(C,E,A={}){this.isNewUser=C,this.providerId=E,this.profile=A}}class ii extends Wn{constructor(C,E,A,q){super(C,E,A),this.username=q}}class hr extends Wn{constructor(C,E){super(C,"facebook.com",E)}}class Io extends ii{constructor(C,E){super(C,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class ls extends Wn{constructor(C,E){super(C,"google.com",E)}}class Zc extends ii{constructor(C,E,A){super(C,"twitter.com",E,A)}}function Qs(T){const{user:C,_tokenResponse:E}=T;return C.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Rt(T){var C,E;if(!T)return null;const{providerId:A}=T,q=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},J=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!A&&T?.idToken){const Ie=null===(E=null===(C=Kt(T.idToken))||void 0===C?void 0:C.firebase)||void 0===E?void 0:E.sign_in_provider;if(Ie)return new Wn(J,"anonymous"!==Ie&&"custom"!==Ie?Ie:null)}if(!A)return null;switch(A){case"facebook.com":return new hr(J,q);case"github.com":return new Io(J,q);case"google.com":return new ls(J,q);case"twitter.com":return new Zc(J,q,T.screenName||null);case"custom":case"anonymous":return new Wn(J,null);default:return new Wn(J,A,q)}}(E)}function So(T,C,E,A){return(0,U.m9)(T).onIdTokenChanged(C,E,A)}function $h(T,C,E,A){return(0,U.m9)(T).onAuthStateChanged(C,E,A)}class As{constructor(C,E,A){this.type=C,this.credential=E,this.auth=A}static _fromIdtoken(C,E){return new As("enroll",C,E)}static _fromMfaPendingCredential(C){return new As("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var E,A;if(C?.multiFactorSession){if(null!==(E=C.multiFactorSession)&&void 0!==E&&E.pendingCredential)return As._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null!==(A=C.multiFactorSession)&&void 0!==A&&A.idToken)return As._fromIdtoken(C.multiFactorSession.idToken)}return null}}class $c{constructor(C,E,A){this.session=C,this.hints=E,this.signInResolver=A}static _fromError(C,E){const A=ki(C),q=E.customData._serverResponse,J=(q.mfaInfo||[]).map(Xe=>Eo._fromServerResponse(A,Xe));ue(q.mfaPendingCredential,A,"internal-error");const Ie=As._fromMfaPendingCredential(q.mfaPendingCredential);return new $c(Ie,J,function(){var Xe=(0,o.Z)(function*(At){const Nt=yield At._process(A,Ie);delete q.mfaInfo,delete q.mfaPendingCredential;const pn=Object.assign(Object.assign({},q),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(E.operationType){case"signIn":const Yn=yield or._fromIdTokenResponse(A,E.operationType,pn);return yield A._updateCurrentUser(Yn.user),Yn;case"reauthenticate":return ue(E.user,A,"internal-error"),or._forOperation(E.user,E.operationType,pn);default:xe(A,"internal-error")}});return function(At){return Xe.apply(this,arguments)}}())}resolveSignIn(C){var E=this;return(0,o.Z)(function*(){return E.signInResolver(C)})()}}function gl(T,C){var E;const A=(0,U.m9)(T),q=C;return ue(C.customData.operationType,A,"argument-error"),ue(null===(E=q.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,A,"argument-error"),$c._fromError(A,q)}class Tu{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(A=>Eo._fromServerResponse(C.auth,A)))})}static _fromUser(C){return new Tu(C)}getSession(){var C=this;return(0,o.Z)(function*(){return As._fromIdtoken(yield C.user.getIdToken(),C.user.auth)})()}enroll(C,E){var A=this;return(0,o.Z)(function*(){const q=C,J=yield A.getSession(),Ie=yield jt(A.user,q._process(A.user.auth,J,E));return yield A.user._updateTokensIfNecessary(Ie),A.user.reload()})()}unenroll(C){var E=this;return(0,o.Z)(function*(){const A="string"==typeof C?C:C.uid,q=yield E.user.getIdToken();try{const J=yield jt(E.user,function th(T,C){return ct(T,"POST","/v2/accounts/mfaEnrollment:withdraw",je(T,C))}(E.user.auth,{idToken:q,mfaEnrollmentId:A}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Ie})=>Ie!==A),yield E.user._updateTokensIfNecessary(J),yield E.user.reload()}catch(J){throw J}})()}}const Ti=new WeakMap;function _l(T){const C=(0,U.m9)(T);return Ti.has(C)||Ti.set(C,Tu._fromUser(C)),Ti.get(C)}const qa="__sak";class Yo{constructor(C,E){this.storageRetriever=C,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(C,E){return this.storage.setItem(C,JSON.stringify(E)),Promise.resolve()}_get(C){const E=this.storage.getItem(C);return Promise.resolve(E?JSON.parse(E):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const ih=(()=>{class T extends Yo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,A)=>this.onStorageEvent(E,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function to(){const T=(0,U.z$)();return ne(T)||Vt(T)}()&&function br(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const A of Object.keys(this.listeners)){const q=this.storage.getItem(A),J=this.localCache[A];q!==J&&E(A,J,q)}}onStorageEvent(E,A=!1){if(!E.key)return void this.forAllChangedKeys((Xe,At,Nt)=>{this.notifyListeners(Xe,Nt)});const q=E.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(q);if(E.newValue!==Xe)null!==E.newValue?this.storage.setItem(q,E.newValue):this.storage.removeItem(q);else if(this.localCache[q]===E.newValue&&!A)return}const J=()=>{const Xe=this.storage.getItem(q);!A&&this.localCache[q]===Xe||this.notifyListeners(q,Xe)},Ie=this.storage.getItem(q);!function di(){return(0,U.w1)()&&10===document.documentMode}()||Ie===E.newValue||E.newValue===E.oldValue?J():setTimeout(J,10)}notifyListeners(E,A){this.localCache[E]=A;const q=this.listeners[E];if(q)for(const J of Array.from(q))J(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,A,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:A,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(A)}_removeListener(E,A){this.listeners[E]&&(this.listeners[E].delete(A),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,A){var q=()=>super._set,J=this;return(0,o.Z)(function*(){yield q().call(J,E,A),J.localCache[E]=JSON.stringify(A)})()}_get(E){var A=()=>super._get,q=this;return(0,o.Z)(function*(){const J=yield A().call(q,E);return q.localCache[E]=JSON.stringify(J),J})()}_remove(E){var A=()=>super._remove,q=this;return(0,o.Z)(function*(){yield A().call(q,E),delete q.localCache[E]})()}}return T.type="LOCAL",T})(),Js=(()=>{class T extends Yo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,A){}_removeListener(E,A){}}return T.type="SESSION",T})();let oh=(()=>{class T{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const A=this.receivers.find(J=>J.isListeningto(E));if(A)return A;const q=new T(E);return this.receivers.push(q),q}isListeningto(E){return this.eventTarget===E}handleEvent(E){var A=this;return(0,o.Z)(function*(){const q=E,{eventId:J,eventType:Ie,data:Xe}=q.data,At=A.handlersMap[Ie];if(!At?.size)return;q.ports[0].postMessage({status:"ack",eventId:J,eventType:Ie});const Nt=Array.from(At).map(function(){var Yn=(0,o.Z)(function*(ro){return ro(q.origin,Xe)});return function(ro){return Yn.apply(this,arguments)}}()),pn=yield function yl(T){return Promise.all(T.map(function(){var C=(0,o.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(A){return{fulfilled:!1,reason:A}}});return function(E){return C.apply(this,arguments)}}()))}(Nt);q.ports[0].postMessage({status:"done",eventId:J,eventType:Ie,response:pn})})()}_subscribe(E,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(A)}_unsubscribe(E,A){this.handlersMap[E]&&A&&this.handlersMap[E].delete(A),(!A||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Gc(T="",C=10){let E="";for(let A=0;A<C;A++)E+=Math.floor(10*Math.random());return T+E}class Wh{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,E,A=50){var q=this;return(0,o.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Ie,Xe;return new Promise((At,Nt)=>{const pn=Gc("",20);J.port1.start();const Yn=setTimeout(()=>{Nt(new Error("unsupported_event"))},A);Xe={messageChannel:J,onMessage(ro){const Oa=ro;if(Oa.data.eventId===pn)switch(Oa.data.status){case"ack":clearTimeout(Yn),Ie=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),At(Oa.data.response);break;default:clearTimeout(Yn),clearTimeout(Ie),Nt(new Error("invalid_response"))}}},q.handlers.add(Xe),J.port1.addEventListener("message",Xe.onMessage),q.target.postMessage({eventType:C,eventId:pn,data:E},[J.port2])}).finally(()=>{Xe&&q.removeMessageHandler(Xe)})})()}}function Hr(){return window}function Su(){return typeof Hr().WorkerGlobalScope<"u"&&"function"==typeof Hr().importScripts}function Wc(){return(Wc=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",Wi="firebaseLocalStorage",Rs="fbase_key";class Yc{constructor(C){this.request=C}toPromise(){return new Promise((C,E)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function sh(T,C){return T.transaction([Wi],C?"readwrite":"readonly").objectStore(Wi)}function ah(){const T=indexedDB.open(qr,1);return new Promise((C,E)=>{T.addEventListener("error",()=>{E(T.error)}),T.addEventListener("upgradeneeded",()=>{const A=T.result;try{A.createObjectStore(Wi,{keyPath:Rs})}catch(q){E(q)}}),T.addEventListener("success",(0,o.Z)(function*(){const A=T.result;A.objectStoreNames.contains(Wi)?C(A):(A.close(),yield function op(){const T=indexedDB.deleteDatabase(qr);return new Yc(T).toPromise()}(),C(yield ah()))}))})}function gc(T,C,E){return pt.apply(this,arguments)}function pt(){return(pt=(0,o.Z)(function*(T,C,E){const A=sh(T,!0).put({[Rs]:C,value:E});return new Yc(A).toPromise()})).apply(this,arguments)}function Ns(){return(Ns=(0,o.Z)(function*(T,C){const E=sh(T,!1).get(C),A=yield new Yc(E).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Du(T,C){const E=sh(T,!0).delete(C);return new Yc(E).toPromise()}const ko=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,o.Z)(function*(){return E.db||(E.db=yield ah()),E.db})()}_withRetries(E){var A=this;return(0,o.Z)(function*(){let q=0;for(;;)try{const J=yield A._openDb();return yield E(J)}catch(J){if(q++>3)throw J;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,o.Z)(function*(){return Su()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,o.Z)(function*(){E.receiver=oh._getInstance(function ld(){return Su()?self:null}()),E.receiver._subscribe("keyChanged",function(){var A=(0,o.Z)(function*(q,J){return{keyProcessed:(yield E._poll()).includes(J.key)}});return function(q,J){return A.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var A=(0,o.Z)(function*(q,J){return["keyChanged"]});return function(q,J){return A.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,o.Z)(function*(){var A,q;if(E.activeServiceWorker=yield function On(){return Wc.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Wh(E.activeServiceWorker);const J=yield E.sender._send("ping",{},800);J&&null!==(A=J[0])&&void 0!==A&&A.fulfilled&&null!==(q=J[0])&&void 0!==q&&q.value.includes("keyChanged")&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var A=this;return(0,o.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function rp(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:E},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const E=yield ah();return yield gc(E,qa,"1"),yield Du(E,qa),!0}catch{}return!1})()}_withPendingWrite(E){var A=this;return(0,o.Z)(function*(){A.pendingWrites++;try{yield E()}finally{A.pendingWrites--}})()}_set(E,A){var q=this;return(0,o.Z)(function*(){return q._withPendingWrite((0,o.Z)(function*(){return yield q._withRetries(J=>gc(J,E,A)),q.localCache[E]=A,q.notifyServiceWorker(E)}))})()}_get(E){var A=this;return(0,o.Z)(function*(){const q=yield A._withRetries(J=>function oi(T,C){return Ns.apply(this,arguments)}(J,E));return A.localCache[E]=q,q})()}_remove(E){var A=this;return(0,o.Z)(function*(){return A._withPendingWrite((0,o.Z)(function*(){return yield A._withRetries(q=>Du(q,E)),delete A.localCache[E],A.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,o.Z)(function*(){const A=yield E._withRetries(Ie=>{const Xe=sh(Ie,!1).getAll();return new Yc(Xe).toPromise()});if(!A)return[];if(0!==E.pendingWrites)return[];const q=[],J=new Set;for(const{fbase_key:Ie,value:Xe}of A)J.add(Ie),JSON.stringify(E.localCache[Ie])!==JSON.stringify(Xe)&&(E.notifyListeners(Ie,Xe),q.push(Ie));for(const Ie of Object.keys(E.localCache))E.localCache[Ie]&&!J.has(Ie)&&(E.notifyListeners(Ie,null),q.push(Ie));return q})()}notifyListeners(E,A){this.localCache[E]=A;const q=this.listeners[E];if(q)for(const J of Array.from(q))J(A)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(A)}_removeListener(E,A){this.listeners[E]&&(this.listeners[E].delete(A),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),Ji=1e12;class fr{constructor(C){this.auth=C,this.counter=Ji,this._widgets=new Map}render(C,E){const A=this.counter;return this._widgets.set(A,new mo(C,this.auth.name,E||{})),this.counter++,A}reset(C){var E;const A=C||Ji;null===(E=this._widgets.get(A))||void 0===E||E.delete(),this._widgets.delete(A)}getResponse(C){var E;return(null===(E=this._widgets.get(C||Ji))||void 0===E?void 0:E.getResponse())||""}execute(C){var E=this;return(0,o.Z)(function*(){var A;return null===(A=E._widgets.get(C||Ji))||void 0===A||A.execute(),""})()}}class mo{constructor(C,E,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof C?document.getElementById(C):C;ue(q,"argument-error",{appName:E}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function no(T){const C=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<T;A++)C.push(E.charAt(Math.floor(62*Math.random())));return C.join("")}(50);const{callback:C,"expired-callback":E}=this.params;if(C)try{C(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const io=tr("rcb"),Kh=new rn(3e4,6e4);class dd{constructor(){var C;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(C=Hr().grecaptcha)||void 0===C||!C.render)}load(C,E=""){return ue(function Mm(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(E),C,"argument-error"),this.shouldResolveImmediately(E)&&kt(Hr().grecaptcha)?Promise.resolve(Hr().grecaptcha):new Promise((A,q)=>{const J=Hr().setTimeout(()=>{q(nt(C,"network-request-failed"))},Kh.get());Hr()[io]=()=>{Hr().clearTimeout(J),delete Hr()[io];const Xe=Hr().grecaptcha;if(!Xe||!kt(Xe))return void q(nt(C,"internal-error"));const At=Xe.render;Xe.render=(Nt,pn)=>{const Yn=At(Nt,pn);return this.counter++,Yn},this.hostLanguage=E,A(Xe)},Yi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:io,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(J),q(nt(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){var E;return!(null===(E=Hr().grecaptcha)||void 0===E||!E.render)&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Au{load(C){return(0,o.Z)(function*(){return new fr(C)})()}clearedOneInstance(){}}const Kl="recaptcha",ch={theme:"light",type:"image"};class bl{constructor(C,E=Object.assign({},ch),A){this.parameters=E,this.type=Kl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ki(A),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof C?document.getElementById(C):C;ue(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Au:new dd,this.validateStartingState()}verify(){var C=this;return(0,o.Z)(function*(){C.assertNotDestroyed();const E=yield C.render(),A=C.getAssertedRecaptcha();return A.getResponse(E)||new Promise(J=>{const Ie=Xe=>{Xe&&(C.tokenChangeListeners.delete(Ie),J(Xe))};C.tokenChangeListeners.add(Ie),C.isInvisible&&A.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return E=>{if(this.tokenChangeListeners.forEach(A=>A(E)),"function"==typeof C)C(E);else if("string"==typeof C){const A=Hr()[C];"function"==typeof A&&A(E)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,o.Z)(function*(){if(yield C.init(),!C.widgetId){let E=C.container;if(!C.isInvisible){const A=document.createElement("div");E.appendChild(A),E=A}C.widgetId=C.getAssertedRecaptcha().render(E,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,o.Z)(function*(){ue(ot()&&!Su(),C.auth,"internal-error"),yield function lh(){let T=null;return new Promise(C=>{"complete"!==document.readyState?(T=()=>C(),window.addEventListener("load",T)):C()}).catch(C=>{throw T&&window.removeEventListener("load",T),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const E=yield function Je(T){return He.apply(this,arguments)}(C.auth);ue(E,C.auth,"internal-error"),C.parameters.sitekey=E})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Za{constructor(C,E){this.verificationId=C,this.onConfirmation=E}confirm(C){const E=on._fromVerification(this.verificationId,C);return this.onConfirmation(E)}}function Ql(T,C,E){return ku.apply(this,arguments)}function ku(){return(ku=(0,o.Z)(function*(T,C,E){const A=ki(T),q=yield yc(A,C,(0,U.m9)(E));return new Za(q,J=>Ba(A,J))})).apply(this,arguments)}function ys(T,C,E){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T);yield va(!1,A,"phone");const q=yield yc(A.auth,C,(0,U.m9)(E));return new Za(q,J=>dc(A,J))})).apply(this,arguments)}function _c(T,C,E){return vc.apply(this,arguments)}function vc(){return(vc=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T),q=yield yc(A.auth,C,(0,U.m9)(E));return new Za(q,J=>yi(A,J))})).apply(this,arguments)}function yc(T,C,E){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,o.Z)(function*(T,C,E){var A;const q=yield E.verify();try{let J;if(ue("string"==typeof q,T,"argument-error"),ue(E.type===Kl,T,"argument-error"),J="string"==typeof C?{phoneNumber:C}:C,"session"in J){const Ie=J.session;if("phoneNumber"in J)return ue("enroll"===Ie.type,T,"internal-error"),(yield function cd(T,C){return ct(T,"POST","/v2/accounts/mfaEnrollment:start",je(T,C))}(T,{idToken:Ie.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{ue("signin"===Ie.type,T,"internal-error");const Xe=(null===(A=J.multiFactorHint)||void 0===A?void 0:A.uid)||J.multiFactorUid;return ue(Xe,T,"missing-multi-factor-info"),(yield function Qi(T,C){return ct(T,"POST","/v2/accounts/mfaSignIn:start",je(T,C))}(T,{mfaPendingCredential:Ie.credential,mfaEnrollmentId:Xe,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ie}=yield function En(T,C){return Ii.apply(this,arguments)}(T,{phoneNumber:J.phoneNumber,recaptchaToken:q});return Ie}}finally{E._reset()}}),Jl.apply(this,arguments)}function us(T,C){return xa.apply(this,arguments)}function xa(){return(xa=(0,o.Z)(function*(T,C){yield Xr((0,U.m9)(T),C)})).apply(this,arguments)}let ar=(()=>{class T{constructor(E){this.providerId=T.PROVIDER_ID,this.auth=ki(E)}verifyPhoneNumber(E,A){return yc(this.auth,E,(0,U.m9)(A))}static credential(E,A){return on._fromVerification(E,A)}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:A,temporaryProof:q}=E;return A&&q?on._fromTokenResponse(A,q):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Ma(T,C){return C?_i(C):(ue(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class uh extends da{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return $s(C,this._buildIdpRequest())}_linkToIdToken(C,E){return $s(C,this._buildIdpRequest(E))}_getReauthenticationResolver(C){return $s(C,this._buildIdpRequest())}_buildIdpRequest(C){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(E.idToken=C),E}}function bs(T){return Ss(T.auth,new uh(T),T.bypassAuthState)}function Fn(T){const{auth:C,user:E}=T;return ue(E,C,"internal-error"),Lr(E,new uh(T),T.bypassAuthState)}function cr(T){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,o.Z)(function*(T){const{auth:C,user:E}=T;return ue(E,C,"internal-error"),Xr(E,new uh(T),T.bypassAuthState)})).apply(this,arguments)}class Xl{constructor(C,E,A,q,J=!1){this.auth=C,this.resolver=A,this.user=q,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var C=this;return new Promise(function(){var E=(0,o.Z)(function*(A,q){C.pendingPromise={resolve:A,reject:q};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(J){C.reject(J)}});return function(A,q){return E.apply(this,arguments)}}())}onAuthEvent(C){var E=this;return(0,o.Z)(function*(){const{urlResponse:A,sessionId:q,postBody:J,tenantId:Ie,error:Xe,type:At}=C;if(Xe)return void E.reject(Xe);const Nt={auth:E.auth,requestUri:A,sessionId:q,tenantId:Ie||void 0,postBody:J||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(At)(Nt))}catch(pn){E.reject(pn)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return bs;case"linkViaPopup":case"linkViaRedirect":return cr;case"reauthViaPopup":case"reauthViaRedirect":return Fn;default:xe(this.auth,"internal-error")}}resolve(C){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bc=new rn(2e3,1e4);function li(T,C,E){return $a.apply(this,arguments)}function $a(){return($a=(0,o.Z)(function*(T,C,E){const A=ki(T);it(T,C,qo);const q=Ma(A,E);return new nr(A,"signInViaPopup",C,q).executeNotNull()})).apply(this,arguments)}function Zr(T,C,E){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T);it(A.auth,C,qo);const q=Ma(A.auth,E);return new nr(A.auth,"reauthViaPopup",C,q,A).executeNotNull()})).apply(this,arguments)}function Tr(T,C,E){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T);it(A.auth,C,qo);const q=Ma(A.auth,E);return new nr(A.auth,"linkViaPopup",C,q,A).executeNotNull()})).apply(this,arguments)}let nr=(()=>{class T extends Xl{constructor(E,A,q,J,Ie){super(E,A,J,Ie),this.provider=q,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var E=this;return(0,o.Z)(function*(){const A=yield E.execute();return ue(A,E.auth,"internal-error"),A})()}onExecution(){var E=this;return(0,o.Z)(function*(){Le(1===E.filter.length,"Popup operations only handle one event");const A=Gc();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],A),E.authWindow.associatedEvent=A,E.resolver._originValidation(E.auth).catch(q=>{E.reject(q)}),E.resolver._isIframeWebStorageSupported(E.auth,q=>{q||E.reject(nt(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const E=()=>{var A,q;this.pollId=null!==(q=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(E,bc.get())};E()}}return T.currentPopupAction=null,T})();const ap="pendingRedirect",Fs=new Map;class hd extends Xl{constructor(C,E,A=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,A),this.eventId=null}execute(){var C=()=>super.execute,E=this;return(0,o.Z)(function*(){let A=Fs.get(E.auth._key());if(!A){try{const J=(yield function Em(T,C){return fd.apply(this,arguments)}(E.resolver,E.auth))?yield C().call(E):null;A=()=>Promise.resolve(J)}catch(q){A=()=>Promise.reject(q)}Fs.set(E.auth._key(),A)}return E.bypassAuthState||Fs.set(E.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(C){var E=()=>super.onAuthEvent,A=this;return(0,o.Z)(function*(){if("signInViaRedirect"===C.type)return E().call(A,C);if("unknown"!==C.type){if(C.eventId){const q=yield A.auth._redirectUserForId(C.eventId);if(q)return A.user=q,E().call(A,C);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function fd(){return(fd=(0,o.Z)(function*(T,C){const E=dh(C),A=Qh(T);if(!(yield A._isAvailable()))return!1;const q="true"===(yield A._get(E));return yield A._remove(E),q})).apply(this,arguments)}function pd(T,C){return cp.apply(this,arguments)}function cp(){return(cp=(0,o.Z)(function*(T,C){return Qh(T)._set(dh(C),"true")})).apply(this,arguments)}function md(){Fs.clear()}function eu(T,C){Fs.set(T._key(),C)}function Qh(T){return _i(T._redirectPersistence)}function dh(T){return Co(ap,T.config.apiKey,T.name)}function Kc(T,C,E){return function Qc(T,C,E){return gd.apply(this,arguments)}(T,C,E)}function gd(){return(gd=(0,o.Z)(function*(T,C,E){const A=ki(T);it(T,C,qo),yield A._initializationPromise;const q=Ma(A,E);return yield pd(q,A),q._openRedirect(A,C,"signInViaRedirect")})).apply(this,arguments)}function wl(T,C,E){return function Ru(T,C,E){return Cs.apply(this,arguments)}(T,C,E)}function Cs(){return(Cs=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T);it(A.auth,C,qo),yield A.auth._initializationPromise;const q=Ma(A.auth,E);yield pd(q,A.auth);const J=yield tu(A);return q._openRedirect(A.auth,C,"reauthViaRedirect",J)})).apply(this,arguments)}function Jh(T,C,E){return function Xh(T,C,E){return hh.apply(this,arguments)}(T,C,E)}function hh(){return(hh=(0,o.Z)(function*(T,C,E){const A=(0,U.m9)(T);it(A.auth,C,qo),yield A.auth._initializationPromise;const q=Ma(A.auth,E);yield va(!1,A,C.providerId),yield pd(q,A.auth);const J=yield tu(A);return q._openRedirect(A.auth,C,"linkViaRedirect",J)})).apply(this,arguments)}function ef(T,C){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,o.Z)(function*(T,C){return yield ki(T)._initializationPromise,_d(T,C,!1)})).apply(this,arguments)}function _d(T,C){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,o.Z)(function*(T,C,E=!1){const A=ki(T),q=Ma(A,C),Ie=yield new hd(A,q,E).execute();return Ie&&!E&&(delete Ie.user._redirectEventId,yield A._persistUserIfCurrent(Ie.user),yield A._setRedirectUser(null,C)),Ie})).apply(this,arguments)}function tu(T){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,o.Z)(function*(T){const C=Gc(`${T.uid}:::`);return T._redirectEventId=C,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),C})).apply(this,arguments)}class iu{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let E=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(C,A)&&(E=!0,this.sendToConsumer(C,A),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function ou(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ru(T);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=C,E=!0)),E}sendToConsumer(C,E){var A;if(C.error&&!ru(C)){const q=(null===(A=C.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";E.onError(nt(this.auth,q))}else E.onAuthEvent(C)}isEventForConsumer(C,E){const A=null===E.eventId||!!C.eventId&&C.eventId===E.eventId;return E.filter.includes(C.type)&&A}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vd(C))}saveEventToCache(C){this.cachedEventUids.add(vd(C)),this.lastProcessedEventTime=Date.now()}}function vd(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(C=>C).join("-")}function ru({type:T,error:C}){return"unknown"===T&&"auth/no-auth-event"===C?.code}function ea(T){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,o.Z)(function*(T,C={}){return ct(T,"GET","/v1/projects",C)})).apply(this,arguments)}const lp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yd=/^https?/;function fh(){return(fh=(0,o.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:C}=yield ea(T);for(const E of C)try{if(ph(E))return}catch{}xe(T,"unauthorized-domain")})).apply(this,arguments)}function ph(T){const C=wt(),{protocol:E,hostname:A}=new URL(C);if(T.startsWith("chrome-extension://")){const Ie=new URL(T);return""===Ie.hostname&&""===A?"chrome-extension:"===E&&T.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===E&&Ie.hostname===A}if(!yd.test(E))return!1;if(lp.test(T))return A===T;const q=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(A)}const xl=new rn(3e4,6e4);function ds(){const T=Hr().___jsl;if(T?.H)for(const C of Object.keys(T.H))if(T.H[C].r=T.H[C].r||[],T.H[C].L=T.H[C].L||[],T.H[C].r=[...T.H[C].L],T.CP)for(let E=0;E<T.CP.length;E++)T.CP[E]=null}let si=null;const bd=new rn(5e3,15e3),Vn="__/auth/iframe",No="emulator/auth/iframe",up={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ml(T){const C=T.config;ue(C.authDomain,T,"auth-domain-config-required");const E=C.emulator?gi(C,No):`https://${T.config.authDomain}/${Vn}`,A={apiKey:C.apiKey,appName:T.name,v:Y.SDK_VERSION},q=pr.get(T.config.apiHost);q&&(A.eid=q);const J=T._getFrameworks();return J.length&&(A.fw=J.join(",")),`${E}?${(0,U.xO)(A).slice(1)}`}function Jc(){return Jc=(0,o.Z)(function*(T){const C=yield function wc(T){return si=si||function Qo(T){return new Promise((C,E)=>{var A,q,J;function Ie(){ds(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{ds(),E(nt(T,"network-request-failed"))},timeout:xl.get()})}if(null!==(q=null===(A=Hr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==q&&q.Iframe)C(gapi.iframes.getContext());else{if(null===(J=Hr().gapi)||void 0===J||!J.load){const Xe=tr("iframefcb");return Hr()[Xe]=()=>{gapi.load?Ie():E(nt(T,"network-request-failed"))},Yi(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(At=>E(At))}Ie()}}).catch(C=>{throw si=null,C})}(T),si}(T),E=Hr().gapi;return ue(E,T,"internal-error"),C.open({where:document.body,url:Ml(T),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:up,dontclear:!0},A=>new Promise(function(){var q=(0,o.Z)(function*(J,Ie){yield A.restyle({setHideOnLeave:!1});const Xe=nt(T,"network-request-failed"),At=Hr().setTimeout(()=>{Ie(Xe)},bd.get());function Nt(){Hr().clearTimeout(At),J(A)}A.ping(Nt).then(Nt,()=>{Ie(Xe)})});return function(J,Ie){return q.apply(this,arguments)}}()))}),Jc.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft="__/auth/handler",hn="emulator/auth/handler",Bn=encodeURIComponent("fac");function Sn(T,C,E,A,q,J){return ws.apply(this,arguments)}function ws(){return(ws=(0,o.Z)(function*(T,C,E,A,q,J){ue(T.config.authDomain,T,"auth-domain-config-required"),ue(T.config.apiKey,T,"invalid-api-key");const Ie={apiKey:T.config.apiKey,appName:T.name,authType:E,redirectUrl:A,v:Y.SDK_VERSION,eventId:q};if(C instanceof qo){C.setDefaultLanguage(T.languageCode),Ie.providerId=C.providerId||"",(0,U.xb)(C.getCustomParameters())||(Ie.customParameters=JSON.stringify(C.getCustomParameters()));for(const[pn,Yn]of Object.entries(J||{}))Ie[pn]=Yn}if(C instanceof ur){const pn=C.getScopes().filter(Yn=>""!==Yn);pn.length>0&&(Ie.scopes=pn.join(","))}T.tenantId&&(Ie.tid=T.tenantId);const Xe=Ie;for(const pn of Object.keys(Xe))void 0===Xe[pn]&&delete Xe[pn];const At=yield T._getAppCheckToken(),Nt=At?`#${Bn}=${encodeURIComponent(At)}`:"";return`${function Fo({config:T}){return T.emulator?gi(T,hn):`https://${T.authDomain}/${Ft}`}(T)}?${(0,U.xO)(Xe).slice(1)}${Nt}`})).apply(this,arguments)}const er="webStorageSupport",Wa=class Fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Js,this._completeRedirectFn=_d,this._overrideRedirectResult=eu}_openPopup(C,E,A,q){var J=this;return(0,o.Z)(function*(){var Ie;Le(null===(Ie=J.eventManagers[C._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const Xe=yield Sn(C,E,A,wt(),q);return function rt(T,C,E,A=500,q=600){const J=Math.max((window.screen.availHeight-q)/2,0).toString(),Ie=Math.max((window.screen.availWidth-A)/2,0).toString();let Xe="";const At=Object.assign(Object.assign({},D),{width:A.toString(),height:q.toString(),top:J,left:Ie}),Nt=(0,U.z$)().toLowerCase();E&&(Xe=K(Nt)?"_blank":E),X(Nt)&&(C=C||"http://localhost",At.scrollbars="yes");const pn=Object.entries(At).reduce((ro,[Oa,oo])=>`${ro}${Oa}=${oo},`,"");if(function xn(T=(0,U.z$)()){var C;return Vt(T)&&!(null===(C=window.navigator)||void 0===C||!C.standalone)}(Nt)&&"_self"!==Xe)return function Bt(T,C){const E=document.createElement("a");E.href=T,E.target=C;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(A)}(C||"",Xe),new Ue(null);const Yn=window.open(C||"",Xe,pn);ue(Yn,T,"popup-blocked");try{Yn.focus()}catch{}return new Ue(Yn)}(C,Xe,Gc())})()}_openRedirect(C,E,A,q){var J=this;return(0,o.Z)(function*(){return yield J._originValidation(C),function mc(T){Hr().location.href=T}(yield Sn(C,E,A,wt(),q)),new Promise(()=>{})})()}_initialize(C){const E=C._key();if(this.eventManagers[E]){const{manager:q,promise:J}=this.eventManagers[E];return q?Promise.resolve(q):(Le(J,"If manager is not set, promise should be"),J)}const A=this.initAndGetManager(C);return this.eventManagers[E]={promise:A},A.catch(()=>{delete this.eventManagers[E]}),A}initAndGetManager(C){var E=this;return(0,o.Z)(function*(){const A=yield function Ea(T){return Jc.apply(this,arguments)}(C),q=new iu(C);return A.register("authEvent",J=>(ue(J?.authEvent,C,"invalid-auth-event"),{status:q.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[C._key()]={manager:q},E.iframes[C._key()]=A,q})()}_isIframeWebStorageSupported(C,E){this.iframes[C._key()].send(er,{type:er},q=>{var J;const Ie=null===(J=q?.[0])||void 0===J?void 0:J[er];void 0!==Ie&&E(!!Ie),xe(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const E=C._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Ga(T){return fh.apply(this,arguments)}(C)),this.originValidationPromises[E]}get _shouldInitProactively(){return Nn()||ne()||Vt()}};class Ya{constructor(C){this.factorId=C}_process(C,E,A){switch(E.type){case"enroll":return this._finalizeEnroll(C,E.credential,A);case"signin":return this._finalizeSignIn(C,E.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class Vr extends Ya{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Vr(C)}_finalizeEnroll(C,E,A){return function Iu(T,C){return ct(T,"POST","/v2/accounts/mfaEnrollment:finalize",je(T,C))}(C,{idToken:E,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,E){return function po(T,C){return ct(T,"POST","/v2/accounts/mfaSignIn:finalize",je(T,C))}(C,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let El=(()=>{class T{constructor(){}static assertion(E){return Vr._fromCredential(E)}}return T.FACTOR_ID="phone",T})();var u_="@firebase/auth";class Ly{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var E=this;return(0,o.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const E=this.auth.onIdTokenChanged(A=>{C(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(C,E),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const E=this.internalListeners.get(C);E&&(this.internalListeners.delete(C),E(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const d_=(0,U.Pz)("authIdTokenMaxAge")||300;let xd=null;const h_=T=>function(){var C=(0,o.Z)(function*(E){const A=E&&(yield E.getIdTokenResult()),q=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(q&&q>d_)return;const J=A?.token;xd!==J&&(xd=J,yield fetch(T,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(E){return C.apply(this,arguments)}}();function nf(T=(0,Y.getApp)()){const C=(0,Y._getProvider)(T,"auth");if(C.isInitialized())return C.getImmediate();const E=function Hn(T,C){const E=(0,Y._getProvider)(T,"auth");if(E.isInitialized()){const q=E.getImmediate(),J=E.getOptions();if((0,U.vZ)(J,C??{}))return q;xe(q,"already-initialized")}return E.initialize({options:C})}(T,{popupRedirectResolver:Wa,persistence:[ko,ih,Js]}),A=(0,U.Pz)("authTokenSyncURL");if(A){const J=h_(A);(function sd(T,C,E){(0,U.m9)(T).beforeAuthStateChanged(C,E)})(E,J,()=>J(E.currentUser)),So(E,Ie=>J(Ie))}const q=(0,U.q4)("auth");return q&&cc(E,`http://${q}`),E}!function dp(T){(0,Y._registerComponent)(new Ae.wA("auth",(C,{options:E})=>{const A=C.getProvider("app").getImmediate(),q=C.getProvider("heartbeat"),J=C.getProvider("app-check-internal"),{apiKey:Ie,authDomain:Xe}=A.options;ue(Ie&&!Ie.includes(":"),"invalid-api-key",{appName:A.name});const At={apiKey:Ie,authDomain:Xe,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rs(T)},Nt=new Mn(A,q,J,At);return function Sc(T,C){const E=C?.persistence||[],A=(Array.isArray(E)?E:[E]).map(_i);C?.errorMap&&T._updateErrorMap(C.errorMap),T._initializeWithPersistence(A,C?.popupRedirectResolver)}(Nt,E),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,E,A)=>{C.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new Ae.wA("auth-internal",C=>{const E=ki(C.getProvider("auth").getImmediate());return new Ly(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(u_,"0.23.2",function ta(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,Y.registerVersion)(u_,"0.23.2","esm2017")}("Browser")},9058:(en,Te,Q)=>{Q.d(Te,{$s:()=>_i,BH:()=>Ze,DV:()=>Un,Dv:()=>Fe,G6:()=>gi,GJ:()=>Ut,L:()=>Ve,LL:()=>gt,P0:()=>We,Pz:()=>nt,Sg:()=>it,UG:()=>Ge,UI:()=>Ei,US:()=>Ae,Wj:()=>zt,Wl:()=>dn,Yr:()=>rn,ZB:()=>de,ZR:()=>ct,aH:()=>xe,b$:()=>ot,cI:()=>In,dS:()=>Ht,eu:()=>we,g5:()=>Y,gK:()=>xt,gQ:()=>Qt,h$:()=>ut,hl:()=>Pe,hu:()=>U,jU:()=>Le,lb:()=>Xt,m9:()=>Co,ne:()=>jt,p$:()=>$,pd:()=>Kt,q4:()=>at,r3:()=>cn,ru:()=>wt,tV:()=>j,uI:()=>ue,ug:()=>Oi,vZ:()=>Ai,w1:()=>nn,w9:()=>Tn,xO:()=>zo,xb:()=>zn,z$:()=>he,zI:()=>qe,zd:()=>sn});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(fe,le){if(!fe)throw Y(le)},Y=function(fe){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+fe)},pe=function(fe){const le=[];let X=0;for(let ne=0;ne<fe.length;ne++){let K=fe.charCodeAt(ne);K<128?le[X++]=K:K<2048?(le[X++]=K>>6|192,le[X++]=63&K|128):55296==(64512&K)&&ne+1<fe.length&&56320==(64512&fe.charCodeAt(ne+1))?(K=65536+((1023&K)<<10)+(1023&fe.charCodeAt(++ne)),le[X++]=K>>18|240,le[X++]=K>>12&63|128,le[X++]=K>>6&63|128,le[X++]=63&K|128):(le[X++]=K>>12|224,le[X++]=K>>6&63|128,le[X++]=63&K|128)}return le},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let K=0;K<fe.length;K+=3){const Se=fe[K],Qe=K+1<fe.length,It=Qe?fe[K+1]:0,yn=K+2<fe.length,Vt=yn?fe[K+2]:0;let di=(15&It)<<2|Vt>>6,Nn=63&Vt;yn||(Nn=64,Qe||(di=64)),ne.push(X[Se>>2],X[(3&Se)<<4|It>>4],X[di],X[Nn])}return ne.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(pe(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let X=0,ne=0;for(;X<fe.length;){const K=fe[X++];if(K<128)le[ne++]=String.fromCharCode(K);else if(K>191&&K<224){const Se=fe[X++];le[ne++]=String.fromCharCode((31&K)<<6|63&Se)}else if(K>239&&K<365){const yn=((7&K)<<18|(63&fe[X++])<<12|(63&fe[X++])<<6|63&fe[X++])-65536;le[ne++]=String.fromCharCode(55296+(yn>>10)),le[ne++]=String.fromCharCode(56320+(1023&yn))}else{const Se=fe[X++],Qe=fe[X++];le[ne++]=String.fromCharCode((15&K)<<12|(63&Se)<<6|63&Qe)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const X=le?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let K=0;K<fe.length;){const Se=X[fe.charAt(K++)],It=K<fe.length?X[fe.charAt(K)]:0;++K;const Vt=K<fe.length?X[fe.charAt(K)]:64;++K;const xn=K<fe.length?X[fe.charAt(K)]:64;if(++K,null==Se||null==It||null==Vt||null==xn)throw new De;ne.push(Se<<2|It>>4),64!==Vt&&(ne.push(It<<4&240|Vt>>2),64!==xn&&ne.push(Vt<<6&192|xn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(fe){const le=pe(fe);return Ae.encodeByteArray(le,!0)},Ve=function(fe){return ut(fe).replace(/\./g,"")},j=function(fe){try{return Ae.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function $(fe){return de(void 0,fe)}function de(fe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return le}for(const X in le)!le.hasOwnProperty(X)||!Ne(X)||(fe[X]=de(fe[X],le[X]));return fe}function Ne(fe){return"__proto__"!==fe}const Re=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&j(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},at=fe=>{var le,X;return null===(X=null===(le=Re())||void 0===le?void 0:le.emulatorHosts)||void 0===X?void 0:X[fe]},We=fe=>{const le=at(fe);if(!le)return;const X=le.lastIndexOf(":");if(X<=0||X+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const ne=parseInt(le.substring(X+1),10);return"["===le[0]?[le.substring(1,X-1),ne]:[le.substring(0,X),ne]},xe=()=>{var fe;return null===(fe=Re())||void 0===fe?void 0:fe.config},nt=fe=>{var le;return null===(le=Re())||void 0===le?void 0:le[`_${fe}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,X)=>{this.resolve=le,this.reject=X})}wrapCallback(le){return(X,ne)=>{X?this.reject(X):this.resolve(ne),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(X):le(X,ne))}}}function it(fe,le){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=le||"demo-project",K=fe.iat||0,Se=fe.sub||fe.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:K,exp:K+3600,auth_time:K,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Qe)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Ge(){var fe;const le=null===(fe=Re())||void 0===fe?void 0:fe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function wt(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const fe=he();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function rn(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function gi(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((fe,le)=>{try{let X=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(ne);K.onsuccess=()=>{K.result.close(),X||self.indexedDB.deleteDatabase(ne),fe(!0)},K.onupgradeneeded=()=>{X=!1},K.onerror=()=>{var Se;le((null===(Se=K.error)||void 0===Se?void 0:Se.message)||"")}}catch(X){le(X)}})}function qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ct extends Error{constructor(le,X,ne){super(X),this.code=le,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(le,X,ne){this.service=le,this.serviceName=X,this.errors=ne}create(le,...X){const ne=X[0]||{},K=`${this.service}/${le}`,Se=this.errors[le],Qe=Se?function Tt(fe,le){return fe.replace(Ct,(X,ne)=>{const K=le[ne];return null!=K?String(K):`<${ne}?>`})}(Se,ne):"Error";return new ct(K,`${this.serviceName}: ${Qe} (${K}).`,ne)}}const Ct=/\{\$([^}]+)}/g;function In(fe){return JSON.parse(fe)}function dn(fe){return JSON.stringify(fe)}const Ln=function(fe){let le={},X={},ne={},K="";try{const Se=fe.split(".");le=In(j(Se[0])||""),X=In(j(Se[1])||""),K=Se[2],ne=X.d||{},delete X.d}catch{}return{header:le,claims:X,data:ne,signature:K}},Tn=function(fe){const X=Ln(fe).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},Ut=function(fe){const le=Ln(fe).claims;return"object"==typeof le&&!0===le.admin};function cn(fe,le){return Object.prototype.hasOwnProperty.call(fe,le)}function Un(fe,le){if(Object.prototype.hasOwnProperty.call(fe,le))return fe[le]}function zn(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function Ei(fe,le,X){const ne={};for(const K in fe)Object.prototype.hasOwnProperty.call(fe,K)&&(ne[K]=le.call(X,fe[K],K,fe));return ne}function Ai(fe,le){if(fe===le)return!0;const X=Object.keys(fe),ne=Object.keys(le);for(const K of X){if(!ne.includes(K))return!1;const Se=fe[K],Qe=le[K];if(ri(Se)&&ri(Qe)){if(!Ai(Se,Qe))return!1}else if(Se!==Qe)return!1}for(const K of ne)if(!X.includes(K))return!1;return!0}function ri(fe){return null!==fe&&"object"==typeof fe}function zo(fe){const le=[];for(const[X,ne]of Object.entries(fe))Array.isArray(ne)?ne.forEach(K=>{le.push(encodeURIComponent(X)+"="+encodeURIComponent(K))}):le.push(encodeURIComponent(X)+"="+encodeURIComponent(ne));return le.length?"&"+le.join("&"):""}function sn(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[K,Se]=ne.split("=");le[decodeURIComponent(K)]=decodeURIComponent(Se)}}),le}function Kt(fe){const le=fe.indexOf("?");if(!le)return"";const X=fe.indexOf("#",le);return fe.substring(le,X>0?X:void 0)}class Qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let le=1;le<this.blockSize;++le)this.pad_[le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(le,X){X||(X=0);const ne=this.W_;if("string"==typeof le)for(let xn=0;xn<16;xn++)ne[xn]=le.charCodeAt(X)<<24|le.charCodeAt(X+1)<<16|le.charCodeAt(X+2)<<8|le.charCodeAt(X+3),X+=4;else for(let xn=0;xn<16;xn++)ne[xn]=le[X]<<24|le[X+1]<<16|le[X+2]<<8|le[X+3],X+=4;for(let xn=16;xn<80;xn++){const di=ne[xn-3]^ne[xn-8]^ne[xn-14]^ne[xn-16];ne[xn]=4294967295&(di<<1|di>>>31)}let Vt,ti,K=this.chain_[0],Se=this.chain_[1],Qe=this.chain_[2],It=this.chain_[3],yn=this.chain_[4];for(let xn=0;xn<80;xn++){xn<40?xn<20?(Vt=It^Se&(Qe^It),ti=1518500249):(Vt=Se^Qe^It,ti=1859775393):xn<60?(Vt=Se&Qe|It&(Se|Qe),ti=2400959708):(Vt=Se^Qe^It,ti=3395469782);const di=(K<<5|K>>>27)+Vt+yn+ti+ne[xn]&4294967295;yn=It,It=Qe,Qe=4294967295&(Se<<30|Se>>>2),Se=K,K=di}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Se&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+It&4294967295,this.chain_[4]=this.chain_[4]+yn&4294967295}update(le,X){if(null==le)return;void 0===X&&(X=le.length);const ne=X-this.blockSize;let K=0;const Se=this.buf_;let Qe=this.inbuf_;for(;K<X;){if(0===Qe)for(;K<=ne;)this.compress_(le,K),K+=this.blockSize;if("string"==typeof le){for(;K<X;)if(Se[Qe]=le.charCodeAt(K),++Qe,++K,Qe===this.blockSize){this.compress_(Se),Qe=0;break}}else for(;K<X;)if(Se[Qe]=le[K],++Qe,++K,Qe===this.blockSize){this.compress_(Se),Qe=0;break}}this.inbuf_=Qe,this.total_+=X}digest(){const le=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&X,X/=256;this.compress_(this.buf_);let ne=0;for(let K=0;K<5;K++)for(let Se=24;Se>=0;Se-=8)le[ne]=this.chain_[K]>>Se&255,++ne;return le}}function jt(fe,le){const X=new Oe(fe,le);return X.subscribe.bind(X)}class Oe{constructor(le,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{le(this)}).catch(ne=>{this.error(ne)})}next(le){this.forEachObserver(X=>{X.next(le)})}error(le){this.forEachObserver(X=>{X.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,X,ne){let K;if(void 0===le&&void 0===X&&void 0===ne)throw new Error("Missing Observer.");K=function Me(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const X of le)if(X in fe&&"function"==typeof fe[X])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:X,complete:ne},void 0===K.next&&(K.next=$e),void 0===K.error&&(K.error=$e),void 0===K.complete&&(K.complete=$e);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Se}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,le)}sendOne(le,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{X(this.observers[le])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $e(){}const Fe=function(fe,le,X,ne){let K;if(ne<le?K="at least "+le:ne>X&&(K=0===X?"none":"no more than "+X),K)throw new Error(fe+" failed: Was called with "+ne+(1===ne?" argument.":" arguments.")+" Expects "+K+".")};function xt(fe,le){return`${fe} failed: ${le} argument `}function zt(fe,le,X,ne){if((!ne||X)&&"function"!=typeof X)throw new Error(xt(fe,le)+"must be a valid function.")}function Xt(fe,le,X,ne){if((!ne||X)&&("object"!=typeof X||null===X))throw new Error(xt(fe,le)+"must be a valid context object.")}const Ht=function(fe){const le=[];let X=0;for(let ne=0;ne<fe.length;ne++){let K=fe.charCodeAt(ne);if(K>=55296&&K<=56319){const Se=K-55296;ne++,U(ne<fe.length,"Surrogate pair missing trail surrogate."),K=65536+(Se<<10)+(fe.charCodeAt(ne)-56320)}K<128?le[X++]=K:K<2048?(le[X++]=K>>6|192,le[X++]=63&K|128):K<65536?(le[X++]=K>>12|224,le[X++]=K>>6&63|128,le[X++]=63&K|128):(le[X++]=K>>18|240,le[X++]=K>>12&63|128,le[X++]=K>>6&63|128,le[X++]=63&K|128)}return le},Oi=function(fe){let le=0;for(let X=0;X<fe.length;X++){const ne=fe.charCodeAt(X);ne<128?le++:ne<2048?le+=2:ne>=55296&&ne<=56319?(le+=4,X++):le+=3}return le},Zn=1e3,Li=2,$n=144e5,vr=.5;function _i(fe,le=Zn,X=Li){const ne=le*Math.pow(X,fe),K=Math.round(vr*ne*(Math.random()-.5)*2);return Math.min($n,ne+K)}function Co(fe){return fe&&fe._delegate?fe._delegate:fe}},9945:(en,Te,Q)=>{var o=Q(5879);let U=null;function Y(){return U}class ce{}const Ae=new o.OlP("DocumentToken");let De=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ve)},providedIn:"platform"})}return n})();const ut=new o.OlP("Location Initialized");let Ve=(()=>{class n extends De{constructor(){super(),this._doc=(0,o.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(e){const i=Y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function j(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function $(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(lt)},providedIn:"root"})}return n})();const me=new o.OlP("appBaseHref");let lt=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return j(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const l=this.prepareExternalUrl(r+de(s));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){const l=this.prepareExternalUrl(r+de(s));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(De),o.LFG(me,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),st=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=j(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let l=this.prepareExternalUrl(r+de(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){let l=this.prepareExternalUrl(r+de(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(De),o.LFG(me,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),mt=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function xe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}($(We(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+de(i))}normalize(e){return n.stripTrailingSlash(function at(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,We(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=de;static#t=this.joinWithSlash=j;static#n=this.stripTrailingSlash=$;static#i=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ne))};static#r=this.\u0275prov=o.Yz7({token:n,factory:function(){return function Re(){return new mt((0,o.LFG)(Ne))}()},providedIn:"root"})}return n})();function We(n){return n.replace(/\/index.html$/,"")}var he=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(he||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),Ge=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ge||{}),Le=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Le||{});function we(n,t){return cn((0,o.cg1)(n)[o.wAp.DateFormat],t)}function qe(n,t){return cn((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function je(n,t){return cn((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function ct(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Le.CurrencyDecimal)return e[o.wAp.NumberSymbols][Le.Decimal];if(t===Le.CurrencyGroup)return e[o.wAp.NumberSymbols][Le.Group]}return i}function fn(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Un(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ri=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hi={},zo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sn||{}),Kt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Kt||{}),Qt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Qt||{});function jt(n,t,e,i){let r=function le(n){if(ne(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,l=1]=n.split("-").map(m=>+m);return Oe(r,s-1,l)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ri))return function X(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-e,m=Number(n[5]||0)-i,v=Number(n[6]||0),x=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,l,m,v,x),t}(i)}const t=new Date(n);if(!ne(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ce(e,t)||t;let m,l=[];for(;t;){if(m=zo.exec(t),!m){l.push(t);break}{l=l.concat(m.slice(1));const S=l.pop();if(!S)break;t=S}}let v=r.getTimezoneOffset();i&&(v=yr(i,v),r=function fe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Co(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(yr(t,r)-r))}(r,i,!0));let x="";return l.forEach(S=>{const L=function Pi(n){if(_i[n])return _i[n];let t;switch(n){case"G":case"GG":case"GGG":t=zt(Qt.Eras,ue.Abbreviated);break;case"GGGG":t=zt(Qt.Eras,ue.Wide);break;case"GGGGG":t=zt(Qt.Eras,ue.Narrow);break;case"y":t=xt(Kt.FullYear,1,0,!1,!0);break;case"yy":t=xt(Kt.FullYear,2,0,!0,!0);break;case"yyy":t=xt(Kt.FullYear,3,0,!1,!0);break;case"yyyy":t=xt(Kt.FullYear,4,0,!1,!0);break;case"Y":t=vr(1);break;case"YY":t=vr(2,!0);break;case"YYY":t=vr(3);break;case"YYYY":t=vr(4);break;case"M":case"L":t=xt(Kt.Month,1,1);break;case"MM":case"LL":t=xt(Kt.Month,2,1);break;case"MMM":t=zt(Qt.Months,ue.Abbreviated);break;case"MMMM":t=zt(Qt.Months,ue.Wide);break;case"MMMMM":t=zt(Qt.Months,ue.Narrow);break;case"LLL":t=zt(Qt.Months,ue.Abbreviated,he.Standalone);break;case"LLLL":t=zt(Qt.Months,ue.Wide,he.Standalone);break;case"LLLLL":t=zt(Qt.Months,ue.Narrow,he.Standalone);break;case"w":t=$n(1);break;case"ww":t=$n(2);break;case"W":t=$n(1,!0);break;case"d":t=xt(Kt.Date,1);break;case"dd":t=xt(Kt.Date,2);break;case"c":case"cc":t=xt(Kt.Day,1);break;case"ccc":t=zt(Qt.Days,ue.Abbreviated,he.Standalone);break;case"cccc":t=zt(Qt.Days,ue.Wide,he.Standalone);break;case"ccccc":t=zt(Qt.Days,ue.Narrow,he.Standalone);break;case"cccccc":t=zt(Qt.Days,ue.Short,he.Standalone);break;case"E":case"EE":case"EEE":t=zt(Qt.Days,ue.Abbreviated);break;case"EEEE":t=zt(Qt.Days,ue.Wide);break;case"EEEEE":t=zt(Qt.Days,ue.Narrow);break;case"EEEEEE":t=zt(Qt.Days,ue.Short);break;case"a":case"aa":case"aaa":t=zt(Qt.DayPeriods,ue.Abbreviated);break;case"aaaa":t=zt(Qt.DayPeriods,ue.Wide);break;case"aaaaa":t=zt(Qt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":t=zt(Qt.DayPeriods,ue.Abbreviated,he.Standalone,!0);break;case"bbbb":t=zt(Qt.DayPeriods,ue.Wide,he.Standalone,!0);break;case"bbbbb":t=zt(Qt.DayPeriods,ue.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":t=zt(Qt.DayPeriods,ue.Abbreviated,he.Format,!0);break;case"BBBB":t=zt(Qt.DayPeriods,ue.Wide,he.Format,!0);break;case"BBBBB":t=zt(Qt.DayPeriods,ue.Narrow,he.Format,!0);break;case"h":t=xt(Kt.Hours,1,-12);break;case"hh":t=xt(Kt.Hours,2,-12);break;case"H":t=xt(Kt.Hours,1);break;case"HH":t=xt(Kt.Hours,2);break;case"m":t=xt(Kt.Minutes,1);break;case"mm":t=xt(Kt.Minutes,2);break;case"s":t=xt(Kt.Seconds,1);break;case"ss":t=xt(Kt.Seconds,2);break;case"S":t=xt(Kt.FractionalSeconds,1);break;case"SS":t=xt(Kt.FractionalSeconds,2);break;case"SSS":t=xt(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ht(sn.Short);break;case"ZZZZZ":t=Ht(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ht(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ht(sn.Long);break;default:return null}return _i[n]=t,t}(S);x+=L?L(r,e,v):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),x}function Oe(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ce(n,t){const e=function ot(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Hi[e]=Hi[e]||{},Hi[e][t])return Hi[e][t];let i="";switch(t){case"shortDate":i=we(n,Ge.Short);break;case"mediumDate":i=we(n,Ge.Medium);break;case"longDate":i=we(n,Ge.Long);break;case"fullDate":i=we(n,Ge.Full);break;case"shortTime":i=qe(n,Ge.Short);break;case"mediumTime":i=qe(n,Ge.Medium);break;case"longTime":i=qe(n,Ge.Long);break;case"fullTime":i=qe(n,Ge.Full);break;case"short":const r=Ce(n,"shortTime"),s=Ce(n,"shortDate");i=Me(je(n,Ge.Short),[r,s]);break;case"medium":const l=Ce(n,"mediumTime"),m=Ce(n,"mediumDate");i=Me(je(n,Ge.Medium),[l,m]);break;case"long":const v=Ce(n,"longTime"),x=Ce(n,"longDate");i=Me(je(n,Ge.Long),[v,x]);break;case"full":const S=Ce(n,"fullTime"),L=Ce(n,"fullDate");i=Me(je(n,Ge.Full),[S,L])}return i&&(Hi[e][t]=i),i}function Me(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function $e(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let l=String(n);for(;l.length<t;)l="0"+l;return i&&(l=l.slice(l.length-t)),s+l}function xt(n,t,e=0,i=!1,r=!1){return function(s,l){let m=function gn(n,t){switch(n){case Kt.FullYear:return t.getFullYear();case Kt.Month:return t.getMonth();case Kt.Date:return t.getDate();case Kt.Hours:return t.getHours();case Kt.Minutes:return t.getMinutes();case Kt.Seconds:return t.getSeconds();case Kt.FractionalSeconds:return t.getMilliseconds();case Kt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||m>-e)&&(m+=e),n===Kt.Hours)0===m&&-12===e&&(m=12);else if(n===Kt.FractionalSeconds)return function Fe(n,t){return $e(n,3).substring(0,t)}(m,t);const v=ct(l,Le.MinusSign);return $e(m,t,v,i,r)}}function zt(n,t,e=he.Format,i=!1){return function(r,s){return function Xt(n,t,e,i,r,s){switch(e){case Qt.Months:return function un(n,t,e){const i=(0,o.cg1)(n),s=cn([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return cn(s,e)}(t,r,i)[n.getMonth()];case Qt.Days:return function nn(n,t,e){const i=(0,o.cg1)(n),s=cn([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return cn(s,e)}(t,r,i)[n.getDay()];case Qt.DayPeriods:const l=n.getHours(),m=n.getMinutes();if(s){const x=function tn(n){const t=(0,o.cg1)(n);return fn(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Un(i):[Un(i[0]),Un(i[1])])}(t),S=function Tn(n,t,e){const i=(0,o.cg1)(n);fn(i);const s=cn([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return cn(s,e)||[]}(t,r,i),L=x.findIndex(Z=>{if(Array.isArray(Z)){const[te,ae]=Z,ve=l>=te.hours&&m>=te.minutes,Be=l<ae.hours||l===ae.hours&&m<ae.minutes;if(te.hours<ae.hours){if(ve&&Be)return!0}else if(ve||Be)return!0}else if(Z.hours===l&&Z.minutes===m)return!0;return!1});if(-1!==L)return S[L]}return function Yt(n,t,e){const i=(0,o.cg1)(n),s=cn([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return cn(s,e)}(t,r,i)[l<12?0:1];case Qt.Eras:return function rn(n,t){return cn((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Ht(n){return function(t,e,i){const r=-1*i,s=ct(e,Le.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sn.Short:return(r>=0?"+":"")+$e(l,2,s)+$e(Math.abs(r%60),2,s);case sn.ShortGMT:return"GMT"+(r>=0?"+":"")+$e(l,1,s);case sn.Long:return"GMT"+(r>=0?"+":"")+$e(l,2,s)+":"+$e(Math.abs(r%60),2,s);case sn.Extended:return 0===i?"Z":(r>=0?"+":"")+$e(l,2,s)+":"+$e(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Oi=0,wi=4;function Li(n){return Oe(n.getFullYear(),n.getMonth(),n.getDate()+(wi-n.getDay()))}function $n(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,l=e.getDate();r=1+Math.floor((l+s)/7)}else{const s=Li(e),l=function Zn(n){const t=Oe(n,Oi,1).getDay();return Oe(n,0,1+(t<=wi?wi:wi+7)-t)}(s.getFullYear()),m=s.getTime()-l.getTime();r=1+Math.round(m/6048e5)}return $e(r,n,ct(i,Le.MinusSign))}}function vr(n,t=!1){return function(e,i){return $e(Li(e).getFullYear(),n,ct(i,Le.MinusSign),t)}}const _i={};function yr(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ne(n){return n instanceof Date&&!isNaN(n.valueOf())}const wo=/\s+/,Na=[];let Cr=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Na,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(wo):Na}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(wo):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(wo).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class os{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new os(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const m=i.get(s);i.move(m,l),ki(m,r)}});for(let r=0,s=i.length;r<s;r++){const m=i.get(r).context;m.index=r,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ki(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function ki(n,t){n.context.$implicit=t.item}let Hn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Sc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){cc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){cc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b),o.Y36(o.Rgc))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Sc{constructor(){this.$implicit=null,this.ngIf=null}}function cc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Wr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ps=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),Fa=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Wr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Ps,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),xu=(()=>{class n{constructor(e,i,r){r._addDefault(new Wr(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Ps,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),ho=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),l=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),ha=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]})}return n})();function jo(n,t){return new o.vHH(2100,!1)}class Mo{createSubscription(t,e){return(0,o.rg0)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,o.rg0)(()=>t.unsubscribe())}}class wr{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const lc=new wr,fa=new Mo;let Ui=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return lc;if((0,o.F4k)(e))return fa;throw jo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.sBO,16))};static#t=this.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Vi=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),xr=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let La=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return jt(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw jo()}}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.soG,16),o.Y36(Vi,24),o.Y36(xr,24))};static#t=this.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),vi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const ma="browser";function Er(n){return"server"===n}let ur=(()=>{class n{static#e=this.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Pr((0,o.LFG)(Ae),window)})}return n})();class Pr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ga(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ls extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zc extends ls{static makeCurrent(){!function pe(n){U||(U=n)}(new Zc)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ml(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}();return null==e?null:function So(n){To=To||document.createElement("a"),To.setAttribute("href",n);const t=To.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function jr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let To,Qs=null,$h=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Pu=new o.OlP("EventManagerPlugins");let Gh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Pu),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class Wl{constructor(t){this._doc=t}}const Yl="ng-app-id";let ad=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Er(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Yl}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Yl),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Yl,this.appId),l}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const As={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$c=/%COMP%/g,ks=new o.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ti(n,t){return t.map(e=>e.replace($c,n))}let _l=(()=>{class n{constructor(e,i,r,s,l,m,v,x=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=m,this.ngZone=v,this.nonce=x,this.rendererByCompId=new Map,this.platformIsServer=Er(m),this.defaultRenderer=new qa(e,l,v,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===o.ifc.ShadowDom&&(i={...i,encapsulation:o.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof ih?r.applyToHost(e):r instanceof Ki&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,m=this.ngZone,v=this.eventManager,x=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case o.ifc.Emulated:s=new ih(v,x,i,this.appId,S,l,m,L);break;case o.ifc.ShadowDom:return new vl(v,x,e,i,l,m,this.nonce,L);default:s=new Ki(v,x,i,S,l,m,L)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Gh),o.LFG(ad),o.LFG(o.AFp),o.LFG(ks),o.LFG(Ae),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class qa{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(As[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(nh(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(nh(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new o.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=As[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=As[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Y().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function nh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vl extends qa{constructor(t,e,i,r,s,l,m,v){super(t,s,l,v),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const x=Ti(r.id,r.styles);for(const S of x){const L=document.createElement("style");m&&L.setAttribute("nonce",m),L.textContent=S,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ki extends qa{constructor(t,e,i,r,s,l,m,v){super(t,s,l,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=v?Ti(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ih extends Ki{constructor(t,e,i,r,s,l,m,v){const x=r+"-"+i.id;super(t,e,i,s,l,m,v,x),this.contentAttr=function th(n){return"_ngcontent-%COMP%".replace($c,n)}(x),this.hostAttr=function Tu(n){return"_nghost-%COMP%".replace($c,n)}(x)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let rh=(()=>{class n extends Wl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Js=["alt","control","meta","shift"],yl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gc=(()=>{class n extends Wl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),l="code."),Js.forEach(x=>{const S=i.indexOf(x);S>-1&&(i.splice(S,1),l+=x+".")}),l+=s,0!=i.length||0===s.length)return null;const v={};return v.domEventName=r,v.fullKey=l,v}static matchEventFullKeyCode(e,i){let r=yl[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Js.forEach(l=>{l!==r&&(0,oh[l])(e)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const qr=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:ma},{provide:o.g9A,useValue:function On(){Zc.makeCurrent()},multi:!0},{provide:Ae,useFactory:function rp(){return(0,o.RDi)(document),document},deps:[]}]),Yh=new o.OlP(""),Wi=[{provide:o.rWj,useClass:class sd{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new o.vHH(5103,!1);return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const m=function(v){l=l||v,s--,0==s&&i(l)};r.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Y().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Rs=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Wc(){return new o.qLn},deps:[]},{provide:Pu,useClass:rh,multi:!0,deps:[Ae,o.R0b,o.Lbi]},{provide:Pu,useClass:Gc,multi:!0,deps:[Ae]},_l,ad,Gh,{provide:o.FYo,useExisting:_l},{provide:class Bi{},useClass:$h,deps:[]},[]];let Yc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Yh,12))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[...Rs,...Wi],imports:[vi,o.hGG]})}return n})(),pt=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function gc(){return new pt((0,o.LFG)(Ae))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let io=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):o.LFG(wa),r},providedIn:"root"})}return n})(),wa=(()=>{class n extends io{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new o.vHH(5200,!1);case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new o.vHH(5201,!1);default:throw new o.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Kh(n){return new wa(n.get(Ae))}(o.LFG(o.zs3)),r},providedIn:"root"})}return n})();function _c(n){return n instanceof o.Rgc}function vc(n){return"function"==typeof n}function yc(n){return"string"==typeof n}let Jl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,i){1&e&&o._UZ(0,"div",0),2&e&&o.Q6J("innerHTML",i.content,o.oJD)},encapsulation:2}),n})();class us{constructor(t){this.args=t,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const t=this.viewRef.rootNodes;return 1===t.length&&t[0]===Node.ELEMENT_NODE?this.element=t[0]:(this.element=document.createElement("div"),this.element.append(...t)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class xa{constructor(t){this.value=t}getElement(){return this.value}detectChanges(){}destroy(){}}class ar{constructor(t){if(this.options=t,t.vcr)this.compRef=t.vcr.createComponent(t.component,{index:t.vcr.length,injector:t.injector||t.vcr.injector});else{const e=t.resolver.resolveComponentFactory(t.component);this.compRef=e.create(t.injector),t.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(t,e){return this.compRef.instance[t]=e,this}setInputs(t){return Object.keys(t).forEach(e=>{this.compRef.instance[e]=t[e]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(t){return t.appendChild(this.getElement()),this}removeFrom(t){return t.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let Ma=(()=>{class n{constructor(e,i,r){this.resolver=e,this.injector=i,this.appRef=r}createComponent(e,i={}){return new ar({component:e,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(e,i={}){return new us({vcr:i.vcr,appRef:this.appRef,tpl:e,context:i.context})}createView(e,i={}){if(_c(e))return this.createTemplate(e,i);if(vc(e))return this.createComponent(e,i);if(yc(e))return new xa(e);throw"Type of content is not supported"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uh=(()=>{class n{constructor(e,i,r){this.defaultTpl=e,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(e){e.view&&!e.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),yc(this.view)?(this.viewRef=this.viewService.createComponent(Jl,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(Ma))},n.\u0275dir=o.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[o.TTD]}),n})(),bs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var Fn=Q(8645),cr=Q(5592),Ro=Q(4829);const{isArray:Xl}=Array;var li=Q(8251);function Cc(n){return new cr.y(t=>{(0,Ro.Xf)(n()).subscribe(t)})}var Tr=Q(9360);function Xi(n,t){return(0,Tr.e)((e,i)=>{let r=0;e.subscribe((0,li.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var nr=Q(9397);const ap=["*"],Fs=function(n,t){return{"border-color":n,"border-right-color":t}};function hd(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-error",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function Em(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-checkmark",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function fd(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-warning",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function pd(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-info",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function cp(n,t){if(1&n&&(o.TgZ(0,"div",4),o._uU(1,"\n    "),o.TgZ(2,"div",5),o._uU(3,"\n      "),o.YNc(4,hd,4,1,"div",6),o._uU(5,"\n      "),o.YNc(6,Em,4,1,"div",6),o._uU(7,"\n      "),o.YNc(8,fd,4,1,"div",6),o._uU(9,"\n      "),o.YNc(10,pd,4,1,"div",6),o._uU(11,"\n    "),o.qZA(),o._uU(12,"\n  "),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngSwitch",e.type),o.xp6(2),o.Q6J("ngSwitchCase","error"),o.xp6(2),o.Q6J("ngSwitchCase","success"),o.xp6(2),o.Q6J("ngSwitchCase","warning"),o.xp6(2),o.Q6J("ngSwitchCase","info")}}function md(n,t){if(1&n&&(o.TgZ(0,"div",1),o._uU(1,"\n  "),o._UZ(2,"hot-toast-loader",2),o._uU(3,"\n  "),o.YNc(4,cp,13,5,"div",3),o._uU(5,"\n"),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("theme",e.theme),o.xp6(2),o.Q6J("ngIf","loading"!==e.type)}}const eu=["hotToastBarBase"];function Qh(n,t){if(1&n&&(o.ynx(0),o._uU(1,"\n          "),o.TgZ(2,"hot-toast-animated-icon",10),o._uU(3),o.qZA(),o._uU(4,"\n        "),o.BQk()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("iconTheme",e.toast.iconTheme),o.xp6(1),o.Oqu(e.toast.icon)}}function dh(n,t){if(1&n&&(o._uU(0,"\n          "),o.TgZ(1,"div"),o._uU(2,"\n            "),o.GkF(3,11),o._uU(4,"\n          "),o.qZA(),o._uU(5,"\n        ")),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("dynamicView",e.toast.icon)}}function Kc(n,t){if(1&n&&(o.ynx(0),o._uU(1,"\n        "),o.YNc(2,Qh,5,2,"ng-container",4),o._uU(3,"\n        "),o.YNc(4,dh,6,1,"ng-template",null,9,o.W1O),o._uU(6,"\n      "),o.BQk()),2&n){const e=o.MAs(5),i=o.oxw();o.xp6(2),o.Q6J("ngIf",i.isIconString)("ngIfElse",e)}}function Qc(n,t){if(1&n&&(o._uU(0,"\n        "),o._UZ(1,"hot-toast-indicator",12),o._uU(2,"\n      ")),2&n){const e=o.oxw();o.xp6(1),o.Q6J("theme",e.toast.iconTheme)("type",e.toast.type)}}function gd(n,t){1&n&&o.GkF(0)}function wl(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",13),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.close())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("ngStyle",e.toast.closeStyle)}}function Ru(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"hot-toast",3),o.NdJ("height",function(r){const l=o.CHM(e).$implicit,m=o.oxw();return o.KtG(m.updateHeight(r,l))})("beforeClosed",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.beforeClosed(s))})("afterClosed",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.afterClosed(r))}),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.Q6J("toast",e)("offset",r.calculateOffset(e.id,e.position))("toastRef",r.toastRefs[i])}}const Cs={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class ef{constructor(t){this.toast=t,this._onClosed=new Fn.x}get data(){return this.toast.data}set dispose(t){this._dispose=t}getToast(){return this.toast}appendTo(t){const{dispose:e,updateMessage:i,updateToast:r,afterClosed:s}=t.addToast(this);return this.dispose=e,this.updateMessage=i,this.updateToast=r,this.afterClosed=function $a(...n){return 1===(n=function bc(n){return 1===n.length&&Xl(n[0])?n[0]:n}(n)).length?(0,Ro.Xf)(n[0]):new cr.y(function Zr(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Ro.Xf)(n[i]).subscribe((0,li.x)(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))}(this._onClosed.asObservable(),s),this}close(t={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:t.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let _d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:ap,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o._uU(1,"\n  "),o.Hsn(2),o._uU(3,"\n"),o.qZA(),o._uU(4,"\n")),2&e&&o.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),Xs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Q6J("ngStyle",o.WLB(1,Fs,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[ho],encapsulation:2,changeDetection:0}),n})(),nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),iu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,i){1&e&&(o.YNc(0,md,6,2,"div",0),o._uU(1,"\n")),2&e&&o.Q6J("ngIf","blank"!==i.type)},dependencies:[Hn,Ps,Fa,Xs,tu,Nu,nu,iu],encapsulation:2,changeDetection:0}),n})(),ru=(()=>{class n{constructor(e,i,r){this.injector=e,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new o.vpe,this.beforeClosed=new o.vpe,this.afterClosed=new o.vpe,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const e=this.toast.position.includes("top"),i=e?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(e?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const e=this.toast.position.includes("top"),i=`hotToastEnterAnimation${e?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${e?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(e){e.toast&&!e.toast.firstChange&&e.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){_c(this.toast.message)&&(this.context={$implicit:this.toastRef}),vc(this.toast.message)&&(this.toastComponentInjector=o.zs3.create({providers:[{provide:ef,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const e=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(e.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(e,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(e,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,t)=>{this.toastBarBase.nativeElement.style.animation=t})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(e){return e.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const e=this.toast.attributes;for(const[i,r]of Object.entries(e))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o.Qsj),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(e,i){if(1&e&&o.Gf(eu,5),2&e){let r;o.iGM(r=o.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},features:[o.TTD],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o._uU(1,"\n  "),o.TgZ(2,"div",1,2),o._uU(4,"\n    "),o.TgZ(5,"div",3),o._uU(6,"\n      "),o.YNc(7,Kc,7,2,"ng-container",4),o._uU(8,"\n\n      "),o.YNc(9,Qc,3,2,"ng-template",null,5,o.W1O),o._uU(11,"\n    "),o.qZA(),o._uU(12,"\n\n    "),o.TgZ(13,"div",6),o._uU(14,"\n      "),o.TgZ(15,"div"),o._uU(16,"\n        "),o.YNc(17,gd,1,0,"ng-container",7),o._uU(18,"\n      "),o.qZA(),o._uU(19,"\n    "),o.qZA(),o._uU(20,"\n\n    "),o.YNc(21,wl,1,1,"button",8),o._uU(22,"\n  "),o.qZA(),o._uU(23,"\n"),o.qZA(),o._uU(24,"\n")),2&e){const r=o.MAs(10);o.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),o.xp6(2),o.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),o.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),o.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),o.xp6(5),o.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),o.xp6(10),o.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),o.xp6(4),o.Q6J("ngIf",i.toast.dismissible)}},dependencies:[Cr,Hn,ho,uh,_d,vd],encapsulation:2,changeDetection:0}),n})(),ou=(()=>{class n{constructor(e){this.cdr=e,this.toasts=[],this.toastRefs=[],this._onClosed=new Fn.x,this.onClosed$=this._onClosed.asObservable()}trackById(e,i){return i.id}calculateOffset(e,i){const r=this.toasts.filter(m=>m.visible&&m.position===i),s=r.findIndex(m=>m.id===e);return-1!==s?r.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((m,v)=>m+(v.height||0)+8,0):0}updateHeight(e,i){i.height=e,this.cdr.detectChanges()}addToast(e){this.toastRefs.push(e);const i=e.getToast();return this.toasts.push(e.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.updateToasts(i),this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(e){if(e){const i=this.hotToastComponentList.find(r=>r.toast.id===e);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(e){e.visible=!1}afterClosed(e){this.toasts.findIndex(r=>r.id===e.id)>-1&&(this._onClosed.next(e),this.toasts=this.toasts.filter(r=>r.id!==e.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==e.id),this.cdr.detectChanges())}hasToast(e){return this.toasts.findIndex(i=>i.id===e)>-1}getAfterClosed(e){return this.onClosed$.pipe(Xi(i=>i.id===e.id))}updateToasts(e,i){this.toasts=this.toasts.map(r=>({...r,...r.id===e.id&&{...e,...i}}))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(ru,5),2&e){let r;o.iGM(r=o.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1,"\n  "),o.TgZ(2,"div",1),o._uU(3,"\n    "),o.YNc(4,Ru,1,3,"hot-toast",2),o._uU(5,"\n  "),o.qZA(),o._uU(6,"\n"),o.qZA(),o._uU(7,"\n")),2&e&&(o.xp6(4),o.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[Mn,ru],encapsulation:2,changeDetection:0}),n})();class ea{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class yd{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Ga=(()=>{class n{constructor(e,i,r){this._viewService=e,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new ea,this._defaultPersistConfig=new yd,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(e){this._defaultConfig={...this._defaultConfig,...e},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(e,i){return this.createToast(e||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(e,i){return this.createToast(e||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(e,i){return this.createToast(e||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(e,i){return this.createToast(e||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(e,i){return this.createToast(e||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(e,i){return this.createToast(e||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...i})}observe(e){return i=>{let r,s=0;const l=e.loading??this._defaultConfig.loading?.content,m=e.success??this._defaultConfig.success?.content,v=e.error??this._defaultConfig.error?.content;return Cc(()=>(l&&(r=this.createLoadingToast(l),s=Date.now()),i.pipe((0,nr.b)({...m&&{next:x=>{r=this.createOrUpdateToast(e,x,r,"success",0===s?s:Date.now()-s)}},...v&&{error:x=>{r=this.createOrUpdateToast(e,x,r,"error",0===s?s:Date.now()-s)}}}))))}}close(e){this._componentRef&&this._componentRef.ref.instance.closeToast(e)}init(){Er(this.platformId)||(this._componentRef=this._viewService.createComponent(ou).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(e,i,r,s,l){let m=null,v={};if(({content:m,options:v}=this.getContentAndOptions(s,e[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),m=((n,t)=>(n=>"function"==typeof n)(n)?n(t):n)(m,i),r){r.updateMessage(m);const x={type:s,duration:l+Cs[s],...v,...v.duration&&{duration:l+v.duration}};r.updateToast(x)}else this.createToast(m,s,v);return r}createToast(e,i,r,s){this._isInitialized||(this._isInitialized=!0,this.init());const l=Date.now(),m=r?.id??l.toString();if(!this.isDuplicate(m)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(m,r))){const v={ariaLive:r?.ariaLive??"polite",createdAt:l,duration:r?.duration??Cs[i],id:m,message:e,role:r?.role??"status",type:i,visible:!0,observableMessages:s??void 0,...r};return new ef(v).appendTo(this._componentRef.ref.instance)}}isDuplicate(e){return this._componentRef.ref.instance.hasToast(e)}handleStorageValue(e,i){let r=1;const s={...this._defaultPersistConfig,...i.persist},l="local"===s.storage?localStorage:sessionStorage,m=s.key.replace(/\${id}/g,e);let v=l.getItem(m);return v?(v=parseInt(v,10),r=v>0?v-1:v):r=s.count,l.setItem(m,r.toString()),r}getContentAndOptions(e,i){let r,s={...this._defaultConfig,...this._defaultConfig[e]};if("string"==typeof i||_c(i)||vc(i))r=i;else{let l;({content:r,...l}=i),s={...s,...l}}return{content:r,options:s}}createLoadingToast(e){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",e)),this.loading(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ma),o.LFG(o.Lbi),o.LFG(ea,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fh=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:ea,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[vi,bs]}),n})();class ph{}class xl{}const ds="*";function Qo(n,t){return{type:7,name:n,definitions:t,options:{}}}function si(n,t=null){return{type:4,styles:t,timings:n}}function wc(n,t=null){return{type:3,steps:n,options:t}}function bd(n,t=null){return{type:2,steps:n,options:t}}function Vn(n){return{type:6,styles:n,offset:null}}function No(n,t,e){return{type:0,name:n,styles:t,options:e}}function up(n){return{type:5,steps:n}}function pr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ea(n=null){return{type:9,options:n}}function D(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class H{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class oe{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,m)=>Math.max(l,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function rt(n){return new o.vHH(3e3,!1)}function Nt(n){switch(n.length){case 0:return new H;case 1:return n[0];default:return new oe(n)}}function pn(n,t,e=new Map,i=new Map){const r=[],s=[];let l=-1,m=null;if(t.forEach(v=>{const x=v.get("offset"),S=x==l,L=S&&m||new Map;v.forEach((Z,te)=>{let ae=te,ve=Z;if("offset"!==te)switch(ae=n.normalizePropertyName(ae,r),ve){case"!":ve=e.get(te);break;case ds:ve=i.get(te);break;default:ve=n.normalizeStyleValue(te,ae,ve,r)}L.set(ae,ve)}),S||s.push(L),m=L,l=x}),r.length)throw function d_(n){return new o.vHH(3502,!1)}();return s}function Yn(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ro(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ro(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ro(e,"destroy",n)))}}function ro(n,t,e){const s=Oa(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function Oa(n,t,e,i,r="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function oo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function hp(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const rf=(()=>typeof document>"u"?null:document.documentElement)();function Xc(n){const t=n.parentNode||n.host||null;return t===rf?null:t}let Ol=null,sf=!1;function au(n,t){for(;t;){if(t===n)return!0;t=Xc(t)}return!1}function gh(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let _h=(()=>{class n{validateStyleProperty(e){return function mh(n){Ol||(Ol=function Pm(){return typeof document<"u"?document.body:null}()||{},sf=!!Ol.style&&"WebkitAppearance"in Ol.style);let t=!0;return Ol.style&&!function Lu(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ol.style,!t&&sf&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ol.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return au(e,i)}getParentElement(e){return Xc(e)}query(e,i,r){return gh(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,l,m=[],v){return new H(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),Md=(()=>{class n{static#e=this.NOOP=new _h}return n})();const p_=1e3,Im="ng-enter",m_="ng-leave",Tm="ng-trigger",Ed=".ng-trigger",pp="ng-animating",g_=".ng-animating";function Uu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vh(parseFloat(t[1]),t[2])}function vh(n,t){return"s"===t?n*p_:n}function Sm(n,t,e){return n.hasOwnProperty("duration")?n:function SC(n,t,e){let r,s=0,l="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(rt()),{duration:0,delay:0,easing:""};r=vh(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(s=vh(parseFloat(v),m[4]));const x=m[5];x&&(l=x)}else r=n;if(!e){let m=!1,v=t.length;r<0&&(t.push(function Bt(){return new o.vHH(3100,!1)}()),m=!0),s<0&&(t.push(function Ft(){return new o.vHH(3101,!1)}()),m=!0),m&&t.splice(v,0,rt())}return{duration:r,delay:s,easing:l}}(n,t,e)}function Pl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Uy(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Il(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function xc(n,t,e){t.forEach((i,r)=>{const s=bh(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Vu(n,t){t.forEach((e,i)=>{const r=bh(i);n.style[r]=""})}function yh(n){return Array.isArray(n)?1==n.length?n[0]:bd(n):n}const Bu=new RegExp("{{\\s*(.+?)\\s*}}","g");function lf(n){let t=[];if("string"==typeof n){let e;for(;e=Bu.exec(n);)t.push(e[1]);Bu.lastIndex=0}return t}function Od(n,t,e){const i=n.toString(),r=i.replace(Bu,(s,l)=>{let m=t[l];return null==m&&(e.push(function Bn(n){return new o.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function cu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const uf=/-+([a-z0-9])/g;function bh(n){return n.replace(uf,(...t)=>t[1].toUpperCase())}function na(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Sn(n){return new o.vHH(3004,!1)}()}}function Am(n,t){return window.getComputedStyle(n)[t]}const y="*";function M(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function P(n,t,e){if(":"==n[0]){const v=function R(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ly(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Om(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],l=i[3];t.push(re(r,l));"<"==s[0]&&!(r==y&&l==y)&&t.push(re(l,r))}(i,e,t)):e.push(n),e}const V=new Set(["true","1"]),W=new Set(["false","0"]);function re(n,t){const e=V.has(n)||W.has(n),i=V.has(t)||W.has(t);return(r,s)=>{let l=n==y||n==r,m=t==y||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?V.has(n):W.has(n)),!m&&i&&"boolean"==typeof s&&(m=s?V.has(t):W.has(t)),l&&m}}const _e=new RegExp("s*:selfs*,?","g");function ke(n,t,e,i){return new ht(n).build(t,e,i)}class ht{constructor(t){this._driver=t}build(t,e,i){const r=new kn(e);return this._resetContextStyleTimingState(r),na(this,yh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function Fo(){return new o.vHH(3006,!1)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const v=m,x=v.name;x.toString().split(/\s*,\s*/).forEach(S=>{v.name=S,s.push(this.visitState(v,e))}),v.name=x}else if(1==m.type){const v=this.visitTransition(m,e);i+=v.queryCount,r+=v.depCount,l.push(v)}else e.errors.push(function er(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(v=>{lf(v).forEach(x=>{l.hasOwnProperty(x)||s.add(x)})})}),s.size&&(cu(s.values()),e.errors.push(function Fu(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=na(this,yh(t.animation),e);return{type:1,matchers:M(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Mi(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>na(this,i,e)),options:Mi(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=i;const m=na(this,l,e);return r=Math.max(r,e.currentTime),m});return e.currentTime=r,{type:3,steps:s,options:Mi(t.options)}}visitAnimate(t,e){const i=function bi(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mr(Sm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=mr(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Sm(e,t);return mr(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Vn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,m=!1;if(!l){m=!0;const x={};i.easing&&(x.easing=i.easing),l=Vn(x)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(l,e);v.isEmptyStep=m,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let m of r)"string"==typeof m?m===ds?i.push(m):e.errors.push(new o.vHH(3002,!1)):i.push(Uy(m));let s=!1,l=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(l=m.get("easing"),m.delete("easing")),!s))for(let v of m.values())if(v.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((m,v)=>{const x=e.collectedStyles.get(e.currentQuerySelector),S=x.get(v);let L=!0;S&&(s!=r&&s>=S.startTime&&r<=S.endTime&&(e.errors.push(function Vr(n,t,e,i,r){return new o.vHH(3010,!1)}()),L=!1),s=S.startTime),L&&x.set(v,{startTime:s,endTime:r}),e.options&&function __(n,t,e){const i=t.params||{},r=lf(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function hn(n){return new o.vHH(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function El(){return new o.vHH(3011,!1)}()),i;let s=0;const l=[];let m=!1,v=!1,x=0;const S=t.steps.map(vt=>{const Dt=this._makeStyleAst(vt,e);let St=null!=Dt.offset?Dt.offset:function ei(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Dt.styles),Lt=0;return null!=St&&(s++,Lt=Dt.offset=St),v=v||Lt<0||Lt>1,m=m||Lt<x,x=Lt,l.push(Lt),Dt});v&&e.errors.push(function l_(){return new o.vHH(3012,!1)}()),m&&e.errors.push(function Cd(){return new o.vHH(3200,!1)}());const L=t.steps.length;let Z=0;s>0&&s<L?e.errors.push(function wd(){return new o.vHH(3202,!1)}()):0==s&&(Z=1/(L-1));const te=L-1,ae=e.currentTime,ve=e.currentAnimateTimings,Be=ve.duration;return S.forEach((vt,Dt)=>{const St=Z>0?Dt==te?1:Z*Dt:l[Dt],Lt=St*Be;e.currentTime=ae+ve.delay+Lt,ve.duration=Lt,this._validateStyleAst(vt,e),vt.offset=St,i.styles.push(vt)}),i}visitReference(t,e){return{type:8,animation:na(this,yh(t.animation),e),options:Mi(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Mi(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Mi(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function an(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_e,"")),n=n.replace(/@\*/g,Ed).replace(/@\w+/g,e=>Ed+"-"+e.slice(1)).replace(/:animating/g,g_),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,oo(e.collectedStyles,e.currentQuerySelector,new Map);const m=na(this,yh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:m,originalSelector:t.selector,options:Mi(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function tf(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Sm(t.timings,e.errors,!0);return{type:12,animation:na(this,yh(t.animation),e),timings:i,options:null}}}class kn{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mi(n){return n?(n=Pl(n)).params&&(n.params=function Jt(n){return n?Pl(n):null}(n.params)):n={},n}function mr(n,t,e){return{duration:n,delay:t,easing:e}}function ia(n,t,e,i,r,s,l=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:m}}class el{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const hf=new RegExp(":enter","g"),Pd=new RegExp(":leave","g");function Id(n,t,e,i,r,s=new Map,l=new Map,m,v,x=[]){return(new Vy).buildKeyframes(n,t,e,i,r,s,l,m,v,x)}class Vy{buildKeyframes(t,e,i,r,s,l,m,v,x,S=[]){x=x||new el;const L=new Mc(t,e,x,r,s,S,[]);L.options=v;const Z=v.delay?Uu(v.delay):0;L.currentTimeline.delayNextStep(Z),L.currentTimeline.setStyles([l],null,L.errors,v),na(this,i,L);const te=L.timelines.filter(ae=>ae.containsAnimation());if(te.length&&m.size){let ae;for(let ve=te.length-1;ve>=0;ve--){const Be=te[ve];if(Be.element===e){ae=Be;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([m],null,L.errors,v)}return te.length?te.map(ae=>ae.buildKeyframes()):[ia(e,[],[],[],0,Z,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const l="number"==typeof s?s:Uu(Od(s,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const l=null!=i.duration?Uu(i.duration):null,m=null!=i.delay?Uu(i.delay):null;return 0!==l&&t.forEach(v=>{const x=e.appendInstructionToTimeline(v,l,m);s=Math.max(s,x.duration+x.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),na(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ra);const l=Uu(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>na(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Uu(t.options.delay):0;t.steps.forEach(l=>{const m=e.createSubContext(t.options);s&&m.delayNextStep(s),na(this,l,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Sm(e.params?Od(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,t.styles.forEach(v=>{m.forwardTime((v.offset||0)*s),m.setStyles(v.styles,v.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Uu(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ra);let l=i;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=m.length;let v=null;m.forEach((x,S)=>{e.currentQueryIndex=S;const L=e.createSubContext(t.options,x);s&&L.delayNextStep(s),x===e.element&&(v=L.currentTimeline),na(this,t.animation,L),L.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,L.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),m=l*(e.currentQueryTotal-1);let v=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const S=e.currentTimeline;v&&S.delayNextStep(v);const L=S.currentTime;na(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-L+(r.startTime-i.currentTimeline.startTime)}}const ra={};class Mc{constructor(t,e,i,r,s,l,m,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ra,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new By(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Uu(i.duration)),null!=i.delay&&(r.delay=Uu(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!l.hasOwnProperty(m))&&(l[m]=Od(s[m],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Mc(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=ra,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new WD(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,l){let m=[];if(r&&m.push(this.element),t.length>0){t=(t=t.replace(hf,"."+this._enterClassName)).replace(Pd,"."+this._leaveClassName);let x=this._driver.query(this.element,t,1!=i);0!==i&&(x=i<0?x.slice(x.length+i,x.length):x.slice(0,i)),m.push(...x)}return!s&&0==m.length&&l.push(function u_(n){return new o.vHH(3014,!1)}()),m}}class By{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new By(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ds),this._currentKeyframe.set(e,ds);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},l=function YD(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,ds)}else Il(r,e)}),e}(t,this._globalTimelineStyles);for(let[m,v]of l){const x=Od(v,s,i);this._pendingStyles.set(m,x),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??ds),this._updateStyle(m,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,v)=>{const x=Il(m,new Map,this._backFill);x.forEach((S,L)=>{"!"===S?t.add(L):S===ds&&e.add(L)}),i||x.set("offset",v/this.duration),r.push(x)});const s=t.size?cu(t.values()):[],l=e.size?cu(e.values()):[];if(i){const m=r[0],v=new Map(m);m.set("offset",0),v.set("offset",1),r=[m,v]}return ia(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class WD extends By{constructor(t,e,i,r,s,l,m=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=i+e,m=e/l,v=Il(t[0]);v.set("offset",0),s.push(v);const x=Il(t[0]);x.set("offset",RE(m)),s.push(x);const S=t.length-1;for(let L=1;L<=S;L++){let Z=Il(t[L]);const te=Z.get("offset");Z.set("offset",RE((e+te*i)/l)),s.push(Z)}i=l,e=0,r="",t=s}return ia(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function RE(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class RC{}const zy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class NC extends RC{normalizePropertyName(t,e){return bh(t)}normalizeStyleValue(t,e,i,r){let s="";const l=i.toString().trim();if(zy.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function ws(n,t){return new o.vHH(3005,!1)}())}return l+s}}function jy(n,t,e,i,r,s,l,m,v,x,S,L,Z){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:l,timelines:m,queriedElements:v,preStyleProps:x,postStyleProps:S,totalTime:L,errors:Z}}const FC={};class NE{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function LE(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,l,m,v,x,S){const L=[],Z=this.ast.options&&this.ast.options.params||FC,ae=this.buildStyles(i,m&&m.params||FC,L),ve=v&&v.params||FC,Be=this.buildStyles(r,ve,L),vt=new Set,Dt=new Map,St=new Map,Lt="void"===r,Dn={params:gp(ve,Z),delay:this.ast.options?.delay},Rn=S?[]:Id(t,e,this.ast.animation,s,l,ae,Be,Dn,x,L);let ji=0;if(Rn.forEach(ll=>{ji=Math.max(ll.duration+ll.delay,ji)}),L.length)return jy(e,this._triggerName,i,r,Lt,ae,Be,[],[],Dt,St,ji,L);Rn.forEach(ll=>{const xm=ll.element,GH=oo(Dt,xm,new Set);ll.preStyleProps.forEach(Ny=>GH.add(Ny));const AE=oo(St,xm,new Set);ll.postStyleProps.forEach(Ny=>AE.add(Ny)),xm!==e&&vt.add(xm)});const is=cu(vt.values());return jy(e,this._triggerName,i,r,Lt,ae,Be,Rn,is,Dt,St,ji)}}function gp(n,t){const e=Pl(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class UE{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Pl(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,m)=>{l&&(l=Od(l,r,e));const v=this.normalizer.normalizePropertyName(m,e);l=this.normalizer.normalizeStyleValue(m,v,l,e),i.set(m,l)})}),i}}class QD{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new UE(r.style,r.options&&r.options.params||{},i))}),v_(this.states,"true","1"),v_(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new NE(t,r,this.states))}),this.fallbackTransition=function e3(n,t,e){return new NE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function v_(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const JD=new el;class BE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=ke(this._driver,e,i,[]);if(i.length)throw function xd(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=pn(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let l;const m=new Map;if(s?(l=Id(this._driver,e,s,Im,m_,new Map,new Map,i,JD,r),l.forEach(S=>{const L=oo(m,S.element,new Map);S.postStyleProps.forEach(Z=>L.set(Z,null))})):(r.push(function h_(){return new o.vHH(3300,!1)}()),l=[]),r.length)throw function nf(n){return new o.vHH(3504,!1)}();m.forEach((S,L)=>{S.forEach((Z,te)=>{S.set(te,this._driver.computeStyle(L,te,ds))})});const x=Nt(l.map(S=>{const L=m.get(S.element);return this._buildPlayer(S,new Map,L)}));return this._playersById.set(t,x),x.onDestroy(()=>this.destroy(t)),this.players.push(x),x}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function T(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=Oa(e,"","","");return Yn(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const LC="ng-animate-queued",y_="ng-animate-disabled",HE=[],qy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lu="__ng_removed";class C_{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function ZE(n){return n??null}(i?t.value:t),i){const s=Pl(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const wh="void",UC=new C_(wh);class qE{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,uu(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function C(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function E(n){return new o.vHH(3303,!1)}();if(!function $y(n){return"start"==n||"done"==n}(i))throw function A(n,t){return new o.vHH(3400,!1)}();const s=oo(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};s.push(l);const m=oo(this._engine.statesByElement,t,new Map);return m.has(e)||(uu(t,Tm),uu(t,Tm+"-"+e),m.set(e,UC)),()=>{this._engine.afterFlush(()=>{const v=s.indexOf(l);v>=0&&s.splice(v,1),this._triggers.has(e)||m.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function q(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),l=new VC(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(uu(t,Tm),uu(t,Tm+"-"+e),this._engine.statesByElement.set(t,m=new Map));let v=m.get(e);const x=new C_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&x.absorbOptions(v.options),m.set(e,x),v||(v=UC),x.value!==wh&&v.value===x.value){if(!function km(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(v.params,x.params)){const ve=[],Be=s.matchStyles(v.value,v.params,ve),vt=s.matchStyles(x.value,x.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{Vu(t,Be),xc(t,vt)})}return}const Z=oo(this._engine.playersByElement,t,[]);Z.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==e&&ve.queued&&ve.destroy()});let te=s.matchTransition(v.value,x.value,t,x.params),ae=!1;if(!te){if(!r)return;te=s.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:te,fromState:v,toState:x,player:l,isFallbackTransition:ae}),ae||(uu(t,LC),l.onStart(()=>{x_(t,LC)})),l.onDone(()=>{let ve=this.players.indexOf(l);ve>=0&&this.players.splice(ve,1);const Be=this._engine.playersByElement.get(t);if(Be){let vt=Be.indexOf(l);vt>=0&&Be.splice(vt,1)}}),this.players.push(l),Z.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ed,!0);i.forEach(r=>{if(r[lu])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),l=new Map;if(s){const m=[];if(s.forEach((v,x)=>{if(l.set(x,v.value),this._triggers.has(x)){const S=this.trigger(t,x,wh,r);S&&m.push(S)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&Nt(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const v=this._triggers.get(l).fallbackTransition,x=i.get(l)||UC,S=new C_(wh),L=new VC(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:v,fromState:x,toState:S,player:L,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[lu];(!s||s===qy)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){uu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(m=>{if(m.name==i.triggerName){const v=Oa(s,i.triggerName,i.fromState.value,i.toState.value);v._data=t,Yn(i.player,m.phase,v,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class XD{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new qE(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,m=this.driver.getParentElement(e);for(;m;){const v=r.get(m);if(v){const x=i.indexOf(v);i.splice(x+1,0,t),l=!0;break}m=this.driver.getParentElement(m)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(w_(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!w_(e))return;const s=e[lu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),uu(t,y_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),x_(t,y_))}removeNode(t,e,i){if(w_(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[lu]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return w_(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Ed,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,g_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[lu];if(e&&e.setForRemoval){if(t[lu]=qy,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(y_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)uu(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Nt(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function J(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new el,r=[],s=new Map,l=[],m=new Map,v=new Map,x=new Map,S=new Set;this.disabledNodes.forEach(wn=>{S.add(wn);const jn=this.driver.query(wn,".ng-animate-queued",!0);for(let Xn=0;Xn<jn.length;Xn++)S.add(jn[Xn])});const L=this.bodyNode,Z=Array.from(this.statesByElement.keys()),te=$E(Z,this.collectedEnterElements),ae=new Map;let ve=0;te.forEach((wn,jn)=>{const Xn=Im+ve++;ae.set(jn,Xn),wn.forEach(rr=>uu(rr,Xn))});const Be=[],vt=new Set,Dt=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const jn=this.collectedLeaveElements[wn],Xn=jn[lu];Xn&&Xn.setForRemoval&&(Be.push(jn),vt.add(jn),Xn.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(rr=>vt.add(rr)):Dt.add(jn))}const St=new Map,Lt=$E(Z,Array.from(vt));Lt.forEach((wn,jn)=>{const Xn=m_+ve++;St.set(jn,Xn),wn.forEach(rr=>uu(rr,Xn))}),t.push(()=>{te.forEach((wn,jn)=>{const Xn=ae.get(jn);wn.forEach(rr=>x_(rr,Xn))}),Lt.forEach((wn,jn)=>{const Xn=St.get(jn);wn.forEach(rr=>x_(rr,Xn))}),Be.forEach(wn=>{this.processLeaveNode(wn)})});const Dn=[],Rn=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(e).forEach(Xn=>{const rr=Xn.player,ac=Xn.element;if(Dn.push(rr),this.collectedEnterElements.length){const ul=ac[lu];if(ul&&ul.setForMove){if(ul.previousTriggersValues&&ul.previousTriggersValues.has(Xn.triggerName)){const Fy=ul.previousTriggersValues.get(Xn.triggerName),Xd=this.statesByElement.get(Xn.element);if(Xd&&Xd.has(Xn.triggerName)){const GD=Xd.get(Xn.triggerName);GD.value=Fy,Xd.set(Xn.triggerName,GD)}}return void rr.destroy()}}const np=!L||!this.driver.containsElement(L,ac),rd=St.get(ac),a_=ae.get(ac),_s=this._buildInstruction(Xn,i,a_,rd,np);if(_s.errors&&_s.errors.length)return void Rn.push(_s);if(np)return rr.onStart(()=>Vu(ac,_s.fromStyles)),rr.onDestroy(()=>xc(ac,_s.toStyles)),void r.push(rr);if(Xn.isFallbackTransition)return rr.onStart(()=>Vu(ac,_s.fromStyles)),rr.onDestroy(()=>xc(ac,_s.toStyles)),void r.push(rr);const KH=[];_s.timelines.forEach(ul=>{ul.stretchStartingKeyframe=!0,this.disabledNodes.has(ul.element)||KH.push(ul)}),_s.timelines=KH,i.append(ac,_s.timelines),l.push({instruction:_s,player:rr,element:ac}),_s.queriedElements.forEach(ul=>oo(m,ul,[]).push(rr)),_s.preStyleProps.forEach((ul,Fy)=>{if(ul.size){let Xd=v.get(Fy);Xd||v.set(Fy,Xd=new Set),ul.forEach((GD,QL)=>Xd.add(QL))}}),_s.postStyleProps.forEach((ul,Fy)=>{let Xd=x.get(Fy);Xd||x.set(Fy,Xd=new Set),ul.forEach((GD,QL)=>Xd.add(QL))})});if(Rn.length){const wn=[];Rn.forEach(jn=>{wn.push(function Xe(n,t){return new o.vHH(3505,!1)}())}),Dn.forEach(jn=>jn.destroy()),this.reportError(wn)}const ji=new Map,is=new Map;l.forEach(wn=>{const jn=wn.element;i.has(jn)&&(is.set(jn,jn),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,ji))}),r.forEach(wn=>{const jn=wn.element;this._getPreviousPlayers(jn,!1,wn.namespaceId,wn.triggerName,null).forEach(rr=>{oo(ji,jn,[]).push(rr),rr.destroy()})});const ll=Be.filter(wn=>M_(wn,v,x)),xm=new Map;_p(xm,this.driver,Dt,x,ds).forEach(wn=>{M_(wn,v,x)&&ll.push(wn)});const AE=new Map;te.forEach((wn,jn)=>{_p(AE,this.driver,new Set(wn),v,"!")}),ll.forEach(wn=>{const jn=xm.get(wn),Xn=AE.get(wn);xm.set(wn,new Map([...jn?.entries()??[],...Xn?.entries()??[]]))});const Ny=[],WH=[],YH={};l.forEach(wn=>{const{element:jn,player:Xn,instruction:rr}=wn;if(i.has(jn)){if(S.has(jn))return Xn.onDestroy(()=>xc(jn,rr.toStyles)),Xn.disabled=!0,Xn.overrideTotalTime(rr.totalTime),void r.push(Xn);let ac=YH;if(is.size>1){let rd=jn;const a_=[];for(;rd=rd.parentNode;){const _s=is.get(rd);if(_s){ac=_s;break}a_.push(rd)}a_.forEach(_s=>is.set(_s,ac))}const np=this._buildAnimation(Xn.namespaceId,rr,ji,s,AE,xm);if(Xn.setRealPlayer(np),ac===YH)Ny.push(Xn);else{const rd=this.playersByElement.get(ac);rd&&rd.length&&(Xn.parentPlayer=Nt(rd)),r.push(Xn)}}else Vu(jn,rr.fromStyles),Xn.onDestroy(()=>xc(jn,rr.toStyles)),WH.push(Xn),S.has(jn)&&r.push(Xn)}),WH.forEach(wn=>{const jn=s.get(wn.element);if(jn&&jn.length){const Xn=Nt(jn);wn.setRealPlayer(Xn)}}),r.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<Be.length;wn++){const jn=Be[wn],Xn=jn[lu];if(x_(jn,m_),Xn&&Xn.hasAnimation)continue;let rr=[];if(m.size){let np=m.get(jn);np&&np.length&&rr.push(...np);let rd=this.driver.query(jn,g_,!0);for(let a_=0;a_<rd.length;a_++){let _s=m.get(rd[a_]);_s&&_s.length&&rr.push(..._s)}}const ac=rr.filter(np=>!np.destroyed);ac.length?tA(this,jn,ac):this.processLeaveNode(jn)}return Be.length=0,Ny.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const jn=this.players.indexOf(wn);this.players.splice(jn,1)}),wn.play()}),Ny}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let l=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(l=m)}else{const m=this.playersByElement.get(t);if(m){const v=!s||s==wh;m.forEach(x=>{x.queued||!v&&x.triggerName!=r||l.push(x)})}}return(i||r)&&(l=l.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),l}_beforeAnimationBuild(t,e,i){const s=e.element,l=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const x=v.element,S=x!==s,L=oo(i,x,[]);this._getPreviousPlayers(x,S,l,m,e.toState).forEach(te=>{const ae=te.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),te.destroy(),L.push(te)})}Vu(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,l){const m=e.triggerName,v=e.element,x=[],S=new Set,L=new Set,Z=e.timelines.map(ae=>{const ve=ae.element;S.add(ve);const Be=ve[lu];if(Be&&Be.removedBeforeQueried)return new H(ae.duration,ae.delay);const vt=ve!==v,Dt=function BC(n){const t=[];return GE(n,t),t}((i.get(ve)||HE).map(ji=>ji.getRealPlayer())).filter(ji=>!!ji.element&&ji.element===ve),St=s.get(ve),Lt=l.get(ve),Dn=pn(this._normalizer,ae.keyframes,St,Lt),Rn=this._buildPlayer(ae,Dn,Dt);if(ae.subTimeline&&r&&L.add(ve),vt){const ji=new VC(t,m,ve);ji.setRealPlayer(Rn),x.push(ji)}return Rn});x.forEach(ae=>{oo(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function eA(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,ae.element,ae))}),S.forEach(ae=>uu(ae,pp));const te=Nt(Z);return te.onDestroy(()=>{S.forEach(ae=>x_(ae,pp)),xc(v,e.toStyles)}),L.forEach(ae=>{oo(r,ae,[]).push(te)}),te}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new H(t.duration,t.delay)}}class VC{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new H,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Yn(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){oo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function w_(n){return n&&1===n.nodeType}function Gy(n,t){const e=n.style.display;return n.style.display=t??"none",e}function _p(n,t,e,i,r){const s=[];e.forEach(v=>s.push(Gy(v)));const l=[];i.forEach((v,x)=>{const S=new Map;v.forEach(L=>{const Z=t.computeStyle(x,L,r);S.set(L,Z),(!Z||0==Z.length)&&(x[lu]=Zy,l.push(x))}),n.set(x,S)});let m=0;return e.forEach(v=>Gy(v,s[m++])),l}function $E(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(m){if(!m)return 1;let v=s.get(m);if(v)return v;const x=m.parentNode;return v=e.has(x)?x:r.has(x)?1:l(x),s.set(m,v),v}return t.forEach(m=>{const v=l(m);1!==v&&e.get(v).push(m)}),e}function uu(n,t){n.classList?.add(t)}function x_(n,t){n.classList?.remove(t)}function tA(n,t,e){Nt(e).onDone(()=>n.processLeaveNode(t))}function GE(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof oe?GE(i.players,t):t.push(i)}}function M_(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Rm{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new XD(t,e,i),this._timelineEngine=new BE(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const l=t+"-"+r;let m=this._triggerCache[l];if(!m){const v=[],S=ke(this._driver,s,v,[]);if(v.length)throw function su(n,t){return new o.vHH(3404,!1)}();m=function VE(n,t,e){return new QD(n,t,e)}(r,S,this._normalizer),this._triggerCache[l]=m}this._transitionEngine.registerTrigger(e,r,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,l]=hp(i);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[l,m]=hp(i);return this._timelineEngine.listen(l,e,m,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let YE=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&xc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xc(this._element,this._initialStyles),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vu(this._element,this._endStyles),this._endStyles=null),xc(this._element,this._initialStyles),this._state=3)}}return n})();function Wy(n){let t=null;return n.forEach((e,i)=>{(function vp(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class KE{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Am(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nA{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return au(t,e)}getParentElement(t){return Xc(t)}query(t,e,i){return gh(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,l=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(v.easing=s);const x=new Map,S=l.filter(te=>te instanceof KE);(function zu(n,t){return 0===n||0===t})(i,r)&&S.forEach(te=>{te.currentSnapshot.forEach((ae,ve)=>x.set(ve,ae))});let L=function cf(n){return n.length?n[0]instanceof Map?n:n.map(t=>Uy(t)):[]}(e).map(te=>Il(te));L=function AC(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<t.length;s++){let l=t[s];r.forEach(m=>l.set(m,Am(n,m)))}}return t}(t,L,x);const Z=function WE(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Wy(t[0]),t.length>1&&(i=Wy(t[t.length-1]))):t instanceof Map&&(e=Wy(t)),e||i?new YE(n,e,i):null}(t,L);return new KE(t,L,v,Z)}}let iA=(()=>{class n extends ph{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?bd(e):e;return Td(this._renderer,null,i,"register",[r]),new rA(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class rA extends xl{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new oA(this._id,t,e||{},this._renderer)}}class oA{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Td(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Td(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const QE="@.disabled";let sA=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,l)=>{const m=l?.parentNode(s);m&&l.removeChild(m,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let S=this._rendererCache.get(s);return S||(S=new JE("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,S)),S}const l=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const v=S=>{Array.isArray(S)?S.forEach(v):this.engine.registerTrigger(l,m,e,S.name,S)};return i.data.animation.forEach(v),new aA(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,m]=s;l(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(Rm),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class JE{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==QE?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aA extends JE{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==QE?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function cA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function lA(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(t,e,i)}}let XE=(()=>{class n extends Rm{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae),o.LFG(Md),o.LFG(RC),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const eO=[{provide:ph,useClass:iA},{provide:RC,useFactory:function uA(){return new NC}},{provide:Rm,useClass:XE},{provide:o.FYo,useFactory:function dA(n,t,e){return new sA(n,t,e)},deps:[_l,Rm,o.R0b]}],zC=[{provide:Md,useFactory:()=>new nA},{provide:o.QbO,useValue:"BrowserAnimations"},...eO],E_=[{provide:Md,useClass:_h},{provide:o.QbO,useValue:"NoopAnimations"},...eO];let Mh=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?E_:zC}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:zC,imports:[Yc]})}return n})();var Sd=Q(4097),bn=Q(2793);class Nm{constructor(t){return t}}class jC{constructor(){return(0,Sd.C6)()}}const nO=new o.OlP("angularfire2._apps"),t3={provide:Nm,useFactory:function HC(n){return n&&1===n.length?n[0]:new Nm((0,Sd.Mq)())},deps:[[new o.FiY,nO]]},iO={provide:jC,deps:[[new o.FiY,nO]]};function pA(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Nm(i)}}let mA=(()=>{class n{constructor(e){(0,Sd.KN)("angularfire",bn.q4.full,"core"),(0,Sd.KN)("angularfire",bn.q4.full,"app"),(0,Sd.KN)("angular",o.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[t3,iO]}),n})();function gA(n,...t){return{ngModule:mA,providers:[{provide:nO,useFactory:pA(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,...t]}]}}const rO=(0,bn.u3)(Sd.ZF,!0);var dt=Q(5861),Us=Q(534),du=Q(4537),ie=Q(9058),ju=Q(7879);const ZC=new Map,sO={activated:!1,tokenObservers:[]},vA={initialized:!1,enabled:!1};function Lo(n){return ZC.get(n)||Object.assign({},sO)}function $C(){return vA}const yp="https://content-firebaseappcheck.googleapis.com/v1",aO="exchangeDebugToken",GC={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cO{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,dt.Z)(function*(){e.stop();try{e.pending=new ie.BH,yield function yA(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ie.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const oa=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uO(n){if(!Lo(n).activated)throw oa.create("use-before-activation",{appName:n.name})}function Lm(n,t){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,dt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const L=yield r.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const s={method:"POST",body:JSON.stringify(t),headers:i};let l,m;try{l=yield fetch(n,s)}catch(L){throw oa.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==l.status)throw oa.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(L){throw oa.create("fetch-parse-error",{originalErrorMessage:L?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw oa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const x=1e3*Number(v[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+x,issuedAtTimeMillis:S}})).apply(this,arguments)}function hO(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${yp}/projects/${e}/apps/${i}:${aO}?key=${r}`,body:{debug_token:t}}}const YC="firebase-app-check-database",Jy=1,I_="firebase-app-check-store";let wp=null;function ff(){return(ff=(0,dt.Z)(function*(n,t){const i=(yield function Hu(){return wp||(wp=new Promise((n,t)=>{try{const e=indexedDB.open(YC,Jy);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(oa.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(I_,{keyPath:"compositeKey"})}}catch(e){t(oa.create("storage-open",{originalErrorMessage:e?.message}))}}),wp)}()).transaction(I_,"readwrite"),s=i.objectStore(I_).put({compositeKey:n,value:t});return new Promise((l,m)=>{s.onsuccess=v=>{l()},i.onerror=v=>{var x;m(oa.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const xp=new ju.Yd("@firebase/app-check");function t0(n,t){return(0,ie.hl)()?function KC(n,t){return function QC(n,t){return ff.apply(this,arguments)}(function pO(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{xp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function tw(){return $C().enabled}function nw(){return iw.apply(this,arguments)}function iw(){return(iw=(0,dt.Z)(function*(){const n=$C();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const s3={error:"UNKNOWN_ERROR"};function n0(n){return ie.US.encodeString(JSON.stringify(n),!1)}function r0(n){return T_.apply(this,arguments)}function T_(){return(T_=(0,dt.Z)(function*(n,t=!1){const e=n.app;uO(e);const i=Lo(e);let s,r=i.token;if(r&&!mf(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(mf(v)?r=v:yield t0(e,void 0))}if(!t&&r&&mf(r))return{token:r.token};let m,l=!1;if(tw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Lm(hO(e,yield nw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const v=yield i.exchangeTokenPromise;return yield t0(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Lo(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?xp.warn(v.message):xp.error(v),s=v}return r?s?m=mf(r)?{token:r.token,internalError:s}:a0(s):(m={token:r.token},i.token=r,yield t0(e,r)):m=a0(s),l&&function Mp(n,t){const e=Lo(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,m),m})).apply(this,arguments)}function o0(n){return pf.apply(this,arguments)}function pf(){return(pf=(0,dt.Z)(function*(n){const t=n.app;uO(t);const{provider:e}=Lo(t);if(tw()){const i=yield nw(),{token:r}=yield Lm(hO(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function D_(n,t){const e=Lo(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Um(n){const{app:t}=n,e=Lo(t);let i=e.tokenRefresher;i||(i=function s0(n){const{app:t}=n;return new cO((0,dt.Z)(function*(){let i;if(i=Lo(t).token?yield r0(n,!0):yield r0(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Lo(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},GC.RETRIAL_MIN_WAIT,GC.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function mf(n){return n.expireTimeMillis-Date.now()>0}function a0(n){return{token:n0(s3),error:n}}class c0{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Lo(this.app);for(const e of t)D_(this.app,e.next);return Promise.resolve()}}const Bm="app-check-internal";!function TA(){(0,Us._registerComponent)(new du.wA("app-check",n=>function a3(n,t){return new c0(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Bm).initialize()})),(0,Us._registerComponent)(new du.wA(Bm,n=>function rw(n){return{getToken:t=>r0(n,t),getLimitedUseToken:()=>o0(n),addTokenListener:t=>function S_(n,t,e,i){const{app:r}=n,s=Lo(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&mf(s.token)){const m=s.token;Promise.resolve().then(()=>{e({token:m.token}),Um(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Um(n))}(n,"INTERNAL",t),removeTokenListener:t=>D_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Us.registerVersion)("@firebase/app-check","0.8.0")}();class Ep{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var Op=Q(6710);function EO(n){return new cr.y(function(t){return{unsubscribe:(0,Op.x)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}function hu(n){return new cr.y(function(t){return{unsubscribe:(0,Op.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class Pp{constructor(t){return t}}class Dd{constructor(){return(0,bn.vb)("auth")}}const fw=new o.OlP("angularfire2.auth-instances");function RA(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Pp(i)}}const pw={provide:Dd,deps:[[new o.FiY,fw]]},Ad={provide:Pp,useFactory:function m3(n,t){const e=(0,bn.JM)("auth",n,t);return e&&new Pp(e)},deps:[[new o.FiY,fw],Nm]};let PO=(()=>{class n{constructor(){(0,Sd.KN)("angularfire",bn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ad,pw]}),n})();function NA(n,...t){return{ngModule:PO,providers:[{provide:fw,useFactory:RA(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,jC,[new o.FiY,Ep],...t]}]}}const g3=(0,bn.u3)(EO,!0),sa=(0,bn.u3)(hu,!0),SO=(0,bn.u3)(Op.a8,!0),VA=(0,bn.u3)(Op.o,!0),I3=(0,bn.u3)(Op.a9,!0),zm=(0,bn.u3)(Op.ai,!0);var qt,jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tl={},p0=p0||{},Kn=jm||self;function Hm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ip(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var L_="closure_uid_"+(1e9*Math.random()>>>0),ik=0;function rk(n,t,e){return n.call.apply(n.bind,arguments)}function ok(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Pa(n,t,e){return(Pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rk:ok).apply(null,arguments)}function m0(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function aa(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return t.prototype[r].apply(i,l)}}function _f(){this.s=this.s,this.o=this.o}_f.prototype.s=!1,_f.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function AO(n){Object.prototype.hasOwnProperty.call(n,L_)&&n[L_]||(n[L_]=++ik)}(this)},_f.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vw=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function g0(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function kO(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Hm(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function Ka(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ka.prototype.h=function(){this.defaultPrevented=!0};var Sl=function(){if(!Kn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Kn.addEventListener("test",()=>{},t),Kn.removeEventListener("test",()=>{},t)}catch{}return n}();function U_(n){return/^[\s\xa0]*$/.test(n)}function _0(){var n=Kn.navigator;return n&&(n=n.userAgent)?n:""}function Eh(n){return-1!=_0().indexOf(n)}function V_(n){return V_[" "](n),n}V_[" "]=function(){};var yw,n,ak=Eh("Opera"),qm=Eh("Trident")||Eh("MSIE"),NO=Eh("Edge"),v0=NO||qm,FO=Eh("Gecko")&&!(-1!=_0().toLowerCase().indexOf("webkit")&&!Eh("Edge"))&&!(Eh("Trident")||Eh("MSIE"))&&!Eh("Edge"),ck=-1!=_0().toLowerCase().indexOf("webkit")&&!Eh("Edge");function y0(){var n=Kn.document;return n?n.documentMode:void 0}e:{var bw="",Cw=(n=_0(),FO?/rv:([^\);]+)(\)|;)/.exec(n):NO?/Edge\/([\d\.]+)/.exec(n):qm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ck?/WebKit\/(\S+)/.exec(n):ak?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cw&&(bw=Cw?Cw[1]:""),qm){var ww=y0();if(null!=ww&&ww>parseFloat(bw)){yw=String(ww);break e}}yw=bw}var Mw=Kn.document&&qm&&(y0()||parseInt(yw,10))||void 0;function B_(n,t){if(Ka.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(FO){e:{try{V_(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:LO[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&B_.$.h.call(this)}}aa(B_,Ka);var LO={2:"touch",3:"pen",4:"mouse"};B_.prototype.h=function(){B_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var z_="closure_listenable_"+(1e6*Math.random()|0),UO=0;function VO(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++UO,this.fa=this.ia=!1}function Tp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function j_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Ew(n){const t={};for(const e in n)t[e]=n[e];return t}const Ow="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pw(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Ow.length;s++)e=Ow[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function H_(n){this.src=n,this.g={},this.h=0}function q_(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=vw(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Tp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Zu(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}H_.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=Zu(n,t,i,r);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new VO(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var Iw="closure_lm_"+(1e6*Math.random()|0),Tw={};function b0(n,t,e,i,r){if(i&&i.once)return jO(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)b0(n,t[s],e,i,r);return null}return e=w0(e),n&&n[z_]?n.O(t,e,Ip(i)?!!i.capture:!!i,r):BO(n,t,e,!1,i,r)}function BO(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var l=Ip(r)?!!r.capture:!!r,m=HO(n);if(m||(n[Iw]=m=new H_(n)),(e=m.add(t,e,i,l,s)).proxy)return e;if(i=function zO(){const t=C0;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Sl||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Sw(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function jO(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)jO(n,t[s],e,i,r);return null}return e=w0(e),n&&n[z_]?n.P(t,e,Ip(i)?!!i.capture:!!i,r):BO(n,t,e,!0,i,r)}function Z_(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Z_(n,t[s],e,i,r);else i=Ip(i)?!!i.capture:!!i,e=w0(e),n&&n[z_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Zu(s=n.g[t],e,i,r))&&(Tp(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=HO(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Zu(t,e,i,r)),(e=-1<n?t[n]:null)&&Sp(e))}function Sp(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[z_])q_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Sw(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=HO(t))?(q_(e,n),0==e.h&&(e.src=null,t[Iw]=null)):Tp(n)}}}function Sw(n){return n in Tw?Tw[n]:Tw[n]="on"+n}function C0(n,t){if(n.fa)n=!0;else{t=new B_(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Sp(n),n=e.call(i,t)}return n}function HO(n){return(n=n[Iw])instanceof H_?n:null}var Dw="__closure_events_fn_"+(1e9*Math.random()>>>0);function w0(n){return"function"==typeof n?n:(n[Dw]||(n[Dw]=function(t){return n.handleEvent(t)}),n[Dw])}function Vs(){_f.call(this),this.i=new H_(this),this.S=this,this.J=null}function Ia(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ka(t,n);else if(t instanceof Ka)t.target=t.target||n;else{var r=t;Pw(t=new Ka(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var l=t.g=e[s];r=x0(l,i,!0,t)&&r}if(r=x0(l=t.g=n,i,!0,t)&&r,r=x0(l,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=x0(l=t.g=e[s],i,!1,t)&&r}function x0(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var l=t[s];if(l&&!l.fa&&l.capture==e){var m=l.listener,v=l.la||l.src;l.ia&&q_(n.i,l),r=!1!==m.call(v,i)&&r}}return r&&!i.defaultPrevented}aa(Vs,_f),Vs.prototype[z_]=!0,Vs.prototype.removeEventListener=function(n,t,e,i){Z_(this,n,t,e,i)},Vs.prototype.N=function(){if(Vs.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Tp(e[i]);delete n.g[t],n.h--}}this.J=null},Vs.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Vs.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var M0=Kn.JSON.stringify;function $_(){var n=kw;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Aw=new class qO{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ZO,n=>n.reset());class ZO{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function uk(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function dk(n){Kn.setTimeout(()=>{throw n},0)}let Oh,G_=!1,kw=new class lk{constructor(){this.h=this.g=null}add(t,e){const i=Aw.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},$O=()=>{const n=Kn.Promise.resolve(void 0);Oh=()=>{n.then(hk)}};var hk=()=>{for(var n;n=$_();){try{n.h.call(n.g)}catch(e){dk(e)}var t=Aw;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}G_=!1};function E0(n,t){Vs.call(this),this.h=n||1,this.g=t||Kn,this.j=Pa(this.qb,this),this.l=Date.now()}function Rw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Nw(n,t,e){if("function"==typeof n)e&&(n=Pa(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pa(n.handleEvent,n)}return 2147483647<Number(t)?-1:Kn.setTimeout(n,t||0)}function GO(n){n.g=Nw(()=>{n.g=null,n.i&&(n.i=!1,GO(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}aa(E0,Vs),(qt=E0.prototype).ga=!1,qt.T=null,qt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ia(this,"tick"),this.ga&&(Rw(this),this.start()))}},qt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.N=function(){E0.$.N.call(this),Rw(this),delete this.g};class WO extends _f{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:GO(this)}N(){super.N(),this.g&&(Kn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dp(n){_f.call(this),this.h=n,this.g={}}aa(Dp,_f);var YO=[];function W_(n,t,e,i){Array.isArray(e)||(e&&(YO[0]=e.toString()),e=YO);for(var r=0;r<e.length;r++){var s=b0(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function KO(n){j_(n.g,function(t,e){this.g.hasOwnProperty(e)&&Sp(t)},n),n.g={}}function O0(){this.g=!0}function Zm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function gk(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return M0(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Dp.prototype.N=function(){Dp.$.N.call(this),KO(this)},Dp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},O0.prototype.Ea=function(){this.g=!1},O0.prototype.info=function(){};var vf={},Fw=null;function P0(){return Fw=Fw||new Vs}function _k(n){Ka.call(this,vf.Ta,n)}function $m(n){const t=P0();Ia(t,new _k(t))}function Lw(n,t){Ka.call(this,vf.STAT_EVENT,n),this.stat=t}function tl(n){const t=P0();Ia(t,new Lw(t,n))}function Y_(n,t){Ka.call(this,vf.Ua,n),this.size=t}function K_(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Kn.setTimeout(function(){n()},t)}vf.Ta="serverreachability",aa(_k,Ka),vf.STAT_EVENT="statevent",aa(Lw,Ka),vf.Ua="timingevent",aa(Y_,Ka);var I0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Uw(){}function Gm(){}Uw.prototype.h=null;var nl,xs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ph(){Ka.call(this,"d")}function Wm(){Ka.call(this,"c")}function Ym(){}function kd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Dp(this),this.P=Km,this.V=new E0(n=v0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ap}function Ap(){this.i=null,this.g="",this.h=!1}aa(Ph,Ka),aa(Wm,Ka),aa(Ym,Uw),Ym.prototype.g=function(){return new XMLHttpRequest},Ym.prototype.i=function(){return{}},nl=new Ym;var Km=45e3,yf={},Ih={};function bf(n,t,e){n.L=1,n.v=k0(Th(t)),n.s=e,n.S=!0,kp(n,null)}function kp(n,t){n.G=Date.now(),Qm(n),n.A=Th(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),rP(e.i,"t",i),n.C=0,e=n.l.J,n.h=new Ap,n.g=ox(n.l,e?t:null,!n.s),0<n.O&&(n.M=new WO(Pa(n.Pa,n,n.g),n.O)),W_(n.U,n.g,"readystatechange",n.nb),t=n.I?Ew(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),$m(),function fk(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",m=s.split("&"),v=0;v<m.length;v++){var x=m[v].split("=");if(1<x.length){var S=x[0];x=x[1];var L=S.split("_");l=2<=L.length&&"type"==L[1]?l+(S+"=")+x+"&":l+(S+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Rp(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Np(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=QO(n,e),r==Ih){4==t&&(n.o=4,tl(14),i=!1),Zm(n.j,n.m,null,"[Incomplete Response]");break}if(r==yf){n.o=4,tl(15),Zm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Zm(n.j,n.m,r,null),S0(n,r)}Rp(n)&&r!=Ih&&r!=yf&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,tl(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),dv(t),t.M=!0,tl(11))):(Zm(n.j,n.m,e,"[Invalid Chunked Response]"),Cf(n),Jm(n))}function QO(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Ih:(e=Number(t.substring(e,i)),isNaN(e)?yf:(i+=1)+e>t.length?Ih:(t=t.slice(i,i+e),n.C=i+e,t))}function Qm(n){n.Y=Date.now()+n.P,Vw(n,n.P)}function Vw(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=K_(Pa(n.lb,n),t)}function Q_(n){n.B&&(Kn.clearTimeout(n.B),n.B=null)}function Jm(n){0==n.l.H||n.J||tx(n.l,n)}function Cf(n){Q_(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,Rw(n.V),KO(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function S0(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||qw(e.i,n)))if(!n.K&&qw(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;hv(e),B0(e)}uv(e),tl(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=K_(Pa(e.ib,e),6e3));if(1>=oP(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else xf(e,11)}else if((n.K||e.g==n)&&hv(e),!U_(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let x=r[t];if(e.V=x[0],x=x[1],2==e.H)if("c"==x[0]){e.K=x[1],e.pa=x[2];const S=x[3];null!=S&&(e.ra=S,e.l.info("VER="+e.ra));const L=x[4];null!=L&&(e.Ga=L,e.l.info("SVER="+e.Ga));const Z=x[5];null!=Z&&"number"==typeof Z&&0<Z&&(e.L=i=1.5*Z,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const te=n.g;if(te){const ae=te.g?te.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var s=i.i;s.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nv(s,s.h),s.h=null))}if(i.F){const ve=te.g?te.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(i.Da=ve,go(i.I,i.F,ve))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((i=e).wa=rx(i,i.J?i.pa:null,i.Y),l.K){sP(i.i,l);var m=l,v=i.L;v&&m.setTimeout(v),m.B&&(Q_(m),Qm(m)),i.g=l}else Xw(i);0<e.j.length&&cv(e)}else"stop"!=x[0]&&"close"!=x[0]||xf(e,7);else 3==e.H&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?xf(e,7):V0(e):"noop"!=x[0]&&e.h&&e.h.Aa(x),e.A=0)}$m()}catch{}}function D0(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Hm(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function XO(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hm(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function JO(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(qt=kd.prototype).setTimeout=function(n){this.P=n},qt.nb=function(n){n=n.target;const t=this.M;t&&3==Gu(n)?t.l():this.Pa(n)},qt.Pa=function(n){try{if(n==this.g)e:{const S=Gu(this.g);var t=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||v0||this.g&&(this.h.h||this.g.ja()||hP(this.g)))){this.J||4!=S||7==t||$m(),Q_(this);var e=this.g.da();this.ca=e;t:if(Rp(this)){var i=hP(this.g);n="";var r=i.length,s=4==Gu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cf(this),Jm(this);var l="";break t}this.h.i=new Kn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function pk(n,t,e,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,S,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U_(m)){var x=m;break t}}x=null}if(!(e=x)){this.i=!1,this.o=3,tl(12),Cf(this),Jm(this);break e}Zm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,S0(this,e)}this.S?(Np(this,S,l),v0&&this.i&&3==S&&(W_(this.U,this.V,"tick",this.mb),this.V.start())):(Zm(this.j,this.m,l,null),S0(this,l)),4==S&&Cf(this),this.i&&!this.J&&(4==S?tx(this.l,this):(this.i=!1,Qm(this)))}else(function Mk(n){const t={};n=(n.g&&2<=Gu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(U_(n[i]))continue;var e=uk(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function D3(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,tl(12)):(this.o=0,tl(13)),Cf(this),Jm(this)}}}catch{}},qt.mb=function(){if(this.g){var n=Gu(this.g),t=this.g.ja();this.C<t.length&&(Q_(this),Np(this,n,t),this.i&&4!=n&&Qm(this))}},qt.cancel=function(){this.J=!0,Cf(this)},qt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mk(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&($m(),tl(17)),Cf(this),this.o=2,Jm(this)):Vw(this,this.Y-n)};var eP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xm){this.h=n.h,A0(this,n.j),this.s=n.s,this.g=n.g,Bw(this,n.m),this.l=n.l;var t=n.i,e=new tg;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),tP(this,e),this.o=n.o}else n&&(t=String(n).match(eP))?(this.h=!1,A0(this,t[1]||"",!0),this.s=J_(t[2]||""),this.g=J_(t[3]||"",!0),Bw(this,t[4]),this.l=J_(t[5]||"",!0),tP(this,t[6]||"",!0),this.o=J_(t[7]||"")):(this.h=!1,this.i=new tg(null,this.h))}function Th(n){return new Xm(n)}function A0(n,t,e){n.j=e?J_(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Bw(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function tP(n,t,e){t instanceof tg?(n.i=t,function vk(n,t){t&&!n.j&&(wf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(ng(this,i),rP(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=X_(t,nP)),n.i=new tg(t,n.h))}function go(n,t,e){n.i.set(t,e)}function k0(n){return go(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function J_(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function X_(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,zw),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(X_(t,eg,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(X_(t,eg,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(X_(e,"/"==e.charAt(0)?R0:jw,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",X_(e,ev)),n.join("")};var eg=/[#\/\?@]/g,jw=/[#\?:]/g,R0=/[#\?]/g,nP=/[#\?@]/g,ev=/#/g;function tg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function wf(n){n.g||(n.g=new Map,n.h=0,n.i&&function A3(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ng(n,t){wf(n),t=ig(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function iP(n,t){return wf(n),t=ig(n,t),n.g.has(t)}function rP(n,t,e){ng(n,t),0<e.length&&(n.i=null,n.g.set(ig(n,t),g0(e)),n.h+=e.length)}function ig(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function tv(n){this.l=n||N0,n=Kn.PerformanceNavigationTiming?0<(n=Kn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Kn.g&&Kn.g.Ka&&Kn.g.Ka()&&Kn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qt=tg.prototype).add=function(n,t){wf(this),this.i=null,n=ig(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},qt.forEach=function(n,t){wf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},qt.ta=function(){wf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},qt.Z=function(n){wf(this);let t=[];if("string"==typeof n)iP(this,n)&&(t=t.concat(this.g.get(ig(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},qt.set=function(n,t){return wf(this),this.i=null,iP(this,n=ig(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},qt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var N0=10;function yk(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oP(n){return n.h?1:n.g?n.g.size:0}function qw(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function nv(n,t){n.g?n.g.add(t):n.h=t}function sP(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Zw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return g0(n.i)}tv.prototype.cancel=function(){if(this.i=Zw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var bk=class{stringify(n){return Kn.JSON.stringify(n,void 0)}parse(n){return Kn.JSON.parse(n,void 0)}};function Ck(){this.g=new bk}function aP(n,t,e){const i=e||"";try{D0(n,function(r,s){let l=r;Ip(r)&&(l=M0(r)),t.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function iv(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function rv(n){this.l=n.fc||null,this.j=n.ob||!1}function F0(n,t){Vs.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=$w,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aa(rv,Uw),rv.prototype.g=function(){return new F0(this.l,this.j)},rv.prototype.i=function(n){return function(){return n}}({}),aa(F0,Vs);var $w=0;function Gw(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lp(n)}function Lp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qt=F0.prototype).open=function(n,t){if(this.readyState!=$w)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Lp(this)},qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Kn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fp(this)),this.readyState=$w},qt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lp(this)),this.g&&(this.readyState=3,Lp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Kn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gw(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},qt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Fp(this):Lp(this),3==this.readyState&&Gw(this)}},qt.Za=function(n){this.g&&(this.response=this.responseText=n,Fp(this))},qt.Ya=function(n){this.g&&(this.response=n,Fp(this))},qt.ka=function(){this.g&&Fp(this)},qt.setRequestHeader=function(n,t){this.v.append(n,t)},qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(F0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wk=Kn.JSON.parse;function so(n){Vs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ov,this.L=this.M=!1}aa(so,Vs);var ov="",Ww=/^https?$/i,lP=["POST","PUT"];function uP(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,dP(n),Up(n)}function dP(n){n.F||(n.F=!0,Ia(n,"complete"),Ia(n,"error"))}function sv(n){if(n.h&&typeof p0<"u"&&(!n.C[1]||4!=Gu(n)||2!=n.da()))if(n.v&&4==Gu(n))Nw(n.La,0,n);else if(Ia(n,"readystatechange"),4==Gu(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.I).match(eP)[1]||null;!r&&Kn.self&&Kn.self.location&&(r=Kn.self.location.protocol.slice(0,-1)),i=!Ww.test(r?r.toLowerCase():"")}e=i}if(e)Ia(n,"complete"),Ia(n,"success");else{n.m=6;try{var s=2<Gu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",dP(n)}}finally{Up(n)}}}function Up(n,t){if(n.g){L0(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Ia(n,"ready");try{e.onreadystatechange=i}catch{}}}function L0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Kn.clearTimeout(n.A),n.A=null)}function Gu(n){return n.g?n.g.readyState:0}function hP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ov:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Yw(n){let t="";return j_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function av(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Yw(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):go(n,t,e))}function rg(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function U0(n){this.Ga=0,this.j=[],this.l=new O0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rg("baseRetryDelayMs",5e3,n),this.hb=rg("retryDelaySeedMs",1e4,n),this.eb=rg("forwardChannelMaxRetries",2,n),this.xa=rg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new tv(n&&n.concurrentRequestLimit),this.Ja=new Ck,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function V0(n){if(Kw(n),3==n.H){var t=n.W++,e=Th(n.I);if(go(e,"SID",n.K),go(e,"RID",t),go(e,"TYPE","terminate"),lv(n,e),(t=new kd(n,n.l,t)).L=2,t.v=k0(Th(e)),e=!1,Kn.navigator&&Kn.navigator.sendBeacon)try{e=Kn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Kn.Image&&((new Image).src=t.v,e=!0),e||(t.g=ox(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Qm(t)}ix(n)}function B0(n){n.g&&(dv(n),n.g.cancel(),n.g=null)}function Kw(n){B0(n),n.u&&(Kn.clearTimeout(n.u),n.u=null),hv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Kn.clearTimeout(n.m),n.m=null)}function cv(n){if(!yk(n.i)&&!n.m){n.m=!0;var t=n.Na;Oh||$O(),G_||(Oh(),G_=!0),kw.add(t,n),n.C=0}}function Qw(n,t){var e;e=t?t.m:n.W++;const i=Th(n.I);go(i,"SID",n.K),go(i,"RID",e),go(i,"AID",n.V),lv(n,i),n.o&&n.s&&av(i,n.o,n.s),e=new kd(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=Jw(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),nv(n.i,e),bf(e,i,t)}function lv(n,t){n.na&&j_(n.na,function(e,i){go(t,i,e)}),n.h&&D0({},function(e,i){go(t,i,e)})}function Jw(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Pa(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+e];-1==s?0<e?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let m=!0;for(let v=0;v<e;v++){let x=r[v].g;const S=r[v].map;if(x-=s,0>x)s=Math.max(0,r[v].g-100),m=!1;else try{aP(S,l,"req"+x+"_")}catch{i&&i(S)}}if(m){i=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function Xw(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Oh||$O(),G_||(Oh(),G_=!0),kw.add(t,n),n.A=0}}function uv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=K_(Pa(n.Ma,n),nx(n,n.A)),n.A++,0))}function dv(n){null!=n.B&&(Kn.clearTimeout(n.B),n.B=null)}function ex(n){n.g=new kd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Th(n.wa);go(t,"RID","rpc"),go(t,"SID",n.K),go(t,"AID",n.V),go(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&go(t,"TO",n.qa),go(t,"TYPE","xmlhttp"),lv(n,t),n.o&&n.s&&av(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=k0(Th(t)),e.s=null,e.S=!0,kp(e,n)}function hv(n){null!=n.v&&(Kn.clearTimeout(n.v),n.v=null)}function tx(n,t){var e=null;if(n.g==t){hv(n),dv(n),n.g=null;var i=2}else{if(!qw(n.i,t))return;e=t.F,sP(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Ia(i=P0(),new Y_(i,e)),cv(n)}else Xw(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function fP(n,t){return!(oP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=K_(Pa(n.Na,n,t),nx(n,n.C)),n.C++,0)))}(n,t)||2==i&&uv(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:xf(n,5);break;case 4:xf(n,10);break;case 3:xf(n,6);break;default:xf(n,2)}}function nx(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function xf(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Pa(n.pb,n);e||(e=new Xm("//www.google.com/images/cleardot.gif"),Kn.location&&"http"==Kn.location.protocol||A0(e,"https"),k0(e)),function cP(n,t){const e=new O0;if(Kn.Image){const i=new Image;i.onload=m0(iv,e,i,"TestLoadImage: loaded",!0,t),i.onerror=m0(iv,e,i,"TestLoadImage: error",!1,t),i.onabort=m0(iv,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=m0(iv,e,i,"TestLoadImage: timeout",!1,t),Kn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else tl(2);n.H=0,n.h&&n.h.za(t),ix(n),Kw(n)}function ix(n){if(n.H=0,n.ma=[],n.h){const t=Zw(n.i);(0!=t.length||0!=n.j.length)&&(kO(n.ma,t),kO(n.ma,n.j),n.i.i.length=0,g0(n.j),n.j.length=0),n.h.ya()}}function rx(n,t,e){var i=e instanceof Xm?Th(e):new Xm(e);if(""!=i.g)t&&(i.g=t+"."+i.g),Bw(i,i.m);else{var r=Kn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Xm(null);i&&A0(s,i),t&&(s.g=t),r&&Bw(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&go(i,e,t),go(i,"VER",n.ra),lv(n,i),i}function ox(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new so(e&&n.Ha&&!n.va?new rv({ob:!0}):n.va)).Oa(n.J),t}function fv(){}function Wu(){if(qm&&!(10<=Number(Mw)))throw Error("Environmental error: no available transport.")}function Dl(n,t){Vs.call(this),this.g=new U0(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!U_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!U_(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new fu(this)}function pP(n){Ph.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function z0(){Wm.call(this),this.status=1}function fu(n){this.g=n}function Yu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pv(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],l=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(l<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(t=e+((l=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Sr(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(qt=so.prototype).Oa=function(n){this.M=n},qt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nl.g(),this.C=function $u(n){return n.h||(n.h=n.i())}(this.u?this.u:nl),this.g.onreadystatechange=Pa(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void uP(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Kn.FormData&&n instanceof Kn.FormData,!(0<=vw(lP,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of e)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{L0(this),0<this.B&&((this.L=function xk(n){return qm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pa(this.ua,this)):this.A=Nw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){uP(this,s)}},qt.ua=function(){typeof p0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ia(this,"timeout"),this.abort(8))},qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ia(this,"complete"),Ia(this,"abort"),Up(this))},qt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Up(this,!0)),so.$.N.call(this)},qt.La=function(){this.s||(this.G||this.v||this.l?sv(this):this.kb())},qt.kb=function(){sv(this)},qt.isActive=function(){return!!this.g},qt.da=function(){try{return 2<Gu(this)?this.g.status:-1}catch{return-1}},qt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},qt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),wk(t)}},qt.Ia=function(){return this.m},qt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=U0.prototype).ra=8,qt.H=1,qt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new kd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Ew(s),Pw(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Jw(this,r,t),go(e=Th(this.I),"RID",n),go(e,"CVER",22),this.F&&go(e,"X-HTTP-Session-Id",this.F),lv(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(Yw(s)))+"&"+t:this.o&&av(e,this.o,s)),nv(this.i,r),this.bb&&go(e,"TYPE","init"),this.P?(go(e,"$req",t),go(e,"SID","null"),r.aa=!0,bf(r,e,null)):bf(r,e,t),this.H=2}}else 3==this.H&&(n?Qw(this,n):0==this.j.length||yk(this.i)||Qw(this))},qt.Ma=function(){if(this.u=null,ex(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=K_(Pa(this.jb,this),n)}},qt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tl(10),B0(this),ex(this))},qt.ib=function(){null!=this.v&&(this.v=null,B0(this),uv(this),tl(19))},qt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),tl(2)):(this.l.info("Failed to ping google.com"),tl(1))},qt.isActive=function(){return!!this.h&&this.h.isActive(this)},(qt=fv.prototype).Ba=function(){},qt.Aa=function(){},qt.za=function(){},qt.ya=function(){},qt.isActive=function(){return!0},qt.Va=function(){},Wu.prototype.g=function(n,t){return new Dl(n,t)},aa(Dl,Vs),Dl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;tl(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=rx(n,null,n.Y),cv(n)},Dl.prototype.close=function(){V0(this.g)},Dl.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=M0(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&cv(t)},Dl.prototype.N=function(){this.g.h=null,delete this.j,V0(this.g),delete this.g,Dl.$.N.call(this)},aa(pP,Ph),aa(z0,Wm),aa(fu,fv),fu.prototype.Ba=function(){Ia(this.g,"a")},fu.prototype.Aa=function(n){Ia(this.g,new pP(n))},fu.prototype.za=function(n){Ia(this.g,new z0)},fu.prototype.ya=function(){Ia(this.g,"b")},aa(Yu,function sx(){this.blockSize=-1}),Yu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yu.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)pv(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){pv(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){pv(this,i),r=0;break}}this.h=r,this.i+=t},Yu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var k3={};function ax(n){return-128<=n&&128>n?function RO(n,t){var e=k3;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Sr([0|t],0>t?-1:0)}):new Sr([0|n],0>n?-1:0)}function Rd(n){if(isNaN(n)||!isFinite(n))return _o;if(0>n)return Ta(Rd(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=lx;return new Sr(t,0)}var lx=4294967296,_o=ax(0),j0=ax(1),mP=ax(16777216);function Sh(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Al(n){return-1==n.h}function Ta(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Sr(e,~n.h).add(j0)}function mv(n,t){return n.add(Ta(t))}function gv(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Nd(n,t){this.g=n,this.h=t}function H0(n,t){if(Sh(t))throw Error("division by zero");if(Sh(n))return new Nd(_o,_o);if(Al(n))return t=H0(Ta(n),t),new Nd(Ta(t.g),Ta(t.h));if(Al(t))return t=H0(n,Ta(t)),new Nd(Ta(t.g),t.h);if(30<n.g.length){if(Al(n)||Al(t))throw Error("slowDivide_ only works with positive integers.");for(var e=j0,i=t;0>=i.X(n);)e=gP(e),i=gP(i);var r=Vp(e,1),s=Vp(i,1);for(i=Vp(i,2),e=Vp(e,2);!Sh(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(e),s=l),i=Vp(i,1),e=Vp(e,1)}return t=mv(n,r.R(t)),new Nd(r,t)}for(r=_o;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),l=(s=Rd(e)).R(t);Al(l)||0<l.X(n);)l=(s=Rd(e-=i)).R(t);Sh(s)&&(s=j0),r=r.add(s),n=mv(n,l)}return new Nd(r,n)}function gP(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Sr(e,n.h)}function Vp(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Sr(r,n.h)}(qt=Sr.prototype).ea=function(){if(Al(this))return-Ta(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:lx+i)*t,t*=lx}return n},qt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Sh(this))return"0";if(Al(this))return"-"+Ta(this).toString(n);for(var t=Rd(Math.pow(n,6)),e=this,i="";;){var r=H0(e,t).g,s=((0<(e=mv(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Sh(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},qt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},qt.X=function(n){return Al(n=mv(this,n))?-1:Sh(n)?0:1},qt.abs=function(){return Al(this)?Ta(this):this},qt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,e[r]=(l&=65535)<<16|(s&=65535)}return new Sr(e,-2147483648&e[e.length-1]?-1:0)},qt.R=function(n){if(Sh(this)||Sh(n))return _o;if(Al(this))return Al(n)?Ta(this).R(Ta(n)):Ta(Ta(this).R(n));if(Al(n))return Ta(this.R(Ta(n)));if(0>this.X(mP)&&0>n.X(mP))return Rd(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),m=n.D(r)>>>16,v=65535&n.D(r);e[2*i+2*r]+=l*v,gv(e,2*i+2*r),e[2*i+2*r+1]+=s*v,gv(e,2*i+2*r+1),e[2*i+2*r+1]+=l*m,gv(e,2*i+2*r+1),e[2*i+2*r+2]+=s*m,gv(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Sr(e,0)},qt.gb=function(n){return H0(this,n).h},qt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Sr(e,this.h&n.h)},qt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Sr(e,this.h|n.h)},qt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Sr(e,this.h^n.h)},Wu.prototype.createWebChannel=Wu.prototype.g,Dl.prototype.send=Dl.prototype.u,Dl.prototype.open=Dl.prototype.m,Dl.prototype.close=Dl.prototype.close,I0.NO_ERROR=0,I0.TIMEOUT=8,I0.HTTP_ERROR=6,T0.COMPLETE="complete",Gm.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",Vs.prototype.listen=Vs.prototype.O,so.prototype.listenOnce=so.prototype.P,so.prototype.getLastError=so.prototype.Sa,so.prototype.getLastErrorCode=so.prototype.Ia,so.prototype.getStatus=so.prototype.da,so.prototype.getResponseJson=so.prototype.Wa,so.prototype.getResponseText=so.prototype.ja,so.prototype.send=so.prototype.ha,so.prototype.setWithCredentials=so.prototype.Oa,Yu.prototype.digest=Yu.prototype.l,Yu.prototype.reset=Yu.prototype.reset,Yu.prototype.update=Yu.prototype.j,Sr.prototype.add=Sr.prototype.add,Sr.prototype.multiply=Sr.prototype.R,Sr.prototype.modulo=Sr.prototype.gb,Sr.prototype.compare=Sr.prototype.X,Sr.prototype.toNumber=Sr.prototype.ea,Sr.prototype.toString=Sr.prototype.toString,Sr.prototype.getBits=Sr.prototype.D,Sr.fromNumber=Rd,Sr.fromString=function cx(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Ta(cx(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Rd(Math.pow(t,8)),i=_o,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),t);8>s?(s=Rd(Math.pow(t,s)),i=i.R(s).add(Rd(l))):i=(i=i.R(e)).add(Rd(l))}return i};var Ek=Tl.createWebChannelTransport=function(){return new Wu},_P=Tl.getStatEventTarget=function(){return P0()},vP=Tl.ErrorCode=I0,ux=Tl.EventType=T0,dx=Tl.Event=vf,Ku=Tl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ok=Tl.FetchXmlHttpFactory=rv,_v=Tl.WebChannel=Gm,Fd=Tl.XhrIo=so,Qu=Tl.Md5=Yu,Qa=Tl.Integer=Sr;const hx="@firebase/firestore";class Bs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");let og="9.23.0";const Mf=new ju.Yd("@firebase/firestore");function fx(){return Mf.logLevel}function Ot(n,...t){if(Mf.logLevel<=ju.in.DEBUG){const e=t.map(q0);Mf.debug(`Firestore (${og}): ${n}`,...e)}}function ao(n,...t){if(Mf.logLevel<=ju.in.ERROR){const e=t.map(q0);Mf.error(`Firestore (${og}): ${n}`,...e)}}function pu(n,...t){if(Mf.logLevel<=ju.in.WARN){const e=t.map(q0);Mf.warn(`Firestore (${og}): ${n}`,...e)}}function q0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const t=`FIRESTORE (${og}) INTERNAL ASSERTION FAILED: `+n;throw ao(t),new Error(t)}function Cn(n,t){n||ln()}function $t(n,t){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ie.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class px{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bs.UNAUTHENTICATED))}shutdown(){}}class Ik{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Tk{constructor(t){this.t=t,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=x=>this.i!==r?(r=this.i,e(x)):Promise.resolve();let l=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ms,t.enqueueRetryable(()=>s(this.currentUser))};const m=()=>{const x=l;t.enqueueRetryable((0,dt.Z)(function*(){yield x.promise,yield s(i.currentUser)}))},v=x=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(x=>v(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?v(x):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ms)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Cn("string"==typeof i.accessToken),new px(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Cn(null===t||"string"==typeof t),new Bs(t)}}class mx{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Z0{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new mx(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gx{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Ot("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Cn("string"==typeof e.token),this.T=e.token,new $0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function CP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class _x{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=CP(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Qn(n,t){return n<t?-1:n>t?1:0}function Bp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function vx(n){return n+"\0"}class co{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return co.fromMillis(Date.now())}static fromDate(t){return co.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new co(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qn(this.nanoseconds,t.nanoseconds):Qn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Pn(t)}static min(){return new Pn(new co(0,0))}static max(){return new Pn(new co(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vv{constructor(t,e,i){void 0===e?e=0:e>t.length&&ln(),void 0===i?i=t.length-e:i>t.length-e&&ln(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===vv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),l=e.get(r);if(s<l)return-1;if(s>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Zi extends vv{construct(t,e,i){return new Zi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yt(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Zi(e)}static emptyPath(){return new Zi([])}}const Dk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jo extends vv{construct(t,e,i){return new Jo(t,e,i)}static isValidIdentifier(t){return Dk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jo(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new yt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const m=t[r];if("\\"===m){if(r+1===t.length)throw new yt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new yt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=v,r+=2}else"`"===m?(l=!l,r++):"."!==m||l?(i+=m,r++):(s(),r++)}if(s(),l)throw new yt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jo(e)}static emptyPath(){return new Jo([])}}class Zt{constructor(t){this.path=t}static fromPath(t){return new Zt(Zi.fromString(t))}static fromName(t){return new Zt(Zi.fromString(t).popFirst(5))}static empty(){return new Zt(Zi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Zi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Zi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zt(new Zi(t.slice()))}}class G0{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function yx(n){return n.fields.find(t=>2===t.kind)}function zp(n){return n.fields.filter(t=>2!==t.kind)}G0.UNKNOWN_ID=-1;class W0{constructor(t,e){this.fieldPath=t,this.kind=e}}class yv{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new yv(0,kl.min())}}function wP(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Pn.fromTimestamp(1e9===i?new co(e+1,0):new co(e,i));return new kl(r,Zt.empty(),t)}function xP(n){return new kl(n.readTime,n.key,-1)}class kl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new kl(Pn.min(),Zt.empty(),-1)}static max(){return new kl(Pn.max(),Zt.empty(),-1)}}function bx(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Zt.comparator(n.documentKey,t.documentKey),0!==e?e:Qn(n.largestBatchId,t.largestBatchId))}const Cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Dh(n){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,dt.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==Cx)throw n;Ot("LocalStore","Unexpectedly lost primary lease")}),Y0.apply(this,arguments)}class Ye{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ye((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ye?e:Ye.resolve(e)}catch(e){return Ye.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ye.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ye.reject(e)}static resolve(t){return new Ye((e,i)=>{e(t)})}static reject(t){return new Ye((e,i)=>{i(t)})}static waitFor(t){return new Ye((e,i)=>{let r=0,s=0,l=!1;t.forEach(m=>{++r,m.next(()=>{++s,l&&s===r&&e()},v=>i(v))}),l=!0,s===r&&e()})}static or(t){let e=Ye.resolve(!1);for(const i of t)e=e.next(r=>r?Ye.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Ye((i,r)=>{const s=t.length,l=new Array(s);let m=0;for(let v=0;v<s;v++){const x=v;e(t[x]).next(S=>{l[x]=S,++m,m===s&&i(l)},S=>r(S))}})}static doWhile(t,e){return new Ye((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class bv{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Ms,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new sg(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=xx(i.target.error);this.v.reject(new sg(t,r))}}static open(t,e,i,r){try{return new bv(e,t.transaction(r,i))}catch(s){throw new sg(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Ot("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new EP(e)}}class mu{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===mu.S((0,ie.z$)())&&ao("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ot("SimpleDb","Removing database:",t),Rl(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ie.hl)())return!1;if(mu.C())return!0;const t=(0,ie.z$)(),e=mu.S(t),i=0<e&&e<10,r=mu.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,dt.Z)(function*(){return e.db||(Ot("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new sg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const m=l.target.error;r("VersionError"===m.name?new yt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new yt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new sg(t,m))},s.onupgradeneeded=l=>{Ot("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,s.transaction,l.oldVersion,e.version).next(()=>{Ot("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,dt.Z)(function*(){const l="readonly"===e;let m=0;for(;;){++m;try{s.db=yield s.$(t);const v=bv.open(s.db,t,l?"readonly":"readwrite",i),x=r(v).next(S=>(v.P(),S)).catch(S=>(v.abort(S),Ye.reject(S))).toPromise();return x.catch(()=>{}),yield v.R,x}catch(v){const x=v,S="FirebaseError"!==x.name&&m<3;if(Ot("SimpleDb","Transaction failed with error:",x.message,"Retrying:",S),s.close(),!S)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class MP{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Rl(this.L.delete())}}class sg extends yt{constructor(t,e){super(tt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ld(n){return"IndexedDbTransactionError"===n.name}class EP{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ot("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ot("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Rl(i)}add(t){return Ot("SimpleDb","ADD",this.store.name,t,t),Rl(this.store.add(t))}get(t){return Rl(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ot("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ot("SimpleDb","DELETE",this.store.name,t),Rl(this.store.delete(t))}count(){return Ot("SimpleDb","COUNT",this.store.name),Rl(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,m)=>{s.push(m)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ye((s,l)=>{r.onerror=m=>{l(m.target.error)},r.onsuccess=m=>{s(m.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ye((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(t,e){Ot("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,m)=>m.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Ye((i,r)=>{e.onerror=s=>{const l=xx(s.target.error);r(l)},e.onsuccess=s=>{const l=s.target.result;l?t(l.primaryKey,l.value).next(m=>{m?l.continue():i()}):i()}})}W(t,e){const i=[];return new Ye((r,s)=>{t.onerror=l=>{s(l.target.error)},t.onsuccess=l=>{const m=l.target.result;if(!m)return void r();const v=new MP(m),x=e(m.primaryKey,m.value,v);if(x instanceof Ye){const S=x.catch(L=>(v.done(),Ye.reject(L)));i.push(S)}v.isDone?r():null===v.K?m.continue():m.continue(v.K)}}).next(()=>Ye.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Rl(n){return new Ye((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=xx(i.target.error);e(r)}})}let OP=!1;function xx(n){const t=mu.S((0,ie.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OP||(OP=!0,setTimeout(()=>{throw i},0)),i}}return n}class ag{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Ot("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,dt.Z)(function*(){e.task=null;try{Ot("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Ld(i)?Ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Dh(i)}yield e.et(6e4)}))}}class R3{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,dt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return Ye.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return Ot("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,r).next(m=>{r-=m,i.add(l)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(r,s)).next(m=>(Ot("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m))).next(()=>l.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const l=xP(s);bx(l,i)>0&&(i=l)}),new kl(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ec=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function K0(n){return null==n}function cg(n){return 0===n&&1/n==-1/0}function Mx(n){return"number"==typeof n&&Number.isInteger(n)&&!cg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Oc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=PP(t)),t=lg(n.get(e),t);return PP(t)}function lg(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function PP(n){return n+"\x01\x01"}function Ud(n){const t=n.length;if(Cn(t>=2),2===t)return Cn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Zi.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const l=n.indexOf("\x01",s);switch((l<0||l>e)&&ln(),n.charAt(l+1)){case"\x01":const m=n.substring(s,l);let v;0===r.length?v=m:(r+=m,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:ln()}s=l+2}return new Zi(i)}const IP=["userId","batchId"];function Ah(n,t){return[n,Oc(t)]}function TP(n,t,e){return[n,Oc(t),e]}const Q0={},J0=["prefixPath","collectionGroup","readTime","documentId"],il=["prefixPath","collectionGroup","documentId"],N3=["collectionGroup","readTime","prefixPath","documentId"],SP=["canonicalId","targetId"],DP=["targetId","path"],Rk=["path","targetId"],AP=["collectionId","parent"],kP=["indexId","uid"],RP=["uid","sequenceNumber"],NP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nk=["indexId","uid","orderedDocumentKey"],Fk=["userId","collectionPath","documentId"],Lk=["userId","collectionPath","largestBatchId"],Cv=["userId","collectionGroup","largestBatchId"],FP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uk=[...FP,"documentOverlays"],LP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wv=LP,UP=[...wv,"indexConfiguration","indexState","indexEntries"];class X0 extends wx{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function zs(n,t){const e=$t(n);return mu.M(e.ht,t)}function VP(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function gu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ug(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class $r{constructor(t,e){this.comparator=t,this.root=e||Sa.EMPTY}insert(t,e){return new $r(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Sa.BLACK,null,null))}remove(t){return new $r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sa.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eb(this.root,t,this.comparator,!1)}getReverseIterator(){return new eb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eb(this.root,t,this.comparator,!0)}}class eb{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sa{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Sa.RED,this.left=r??Sa.EMPTY,this.right=s??Sa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Sa(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Sa.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const t=this.left.check();if(t!==this.right.check())throw ln();return t+(this.isRed()?0:1)}}Sa.EMPTY=null,Sa.RED=!0,Sa.BLACK=!1,Sa.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Sa(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(t){this.comparator=t,this.data=new $r(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ex(this.data.getIterator())}getIteratorFrom(t){return new Ex(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Gr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Gr(this.comparator);return e.data=t,e}}class Ex{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jp(n){return n.hasNext()?n.getNext():void 0}class rl{constructor(t){this.fields=t,t.sort(Jo.comparator)}static empty(){return new rl([])}unionWith(t){let e=new Gr(Jo.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new rl(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Bp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class js{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Ox("Invalid base64 string: "+r):r}}(t);return new js(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new js(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}js.EMPTY_BYTE_STRING=new js("");const F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hp(n){if(Cn(!!n),"string"==typeof n){let t=0;const e=F3.exec(n);if(Cn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hs(n.seconds),nanos:hs(n.nanos)}}function hs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ef(n){return"string"==typeof n?js.fromBase64String(n):js.fromUint8Array(n)}function xv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function qp(n){const t=n.mapValue.fields.__previous_value__;return xv(t)?qp(t):t}function Mv(n){const t=Hp(n.mapValue.fields.__local_write_time__.timestampValue);return new co(t.seconds,t.nanos)}class Bk{constructor(t,e,i,r,s,l,m,v,x){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=x}}class kh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new kh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof kh&&t.projectId===this.projectId&&t.database===this.database}}const _u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tb={nullValue:"NULL_VALUE"};function Of(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xv(n)?4:jP(n)?9007199254740991:10:ln()}function Vd(n,t){if(n===t)return!0;const e=Of(n);if(e!==Of(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Mv(n).isEqual(Mv(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Hp(i.timestampValue),l=Hp(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ef(n.bytesValue).isEqual(Ef(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return hs(i.geoPointValue.latitude)===hs(r.geoPointValue.latitude)&&hs(i.geoPointValue.longitude)===hs(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return hs(i.integerValue)===hs(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=hs(i.doubleValue),l=hs(r.doubleValue);return s===l?cg(s)===cg(l):isNaN(s)&&isNaN(l)}return!1}(n,t);case 9:return Bp(n.arrayValue.values||[],t.arrayValue.values||[],Vd);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(VP(s)!==VP(l))return!1;for(const m in s)if(s.hasOwnProperty(m)&&(void 0===l[m]||!Vd(s[m],l[m])))return!1;return!0}(n,t);default:return ln()}var r}function Ev(n,t){return void 0!==(n.values||[]).find(e=>Vd(e,t))}function Zp(n,t){if(n===t)return 0;const e=Of(n),i=Of(t);if(e!==i)return Qn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const l=hs(r.integerValue||r.doubleValue),m=hs(s.integerValue||s.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,t);case 3:return BP(n.timestampValue,t.timestampValue);case 4:return BP(Mv(n),Mv(t));case 5:return Qn(n.stringValue,t.stringValue);case 6:return function(r,s){const l=Ef(r),m=Ef(s);return l.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const l=r.split("/"),m=s.split("/");for(let v=0;v<l.length&&v<m.length;v++){const x=Qn(l[v],m[v]);if(0!==x)return x}return Qn(l.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const l=Qn(hs(r.latitude),hs(s.latitude));return 0!==l?l:Qn(hs(r.longitude),hs(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const l=r.values||[],m=s.values||[];for(let v=0;v<l.length&&v<m.length;++v){const x=Zp(l[v],m[v]);if(x)return x}return Qn(l.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===_u.mapValue&&s===_u.mapValue)return 0;if(r===_u.mapValue)return 1;if(s===_u.mapValue)return-1;const l=r.fields||{},m=Object.keys(l),v=s.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let S=0;S<m.length&&S<x.length;++S){const L=Qn(m[S],x[S]);if(0!==L)return L;const Z=Zp(l[m[S]],v[x[S]]);if(0!==Z)return Z}return Qn(m.length,x.length)}(n.mapValue,t.mapValue);default:throw ln()}}function BP(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qn(n,t);const e=Hp(n),i=Hp(t),r=Qn(e.seconds,i.seconds);return 0!==r?r:Qn(e.nanos,i.nanos)}function $p(n){return Px(n)}function Px(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Hp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ef(n.bytesValue).toBase64():"referenceValue"in n?Zt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=Px(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const m of r)l?l=!1:s+=",",s+=`${m}:${Px(i.fields[m])}`;return s+"}"}(n.mapValue):ln();var t}function Ju(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ix(n){return!!n&&"integerValue"in n}function dg(n){return!!n&&"arrayValue"in n}function zP(n){return!!n&&"nullValue"in n}function Tx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ib(n){return!!n&&"mapValue"in n}function hg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return gu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=hg(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=hg(n.arrayValue.values[e]);return t}return Object.assign({},n)}function jP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sx(n){return"nullValue"in n?tb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ju(kh.empty(),Zt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ln()}function zk(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ju(kh.empty(),Zt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?_u:ln()}function Dx(n,t){const e=Zp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Ax(n,t){const e=Zp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Da{constructor(t){this.value=t}static empty(){return new Da({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ib(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=hg(e)}setAll(t){let e=Jo.emptyPath(),i={},r=[];t.forEach((l,m)=>{if(!e.isImmediateParentOf(m)){const v=this.getFieldsMap(e);this.applyChanges(v,i,r),i={},r=[],e=m.popLast()}l?i[m.lastSegment()]=hg(l):r.push(m.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());ib(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vd(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ib(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){gu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Da(hg(this.value))}}function HP(n){const t=[];return gu(n.fields,(e,i)=>{const r=new Jo([e]);if(ib(i)){const s=HP(i.mapValue).fields;if(0===s.length)t.push(r);else for(const l of s)t.push(r.child(l))}else t.push(r)}),new rl(t)}class lo{constructor(t,e,i,r,s,l,m){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=m}static newInvalidDocument(t){return new lo(t,0,Pn.min(),Pn.min(),Pn.min(),Da.empty(),0)}static newFoundDocument(t,e,i,r){return new lo(t,1,e,Pn.min(),i,r,0)}static newNoDocument(t,e){return new lo(t,2,e,Pn.min(),Pn.min(),Da.empty(),0)}static newUnknownDocument(t,e){return new lo(t,3,e,Pn.min(),Pn.min(),Da.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof lo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new lo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bd{constructor(t,e){this.position=t,this.inclusive=e}}function qP(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],l=n.position[r];if(i=s.field.isKeyField()?Zt.comparator(Zt.fromName(l.referenceValue),e.key):Zp(l,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function kx(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vd(n.position[e],t.position[e]))return!1;return!0}class fg{constructor(t,e="asc"){this.field=t,this.dir=e}}function jk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class ZP{}class Ni extends ZP{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Hk(t,e,i):"array-contains"===e?new Ux(t,i):"in"===e?new ob(t,i):"not-in"===e?new YP(t,i):"array-contains-any"===e?new Vx(t,i):new Ni(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new qk(t,i):new Zk(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Zp(e,this.value)):null!==e&&Of(this.value)===Of(e)&&this.matchesComparison(Zp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gr extends ZP{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new gr(t,e)}matches(t){return pg(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function pg(n){return"and"===n.op}function Rx(n){return"or"===n.op}function Nx(n){return Fx(n)&&pg(n)}function Fx(n){for(const t of n.filters)if(t instanceof gr)return!1;return!0}function rb(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+$p(n.value);if(Nx(n))return n.filters.map(t=>rb(t)).join(",");{const t=n.filters.map(e=>rb(e)).join(",");return`${n.op}(${t})`}}function $P(n,t){return n instanceof Ni?(e=n,(i=t)instanceof Ni&&e.op===i.op&&e.field.isEqual(i.field)&&Vd(e.value,i.value)):n instanceof gr?function(e,i){return i instanceof gr&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,l)=>r&&$P(s,i.filters[l]),!0)}(n,t):void ln();var e,i}function GP(n,t){const e=n.filters.concat(t);return gr.create(e,n.op)}function Lx(n){return n instanceof Ni?`${(t=n).field.canonicalString()} ${t.op} ${$p(t.value)}`:n instanceof gr?function(t){return t.op.toString()+" {"+t.getFilters().map(Lx).join(" ,")+"}"}(n):"Filter";var t}class Hk extends Ni{constructor(t,e,i){super(t,e,i),this.key=Zt.fromName(i.referenceValue)}matches(t){const e=Zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class qk extends Ni{constructor(t,e){super(t,"in",e),this.keys=WP(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Zk extends Ni{constructor(t,e){super(t,"not-in",e),this.keys=WP(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function WP(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Zt.fromName(i.referenceValue))}class Ux extends Ni{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return dg(e)&&Ev(e.arrayValue,this.value)}}class ob extends Ni{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ev(this.value.arrayValue,e)}}class YP extends Ni{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ev(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ev(this.value.arrayValue,e)}}class Vx extends Ni{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!dg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ev(this.value.arrayValue,i))}}class $k{constructor(t,e=null,i=[],r=[],s=null,l=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=m,this.dt=null}}function Bx(n,t=null,e=[],i=[],r=null,s=null,l=null){return new $k(n,t,e,i,r,s,l)}function Rh(n){const t=$t(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>rb(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),K0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$p(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$p(i)).join(",")),t.dt=e}return t.dt}function Ov(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!jk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!$P(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!kx(n.startAt,t.startAt)&&kx(n.endAt,t.endAt)}function Pv(n){return Zt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zd(n,t){return n.filters.filter(e=>e instanceof Ni&&e.field.isEqual(t))}function zx(n,t,e){let i=tb,r=!0;for(const s of zd(n,t)){let l=tb,m=!0;switch(s.op){case"<":case"<=":l=Sx(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,m=!1;break;case"!=":case"not-in":l=tb}Dx({value:i,inclusive:r},{value:l,inclusive:m})<0&&(i=l,r=m)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];Dx({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function KP(n,t,e){let i=_u,r=!0;for(const s of zd(n,t)){let l=_u,m=!0;switch(s.op){case">=":case">":l=zk(s.value),m=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,m=!1;break;case"!=":case"not-in":l=_u}Ax({value:i,inclusive:r},{value:l,inclusive:m})>0&&(i=l,r=m)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];Ax({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class Pf{constructor(t,e=null,i=[],r=[],s=null,l="F",m=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function sb(n,t,e,i,r,s,l,m){return new Pf(n,t,e,i,r,s,l,m)}function If(n){return new Pf(n)}function QP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ab(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Iv(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function jx(n){return null!==n.collectionGroup}function Tf(n){const t=$t(n);if(null===t.wt){t.wt=[];const e=Iv(t),i=ab(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new fg(e)),t.wt.push(new fg(Jo.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new fg(Jo.keyField(),s))}}}return t.wt}function Aa(n){const t=$t(n);if(!t._t)if("F"===t.limitType)t._t=Bx(t.path,t.collectionGroup,Tf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Tf(t))e.push(new fg(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;t._t=Bx(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function cb(n,t){t.getFirstInequalityField(),Iv(n);const e=n.filters.concat([t]);return new Pf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Tv(n,t,e){return new Pf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function mg(n,t){return Ov(Aa(n),Aa(t))&&n.limitType===t.limitType}function Hx(n){return`${Rh(Aa(n))}|lt:${n.limitType}`}function qx(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>Lx(i)).join(", ")}]`),K0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$p(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$p(i)).join(",")),`Target(${e})`}(Aa(n))}; limitType=${n.limitType})`}function Sv(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Zt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Tf(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,l){const m=qP(r,s,l);return r.inclusive?m<=0:m<0}(e.startAt,Tf(e),i)||e.endAt&&!function(r,s,l){const m=qP(r,s,l);return r.inclusive?m>=0:m>0}(e.endAt,Tf(e),i)));var e,i}function JP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XP(n){return(t,e)=>{let i=!1;for(const r of Tf(n)){const s=eI(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function eI(n,t,e){const i=n.field.isKeyField()?Zt.comparator(t.key,e.key):function(r,s,l){const m=s.data.field(r),v=l.data.field(r);return null!==m&&null!==v?Zp(m,v):ln()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class Sf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){gu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return ug(this.inner)}size(){return this.innerSize}}const tI=new $r(Zt.comparator);function ol(){return tI}const nI=new $r(Zt.comparator);function lb(...n){let t=nI;for(const e of n)t=t.insert(e.key,e);return t}function iI(n){let t=nI;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function jd(){return gg()}function Zx(){return gg()}function gg(){return new Sf(n=>n.toString(),(n,t)=>n.isEqual(t))}const rI=new $r(Zt.comparator),oI=new Gr(Zt.comparator);function hi(...n){let t=oI;for(const e of n)t=t.add(e);return t}const sI=new Gr(Qn);function $x(){return sI}function aI(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(t)?"-0":t}}function cI(n){return{integerValue:""+n}}function lI(n,t){return Mx(t)?cI(t):aI(n,t)}class Df{constructor(){this._=void 0}}function uI(n,t,e){return n instanceof Gp?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&xv(r)&&(r=qp(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Af?Wx(n,t):n instanceof Wp?Gk(n,t):function(i,r){const s=Gx(i,r),l=Yx(s)+Yx(i.gt);return Ix(s)&&Ix(i.gt)?cI(l):aI(i.serializer,l)}(n,t)}function dI(n,t,e){return n instanceof Af?Wx(n,t):n instanceof Wp?Gk(n,t):e}function Gx(n,t){return n instanceof Dv?Ix(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Gp extends Df{}class Af extends Df{constructor(t){super(),this.elements=t}}function Wx(n,t){const e=Kx(t);for(const i of n.elements)e.some(r=>Vd(r,i))||e.push(i);return{arrayValue:{values:e}}}class Wp extends Df{constructor(t){super(),this.elements=t}}function Gk(n,t){let e=Kx(t);for(const i of n.elements)e=e.filter(r=>!Vd(r,i));return{arrayValue:{values:e}}}class Dv extends Df{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Yx(n){return hs(n.integerValue||n.doubleValue)}function Kx(n){return dg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Av{constructor(t,e){this.field=t,this.transform=e}}class Yk{constructor(t,e){this.version=t,this.transformResults=e}}class Dr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Dr}static exists(t){return new Dr(void 0,t)}static updateTime(t){return new Dr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ub(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Yp{}function hI(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new yg(n.key,Dr.none()):new vg(n.key,n.data,Dr.none());{const e=n.data,i=Da.empty();let r=new Gr(Jo.comparator);for(let s of t.fields)if(!r.has(s)){let l=e.field(s);null===l&&s.length>1&&(s=s.popLast(),l=e.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Nh(n.key,i,new rl(r.toArray()),Dr.none())}}function L3(n,t,e){n instanceof vg?function(i,r,s){const l=i.value.clone(),m=Rv(i.fieldTransforms,r,s.transformResults);l.setAll(m),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):n instanceof Nh?function(i,r,s){if(!ub(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=Rv(i.fieldTransforms,r,s.transformResults),m=r.data;m.setAll(fI(i)),m.setAll(l),r.convertToFoundDocument(s.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function kv(n,t,e,i){return n instanceof vg?function(r,s,l,m){if(!ub(r.precondition,s))return l;const v=r.value.clone(),x=Qx(r.fieldTransforms,m,s);return v.setAll(x),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null}(n,t,e,i):n instanceof Nh?function(r,s,l,m){if(!ub(r.precondition,s))return l;const v=Qx(r.fieldTransforms,m,s),x=s.data;return x.setAll(fI(r)),x.setAll(v),s.convertToFoundDocument(s.version,x).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(S=>S.field))}(n,t,e,i):(l=e,ub(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function U3(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=Gx(i.transform,r||null);null!=s&&(null===e&&(e=Da.empty()),e.set(i.field,s))}return e||null}function _g(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Bp(e,i,(r,s)=>function Wk(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Af&&i instanceof Af||e instanceof Wp&&i instanceof Wp?Bp(e.elements,i.elements,Vd):e instanceof Dv&&i instanceof Dv?Vd(e.gt,i.gt):e instanceof Gp&&i instanceof Gp);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class vg extends Yp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nh extends Yp{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fI(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Rv(n,t,e){const i=new Map;Cn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],l=s.transform,m=t.data.field(s.field);i.set(s.field,dI(l,m,e[r]))}return i}function Qx(n,t,e){const i=new Map;for(const r of n){const s=r.transform,l=e.data.field(r.field);i.set(r.field,uI(s,l,t))}return i}class yg extends Yp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class db extends Yp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bg{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&L3(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=kv(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=kv(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Zx();return this.mutations.forEach(r=>{const s=t.get(r.key),l=s.overlayedDocument;let m=this.applyToLocalView(l,s.mutatedFields);m=e.has(r.key)?null:m;const v=hI(l,m);null!==v&&i.set(r.key,v),l.isValidDocument()||l.convertToNoDocument(Pn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hi())}isEqual(t){return this.batchId===t.batchId&&Bp(this.mutations,t.mutations,(e,i)=>_g(e,i))&&Bp(this.baseMutations,t.baseMutations,(e,i)=>_g(e,i))}}class Jx{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Cn(t.mutations.length===i.length);let r=rI;const s=t.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new Jx(t,e,i,r)}}class Xx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kk{constructor(t,e){this.count=t,this.unchangedNames=e}}var Es,zi;function Nv(n){switch(n){default:return ln();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function mI(n){if(void 0===n)return ao("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Es.OK:return tt.OK;case Es.CANCELLED:return tt.CANCELLED;case Es.UNKNOWN:return tt.UNKNOWN;case Es.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Es.INTERNAL:return tt.INTERNAL;case Es.UNAVAILABLE:return tt.UNAVAILABLE;case Es.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Es.NOT_FOUND:return tt.NOT_FOUND;case Es.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Es.ABORTED:return tt.ABORTED;case Es.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Es.DATA_LOSS:return tt.DATA_LOSS;default:return ln()}}(zi=Es||(Es={}))[zi.OK=0]="OK",zi[zi.CANCELLED=1]="CANCELLED",zi[zi.UNKNOWN=2]="UNKNOWN",zi[zi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zi[zi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zi[zi.NOT_FOUND=5]="NOT_FOUND",zi[zi.ALREADY_EXISTS=6]="ALREADY_EXISTS",zi[zi.PERMISSION_DENIED=7]="PERMISSION_DENIED",zi[zi.UNAUTHENTICATED=16]="UNAUTHENTICATED",zi[zi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zi[zi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zi[zi.ABORTED=10]="ABORTED",zi[zi.OUT_OF_RANGE=11]="OUT_OF_RANGE",zi[zi.UNIMPLEMENTED=12]="UNIMPLEMENTED",zi[zi.INTERNAL=13]="INTERNAL",zi[zi.UNAVAILABLE=14]="UNAVAILABLE",zi[zi.DATA_LOSS=15]="DATA_LOSS";class eM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fv}static getOrCreateInstance(){return null===Fv&&(Fv=new eM),Fv}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let Fv=null;function tM(){return new TextEncoder}const nM=new Qa([4294967295,4294967295],0);function iM(n){const t=tM().encode(n),e=new Qu;return e.update(t),new Uint8Array(e.digest())}function gI(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Qa([e,i],0),new Qa([r,s],0)]}class hb{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Cg(`Invalid padding: ${e}`);if(i<0)throw new Cg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Cg(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Cg(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Qa.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(Qa.fromNumber(i)));return 1===r.compare(nM)&&(r=new Qa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=iM(t),[i,r]=gI(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),l=new hb(s,r,e);return i.forEach(m=>l.insert(m)),l}insert(t){if(0===this.It)return;const e=iM(t),[i,r]=gI(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Cg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lv{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Uv.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Lv(Pn.min(),r,new $r(Qn),ol(),hi())}}class Uv{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Uv(i,e,hi(),hi(),hi())}}class wg{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class fb{constructor(t,e){this.targetId=t,this.Vt=e}}class rM{constructor(t,e,i=js.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class pb{constructor(){this.St=0,this.Dt=vI(),this.Ct=js.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=hi(),e=hi(),i=hi();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ln()}}),new Uv(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=vI()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oM{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ol(),this.zt=_I(),this.Wt=new $r(Qn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:ln()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const l=s.target;if(Pv(l))if(0===r){const m=new Zt(l.path);this.Yt(i,m,lo.newNoDocument(m,Pn.min()))}else Cn(1===r);else{const m=this.ie(i);if(m!==r){const v=this.re(t,m);0!==v&&(this.ee(i),this.Wt=this.Wt.insert(i,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=eM.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(x,S,L){var Z,te,ae,ve,Be,vt;const Dt={localCacheCount:S,existenceFilterCount:L.count},St=L.unchangedNames;return St&&(Dt.bloomFilter={applied:0===x,hashCount:null!==(Z=St?.hashCount)&&void 0!==Z?Z:0,bitmapLength:null!==(ve=null===(ae=null===(te=St?.bits)||void 0===te?void 0:te.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==ve?ve:0,padding:null!==(vt=null===(Be=St?.bits)||void 0===Be?void 0:Be.padding)&&void 0!==vt?vt:0}),Dt}(v,m,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:m=0}=i;let v,x;try{v=Ef(s).toUint8Array()}catch(S){if(S instanceof Ox)return pu("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{x=new hb(v,l,m)}catch(S){return pu(S instanceof Cg?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===x.It?1:r!==e-this.oe(t.targetId,x)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.vt(m)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,l)=>{const m=this.se(l);if(m){if(s.current&&Pv(m.target)){const v=new Zt(m.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,lo.newNoDocument(v,t))}s.Mt&&(e.set(l,s.Ot()),s.Ft())}});let i=hi();this.zt.forEach((s,l)=>{let m=!0;l.forEachWhile(v=>{const x=this.se(v);return!x||"TargetPurposeLimboResolution"===x.purpose||(m=!1,!1)}),m&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(t));const r=new Lv(t,e,this.Wt,this.jt,i);return this.jt=ol(),this.zt=_I(),this.Wt=new $r(Qn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new pb,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Gr(Qn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Ot("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new pb),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function _I(){return new $r(Zt.comparator)}function vI(){return new $r(Zt.comparator)}const Qk={asc:"ASCENDING",desc:"DESCENDING"},Jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yI={and:"AND",or:"OR"};class sM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function mb(n,t){return n.useProto3Json||K0(t)?t:{value:t}}function Kp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aM(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function bI(n,t){return Kp(n,t.toTimestamp())}function fs(n){return Cn(!!n),Pn.fromTimestamp(function(t){const e=Hp(t);return new co(e.seconds,e.nanos)}(n))}function gb(n,t){return(e=n,new Zi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function cM(n){const t=Zi.fromString(n);return Cn(Bv(t)),t}function Vv(n,t){return gb(n.databaseId,t.path)}function Xu(n,t){const e=cM(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Zt(CI(e))}function _b(n,t){return gb(n.databaseId,t)}function Ja(n){const t=cM(n);return 4===t.length?Zi.emptyPath():CI(t)}function Hd(n){return new Zi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CI(n){return Cn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wI(n,t,e){return{name:Vv(n,t),fields:e.value.mapValue.fields}}function Xk(n,t,e){const i=Xu(n,t.name),r=fs(t.updateTime),s=t.createTime?fs(t.createTime):Pn.min(),l=new Da({mapValue:{fields:t.fields}}),m=lo.newFoundDocument(i,r,s,l);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function Qp(n,t){let e;if(t instanceof vg)e={update:wI(n,t.key,t.value)};else if(t instanceof yg)e={delete:Vv(n,t.key)};else if(t instanceof Nh)e={update:wI(n,t.key,t.data),updateMask:iR(t.fieldMask)};else{if(!(t instanceof db))return ln();e={verify:Vv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Gp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Af)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dv)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw ln()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:bI(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ln()),e;var r}function MI(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Dr.updateTime(fs(r.updateTime)):void 0!==r.exists?Dr.exists(r.exists):Dr.none():Dr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,l){let m=null;"setToServerValue"in l?(Cn("REQUEST_TIME"===l.setToServerValue),m=new Gp):"appendMissingElements"in l?m=new Af(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Wp(l.removeAllFromArray.values||[]):"increment"in l?m=new Dv(s,l.increment):ln();const v=Jo.fromServerFormat(l.fieldPath);return new Av(v,m)}(n,r)):[];var r;if(t.update){const r=Xu(n,t.update.name),s=new Da({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new rl((t.updateMask.fieldPaths||[]).map(x=>Jo.fromServerFormat(x)));return new Nh(r,s,l,e,i)}return new vg(r,s,e,i)}if(t.delete){const r=Xu(n,t.delete);return new yg(r,e)}if(t.verify){const r=Xu(n,t.verify);return new db(r,e)}return ln()}function eR(n,t){return{documents:[_b(n,t.path)]}}function Jp(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=_b(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=_b(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0!==v.length)return uM(gr.create(v,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(v){if(0!==v.length)return v.map(x=>{return{field:kf((S=x).field),direction:PI(S.dir)};var S})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const l=mb(n,t.limit);var m,v;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function EI(n){let t=Ja(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Cn(1===i);const S=e.from[0];S.allDescendants?r=S.collectionId:t=t.child(S.collectionId)}let s=[];e.where&&(s=function(S){const L=OI(S);return L instanceof gr&&Nx(L)?L.getFilters():[L]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(S=>{return new fg(Rf((L=S).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let m=null;e.limit&&(m=function(S){let L;return L="object"==typeof S?S.value:S,K0(L)?null:L}(e.limit));let v=null;var S;e.startAt&&(v=new Bd((S=e.startAt).values||[],!!S.before));let x=null;return e.endAt&&(x=function(S){return new Bd(S.values||[],!S.before)}(e.endAt)),sb(t,r,l,s,m,"F",v,x)}function OI(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Rf(t.unaryFilter.field);return Ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Rf(t.unaryFilter.field);return Ni.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rf(t.unaryFilter.field);return Ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rf(t.unaryFilter.field);return Ni.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Ni.create(Rf((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return gr.create(t.compositeFilter.filters.map(e=>OI(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ln()}}(t.compositeFilter.op))}(n):ln();var t}function PI(n){return Qk[n]}function tR(n){return Jk[n]}function nR(n){return yI[n]}function kf(n){return{fieldPath:n.canonicalString()}}function Rf(n){return Jo.fromServerFormat(n.fieldPath)}function uM(n){return n instanceof Ni?function(t){if("=="===t.op){if(Tx(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NAN"}};if(zP(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Tx(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NAN"}};if(zP(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(t.field),op:tR(t.op),value:t.value}}}(n):n instanceof gr?function(t){const e=t.getFilters().map(i=>uM(i));return 1===e.length?e[0]:{compositeFilter:{op:nR(t.op),filters:e}}}(n):ln()}function iR(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Bv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ed{constructor(t,e,i,r,s=Pn.min(),l=Pn.min(),m=js.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(t){return new ed(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class rR{constructor(t){this.fe=t}}function TI(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:zv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Vv(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Kp(r,s.version.toTimestamp()),createTime:Kp(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:vu(t.version)};else{if(!t.isUnknownDocument())return ln();i.unknownDocument={path:e.path.toArray(),version:vu(t.version)}}var r,s;return i}function zv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function vu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Xp(n){const t=new co(n.seconds,n.nanoseconds);return Pn.fromTimestamp(t)}function Nf(n,t){const e=(t.baseMutations||[]).map(s=>MI(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>MI(n.fe,s)),r=co.fromMillis(t.localWriteTimeMs);return new bg(t.batchId,r,e,i)}function em(n){const t=Xp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):Pn.min();let i;var r;return void 0!==n.query.documents?(Cn(1===(r=n.query).documents.length),i=Aa(If(Ja(r.documents[0])))):i=Aa(EI(n.query)),new ed(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,js.fromBase64String(n.resumeToken))}function oR(n,t){const e=vu(t.snapshotVersion),i=vu(t.lastLimboFreeSnapshotVersion);let r;r=Pv(t.target)?eR(n.fe,t.target):Jp(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Rh(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function dM(n){const t=EI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tv(t,t.limit,"L"):t}function SI(n,t){return new Xx(t.largestBatchId,MI(n.fe,t.overlayMutation))}function DI(n,t){const e=t.path.lastSegment();return[n,Oc(t.path.popLast()),e]}function AI(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:vu(i.readTime),documentKey:Oc(i.documentKey.path),largestBatchId:i.largestBatchId}}class sR{getBundleMetadata(t,e){return hM(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return hM(t).put({bundleId:(i=e).id,createTime:vu(fs(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return fM(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:dM(r.bundledQuery),readTime:Xp(r.readTime)};var r})}saveNamedQuery(t,e){return fM(t).put({name:(i=e).name,readTime:vu(fs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function hM(n){return zs(n,"bundles")}function fM(n){return zs(n,"namedQueries")}class vb{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new vb(t,e.uid||"")}getOverlay(t,e){return xg(t).get(DI(this.userId,e)).next(i=>i?SI(this.serializer,i):null)}getOverlays(t,e){const i=jd();return Ye.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,l)=>{const m=new Xx(e,l);r.push(this.we(t,m))}),Ye.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add(Oc(l.getCollectionPath())));const s=[];return r.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(xg(t).J("collectionPathOverlayIndex",m))}),Ye.waitFor(s)}getOverlaysForCollection(t,e,i){const r=jd(),s=Oc(e),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xg(t).j("collectionPathOverlayIndex",l).next(m=>{for(const v of m){const x=SI(this.serializer,v);r.set(x.getKey(),x)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=jd();let l;const m=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return xg(t).X({index:"collectionGroupOverlayIndex",range:m},(v,x,S)=>{const L=SI(this.serializer,x);s.size()<r||L.largestBatchId===l?(s.set(L.getKey(),L),l=L.largestBatchId):S.done()}).next(()=>s)}we(t,e){return xg(t).put(function(i,r,s){const[l,m,v]=DI(r,s.mutation.key);return{userId:r,collectionPath:m,documentId:v,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Qp(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function xg(n){return zs(n,"documentOverlays")}class Ff{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(hs(t.integerValue));else if("doubleValue"in t){const i=hs(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),cg(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Ef(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?jP(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):ln()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),Zt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function aR(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function kI(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=aR(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Ff.Ve=new Ff;class RI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=kI(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=kI(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class cR{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class NI{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Mg{constructor(){this.je=new RI,this.ze=new cR(this.je),this.We=new NI(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Lf{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Lf(this.indexId,this.documentKey,this.arrayValue,i)}}function Fh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=FI(n.arrayValue,t.arrayValue),0!==e?e:(e=FI(n.directionalValue,t.directionalValue),0!==e?e:Zt.comparator(n.documentKey,t.documentKey)))}function FI(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class lR{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Cn(t.collectionGroup===this.collectionId);const e=yx(t);if(void 0!==e&&!this.en(e))return!1;const i=zp(t);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[s];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function uR(n){var t,e;if(Cn(n instanceof Ni||n instanceof gr),n instanceof Ni){if(n instanceof ob){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Ni.create(n.field,"==",s)))||[];return gr.create(r,"or")}return n}const i=n.filters.map(r=>uR(r));return gr.create(i,n.op)}function LI(n){if(0===n.getFilters().length)return[];const t=BI(uR(n));return Cn(dR(t)),UI(t)||VI(t)?[t]:t.getFilters()}function UI(n){return n instanceof Ni}function VI(n){return n instanceof gr&&Nx(n)}function dR(n){return UI(n)||VI(n)||function(t){if(t instanceof gr&&Rx(t)){for(const e of t.getFilters())if(!UI(e)&&!VI(e))return!1;return!0}return!1}(n)}function BI(n){if(Cn(n instanceof Ni||n instanceof gr),n instanceof Ni)return n;if(1===n.filters.length)return BI(n.filters[0]);const t=n.filters.map(i=>BI(i));let e=gr.create(t,n.op);return e=pM(e),dR(e)?e:(Cn(e instanceof gr),Cn(pg(e)),Cn(e.filters.length>1),e.filters.reduce((i,r)=>zI(i,r)))}function zI(n,t){let e;return Cn(n instanceof Ni||n instanceof gr),Cn(t instanceof Ni||t instanceof gr),e=n instanceof Ni?t instanceof Ni?gr.create([n,t],"and"):hR(n,t):t instanceof Ni?hR(t,n):function(i,r){if(Cn(i.filters.length>0&&r.filters.length>0),pg(i)&&pg(r))return GP(i,r.getFilters());const s=Rx(i)?i:r,l=Rx(i)?r:i,m=s.filters.map(v=>zI(v,l));return gr.create(m,"or")}(n,t),pM(e)}function hR(n,t){if(pg(t))return GP(t,n.getFilters());{const e=t.filters.map(i=>zI(n,i));return gr.create(e,"or")}}function pM(n){if(Cn(n instanceof Ni||n instanceof gr),n instanceof Ni)return n;const t=n.getFilters();if(1===t.length)return pM(t[0]);if(Fx(n))return n;const e=t.map(r=>pM(r)),i=[];return e.forEach(r=>{r instanceof Ni?i.push(r):r instanceof gr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:gr.create(i,n.op)}class z3{constructor(){this.rn=new jI}addToCollectionParentIndex(t,e){return this.rn.add(e),Ye.resolve()}getCollectionParents(t,e){return Ye.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Ye.resolve()}deleteFieldIndex(t,e){return Ye.resolve()}getDocumentsMatchingTarget(t,e){return Ye.resolve(null)}getIndexType(t,e){return Ye.resolve(0)}getFieldIndexes(t,e){return Ye.resolve([])}getNextCollectionGroupToUpdate(t){return Ye.resolve(null)}getMinOffset(t,e){return Ye.resolve(kl.min())}getMinOffsetFromCollectionGroup(t,e){return Ye.resolve(kl.min())}updateCollectionGroup(t,e,i){return Ye.resolve()}updateIndexEntries(t,e){return Ye.resolve()}}class jI{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Gr(Zi.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Gr(Zi.comparator)).toArray()}}const jv=new Uint8Array(0);class mM{constructor(t,e){this.user=t,this.databaseId=e,this.on=new jI,this.un=new Sf(i=>Rh(i),(i,r)=>Ov(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:Oc(r)};return gM(t).put(s)}return Ye.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[vx(e),""],!1,!0);return gM(t).j(r).next(s=>{for(const l of s){if(l.collectionId!==e)break;i.push(Ud(l.parent))}return i})}addFieldIndex(t,e){const i=tm(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete r.indexId;const s=i.add(r);if(e.indexState){const l=qv(t);return s.next(m=>{l.put(AI(m,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=tm(t),r=qv(t),s=Hv(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Hv(t);let r=!0;const s=new Map;return Ye.forEach(this.cn(e),l=>this.an(t,l).next(m=>{r&&(r=!!m),s.set(l,m)})).next(()=>{if(r){let l=hi();const m=[];return Ye.forEach(s,(v,x)=>{var S;Ot("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(St=>`${St.fieldPath}:${St.kind}`).join(",")}`} to execute ${Rh(e)}`);const L=function(St,Lt){const Dn=yx(Lt);if(void 0===Dn)return null;for(const Rn of zd(St,Dn.fieldPath))switch(Rn.op){case"array-contains-any":return Rn.value.arrayValue.values||[];case"array-contains":return[Rn.value]}return null}(x,v),Z=function(St,Lt){const Dn=new Map;for(const Rn of zp(Lt))for(const ji of zd(St,Rn.fieldPath))switch(ji.op){case"==":case"in":Dn.set(Rn.fieldPath.canonicalString(),ji.value);break;case"not-in":case"!=":return Dn.set(Rn.fieldPath.canonicalString(),ji.value),Array.from(Dn.values())}return null}(x,v),te=function(St,Lt){const Dn=[];let Rn=!0;for(const ji of zp(Lt)){const is=0===ji.kind?zx(St,ji.fieldPath,St.startAt):KP(St,ji.fieldPath,St.startAt);Dn.push(is.value),Rn&&(Rn=is.inclusive)}return new Bd(Dn,Rn)}(x,v),ae=function(St,Lt){const Dn=[];let Rn=!0;for(const ji of zp(Lt)){const is=0===ji.kind?KP(St,ji.fieldPath,St.endAt):zx(St,ji.fieldPath,St.endAt);Dn.push(is.value),Rn&&(Rn=is.inclusive)}return new Bd(Dn,Rn)}(x,v),ve=this.hn(v,x,te),Be=this.hn(v,x,ae),vt=this.ln(v,x,Z),Dt=this.fn(v.indexId,L,ve,te.inclusive,Be,ae.inclusive,vt);return Ye.forEach(Dt,St=>i.H(St,e.limit).next(Lt=>{Lt.forEach(Dn=>{const Rn=Zt.fromSegments(Dn.documentKey);l.has(Rn)||(l=l.add(Rn),m.push(Rn))})}))}).next(()=>m)}return Ye.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:LI(gr.create(t.filters,"and")).map(i=>Bx(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,l,m){const v=(null!=e?e.length:1)*Math.max(i.length,s.length),x=v/(null!=e?e.length:1),S=[];for(let L=0;L<v;++L){const Z=e?this.dn(e[L/x]):jv,te=this.wn(t,Z,i[L%x],r),ae=this._n(t,Z,s[L%x],l),ve=m.map(Be=>this.wn(t,Z,Be,!0));S.push(...this.createRange(te,ae,ve))}return S}wn(t,e,i,r){const s=new Lf(t,Zt.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new Lf(t,Zt.empty(),e,i);return r?s.Je():s}an(t,e){const i=new lR(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let l=null;for(const m of s)i.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(t,e){let i=2;const r=this.cn(e);return Ye.forEach(r,s=>this.an(t,s).next(l=>{l?0!==i&&l.fields.length<function(m){let v=new Gr(Jo.comparator),x=!1;for(const S of m.filters)for(const L of S.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?x=!0:v=v.add(L.field));for(const S of m.orderBy)S.field.isKeyField()||(v=v.add(S.field));return v.size+(x?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new Mg;for(const r of zp(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);Ff.Ve._e(s,l)}return i.Qe()}dn(t){const e=new Mg;return Ff.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new Mg;return Ff.Ve._e(Ju(this.databaseId,e),i.He(function(r){const s=zp(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new Mg);let s=0;for(const l of zp(t)){const m=i[s++];for(const v of r)if(this.yn(e,l.fieldPath)&&dg(m))r=this.pn(r,l,m);else{const x=v.He(l.kind);Ff.Ve._e(m,x)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const l of i.arrayValue.values||[])for(const m of r){const v=new Mg;v.seed(m.Qe()),Ff.Ve._e(l,v.He(e.kind)),s.push(v)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof Ni&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=tm(t),r=qv(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const l=[];return Ye.forEach(s,m=>r.get([m.indexId,this.uid]).next(v=>{l.push(function(x,S){const L=S?new yv(S.sequenceNumber,new kl(Xp(S.readTime),new Zt(Ud(S.documentKey)),S.largestBatchId)):yv.empty(),Z=x.fields.map(([te,ae])=>new W0(Jo.fromServerFormat(te),ae));return new G0(x.indexId,x.collectionGroup,Z,L)}(m,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Qn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=tm(t),s=qv(t);return this.Tn(t).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(m=>Ye.forEach(m,v=>s.put(AI(v.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return Ye.forEach(e,(r,s)=>{const l=i.get(r.collectionGroup);return(l?Ye.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Ye.forEach(m,v=>this.En(t,r,v).next(x=>{const S=this.An(s,v);return x.isEqual(S)?Ye.resolve():this.vn(t,s,v,x,S)}))))})}Rn(t,e,i,r){return Hv(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return Hv(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=Hv(t);let s=new Gr(Fh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(l,m)=>{s=s.add(new Lf(i.indexId,e,m.arrayValue,m.directionalValue))}).next(()=>s)}An(t,e){let i=new Gr(Fh);const r=this.mn(e,t);if(null==r)return i;const s=yx(e);if(null!=s){const l=t.data.field(s.fieldPath);if(dg(l))for(const m of l.arrayValue.values||[])i=i.add(new Lf(e.indexId,t.key,this.dn(m),r))}else i=i.add(new Lf(e.indexId,t.key,jv,r));return i}vn(t,e,i,r,s){Ot("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(m,v,x,S,L){const Z=m.getIterator(),te=v.getIterator();let ae=jp(Z),ve=jp(te);for(;ae||ve;){let Be=!1,vt=!1;if(ae&&ve){const Dt=x(ae,ve);Dt<0?vt=!0:Dt>0&&(Be=!0)}else null!=ae?vt=!0:Be=!0;Be?(S(ve),ve=jp(te)):vt?(L(ae),ae=jp(Z)):(ae=jp(Z),ve=jp(te))}}(r,s,Fh,m=>{l.push(this.Rn(t,e,i,m))},m=>{l.push(this.Pn(t,e,i,m))}),Ye.waitFor(l)}Tn(t){let e=1;return qv(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,m)=>Fh(l,m)).filter((l,m,v)=>!m||0!==Fh(l,v[m-1]));const r=[];r.push(t);for(const l of i){const m=Fh(l,t),v=Fh(l,e);if(0===m)r[0]=t.Je();else if(m>0&&v<0)r.push(l),r.push(l.Je());else if(v>0)break}r.push(e);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,jv,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,jv,[]]))}return s}bn(t,e){return Fh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(fR)}getMinOffset(t,e){return Ye.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||ln())).next(fR)}}function gM(n){return zs(n,"collectionParents")}function Hv(n){return zs(n,"indexEntries")}function tm(n){return zs(n,"indexConfiguration")}function qv(n){return zs(n,"indexState")}function fR(n){Cn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;bx(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new kl(t.readTime,t.documentKey,e)}const pR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xa{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Xa(t,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _M(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(e.batchId);let m=0;const v=i.X({range:l},(S,L,Z)=>(m++,Z.delete()));s.push(v.next(()=>{Cn(1===m)}));const x=[];for(const S of e.mutations){const L=TP(t,S.key.path,e.batchId);s.push(r.delete(L)),x.push(S.key)}return Ye.waitFor(s).next(()=>x)}function yb(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ln();t=n.noDocument}return JSON.stringify(t).length}Xa.DEFAULT_COLLECTION_PERCENTILE=10,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xa.DEFAULT=new Xa(41943040,Xa.DEFAULT_COLLECTION_PERCENTILE,Xa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xa.DISABLED=new Xa(-1,0,0);class bb{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Cn(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new bb(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nm(t).X({index:"userMutationsIndex",range:i},(r,s,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Eg(t),l=nm(t);return l.add({}).next(m=>{Cn("number"==typeof m);const v=new bg(m,e,i,r),x=function(Z,te,ae){const ve=ae.baseMutations.map(vt=>Qp(Z.fe,vt)),Be=ae.mutations.map(vt=>Qp(Z.fe,vt));return{userId:te,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:ve,mutations:Be}}(this.serializer,this.userId,v),S=[];let L=new Gr((Z,te)=>Qn(Z.canonicalString(),te.canonicalString()));for(const Z of r){const te=TP(this.userId,Z.key.path,m);L=L.add(Z.key.path.popLast()),S.push(l.put(x)),S.push(s.put(te,Q0))}return L.forEach(Z=>{S.push(this.indexManager.addToCollectionParentIndex(t,Z))}),t.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),Ye.waitFor(S).next(()=>v)})}lookupMutationBatch(t,e){return nm(t).get(e).next(i=>i?(Cn(i.userId===this.userId),Nf(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Ye.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return nm(t).X({index:"userMutationsIndex",range:r},(l,m,v)=>{m.userId===this.userId&&(Cn(m.batchId>=i),s=Nf(this.serializer,m)),v.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return nm(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nm(t).j("userMutationsIndex",e).next(i=>i.map(r=>Nf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Ah(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Eg(t).X({range:r},(l,m,v)=>{const[x,S,L]=l,Z=Ud(S);if(x===this.userId&&e.path.isEqual(Z))return nm(t).get(L).next(te=>{if(!te)throw ln();Cn(te.userId===this.userId),s.push(Nf(this.serializer,te))});v.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gr(Qn);const r=[];return e.forEach(s=>{const l=Ah(this.userId,s.path),m=IDBKeyRange.lowerBound(l),v=Eg(t).X({range:m},(x,S,L)=>{const[Z,te,ae]=x,ve=Ud(te);Z===this.userId&&s.path.isEqual(ve)?i=i.add(ae):L.done()});r.push(v)}),Ye.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Ah(this.userId,i),l=IDBKeyRange.lowerBound(s);let m=new Gr(Qn);return Eg(t).X({range:l},(v,x,S)=>{const[L,Z,te]=v,ae=Ud(Z);L===this.userId&&i.isPrefixOf(ae)?ae.length===r&&(m=m.add(te)):S.done()}).next(()=>this.Dn(t,m))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(nm(t).get(s).next(l=>{if(null===l)throw ln();Cn(l.userId===this.userId),i.push(Nf(this.serializer,l))}))}),Ye.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return _M(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Ye.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ye.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Eg(t).X({range:i},(s,l,m)=>{if(s[0]===this.userId){const v=Ud(s[1]);r.push(v)}else m.done()}).next(()=>{Cn(0===r.length)})})}containsKey(t,e){return HI(t,this.userId,e)}xn(t){return Og(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HI(n,t,e){const i=Ah(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Eg(n).X({range:s,Y:!0},(m,v,x)=>{const[S,L,Z]=m;S===t&&L===r&&(l=!0),x.done()}).next(()=>l)}function nm(n){return zs(n,"mutations")}function Eg(n){return zs(n,"documentMutations")}function Og(n){return zs(n,"mutationQueues")}class qd{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new qd(0)}static Mn(){return new qd(-1)}}class mR{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new qd(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Pn.fromTimestamp(new co(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Pg(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Cn(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Pg(t).X((l,m)=>{const v=em(m);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(r++,s.push(this.removeTargetData(t,v)))}).next(()=>Ye.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Pg(t).X((i,r)=>{const s=em(r);e(s)})}$n(t){return qI(t).get("targetGlobalKey").next(e=>(Cn(null!==e),e))}On(t,e){return qI(t).put("targetGlobalKey",e)}Fn(t,e){return Pg(t).put(oR(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Rh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Pg(t).X({range:r,index:"queryTargetsIndex"},(l,m,v)=>{const x=em(m);Ov(e,x.target)&&(s=x,v.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Uf(t);return e.forEach(l=>{const m=Oc(l.path);r.push(s.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(t,i,l))}),Ye.waitFor(r)}removeMatchingKeys(t,e,i){const r=Uf(t);return Ye.forEach(e,s=>{const l=Oc(s.path);return Ye.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Uf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Uf(t);let s=hi();return r.X({range:i,Y:!0},(l,m,v)=>{const x=Ud(l[1]),S=new Zt(x);s=s.add(S)}).next(()=>s)}containsKey(t,e){const i=Oc(e.path),r=IDBKeyRange.bound([i],[vx(i)],!1,!0);let s=0;return Uf(t).X({index:"documentTargetsIndex",Y:!0,range:r},([l,m],v,x)=>{0!==l&&(s++,x.done())}).next(()=>s>0)}le(t,e){return Pg(t).get(e).next(i=>i?em(i):null)}}function Pg(n){return zs(n,"targets")}function qI(n){return zs(n,"targetGlobal")}function Uf(n){return zs(n,"targetDocuments")}function ZI([n,t],[e,i]){const r=Qn(n,e);return 0===r?Qn(t,i):r}class gR{constructor(t){this.Ln=t,this.buffer=new Gr(ZI),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();ZI(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Cb{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Ot("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,dt.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Ld(i)?Ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Dh(i)}yield e.Qn(3e5)}))}}class _R{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ye.resolve(Ec.ct);const i=new gR(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(pR)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pR):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,l,m,v,x;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),r=this.params.maximumSequenceNumbersToCollect):r=L,l=Date.now(),this.nthSequenceNumber(t,r))).next(L=>(i=L,m=Date.now(),this.removeTargets(t,i,e))).next(L=>(s=L,v=Date.now(),this.removeOrphanedDocuments(t,i))).next(L=>(x=Date.now(),fx()<=ju.in.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-S}ms\n\tDetermined least recently used ${r} in `+(m-l)+`ms\n\tRemoved ${s} targets in `+(v-m)+`ms\n\tRemoved ${L} documents in `+(x-v)+`ms\nTotal Duration: ${x-S}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:L})))}}class vR{constructor(t,e){this.db=t,this.garbageCollector=function $I(n,t){return new _R(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return wb(t,i)}removeReference(t,e,i){return wb(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return wb(t,e)}Xn(t,e){return function(i,r){let s=!1;return Og(i).Z(l=>HI(i,l,r).next(m=>(m&&(s=!0),Ye.resolve(!m)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(l,m)=>{if(m<=e){const v=this.Xn(t,l).next(x=>{if(!x)return s++,i.getEntry(t,l).next(()=>(i.removeEntry(l,Pn.min()),Uf(t).delete([0,Oc(l.path)])))});r.push(v)}}).next(()=>Ye.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return wb(t,e)}Yn(t,e){const i=Uf(t);let r,s=Ec.ct;return i.X({index:"documentTargetsIndex"},([l,m],{path:v,sequenceNumber:x})=>{0===l?(s!==Ec.ct&&e(new Zt(Ud(r)),s),s=x,r=v):s=Ec.ct}).next(()=>{s!==Ec.ct&&e(new Zt(Ud(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function wb(n,t){return Uf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Oc(t.path),sequenceNumber:i}));var i}class GI{constructor(){this.changes=new Sf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,lo.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ye.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yR{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Vf(t).put(i)}removeEntry(t,e,i){return Vf(t).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],zv(s),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=lo.newInvalidDocument(e);return Vf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(im(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:lo.newInvalidDocument(e)};return Vf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(im(e))},(r,s)=>{i={document:this.ts(e,s),size:yb(s)}}).next(()=>i)}getEntries(t,e){let i=ol();return this.ns(t,e,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(t,e){let i=ol(),r=new $r(Zt.comparator);return this.ns(t,e,(s,l)=>{const m=this.ts(s,l);i=i.insert(s,m),r=r.insert(s,yb(l))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Ye.resolve();let r=new Gr(QI);e.forEach(v=>r=r.add(v));const s=IDBKeyRange.bound(im(r.first()),im(r.last())),l=r.getIterator();let m=l.getNext();return Vf(t).X({index:"documentKeyIndex",range:s},(v,x,S)=>{const L=Zt.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;m&&QI(m,L)<0;)i(m,null),m=l.getNext();m&&m.isEqual(L)&&(i(m,x),m=l.hasNext()?l.getNext():null),m?S.G(im(m)):S.done()}).next(()=>{for(;m;)i(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,l=[s.popLast().toArray(),s.lastSegment(),zv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vf(t).j(IDBKeyRange.bound(l,m,!0)).next(v=>{let x=ol();for(const S of v){const L=this.ts(Zt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);L.isFoundDocument()&&(Sv(e,L)||r.has(L.key))&&(x=x.insert(L.key,L))}return x})}getAllFromCollectionGroup(t,e,i,r){let s=ol();const l=KI(e,i),m=KI(e,kl.max());return Vf(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(v,x,S)=>{const L=this.ts(Zt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);s=s.insert(L.key,L),s.size===r&&S.done()}).next(()=>s)}newChangeBuffer(t){return new bR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return YI(t).get("remoteDocumentGlobalKey").next(e=>(Cn(!!e),e))}Zn(t,e){return YI(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function II(n,t){let e;if(t.document)e=Xk(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Zt.fromSegments(t.noDocument.path),r=Xp(t.noDocument.readTime);e=lo.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ln();{const i=Zt.fromSegments(t.unknownDocument.path),r=Xp(t.unknownDocument.version);e=lo.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new co(i[0],i[1]);return Pn.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Pn.min()))return i}return lo.newInvalidDocument(t)}}function WI(n){return new yR(n)}class bR extends GI{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Sf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Gr((s,l)=>Qn(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const m=this.us.get(s);if(e.push(this.os.removeEntry(t,s,m.readTime)),l.isValidDocument()){const v=TI(this.os.serializer,l);r=r.add(s.path.popLast());const x=yb(v);i+=x-m.size,e.push(this.os.addEntry(t,s,v))}else if(i-=m.size,this.trackRemovals){const v=TI(this.os.serializer,l.convertToNoDocument(Pn.min()));e.push(this.os.addEntry(t,s,v))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),Ye.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function YI(n){return zs(n,"remoteDocumentGlobal")}function Vf(n){return zs(n,"remoteDocumentsV14")}function im(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KI(n,t){const e=t.documentKey.path.toArray();return[n,zv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function QI(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Qn(e[s],i[s]),r)return r;return r=Qn(e.length,i.length),r||(r=Qn(e[e.length-2],i[i.length-2]),r||Qn(e[e.length-1],i[i.length-1]))}class JI{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class vM{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&kv(i.mutation,r,rl.empty(),co.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hi()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hi()){const r=jd();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let l=lb();return s.forEach((m,v)=>{l=l.insert(m,v.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=jd();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hi()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((l,m)=>{e.set(l,m)})})}computeViews(t,e,i,r){let s=ol();const l=gg(),m=gg();return e.forEach((v,x)=>{const S=i.get(x.key);r.has(x.key)&&(void 0===S||S.mutation instanceof Nh)?s=s.insert(x.key,x):void 0!==S?(l.set(x.key,S.mutation.getFieldMask()),kv(S.mutation,x,S.mutation.getFieldMask(),co.now())):l.set(x.key,rl.empty())}),this.recalculateAndSaveOverlays(t,s).next(v=>(v.forEach((x,S)=>l.set(x,S)),e.forEach((x,S)=>{var L;return m.set(x,new JI(S,null!==(L=l.get(x))&&void 0!==L?L:null))}),m))}recalculateAndSaveOverlays(t,e){const i=gg();let r=new $r((l,m)=>l-m),s=hi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const m of l)m.keys().forEach(v=>{const x=e.get(v);if(null===x)return;let S=i.get(v)||rl.empty();S=m.applyToLocalView(x,S),i.set(v,S);const L=(r.get(m.batchId)||hi()).add(v);r=r.insert(m.batchId,L)})}).next(()=>{const l=[],m=r.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),x=v.key,S=v.value,L=Zx();S.forEach(Z=>{if(!s.has(Z)){const te=hI(e.get(Z),i.get(Z));null!==te&&L.set(Z,te),s=s.add(Z)}}),l.push(this.documentOverlayCache.saveOverlays(t,x,L))}return Ye.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Zt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):jx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Ye.resolve(jd());let m=-1,v=s;return l.next(x=>Ye.forEach(x,(S,L)=>(m<L.largestBatchId&&(m=L.largestBatchId),s.get(S)?Ye.resolve():this.remoteDocumentCache.getEntry(t,S).next(Z=>{v=v.insert(S,Z)}))).next(()=>this.populateOverlays(t,x,s)).next(()=>this.computeViews(t,v,x,hi())).next(S=>({batchId:m,changes:iI(S)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Zt(e)).next(i=>{let r=lb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=lb();return this.indexManager.getCollectionParents(t,r).next(l=>Ye.forEach(l,m=>{const v=(x=e,S=m.child(r),new Pf(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,S;return this.getDocumentsMatchingCollectionQuery(t,v,i).next(x=>{x.forEach((S,L)=>{s=s.insert(S,L)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((m,v)=>{const x=v.getKey();null===s.get(x)&&(s=s.insert(x,lo.newInvalidDocument(x)))});let l=lb();return s.forEach((m,v)=>{const x=r.get(m);void 0!==x&&kv(x.mutation,v,rl.empty(),co.now()),Sv(e,v)&&(l=l.insert(m,v))}),l})}}class j3{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Ye.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:fs(i.createTime)}),Ye.resolve()}getNamedQuery(t,e){return Ye.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:dM(i.bundledQuery),readTime:fs(i.readTime)}),Ye.resolve();var i}}class sl{constructor(){this.overlays=new $r(Zt.comparator),this.ls=new Map}getOverlay(t,e){return Ye.resolve(this.overlays.get(e))}getOverlays(t,e){const i=jd();return Ye.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),Ye.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Ye.resolve()}getOverlaysForCollection(t,e,i){const r=jd(),s=e.length+1,l=new Zt(e.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const v=m.getNext().value,x=v.getKey();if(!e.isPrefixOf(x.path))break;x.path.length===s&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Ye.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new $r((x,S)=>x-S);const l=this.overlays.getIterator();for(;l.hasNext();){const x=l.getNext().value;if(x.getKey().getCollectionGroup()===e&&x.largestBatchId>i){let S=s.get(x.largestBatchId);null===S&&(S=jd(),s=s.insert(x.largestBatchId,S)),S.set(x.getKey(),x)}}const m=jd(),v=s.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((x,S)=>m.set(x,S)),!(m.size()>=r)););return Ye.resolve(m)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Xx(e,i));let s=this.ls.get(e);void 0===s&&(s=hi(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class xb{constructor(){this.fs=new Gr(Hs.ds),this.ws=new Gr(Hs._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Hs(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Hs(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Zt(new Zi([])),i=new Hs(e,t),r=new Hs(e,t+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Zt(new Zi([])),i=new Hs(e,t),r=new Hs(e,t+1);let s=hi();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(t){const e=new Hs(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Hs{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Zt.comparator(t.key,e.key)||Qn(t.As,e.As)}static _s(t,e){return Qn(t.As,e.As)||Zt.comparator(t.key,e.key)}}class CR{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Gr(Hs.ds)}checkEmpty(t){return Ye.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const l=new bg(s,e,i,r);this.mutationQueue.push(l);for(const m of r)this.Rs=this.Rs.add(new Hs(m.key,s)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Ye.resolve(l)}lookupMutationBatch(t,e){return Ye.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return Ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Hs(e,0),r=new Hs(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const m=this.Ps(l.As);s.push(m)}),Ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Gr(Qn);return e.forEach(r=>{const s=new Hs(r,0),l=new Hs(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],m=>{i=i.add(m.As)})}),Ye.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Zt.isDocumentKey(s)||(s=s.child(""));const l=new Hs(new Zt(s),0);let m=new Gr(Qn);return this.Rs.forEachWhile(v=>{const x=v.key.path;return!!i.isPrefixOf(x)&&(x.length===r&&(m=m.add(v.As)),!0)},l),Ye.resolve(this.Vs(m))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Cn(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ye.forEach(e.mutations,r=>{const s=new Hs(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Hs(e,0),r=this.Rs.firstAfterOrEqual(i);return Ye.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ye.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class XI{constructor(t){this.Ds=t,this.docs=new $r(Zt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ye.resolve(i?i.document.mutableCopy():lo.newInvalidDocument(e))}getEntries(t,e){let i=ol();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():lo.newInvalidDocument(r))}),Ye.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ol();const l=e.path,m=new Zt(l.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:x,value:{document:S}}=v.getNext();if(!l.isPrefixOf(x.path))break;x.path.length>l.length+1||bx(xP(S),i)<=0||(r.has(S.key)||Sv(e,S))&&(s=s.insert(S.key,S.mutableCopy()))}return Ye.resolve(s)}getAllFromCollectionGroup(t,e,i,r){ln()}Cs(t,e){return Ye.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new wR(this)}getSize(t){return Ye.resolve(this.size)}}class wR extends GI{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Ye.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class yM{constructor(t){this.persistence=t,this.xs=new Sf(e=>Rh(e),Ov),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new xb,this.targetCount=0,this.Ms=qd.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Ye.resolve()}getLastRemoteSnapshotVersion(t){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ye.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Ye.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new qd(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Ye.resolve()}updateTargetData(t,e){return this.Fn(e),Ye.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=e&&null===i.get(m.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(t,m.targetId)),r++)}),Ye.waitFor(s).next(()=>r)}getTargetCount(t){return Ye.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Ye.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Ye.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(l=>{s.push(r.markPotentiallyOrphaned(t,l))}),Ye.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Ye.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Ye.resolve(i)}containsKey(t,e){return Ye.resolve(this.ks.containsKey(e))}}class Zd{constructor(t,e){this.$s={},this.overlays={},this.Os=new Ec(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new yM(this),this.indexManager=new z3,this.remoteDocumentCache=new XI(i=>this.referenceDelegate.Ls(i)),this.serializer=new rR(e),this.qs=new j3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new sl,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new CR(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Ot("MemoryPersistence","Starting transaction:",t);const r=new eT(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return Ye.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class eT extends wx{constructor(t){super(),this.currentSequenceNumber=t}}class Ig{constructor(t){this.persistence=t,this.Qs=new xb,this.js=null}static zs(t){return new Ig(t)}get Ws(){if(this.js)return this.js;throw ln()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Ye.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Ye.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Ye.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Ws,i=>{const r=Zt.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,Pn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Ye.or([()=>Ye.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class xR{constructor(t){this.serializer=t}O(t,e,i,r){const s=new bv("createOrUpgrade",e);var m;i<1&&r>=1&&(t.createObjectStore("owner"),(m=t).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IP,{unique:!0}),m.createObjectStore("documentMutations"),MR(t),function(m){m.createObjectStore("remoteDocuments")}(t));let l=Ye.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(t),MR(t)),l=l.next(()=>function(m){const v=m.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",x)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(m,v){return v.store("mutations").j().next(x=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IP,{unique:!0});const S=v.store("mutations"),L=x.map(Z=>S.put(Z));return Ye.waitFor(L)})}(t,s))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(t,s))),i<9&&r>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:Fk});v.createIndex("collectionPathOverlayIndex",Lk,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",Cv,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:J0});v.createIndex("documentKeyIndex",il),v.createIndex("collectionGroupIndex",N3)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(t,s))),i<15&&r>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:kP}).createIndex("sequenceNumberIndex",RP,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:NP}).createIndex("documentKeyIndex",Nk,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=yb(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Ye.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(m=>Ye.forEach(m,v=>{Cn(v.userId===s.userId);const x=Nf(this.serializer,v);return _M(t,s.userId,x).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,m)=>{const v=new Zi(l),x=[0,Oc(v)];s.push(e.get(x).next(S=>S?Ye.resolve():e.put({targetId:0,path:Oc(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ye.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:AP});const i=e.store("collectionParents"),r=new jI,s=l=>{if(r.add(l)){const m=l.lastSegment(),v=l.popLast();return i.put({collectionId:m,parent:Oc(v)})}};return e.store("remoteDocuments").X({Y:!0},(l,m)=>{const v=new Zi(l);return s(v.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,m,v],x)=>{const S=Ud(m);return s(S.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=em(r),l=oR(this.serializer,s);return e.put(l)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,l)=>{const m=e.store("remoteDocumentsV14"),v=(x=l,x.document?new Zt(Zi.fromString(x.document.name).popFirst(5)):x.noDocument?Zt.fromSegments(x.noDocument.path):x.unknownDocument?Zt.fromSegments(x.unknownDocument.path):ln()).path.toArray();var x;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(m.put(S))}).next(()=>Ye.waitFor(r))}si(t,e){const i=e.store("mutations"),r=WI(this.serializer),s=new Zd(Ig.zs,this.serializer.fe);return i.j().next(l=>{const m=new Map;return l.forEach(v=>{var x;let S=null!==(x=m.get(v.userId))&&void 0!==x?x:hi();Nf(this.serializer,v).keys().forEach(L=>S=S.add(L)),m.set(v.userId,S)}),Ye.forEach(m,(v,x)=>{const S=new Bs(x),L=vb.de(this.serializer,S),Z=s.getIndexManager(S),te=bb.de(S,this.serializer,Z,s.referenceDelegate);return new vM(r,te,L,Z).recalculateAndSaveOverlaysForDocumentKeys(new X0(e,Ec.ct),v).next()})})}}function MR(n){n.createObjectStore("targetDocuments",{keyPath:DP}).createIndex("documentTargetsIndex",Rk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SP,{unique:!0}),n.createObjectStore("targetGlobal")}const Mb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bM{constructor(t,e,i,r,s,l,m,v,x,S,L=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=l,this.document=m,this.ri=x,this.oi=S,this.ui=L,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Z=>Promise.resolve(),!bM.D())throw new yt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vR(this,r),this.di=e+"main",this.serializer=new rR(v),this.wi=new mu(this.di,this.ui,new xR(this.serializer)),this.Bs=new mR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WI(this.serializer),this.qs=new sR,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&ao("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yt(tt.FAILED_PRECONDITION,Mb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Ec(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,dt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,dt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,dt.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Eb(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Ld(t))return Ot("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Zv(t).get("owner").next(e=>Ye.resolve(this.Ri(e)))}Pi(t){return Eb(t).delete(this.clientId)}bi(){var t=this;return(0,dt.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=zs(i,"clientMetadata");return r.j().next(s=>{const l=t.Si(s,18e5),m=s.filter(v=>-1===l.indexOf(v));return Ye.forEach(m,v=>r.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Ye.resolve(!0):Zv(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new yt(tt.FAILED_PRECONDITION,Mb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Eb(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ot("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,dt.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new X0(e,Ec.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>Eb(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return bb.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new mM(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return vb.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Ot("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(l=this.ui)?UP:14===l?wv:13===l?LP:12===l?Uk:11===l?FP:void ln();var l;let m;return this.wi.runTransaction(t,r,s,v=>(m=new X0(v,this.Os?this.Os.next():Ec.ct),"readwrite-primary"===e?this.Ti(m).next(x=>!!x||this.Ei(m)).next(x=>{if(!x)throw ao(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new yt(tt.FAILED_PRECONDITION,Cx);return i(m)}).next(x=>this.vi(m).next(()=>x)):this.Oi(m).next(()=>i(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(t){return Zv(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new yt(tt.FAILED_PRECONDITION,Mb)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zv(t).put("owner",e)}static D(){return mu.D()}Ai(t){const e=Zv(t);return e.get("owner").next(i=>this.Ri(i)?(Ot("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ye.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ao(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,ie.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Ot("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ao("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){ao("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Zv(n){return zs(n,"owner")}function Eb(n){return zs(n,"clientMetadata")}function CM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Ob{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=hi(),r=hi();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ob(t,e.fromCache,i,r)}}class ER{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(QP(e))return Ye.resolve(null);let i=Aa(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Tv(e,null,"F"),i=Aa(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=hi(...s);return this.Ui.getDocuments(t,l).next(m=>this.indexManager.getMinOffset(t,i).next(v=>{const x=this.ji(e,m);return this.zi(e,x,l,v.readTime)?this.Ki(t,Tv(e,null,"F")):this.Wi(t,x,e,v)}))})))}Gi(t,e,i,r){return QP(e)||r.isEqual(Pn.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const l=this.ji(e,s);return this.zi(e,l,i,r)?this.Qi(t,e):(fx()<=ju.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qx(e)),this.Wi(t,l,e,wP(r,-1)))})}ji(t,e){let i=new Gr(XP(t));return e.forEach((r,s)=>{Sv(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return fx()<=ju.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",qx(e)),this.Ui.getDocumentsMatchingQuery(t,e,kl.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(l=>{s=s.insert(l.key,l)}),s))}}class tT{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new $r(Qn),this.Yi=new Sf(s=>Rh(s),Ov),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function nT(n,t,e,i){return new tT(n,t,e,i)}function wM(n,t){return iT.apply(this,arguments)}function iT(){return iT=(0,dt.Z)(function*(n,t){const e=$t(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],m=[];let v=hi();for(const x of r){l.push(x.batchId);for(const S of x.mutations)v=v.add(S.key)}for(const x of s){m.push(x.batchId);for(const S of x.mutations)v=v.add(S.key)}return e.localDocuments.getDocuments(i,v).next(x=>({er:x,removedBatchIds:l,addedBatchIds:m}))})})}),iT.apply(this,arguments)}function MM(n){const t=$t(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function oT(n,t,e){let i=hi(),r=hi();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let l=ol();return e.forEach((m,v)=>{const x=s.get(m);v.isFoundDocument()!==x.isFoundDocument()&&(r=r.add(m)),v.isNoDocument()&&v.version.isEqual(Pn.min())?(t.removeEntry(m,v.readTime),l=l.insert(m,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||0===v.version.compareTo(x.version)&&x.hasPendingWrites?(t.addEntry(v),l=l.insert(m,v)):Ot("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",v.version)}),{nr:l,sr:r}})}function sT(n,t){const e=$t(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function rm(n,t){const e=$t(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,Ye.resolve(r)):e.Bs.allocateTargetId(i).next(l=>(r=new ed(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function td(n,t,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,dt.Z)(function*(n,t,e){const i=$t(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Ld(l))throw l;Ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),Sg.apply(this,arguments)}function $v(n,t,e){const i=$t(n);let r=Pn.min(),s=hi();return i.persistence.runTransaction("Execute query","readonly",l=>function(m,v,x){const S=$t(m),L=S.Yi.get(x);return void 0!==L?Ye.resolve(S.Ji.get(L)):S.Bs.getTargetData(v,x)}(i,l,Aa(t)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,m.targetId).next(v=>{s=v})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,t,e?r:Pn.min(),e?s:hi())).next(m=>(cT(i,JP(t),m),{documents:m,ir:s})))}function EM(n,t){const e=$t(n),i=$t(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(l=>l?l.target:null))}function aT(n,t){const e=$t(n),i=e.Xi.get(t)||Pn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,wP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(cT(e,t,r),r))}function cT(n,t,e){let i=n.Xi.get(t)||Pn.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function Pb(){return Pb=(0,dt.Z)(function*(n,t,e,i){const r=$t(n);let s=hi(),l=ol();for(const x of e){const S=t.rr(x.metadata.name);x.document&&(s=s.add(S));const L=t.ur(x);L.setReadTime(t.cr(x.metadata.readTime)),l=l.insert(S,L)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),v=yield rm(r,(x=i,Aa(If(Zi.fromString(`__bundle__/docs/${x}`)))));var x;return r.persistence.runTransaction("Apply bundle documents","readwrite",x=>oT(x,m,l).next(S=>(m.apply(x),S)).next(S=>r.Bs.removeMatchingKeysForTargetId(x,v.targetId).next(()=>r.Bs.addMatchingKeys(x,s,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(x,S.nr,S.sr)).next(()=>S.nr)))}),Pb.apply(this,arguments)}function OR(n,t){return OM.apply(this,arguments)}function OM(){return OM=(0,dt.Z)(function*(n,t,e=hi()){const i=yield rm(n,Aa(dM(t.bundledQuery))),r=$t(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=fs(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,t);const m=i.withResumeToken(js.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(s,m).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),OM.apply(this,arguments)}function PR(n,t){return`firestore_clients_${n}_${t}`}function IR(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function lT(n,t){return`firestore_targets_${n}_${t}`}class Gv{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new yt(r.error.code,r.error.message))),l?new Gv(t,e,r.state,s):(ao("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Wv{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new yt(i.error.code,i.error.message))),s?new Wv(t,i.state,r):(ao("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ib{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=$x();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=Mx(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new Ib(t,s):(ao("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class PM{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new PM(e.clientId,e.onlineState):(ao("SharedClientState",`Failed to parse online state: ${t}`),null)}}class uT{constructor(){this.activeTargetIds=$x()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dT{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new $r(Qn),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=PR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new uT),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,dt.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(PR(t.persistenceKey,r));if(s){const l=Ib.ar(r,s);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(lT(this.persistenceKey,t));if(i){const r=Wv.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(lT(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ot("SharedClientState","READ",t,e),e}setItem(t,e){Ot("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ot("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ot("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ao("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,dt.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let l=Ec.ct;if(null!=s)try{const m=JSON.parse(s);Cn("number"==typeof m),l=m}catch(m){ao("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(i.newValue);r!==Ec.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new Gv(this.currentUser,t,e,i),s=IR(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=IR(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=lT(this.persistenceKey,t),s=new Wv(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return Ib.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return Gv.ar(new Bs(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Wv.ar(r,e)}br(t){return PM.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,dt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Ot("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),l=[],m=[];return s.forEach(v=>{r.has(v)||l.push(v)}),r.forEach(v=>{s.has(v)||m.push(v)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=$x();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class TR{constructor(){this.Hr=new uT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new uT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class q3{Yr(t){}shutdown(){}}class SR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Tb=null;function Dg(){return null===Tb?Tb=268435456+Math.round(2147483648*Math.random()):Tb++,"0x"+Tb.toString(16)}const DR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AR{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const ka="WebChannelConnection";class om extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const l=Dg(),m=this.To(t,e);Ot("RestConnection",`Sending RPC '${t}' ${l}:`,m,i);const v={};return this.Eo(v,r,s),this.Ao(t,m,v,i).then(x=>(Ot("RestConnection",`Received RPC '${t}' ${l}: `,x),x),x=>{throw pu("RestConnection",`RPC '${t}' ${l} failed with error: `,x,"url: ",m,"request:",i),x})}vo(t,e,i,r,s,l){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+og,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${DR[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=Dg();return new Promise((l,m)=>{const v=new Fd;v.setWithCredentials(!0),v.listenOnce(ux.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case vP.NO_ERROR:const S=v.getResponseJson();Ot(ka,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(S)),l(S);break;case vP.TIMEOUT:Ot(ka,`RPC '${t}' ${s} timed out`),m(new yt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case vP.HTTP_ERROR:const L=v.getStatus();if(Ot(ka,`RPC '${t}' ${s} failed with status:`,L,"response text:",v.getResponseText()),L>0){let Z=v.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const te=Z?.error;if(te&&te.status&&te.message){const ae=function(ve){const Be=ve.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Be)>=0?Be:tt.UNKNOWN}(te.status);m(new yt(ae,te.message))}else m(new yt(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new yt(tt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{Ot(ka,`RPC '${t}' ${s} completed.`)}});const x=JSON.stringify(r);Ot(ka,`RPC '${t}' ${s} sending request:`,r),v.send(e,"POST",x,i,15)})}Ro(t,e,i){const r=Dg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=Ek(),m=_P(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;void 0!==x&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.xmlHttpFactory=new Ok({})),this.Eo(v.initMessageHeaders,e,i),v.encodeInitMessageHeaders=!0;const S=s.join("");Ot(ka,`Creating RPC '${t}' stream ${r}: ${S}`,v);const L=l.createWebChannel(S,v);let Z=!1,te=!1;const ae=new AR({ro:Be=>{te?Ot(ka,`Not sending because RPC '${t}' stream ${r} is closed:`,Be):(Z||(Ot(ka,`Opening RPC '${t}' stream ${r} transport.`),L.open(),Z=!0),Ot(ka,`RPC '${t}' stream ${r} sending:`,Be),L.send(Be))},oo:()=>L.close()}),ve=(Be,vt,Dt)=>{Be.listen(vt,St=>{try{Dt(St)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return ve(L,_v.EventType.OPEN,()=>{te||Ot(ka,`RPC '${t}' stream ${r} transport opened.`)}),ve(L,_v.EventType.CLOSE,()=>{te||(te=!0,Ot(ka,`RPC '${t}' stream ${r} transport closed`),ae.wo())}),ve(L,_v.EventType.ERROR,Be=>{te||(te=!0,pu(ka,`RPC '${t}' stream ${r} transport errored:`,Be),ae.wo(new yt(tt.UNAVAILABLE,"The operation could not be completed")))}),ve(L,_v.EventType.MESSAGE,Be=>{var vt;if(!te){const Dt=Be.data[0];Cn(!!Dt);const Lt=Dt.error||(null===(vt=Dt[0])||void 0===vt?void 0:vt.error);if(Lt){Ot(ka,`RPC '${t}' stream ${r} received error:`,Lt);const Dn=Lt.status;let Rn=function(is){const ll=Es[is];if(void 0!==ll)return mI(ll)}(Dn),ji=Lt.message;void 0===Rn&&(Rn=tt.INTERNAL,ji="Unknown error status: "+Dn+" with message "+Lt.message),te=!0,ae.wo(new yt(Rn,ji)),L.close()}else Ot(ka,`RPC '${t}' stream ${r} received:`,Dt),ae._o(Dt)}}),ve(m,dx.STAT_EVENT,Be=>{Be.stat===Ku.PROXY?Ot(ka,`RPC '${t}' stream ${r} detected buffering proxy`):Be.stat===Ku.NOPROXY&&Ot(ka,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function IM(){return typeof window<"u"?window:null}function Ag(){return typeof document<"u"?document:null}function sm(n){return new sM(n,!0)}class TM{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Ot("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Sb{constructor(t,e,i,r,s,l,m,v){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new TM(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,dt.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,dt.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,dt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(ao(e.toString()),ao("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new yt(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,dt.Z)(function*(){t.state=0,t.start()}))}tu(t){return Ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SM extends Sb{constructor(t,e,i,r,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function xI(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ln(),r=t.targetChange.targetIds||[],s=function(v,x){return v.useProto3Json?(Cn(void 0===x||"string"==typeof x),js.fromBase64String(x||"")):(Cn(void 0===x||x instanceof Uint8Array),js.fromUint8Array(x||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,m=l&&function(v){const x=void 0===v.code?tt.UNKNOWN:mI(v.code);return new yt(x,v.message||"")}(l);e=new rM(i,r,s,m||null)}else if("documentChange"in t){const i=t.documentChange,r=Xu(n,i.document.name),s=fs(i.document.updateTime),l=i.document.createTime?fs(i.document.createTime):Pn.min(),m=new Da({mapValue:{fields:i.document.fields}}),v=lo.newFoundDocument(r,s,l,m);e=new wg(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in t){const i=t.documentDelete,r=Xu(n,i.document),s=i.readTime?fs(i.readTime):Pn.min(),l=lo.newNoDocument(r,s);e=new wg([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=Xu(n,i.document);e=new wg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ln();{const i=t.filter,{count:r=0,unchangedNames:s}=i,l=new Kk(r,s);e=new fb(i.targetId,l)}}var v;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Pn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Pn.min():s.readTime?fs(s.readTime):Pn.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Hd(this.serializer),e.addTarget=function(r,s){let l;const m=s.target;if(l=Pv(m)?{documents:eR(r,m)}:{query:Jp(r,m)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=aM(r,s.resumeToken);const v=mb(r,s.expectedCount);null!==v&&(l.expectedCount=v)}else if(s.snapshotVersion.compareTo(Pn.min())>0){l.readTime=Kp(r,s.snapshotVersion.toTimestamp());const v=mb(r,s.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,t);const i=function lM(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Hd(this.serializer),e.removeTarget=t,this.Wo(e)}}class Db extends Sb{constructor(t,e,i,r,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Cn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function B3(n,t){return n&&n.length>0?(Cn(void 0!==t),n.map(e=>function(i,r){let s=fs(i.updateTime?i.updateTime:r);return s.isEqual(Pn.min())&&(s=fs(r)),new Yk(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=fs(t.commitTime);return this.listener.cu(i,e)}return Cn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Hd(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Qp(this.serializer,i))};this.Wo(e)}}class Z3 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new yt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new yt(tt.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(t,e,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new yt(tt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class fT{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ao(e),this.mu=!1):Ot("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class kR{constructor(t,e,i,r,s){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(m=>{i.enqueueAndForget((0,dt.Z)(function*(){var v;am(l)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,dt.Z)(function*(x){const S=$t(x);S.vu.add(4),yield kg(S),S.bu.set("Unknown"),S.vu.delete(4),yield Yv(S)}),function(x){return v.apply(this,arguments)})(l))}))}),this.bu=new fT(i,r)}}function Yv(n){return DM.apply(this,arguments)}function DM(){return DM=(0,dt.Z)(function*(n){if(am(n))for(const t of n.Ru)yield t(!0)}),DM.apply(this,arguments)}function kg(n){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,dt.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),Ab.apply(this,arguments)}function Kv(n,t){const e=$t(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),Qv(e)?kb(e):Xv(e).Ko()&&AM(e,t))}function Rg(n,t){const e=$t(n),i=Xv(e);e.Au.delete(t),i.Ko()&&pT(e,t),0===e.Au.size&&(i.Ko()?i.jo():am(e)&&e.bu.set("Unknown"))}function AM(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Xv(n).su(t)}function pT(n,t){n.Vu.qt(t),Xv(n).iu(t)}function kb(n){n.Vu=new oM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Xv(n).start(),n.bu.gu()}function Qv(n){return am(n)&&!Xv(n).Uo()&&n.Au.size>0}function am(n){return 0===$t(n).vu.size}function kM(n){n.Vu=void 0}function RM(n){return NM.apply(this,arguments)}function NM(){return NM=(0,dt.Z)(function*(n){n.Au.forEach((t,e)=>{AM(n,t)})}),NM.apply(this,arguments)}function RR(n,t){return mT.apply(this,arguments)}function mT(){return mT=(0,dt.Z)(function*(n,t){kM(n),Qv(n)?(n.bu.Iu(t),kb(n)):n.bu.set("Unknown")}),mT.apply(this,arguments)}function G3(n,t,e){return FM.apply(this,arguments)}function FM(){return FM=(0,dt.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof rM&&2===t.state&&t.cause)try{yield(i=(0,dt.Z)(function*(r,s){const l=s.cause;for(const m of s.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,l),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Rb(n,i)}else if(t instanceof wg?n.Vu.Ht(t):t instanceof fb?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Pn.min()))try{const i=yield MM(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=r.Au.get(v);x&&r.Au.set(v,x.withResumeToken(m.resumeToken,s))}}),l.targetMismatches.forEach((m,v)=>{const x=r.Au.get(m);if(!x)return;r.Au.set(m,x.withResumeToken(js.EMPTY_BYTE_STRING,x.snapshotVersion)),pT(r,m);const S=new ed(x.target,m,v,x.sequenceNumber);AM(r,S)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){Ot("RemoteStore","Failed to raise snapshot:",i),yield Rb(n,i)}var i}),FM.apply(this,arguments)}function Rb(n,t,e){return LM.apply(this,arguments)}function LM(){return LM=(0,dt.Z)(function*(n,t,e){if(!Ld(t))throw t;n.vu.add(1),yield kg(n),n.bu.set("Offline"),e||(e=()=>MM(n.localStore)),n.asyncQueue.enqueueRetryable((0,dt.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Yv(n)}))}),LM.apply(this,arguments)}function gT(n,t){return t().catch(e=>Rb(n,e,t))}function cm(n){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,dt.Z)(function*(n){const t=$t(n),e=Bf(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;NR(t);)try{const r=yield sT(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,_T(t,r)}catch(r){yield Rb(t,r)}UM(t)&&FR(t)}),Nb.apply(this,arguments)}function NR(n){return am(n)&&n.Eu.length<10}function _T(n,t){n.Eu.push(t);const e=Bf(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function UM(n){return am(n)&&!Bf(n).Uo()&&n.Eu.length>0}function FR(n){Bf(n).start()}function LR(n){return Jv.apply(this,arguments)}function Jv(){return Jv=(0,dt.Z)(function*(n){Bf(n).hu()}),Jv.apply(this,arguments)}function vT(n){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,dt.Z)(function*(n){const t=Bf(n);for(const e of n.Eu)t.uu(e.mutations)}),Fb.apply(this,arguments)}function UR(n,t,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,dt.Z)(function*(n,t,e){const i=n.Eu.shift(),r=Jx.from(i,t,e);yield gT(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield cm(n)}),Ng.apply(this,arguments)}function VR(n,t){return VM.apply(this,arguments)}function VM(){return VM=(0,dt.Z)(function*(n,t){var e;t&&Bf(n).ou&&(yield(e=(0,dt.Z)(function*(i,r){if(Nv(s=r.code)&&s!==tt.ABORTED){const l=i.Eu.shift();Bf(i).Qo(),yield gT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield cm(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),UM(n)&&FR(n)}),VM.apply(this,arguments)}function BM(n,t){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,dt.Z)(function*(n,t){const e=$t(n);e.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const i=am(e);e.vu.add(3),yield kg(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Yv(e)}),Lb.apply(this,arguments)}function yT(n,t){return zM.apply(this,arguments)}function zM(){return zM=(0,dt.Z)(function*(n,t){const e=$t(n);t?(e.vu.delete(2),yield Yv(e)):t||(e.vu.add(2),yield kg(e),e.bu.set("Unknown"))}),zM.apply(this,arguments)}function Xv(n){return n.Su||(n.Su=function(t,e,i){const r=$t(t);return r.fu(),new SM(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:RM.bind(null,n),ao:RR.bind(null,n),nu:G3.bind(null,n)}),n.Ru.push(function(){var t=(0,dt.Z)(function*(e){e?(n.Su.Qo(),Qv(n)?kb(n):n.bu.set("Unknown")):(yield n.Su.stop(),kM(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Bf(n){return n.Du||(n.Du=function(t,e,i){const r=$t(t);return r.fu(),new Db(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:LR.bind(null,n),ao:VR.bind(null,n),au:vT.bind(null,n),cu:UR.bind(null,n)}),n.Ru.push(function(){var t=(0,dt.Z)(function*(e){e?(n.Du.Qo(),yield cm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class bT{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,s){const l=Date.now()+i,m=new bT(t,e,l,r,s);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(n,t){if(ao("AsyncQueue",`${t}: ${n}`),Ld(n))return new yt(tt.UNAVAILABLE,`${t}: ${n}`);throw n}class Fg{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Zt.comparator(e.key,i.key):(e,i)=>Zt.comparator(e.key,i.key),this.keyedMap=lb(),this.sortedSet=new $r(this.comparator)}static emptySet(t){return new Fg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fg)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Fg;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class CT{constructor(){this.Cu=new $r(Zt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):ln():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class ty{constructor(t,e,i,r,s,l,m,v,x){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(t,e,i,r,s){const l=[];return e.forEach(m=>{l.push({type:0,doc:m})}),new ty(t,e,Fg.emptySet(e),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class W3{constructor(){this.Nu=void 0,this.listeners=[]}}class Y3{constructor(){this.queries=new Sf(t=>Hx(t),mg),this.onlineState="Unknown",this.ku=new Set}}function wT(n,t){return xT.apply(this,arguments)}function xT(){return xT=(0,dt.Z)(function*(n,t){const e=$t(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new W3),r)try{s.Nu=yield e.onListen(i)}catch(l){const m=ey(l,`Initialization of query '${qx(t.query)}' failed`);return void t.onError(m)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&ET(e)}),xT.apply(this,arguments)}function jM(n,t){return MT.apply(this,arguments)}function MT(){return MT=(0,dt.Z)(function*(n,t){const e=$t(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const l=s.listeners.indexOf(t);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),MT.apply(this,arguments)}function K3(n,t){const e=$t(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const m of l.listeners)m.$u(r)&&(i=!0);l.Nu=r}}i&&ET(e)}function Q3(n,t,e){const i=$t(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function ET(n){n.ku.forEach(t=>{t.next()})}class OT{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new ty(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=ty.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class BR{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class zR{constructor(t){this.serializer=t}rr(t){return Xu(this.serializer,t)}ur(t){return t.metadata.exists?Xk(this.serializer,t.document,!1):lo.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return fs(t)}}class a{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Zi.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new zR(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const m=(e.get(l)||hi()).add(s);e.set(l,m)}}return e}complete(){var t=this;return(0,dt.Z)(function*(){const e=yield function H3(n,t,e,i){return Pb.apply(this,arguments)}(t.localStore,new zR(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield OR(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function c(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d{constructor(t){this.key=t}}class p{constructor(t){this.key=t}}class _{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=hi(),this.mutatedKeys=hi(),this.tc=XP(t),this.ec=new Fg(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new CT,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,l=r,m=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,x="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((S,L)=>{const Z=r.get(S),te=Sv(this.query,L)?L:null,ae=!!Z&&this.mutatedKeys.has(Z.key),ve=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let Be=!1;Z&&te?Z.data.isEqual(te.data)?ae!==ve&&(i.track({type:3,doc:te}),Be=!0):this.rc(Z,te)||(i.track({type:2,doc:te}),Be=!0,(v&&this.tc(te,v)>0||x&&this.tc(te,x)<0)&&(m=!0)):!Z&&te?(i.track({type:0,doc:te}),Be=!0):Z&&!te&&(i.track({type:1,doc:Z}),Be=!0,(v||x)&&(m=!0)),Be&&(te?(l=l.add(te),s=ve?s.add(S):s.delete(S)):(l=l.delete(S),s=s.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),s=s.delete(S.key),i.track({type:1,doc:S})}return{ec:l,ic:i,zi:m,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((x,S)=>function(L,Z){const te=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return te(L)-te(Z)}(x.type,S.type)||this.tc(x.doc,S.doc)),this.oc(i);const l=e?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==s.length||v?{snapshot:new ty(this.query,t.ec,r,s,t.mutatedKeys,0===m,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new CT,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=hi(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new p(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new d(i))}),e}hc(t){this.Yu=t.ir,this.Zu=hi();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return ty.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class O{constructor(t){this.key=t,this.fc=!1}}class I{constructor(t,e,i,r,s,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Sf(m=>Hx(m),mg),this._c=new Map,this.mc=new Set,this.gc=new $r(Zt.comparator),this.yc=new Map,this.Ic=new xb,this.Tc={},this.Ec=new Map,this.Ac=qd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function k(n,t){return B.apply(this,arguments)}function B(){return B=(0,dt.Z)(function*(n,t){const e=e2(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield rm(e.localStore,Aa(t)),m=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield G(e,t,i,"current"===m,l.resumeToken),e.isPrimaryClient&&Kv(e.remoteStore,l)}return r}),B.apply(this,arguments)}function G(n,t,e,i,r){return se.apply(this,arguments)}function se(){return se=(0,dt.Z)(function*(n,t,e,i,r){n.Rc=(L,Z,te)=>{return(ae=(0,dt.Z)(function*(ve,Be,vt,Dt){let St=Be.view.sc(vt);St.zi&&(St=yield $v(ve.localStore,Be.query,!1).then(({documents:Rn})=>Be.view.sc(Rn,St)));const Lt=Dt&&Dt.targetChanges.get(Be.targetId),Dn=Be.view.applyChanges(St,ve.isPrimaryClient,Lt);return HR(ve,Be.targetId,Dn.cc),Dn.snapshot}),function(ve,Be,vt,Dt){return ae.apply(this,arguments)})(n,L,Z,te);var ae};const s=yield $v(n.localStore,t,!0),l=new _(t,s.ir),m=l.sc(s.documents),v=Uv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),x=l.applyChanges(m,n.isPrimaryClient,v);HR(n,e,x.cc);const S=new b(t,e,l);return n.wc.set(t,S),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),x.snapshot}),se.apply(this,arguments)}function Ee(n,t){return ze.apply(this,arguments)}function ze(){return ze=(0,dt.Z)(function*(n,t){const e=$t(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!mg(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield td(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Rg(e.remoteStore,i.targetId),Ub(e,i.targetId)}).catch(Dh))):(Ub(e,i.targetId),yield td(e.localStore,i.targetId,!0))}),ze.apply(this,arguments)}function Pt(){return Pt=(0,dt.Z)(function*(n,t,e){const i=t2(n);try{const r=yield function(s,l){const m=$t(s),v=co.now(),x=l.reduce((Z,te)=>Z.add(te.key),hi());let S,L;return m.persistence.runTransaction("Locally write mutations","readwrite",Z=>{let te=ol(),ae=hi();return m.Zi.getEntries(Z,x).next(ve=>{te=ve,te.forEach((Be,vt)=>{vt.isValidDocument()||(ae=ae.add(Be))})}).next(()=>m.localDocuments.getOverlayedDocuments(Z,te)).next(ve=>{S=ve;const Be=[];for(const vt of l){const Dt=U3(vt,S.get(vt.key).overlayedDocument);null!=Dt&&Be.push(new Nh(vt.key,Dt,HP(Dt.value.mapValue),Dr.exists(!0)))}return m.mutationQueue.addMutationBatch(Z,v,Be,l)}).next(ve=>{L=ve;const Be=ve.applyToLocalDocumentSet(S,ae);return m.documentOverlayCache.saveOverlays(Z,ve.batchId,Be)})}).then(()=>({batchId:L.batchId,changes:iI(S)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,m){let v=s.Tc[s.currentUser.toKey()];v||(v=new $r(Qn)),v=v.insert(l,m),s.Tc[s.currentUser.toKey()]=v}(i,r.batchId,e),yield lm(i,r.changes),yield cm(i.remoteStore)}catch(r){const s=ey(r,"Failed to persist write");e.reject(s)}}),Pt.apply(this,arguments)}function Gt(n,t){return vn.apply(this,arguments)}function vn(){return vn=(0,dt.Z)(function*(n,t){const e=$t(n);try{const i=yield function rT(n,t){const e=$t(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const m=[];t.targetChanges.forEach((S,L)=>{const Z=r.get(L);if(!Z)return;m.push(e.Bs.removeMatchingKeys(s,S.removedDocuments,L).next(()=>e.Bs.addMatchingKeys(s,S.addedDocuments,L)));let te=Z.withSequenceNumber(s.currentSequenceNumber);var ae,ve,Be;null!==t.targetMismatches.get(L)?te=te.withResumeToken(js.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):S.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(S.resumeToken,i)),r=r.insert(L,te),ve=te,Be=S,(0===(ae=Z).resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&m.push(e.Bs.updateTargetData(s,te))});let v=ol(),x=hi();if(t.documentUpdates.forEach(S=>{t.resolvedLimboDocuments.has(S)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(s,S))}),m.push(oT(s,l,t.documentUpdates).next(S=>{v=S.nr,x=S.sr})),!i.isEqual(Pn.min())){const S=e.Bs.getLastRemoteSnapshotVersion(s).next(L=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));m.push(S)}return Ye.waitFor(m).next(()=>l.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,v,x)).next(()=>v)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const l=e.yc.get(s);l&&(Cn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Cn(l.fc):r.removedDocuments.size>0&&(Cn(l.fc),l.fc=!1))}),yield lm(e,i,t)}catch(i){yield Dh(i)}}),vn.apply(this,arguments)}function bt(n,t,e){const i=$t(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,l)=>{const m=l.view.Mu(t);m.snapshot&&r.push(m.snapshot)}),function(s,l){const m=$t(s);m.onlineState=l;let v=!1;m.queries.forEach((x,S)=>{for(const L of S.listeners)L.Mu(l)&&(v=!0)}),v&&ET(m)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Jn(n,t,e){return fi.apply(this,arguments)}function fi(){return fi=(0,dt.Z)(function*(n,t,e){const i=$t(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let l=new $r(Zt.comparator);l=l.insert(s,lo.newNoDocument(s,Pn.min()));const m=hi().add(s),v=new Lv(Pn.min(),new Map,new $r(Qn),l,m);yield Gt(i,v),i.gc=i.gc.remove(s),i.yc.delete(t),qR(i)}else yield td(i.localStore,t,!1).then(()=>Ub(i,t,e)).catch(Dh)}),fi.apply(this,arguments)}function _r(n,t){return ec.apply(this,arguments)}function ec(){return ec=(0,dt.Z)(function*(n,t){const e=$t(n),i=t.batch.batchId;try{const r=yield function xM(n,t){const e=$t(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,v,x){const S=v.batch,L=S.keys();let Z=Ye.resolve();return L.forEach(te=>{Z=Z.next(()=>x.getEntry(m,te)).next(ae=>{const ve=v.docVersions.get(te);Cn(null!==ve),ae.version.compareTo(ve)<0&&(S.applyToRemoteDocument(ae,v),ae.isValidDocument()&&(ae.setReadTime(v.commitVersion),x.addEntry(ae)))})}),Z.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let m=hi();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(m=m.add(l.batch.mutations[v].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);jR(e,i,null),ZM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield lm(e,r)}catch(r){yield Dh(r)}}),ec.apply(this,arguments)}function Lh(n,t,e){return zf.apply(this,arguments)}function zf(){return zf=(0,dt.Z)(function*(n,t,e){const i=$t(n);try{const r=yield function(s,l){const m=$t(s);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return m.mutationQueue.lookupMutationBatch(v,l).next(S=>(Cn(null!==S),x=S.keys(),m.mutationQueue.removeMutationBatch(v,S))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>m.localDocuments.getDocuments(v,x))})}(i.localStore,t);jR(i,t,e),ZM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield lm(i,r)}catch(r){yield Dh(r)}}),zf.apply(this,arguments)}function qM(){return qM=(0,dt.Z)(function*(n,t){const e=$t(n);am(e.remoteStore)||Ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=$t(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=ey(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),qM.apply(this,arguments)}function ZM(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function jR(n,t,e){const i=$t(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Ub(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||J3(n,i)})}function J3(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Rg(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),qR(n))}function HR(n,t,e){for(const i of e)i instanceof d?(n.Ic.addReference(i.key,t),rq(n,i)):i instanceof p?(Ot("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||J3(n,i.key)):ln()}function rq(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Ot("SyncEngine","New document in limbo: "+e),n.mc.add(i),qR(n))}function qR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Zt(Zi.fromString(t)),i=n.Ac.next();n.yc.set(i,new O(e)),n.gc=n.gc.insert(e,i),Kv(n.remoteStore,new ed(Aa(If(e.path)),i,"TargetPurposeLimboResolution",Ec.ct))}}function lm(n,t,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,dt.Z)(function*(n,t,e){const i=$t(n),r=[],s=[],l=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,v)=>{l.push(i.Rc(v,t,e).then(x=>{if((x||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,x?.fromCache?"not-current":"current"),x){r.push(x);const S=Ob.Li(v.targetId,x);s.push(S)}}))}),yield Promise.all(l),i.dc.nu(r),yield(m=(0,dt.Z)(function*(v,x){const S=$t(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Ye.forEach(x,Z=>Ye.forEach(Z.Fi,te=>S.persistence.referenceDelegate.addReference(L,Z.targetId,te)).next(()=>Ye.forEach(Z.Bi,te=>S.persistence.referenceDelegate.removeReference(L,Z.targetId,te)))))}catch(L){if(!Ld(L))throw L;Ot("LocalStore","Failed to update sequence numbers: "+L)}for(const L of x){const Z=L.targetId;if(!L.fromCache){const te=S.Ji.get(Z),ve=te.withLastLimboFreeSnapshotVersion(te.snapshotVersion);S.Ji=S.Ji.insert(Z,ve)}}}),function(v,x){return m.apply(this,arguments)})(i.localStore,s))}),ZR.apply(this,arguments)}function oq(n,t){return $R.apply(this,arguments)}function $R(){return $R=(0,dt.Z)(function*(n,t){const e=$t(n);if(!e.currentUser.isEqual(t)){Ot("SyncEngine","User change. New user:",t.toKey());const i=yield wM(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(l=>{l.forEach(m=>{m.reject(new yt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield lm(e,i.er)}var r}),$R.apply(this,arguments)}function sq(n,t){const e=$t(n),i=e.yc.get(t);if(i&&i.fc)return hi().add(i.key);{let r=hi();const s=e._c.get(t);if(!s)return r;for(const l of s){const m=e.wc.get(l);r=r.unionWith(m.view.nc)}return r}}function aq(n,t){return GR.apply(this,arguments)}function GR(){return GR=(0,dt.Z)(function*(n,t){const e=$t(n),i=yield $v(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&HR(e,t.targetId,r.cc),r}),GR.apply(this,arguments)}function cq(n,t){return WR.apply(this,arguments)}function WR(){return WR=(0,dt.Z)(function*(n,t){const e=$t(n);return aT(e.localStore,t).then(i=>lm(e,i))}),WR.apply(this,arguments)}function lq(n,t,e,i){return YR.apply(this,arguments)}function YR(){return YR=(0,dt.Z)(function*(n,t,e,i){const r=$t(n),s=yield function(l,m){const v=$t(l),x=$t(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>x.Sn(S,m).next(L=>L?v.localDocuments.getDocuments(S,L):Ye.resolve(null)))}(r.localStore,t);var m;null!==s?("pending"===e?yield cm(r.remoteStore):"acknowledged"===e||"rejected"===e?(jR(r,t,i||null),ZM(r,t),m=t,$t($t(r.localStore).mutationQueue).Cn(m)):ln(),yield lm(r,s)):Ot("SyncEngine","Cannot apply mutation batch with id: "+t)}),YR.apply(this,arguments)}function KR(){return KR=(0,dt.Z)(function*(n,t){const e=$t(n);if(e2(e),t2(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield X3(e,i.toArray());e.vc=!0,yield yT(e.remoteStore,!0);for(const s of r)Kv(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(Ub(e,l),td(e.localStore,l,!0))),Rg(e.remoteStore,l)}),yield r,yield X3(e,i),function(s){const l=$t(s);l.yc.forEach((m,v)=>{Rg(l.remoteStore,v)}),l.Ic.Ts(),l.yc=new Map,l.gc=new $r(Zt.comparator)}(e),e.vc=!1,yield yT(e.remoteStore,!1)}}),KR.apply(this,arguments)}function X3(n,t,e){return QR.apply(this,arguments)}function QR(){return QR=(0,dt.Z)(function*(n,t,e){const i=$t(n),r=[],s=[];for(const l of t){let m;const v=i._c.get(l);if(v&&0!==v.length){m=yield rm(i.localStore,Aa(v[0]));for(const x of v){const S=i.wc.get(x),L=yield aq(i,S);L.snapshot&&s.push(L.snapshot)}}else{const x=yield EM(i.localStore,l);m=yield rm(i.localStore,x),yield G(i,eU(x),l,!1,m.resumeToken)}r.push(m)}return i.dc.nu(s),r}),QR.apply(this,arguments)}function eU(n){return sb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function dq(n){const t=$t(n);return $t($t(t.localStore).persistence).$i()}function hq(n,t,e,i){return JR.apply(this,arguments)}function JR(){return JR=(0,dt.Z)(function*(n,t,e,i){const r=$t(n);if(r.vc)return void Ot("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const l=yield aT(r.localStore,JP(s[0])),m=Lv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,js.EMPTY_BYTE_STRING);yield lm(r,l,m);break}case"rejected":yield td(r.localStore,t,!0),Ub(r,t,i);break;default:ln()}}),JR.apply(this,arguments)}function fq(n,t,e){return XR.apply(this,arguments)}function XR(){return XR=(0,dt.Z)(function*(n,t,e){const i=e2(n);if(i.vc){for(const r of t){if(i._c.has(r)){Ot("SyncEngine","Adding an already active target "+r);continue}const s=yield EM(i.localStore,r),l=yield rm(i.localStore,s);yield G(i,eU(s),l.targetId,!1,l.resumeToken),Kv(i.remoteStore,l)}for(const r of e)i._c.has(r)&&(yield td(i.localStore,r,!1).then(()=>{Rg(i.remoteStore,r),Ub(i,r)}).catch(Dh))}}),XR.apply(this,arguments)}function e2(n){const t=$t(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gt.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jn.bind(null,t),t.dc.nu=K3.bind(null,t.eventManager),t.dc.Pc=Q3.bind(null,t.eventManager),t}function t2(n){const t=$t(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_r.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Lh.bind(null,t),t}class $M{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,dt.Z)(function*(){e.serializer=sm(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return nT(this.persistence,new ER,t.initialUser,this.serializer)}createPersistence(t){return new Zd(Ig.zs,this.serializer)}createSharedClientState(t){return new TR}terminate(){var t=this;return(0,dt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class n2 extends $M{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield t2(i.Vc.syncEngine),yield cm(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return nT(this.persistence,new ER,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Cb(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new R3(e,this.persistence);return new ag(t.asyncQueue,i)}createPersistence(t){const e=CM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Xa.withCacheSize(this.cacheSizeBytes):Xa.DEFAULT;return new bM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,IM(),Ag(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new TR}}class tU extends n2{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof dT&&(i.sharedClientState.syncEngine={jr:lq.bind(null,r),zr:hq.bind(null,r),Wr:fq.bind(null,r),$i:dq.bind(null,r),Qr:cq.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,dt.Z)(function*(l){yield function uq(n,t){return KR.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=IM();if(!dT.D(e))throw new yt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=CM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new dT(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Vb{initialize(t,e){var i=this;return(0,dt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>bt(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=oq.bind(null,i.syncEngine),yield yT(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Y3}createDatastore(t){const e=sm(t.databaseInfo.databaseId),i=new om(t.databaseInfo);return new Z3(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=m=>bt(this.syncEngine,m,0),l=SR.D()?new SR:new q3,new kR(e,i,r,s,l);var e,i,r,s,l}createSyncEngine(t,e){return function(i,r,s,l,m,v,x){const S=new I(i,r,s,l,m,v);return x&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,dt.Z)(function*(e){const i=$t(e);Ot("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield kg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function nU(n,t=10240){let e=0;return{read:()=>(0,dt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,dt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class PT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):ao("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class gq{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Ms,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,dt.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,dt.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,dt.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new BR(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,dt.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,dt.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,dt.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class _q{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,dt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new yt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,dt.Z)(function*(s,l){const m=$t(s),v=Hd(m.serializer)+"/documents",x={documents:l.map(te=>Vv(m.serializer,te))},S=yield m.vo("BatchGetDocuments",v,x,l.length),L=new Map;S.forEach(te=>{const ae=function V3(n,t){return"found"in t?function(e,i){Cn(!!i.found);const r=Xu(e,i.found.name),s=fs(i.found.updateTime),l=i.found.createTime?fs(i.found.createTime):Pn.min(),m=new Da({mapValue:{fields:i.found.fields}});return lo.newFoundDocument(r,s,l,m)}(n,t):"missing"in t?function(e,i){Cn(!!i.missing),Cn(!!i.readTime);const r=Xu(e,i.missing),s=fs(i.readTime);return lo.newNoDocument(r,s)}(n,t):ln()}(m.serializer,te);L.set(ae.key.toString(),ae)});const Z=[];return l.forEach(te=>{const ae=L.get(te.toString());Cn(!!ae),Z.push(ae)}),Z}),function(s,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new yg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,dt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Zt.fromPath(r);t.mutations.push(new db(s,t.precondition(s)))}),yield(i=(0,dt.Z)(function*(r,s){const l=$t(r),m=Hd(l.serializer)+"/documents",v={writes:s.map(x=>Qp(l.serializer,x))};yield l.Io("Commit",m,v)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ln();e=Pn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new yt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Pn.min())?Dr.exists(!1):Dr.updateTime(e):Dr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Pn.min()))throw new yt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(e)}return Dr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class vq{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new TM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,dt.Z)(function*(){const e=new _q(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!K0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Nv(e)}return!1}}class yq{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Bs.UNAUTHENTICATED,this.clientId=_x.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,dt.Z)(function*(m){Ot("FirestoreClient","Received user=",m.uid),yield s.authCredentialListener(m),s.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Ot("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,dt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ey(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function IT(n,t){return r2.apply(this,arguments)}function r2(){return r2=(0,dt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,dt.Z)(function*(s){i.isEqual(s)||(yield wM(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),r2.apply(this,arguments)}function o2(n,t){return s2.apply(this,arguments)}function s2(){return s2=(0,dt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield a2(n);Ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>BM(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>BM(t.remoteStore,s)),n._onlineComponents=t}),s2.apply(this,arguments)}function iU(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function a2(n){return c2.apply(this,arguments)}function c2(){return c2=(0,dt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield IT(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!iU(e))throw e;pu("Error using user provided cache. Falling back to memory cache: "+e),yield IT(n,new $M)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield IT(n,new $M);return n._offlineComponents}),c2.apply(this,arguments)}function TT(n){return l2.apply(this,arguments)}function l2(){return l2=(0,dt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield o2(n,n._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield o2(n,new Vb))),n._onlineComponents}),l2.apply(this,arguments)}function rU(n){return a2(n).then(t=>t.persistence)}function ST(n){return a2(n).then(t=>t.localStore)}function oU(n){return TT(n).then(t=>t.remoteStore)}function u2(n){return TT(n).then(t=>t.syncEngine)}function Bb(n){return d2.apply(this,arguments)}function d2(){return d2=(0,dt.Z)(function*(n){const t=yield TT(n),e=t.eventManager;return e.onListen=k.bind(null,t.syncEngine),e.onUnlisten=Ee.bind(null,t.syncEngine),e}),d2.apply(this,arguments)}function aU(n,t,e={}){const i=new Ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,s,l,m,v){const x=new PT({next:L=>{s.enqueueAndForget(()=>jM(r,S));const Z=L.docs.has(l);!Z&&L.fromCache?v.reject(new yt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&L.fromCache&&m&&"server"===m.source?v.reject(new yt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),S=new OT(If(l.path),x,{includeMetadataChanges:!0,Ku:!0});return wT(r,S)}(yield Bb(n),n.asyncQueue,t,e,i)})),i.promise}function cU(n,t,e={}){const i=new Ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,s,l,m,v){const x=new PT({next:L=>{s.enqueueAndForget(()=>jM(r,S)),L.fromCache&&"server"===m.source?v.reject(new yt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),S=new OT(l,x,{includeMetadataChanges:!0,Ku:!0});return wT(r,S)}(yield Bb(n),n.asyncQueue,t,e,i)})),i.promise}function lU(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const uU=new Map;function h2(n,t,e){if(!e)throw new yt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function dU(n,t,e,i){if(!0===t&&!0===i)throw new yt(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function hU(n){if(!Zt.isDocumentKey(n))throw new yt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fU(n){if(Zt.isDocumentKey(n))throw new yt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ln()}function $i(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=DT(n);throw new yt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function pU(n,t){if(t<=0)throw new yt(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class mU{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new yt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lU(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class GM{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new yt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mU(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new bP;switch(e.type){case"firstParty":return new Z0(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=uU.get(t);e&&(Ot("ComponentProvider","Removing Datastore"),uU.delete(t),e.terminate())}(this),Promise.resolve()}}function gU(n,t,e,i={}){var r;const s=(n=$i(n,GM))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&pu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let m,v;if("string"==typeof i.mockUserToken)m=i.mockUserToken,v=Bs.MOCK_USER;else{m=(0,ie.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new yt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Bs(x)}n._authCredentials=new Ik(new px(m,v))}}class Uo{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Uo(this.firestore,t,this._key)}}class Pc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Pc(this.firestore,t,this._query)}}class jf extends Pc{constructor(t,e,i){super(t,e,If(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Uo(this.firestore,null,new Zt(t))}withConverter(t){return new jf(this.firestore,t,this._path)}}function f2(n,t,...e){if(n=(0,ie.m9)(n),h2("collection","path",t),n instanceof GM){const i=Zi.fromString(t,...e);return fU(i),new jf(n,null,i)}{if(!(n instanceof Uo||n instanceof jf))throw new yt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Zi.fromString(t,...e));return fU(i),new jf(n.firestore,null,i)}}function WM(n,t,...e){if(n=(0,ie.m9)(n),1===arguments.length&&(t=_x.A()),h2("doc","path",t),n instanceof GM){const i=Zi.fromString(t,...e);return hU(i),new Uo(n,null,new Zt(i))}{if(!(n instanceof Uo||n instanceof jf))throw new yt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Zi.fromString(t,...e));return hU(i),new Uo(n.firestore,n instanceof jf?n.converter:null,new Zt(i))}}function _U(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),(n instanceof Uo||n instanceof jf)&&(t instanceof Uo||t instanceof jf)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function p2(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),n instanceof Pc&&t instanceof Pc&&n.firestore===t.firestore&&mg(n._query,t._query)&&n.converter===t.converter}class Tq{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new TM(this,"async_queue_retry"),this.Xc=()=>{const e=Ag();e&&Ot("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=Ag();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Ag();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Ms;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,dt.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Ld(e))throw e;Ot("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,ao("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=bT.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var t=this;return(0,dt.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function m2(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Sq{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ms,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Vo extends GM{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Tq,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vU(this),this._firestoreClient.terminate()}}function Aq(n,t){const e="object"==typeof n?n:(0,Us.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Us._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,ie.P0)("firestore");s&&gU(r,...s)}return r}function qs(n){return n._firestoreClient||vU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vU(n){var t,e,i;const r=n._freezeSettings(),s=(m=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Bk(n._databaseId,m,n._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,lU(x.experimentalLongPollingOptions),x.useFetchStreams));var m,x;n._firestoreClient=new yq(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function yU(n,t,e){const i=new Ms;return n.asyncQueue.enqueue((0,dt.Z)(function*(){try{yield IT(n,e),yield o2(n,t),i.resolve()}catch(r){const s=r;if(!iU(s))throw s;pu("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function bU(n){if(n._initialized||n._terminated)throw new yt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hf(js.fromBase64String(t))}catch(e){throw new yt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Hf(js.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class um{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new yt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ny{constructor(t){this._methodName=t}}class AT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qn(this._lat,t._lat)||Qn(this._long,t._long)}}const jq=/^__.*__$/;class Hq{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms):new vg(t,this.data,e,this.fieldTransforms)}}class CU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function wU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class kT{constructor(t,e,i,r,s,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new kT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return FT(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(wU(this.ca)&&jq.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class qq{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||sm(t)}ya(t,e,i,r=!1){return new kT({ca:t,methodName:e,ga:i,path:Jo.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iy(n){const t=n._freezeSettings(),e=sm(n._databaseId);return new qq(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RT(n,t,e,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,t,e,r);y2("Data must be an object, but it was:",l,i);const m=EU(i,l);let v,x;if(s.merge)v=new rl(l.fieldMask),x=l.fieldTransforms;else if(s.mergeFields){const S=[];for(const L of s.mergeFields){const Z=QM(t,L,e);if(!l.contains(Z))throw new yt(tt.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);PU(S,Z)||S.push(Z)}v=new rl(S),x=l.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,x=l.fieldTransforms;return new Hq(new Da(m),v,x)}class KM extends ny{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof KM}}function xU(n,t,e){return new kT({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class g2 extends ny{_toFieldTransform(t){return new Av(t.path,new Gp)}isEqual(t){return t instanceof g2}}class Zq extends ny{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=xU(this,t,!0),i=this.pa.map(s=>ry(s,e)),r=new Af(i);return new Av(t.path,r)}isEqual(t){return this===t}}class $q extends ny{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=xU(this,t,!0),i=this.pa.map(s=>ry(s,e)),r=new Wp(i);return new Av(t.path,r)}isEqual(t){return this===t}}class Gq extends ny{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Dv(t.serializer,lI(t.serializer,this.Ia));return new Av(t.path,e)}isEqual(t){return this===t}}function _2(n,t,e,i){const r=n.ya(1,t,e);y2("Data must be an object, but it was:",r,i);const s=[],l=Da.empty();gu(i,(v,x)=>{const S=NT(t,v,e);x=(0,ie.m9)(x);const L=r.da(S);if(x instanceof KM)s.push(S);else{const Z=ry(x,L);null!=Z&&(s.push(S),l.set(S,Z))}});const m=new rl(s);return new CU(l,m,r.fieldTransforms)}function v2(n,t,e,i,r,s){const l=n.ya(1,t,e),m=[QM(t,i,e)],v=[r];if(s.length%2!=0)throw new yt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<s.length;Z+=2)m.push(QM(t,s[Z])),v.push(s[Z+1]);const x=[],S=Da.empty();for(let Z=m.length-1;Z>=0;--Z)if(!PU(x,m[Z])){const te=m[Z];let ae=v[Z];ae=(0,ie.m9)(ae);const ve=l.da(te);if(ae instanceof KM)x.push(te);else{const Be=ry(ae,ve);null!=Be&&(x.push(te),S.set(te,Be))}}const L=new rl(x);return new CU(S,L,l.fieldTransforms)}function MU(n,t,e,i=!1){return ry(e,n.ya(i?4:3,t))}function ry(n,t){if(OU(n=(0,ie.m9)(n)))return y2("Unsupported field value:",t,n),EU(n,t);if(n instanceof ny)return function(e,i){if(!wU(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const l of e){let m=ry(l,i.wa(s));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ie.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lI(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=co.fromDate(e);return{timestampValue:Kp(i.serializer,r)}}if(e instanceof co){const r=new co(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Kp(i.serializer,r)}}if(e instanceof AT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hf)return{bytesValue:aM(i.serializer,e._byteString)};if(e instanceof Uo){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:gb(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${DT(e)}`)}(n,t)}function EU(n,t){const e={};return ug(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gu(n,(i,r)=>{const s=ry(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function OU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof co||n instanceof AT||n instanceof Hf||n instanceof Uo||n instanceof ny)}function y2(n,t,e){if(!OU(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=DT(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function QM(n,t,e){if((t=(0,ie.m9)(t))instanceof um)return t._internalPath;if("string"==typeof t)return NT(n,t);throw FT("Field path arguments must be of type string or ",n,!1,void 0,e)}const Wq=new RegExp("[~\\*/\\[\\]]");function NT(n,t,e){if(t.search(Wq)>=0)throw FT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new um(...t.split("."))._internalPath}catch{throw FT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function FT(n,t,e,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(s||l)&&(v+=" (found",s&&(v+=` in field ${i}`),l&&(v+=` in document ${r}`),v+=")"),new yt(tt.INVALID_ARGUMENT,m+n+v)}function PU(n,t){return n.some(e=>e.isEqual(t))}class JM{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Yq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(LT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Yq extends JM{data(){return super.data()}}function LT(n,t){return"string"==typeof t?NT(n,t):t instanceof um?t._internalPath:t._delegate._internalPath}function IU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new yt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b2{}class XM extends b2{}function dm(n,t,...e){let i=[];t instanceof b2&&i.push(t),i=i.concat(e),function(r){const s=r.filter(m=>m instanceof zb).length,l=r.filter(m=>m instanceof e1).length;if(s>1||s>0&&l>0)throw new yt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class e1 extends XM{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new e1(t,e,i)}_apply(t){const e=this._parse(t);return kU(t._query,e),new Pc(t.firestore,t.converter,cb(t._query,e))}_parse(t){const e=iy(t.firestore);return function(r,s,l,m,v,x,S){let L;if(v.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new yt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){AU(S,x);const Z=[];for(const te of S)Z.push(DU(m,r,te));L={arrayValue:{values:Z}}}else L=DU(m,r,S)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||AU(S,x),L=MU(l,"where",S,"in"===x||"not-in"===x);return Ni.create(v,x,L)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function TU(n,t,e){const i=t,r=LT("where",n);return e1._create(r,i,e)}class zb extends b2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:gr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const m of l)kU(s,m),s=cb(s,m)}(t._query,e),new Pc(t.firestore,t.converter,cb(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class C2 extends XM{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new C2(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new yt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new yt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new fg(r,s);return function(m,v){if(null===ab(m)){const x=Iv(m);null!==x&&RU(0,x,v.field)}}(i,l),l}(t._query,this._field,this._direction);return new Pc(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Pf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class UT extends XM{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new UT(t,e,i)}_apply(t){return new Pc(t.firestore,t.converter,Tv(t._query,this._limit,this._limitType))}}class VT extends XM{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new VT(t,e,i)}_apply(t){const e=SU(t,this.type,this._docOrFields,this._inclusive);return new Pc(t.firestore,t.converter,(r=e,new Pf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class BT extends XM{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new BT(t,e,i)}_apply(t){const e=SU(t,this.type,this._docOrFields,this._inclusive);return new Pc(t.firestore,t.converter,(r=e,new Pf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function SU(n,t,e,i){if(e[0]=(0,ie.m9)(e[0]),e[0]instanceof JM)return function(r,s,l,m,v){if(!m)throw new yt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const x=[];for(const S of Tf(r))if(S.field.isKeyField())x.push(Ju(s,m.key));else{const L=m.data.field(S.field);if(xv(L))throw new yt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const Z=S.field.canonicalString();throw new yt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}x.push(L)}return new Bd(x,v)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=iy(n.firestore);return function(s,l,m,v,x,S){const L=s.explicitOrderBy;if(x.length>L.length)throw new yt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let te=0;te<x.length;te++){const ae=x[te];if(L[te].field.isKeyField()){if("string"!=typeof ae)throw new yt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ae}`);if(!jx(s)&&-1!==ae.indexOf("/"))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ae}' contains a slash.`);const ve=s.path.child(Zi.fromString(ae));if(!Zt.isDocumentKey(ve))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Be=new Zt(ve);Z.push(Ju(l,Be))}else{const ve=MU(m,v,ae);Z.push(ve)}}return new Bd(Z,S)}(n._query,n.firestore._databaseId,r,t,e,i)}}function DU(n,t,e){if("string"==typeof(e=(0,ie.m9)(e))){if(""===e)throw new yt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jx(t)&&-1!==e.indexOf("/"))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Zi.fromString(e));if(!Zt.isDocumentKey(i))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ju(n,new Zt(i))}if(e instanceof Uo)return Ju(n,e._key);throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DT(e)}.`)}function AU(n,t){if(!Array.isArray(n)||0===n.length)throw new yt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kU(n,t){if(t.isInequality()){const i=Iv(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=ab(n);null!==s&&RU(0,r,s)}const e=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new yt(tt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function RU(n,t,e){if(!e.isEqual(t))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class w2{convertValue(t,e="none"){switch(Of(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ef(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ln()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return gu(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new AT(hs(t.latitude),hs(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=qp(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Mv(t));default:return null}}convertTimestamp(t){const e=Hp(t);return new co(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Zi.fromString(t);Cn(Bv(i));const r=new kh(i.get(1),i.get(3)),s=new Zt(i.popFirst(5));return r.isEqual(e)||ao(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function zT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class iZ extends w2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uo(this.firestore,null,e)}}class oy{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hm extends JM{constructor(t,e,i,r,s,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new t1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(LT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class t1 extends hm{data(t={}){return super.data(t)}}class Lg{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new oy(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new t1(this._firestore,this._userDataWriter,i.key,i,new oy(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new t1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new oy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const m=new t1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new oy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,x=-1;return 0!==l.type&&(v=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),x=s.indexOf(l.doc.key)),{type:oZ(l.type),doc:m,oldIndex:v,newIndex:x}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function oZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function FU(n,t){return n instanceof hm&&t instanceof hm?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Lg&&t instanceof Lg&&n._firestore===t._firestore&&p2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Ug extends w2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Uo(this.firestore,null,e)}}function x2(n,t,e){n=$i(n,Uo);const i=$i(n.firestore,Vo),r=zT(n.converter,t,e);return jb(i,[RT(iy(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Dr.none())])}function M2(n,t,e,...i){n=$i(n,Uo);const r=$i(n.firestore,Vo),s=iy(r);let l;return l="string"==typeof(t=(0,ie.m9)(t))||t instanceof um?v2(s,"updateDoc",n._key,t,e,i):_2(s,"updateDoc",n._key,t),jb(r,[l.toMutation(n._key,Dr.exists(!0))])}function LU(n,t){const e=$i(n.firestore,Vo),i=WM(n),r=zT(n.converter,t);return jb(e,[RT(iy(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Dr.exists(!1))]).then(()=>i)}function E2(n,...t){var e,i,r;n=(0,ie.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||m2(t[l])||(s=t[l],l++);const m={includeMetadataChanges:s.includeMetadataChanges};if(m2(t[l])){const L=t[l];t[l]=null===(e=L.next)||void 0===e?void 0:e.bind(L),t[l+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),t[l+2]=null===(r=L.complete)||void 0===r?void 0:r.bind(L)}let v,x,S;if(n instanceof Uo)x=$i(n.firestore,Vo),S=If(n._key.path),v={next:L=>{t[l]&&t[l](O2(x,n,L))},error:t[l+1],complete:t[l+2]};else{const L=$i(n,Pc);x=$i(L.firestore,Vo),S=L._query;const Z=new Ug(x);v={next:te=>{t[l]&&t[l](new Lg(x,Z,L,te))},error:t[l+1],complete:t[l+2]},IU(n._query)}return function(L,Z,te,ae){const ve=new PT(ae),Be=new OT(Z,ve,te);return L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return wT(yield Bb(L),Be)})),()=>{ve.Dc(),L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return jM(yield Bb(L),Be)}))}}(qs(x),S,m,v)}function jb(n,t){return function(e,i){const r=new Ms;return e.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function ft(n,t,e){return Pt.apply(this,arguments)}(yield u2(e),i,r)})),r.promise}(qs(n),t)}function O2(n,t,e){const i=e.docs.get(t._key),r=new Ug(n);return new hm(n,r,t._key,i,new oy(e.hasPendingWrites,e.fromCache),t.converter)}const wZ={maxAttempts:5};class UU{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=iy(t)}set(t,e,i){this._verifyNotCommitted();const r=Vg(t,this._firestore),s=zT(r.converter,e,i),l=RT(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Dr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Vg(t,this._firestore);let l;return l="string"==typeof(e=(0,ie.m9)(e))||e instanceof um?v2(this._dataReader,"WriteBatch.update",s._key,e,i,r):_2(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(l.toMutation(s._key,Dr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Vg(t,this._firestore);return this._mutations=this._mutations.concat(new yg(e._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vg(n,t){if((n=(0,ie.m9)(n)).firestore!==t)throw new yt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xZ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=iy(t)}get(t){const e=Vg(t,this._firestore),i=new iZ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ln();const s=r[0];if(s.isFoundDocument())return new JM(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new JM(this._firestore,i,e._key,null,e.converter);throw ln()})}set(t,e,i){const r=Vg(t,this._firestore),s=zT(r.converter,e,i),l=RT(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const s=Vg(t,this._firestore);let l;return l="string"==typeof(e=(0,ie.m9)(e))||e instanceof um?v2(this._dataReader,"Transaction.update",s._key,e,i,r):_2(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,l),this}delete(t){const e=Vg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Vg(t,this._firestore),i=new Ug(this._firestore);return super.get(t).then(r=>new hm(this._firestore,i,e._key,r._document,new oy(!1,!1),e.converter))}}!function(n,t=!0){og=Us.SDK_VERSION,(0,Us._registerComponent)(new du.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),l=new Vo(new Tk(e.getProvider("auth-internal")),new gx(e.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new yt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kh(m.options.projectId,v)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Us.registerVersion)(hx,"3.13.0",n),(0,Us.registerVersion)(hx,"3.13.0","esm2017")}();var mn=Q(7398),jT=function(){return jT=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},jT.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var SZ={includeMetadataChanges:!1};function I2(n,t){return void 0===t&&(t=SZ),new cr.y(function(e){return{unsubscribe:E2(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}function AZ(n,t){return void 0===t&&(t={}),function DZ(n){return I2(n,{includeMetadataChanges:!0})}(n).pipe((0,mn.U)(function(e){return BU(e,t)}))}function BU(n,t){var e;void 0===t&&(t={});var i=n.data(t);return n.exists()&&"object"==typeof i&&null!==i&&t.idField?jT(jT({},i),((e={})[t.idField]=n.id,e)):i}function UZ(n,t){return void 0===t&&(t={}),function LZ(n){return I2(n,{includeMetadataChanges:!0}).pipe((0,mn.U)(function(t){return t.docs}))}(n).pipe((0,mn.U)(function(e){return e.map(function(i){return BU(i,t)})}))}class Nl{constructor(t){return t}}const qU="firestore",D2=new o.OlP("angularfire2.firestore-instances");function jZ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Nl(i)}}const HZ={provide:class BZ{constructor(){return(0,bn.vb)(qU)}},deps:[[new o.FiY,D2]]},qZ={provide:Nl,useFactory:function zZ(n,t){const e=(0,bn.JM)(qU,n,t);return e&&new Nl(e)},deps:[[new o.FiY,D2],Nm]};let ZU=(()=>{class n{constructor(){(0,Sd.KN)("angularfire",bn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qZ,HZ]}),n})();function ZZ(n,...t){return{ngModule:ZU,providers:[{provide:D2,useFactory:jZ(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,jC,[new o.FiY,Dd],[new o.FiY,Ep],...t]}]}}const vo=(0,bn.u3)(UZ,!0),$Z=(0,bn.u3)(AZ,!0),GZ=(0,bn.u3)(LU,!0),al=(0,bn.u3)(f2,!0),HT=(0,bn.u3)(WM,!0),WZ=(0,bn.u3)(Aq,!0),Zs=(0,bn.u3)(dm,!0),$U=(0,bn.u3)(x2,!0),YZ=(0,bn.u3)(M2,!0),Br=(0,bn.u3)(TU,!0),GU="firebasestorage.googleapis.com",WU="storageBucket";class ps extends ie.ZR{constructor(t,e,i=0){super(A2(t),`Firebase Storage: ${e} (${A2(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ps.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return A2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Xo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Xo||{});function A2(n){return"storage/"+n}function k2(){return new ps(Xo.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function R2(n){return new ps(Xo.INVALID_ARGUMENT,n)}function JU(){return new ps(Xo.APP_DELETED,"The Firebase app was deleted.")}function n1(n,t){return new ps(Xo.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function r1(n){throw new ps(Xo.INTERNAL_ERROR,"Internal error: "+n)}class Fl{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Fl.makeFromUrl(t,e)}catch{return new Fl(t,"")}if(""===i.path)return i;throw function o$(n){return new ps(Xo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+r+"(/(.*))?$","i");function x(Lt){Lt.path_=decodeURIComponent(Lt.path)}const L=e.replace(/[.]/g,"\\."),St=[{regex:m,indices:{bucket:1,path:3},postModify:function s(Lt){"/"===Lt.path.charAt(Lt.path.length-1)&&(Lt.path_=Lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${e===GU?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Lt=0;Lt<St.length;Lt++){const Dn=St[Lt],Rn=Dn.regex.exec(t);if(Rn){let is=Rn[Dn.indices.path];is||(is=""),i=new Fl(Rn[Dn.indices.bucket],is),Dn.postModify(i);break}}if(null==i)throw function r$(n){return new ps(Xo.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class d${constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function qT(n){return"string"==typeof n||n instanceof String}function XU(n){return N2()&&n instanceof Blob}function N2(){return typeof Blob<"u"&&!(0,ie.UG)()}function F2(n,t,e,i){if(i<t)throw R2(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw R2(`Invalid value for '${n}'. Expected ${e} or less.`)}function fm(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function e5(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Hb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Hb||{});class _${constructor(t,e,i,r,s,l,m,v,x,S,L,Z=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=m,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=S,this.connectionFactory_=L,this.retry=Z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((te,ae)=>{this.resolve_=te,this.reject_=ae,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,l=this.reject_,m=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function p$(n){return void 0!==n}(v)?s():s(v)}catch(v){l(v)}else if(null!==m){const v=k2();v.serverResponse=m.getErrorText(),l(this.errorCallback_?this.errorCallback_(m,v):v)}else l(r.canceled?this.appDelete_?JU():function KU(){return new ps(Xo.CANCELED,"User canceled the upload/download.")}():function YU(){return new ps(Xo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new ZT(!1,null,!0)):this.backoffId_=function h$(n,t,e){let i=1,r=null,s=null,l=!1,m=0;function v(){return 2===m}let x=!1;function S(...Be){x||(x=!0,t.apply(null,Be))}function L(Be){r=setTimeout(()=>{r=null,n(te,v())},Be)}function Z(){s&&clearTimeout(s)}function te(Be,...vt){if(x)return void Z();if(Be)return Z(),void S.call(null,Be,...vt);if(v()||l)return Z(),void S.call(null,Be,...vt);let St;i<64&&(i*=2),1===m?(m=2,St=0):St=1e3*(i+Math.random()),L(St)}let ae=!1;function ve(Be){ae||(ae=!0,Z(),!x&&(null!==r?(Be||(m=2),clearTimeout(r),L(0)):Be||(m=1)))}return L(0),s=setTimeout(()=>{l=!0,ve(!0)},e),ve}((i,r)=>{if(r)return void i(!1,new ZT(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const m=s.getErrorCode()===Hb.NO_ERROR,v=s.getStatus();if(!m||function t5(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}(v,this.additionalRetryCodes_)&&this.retry){const S=s.getErrorCode()===Hb.ABORT;return void i(!1,new ZT(!1,null,S))}const x=-1!==this.successCodes_.indexOf(v);i(!0,new ZT(x,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function f$(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ZT{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function M$(...n){const t=function x$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(N2())return new Blob(n);throw new ps(Xo.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Uh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class L2{constructor(t,e){this.data=t,this.contentType=e||null}}function i5(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function r5(n,t){switch(n){case Uh.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw n1(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Uh.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw n1(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function O$(n){if(typeof atob>"u")throw function l$(n){return new ps(Xo.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:n1(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class o5{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw n1(Uh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function S$(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class pm{constructor(t,e){let i=0,r="";XU(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(XU(this.data_)){const r=function E$(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new pm(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new pm(i,!0)}}static getBlob(...t){if(N2()){const e=t.map(i=>i instanceof pm?i.data_:i);return new pm(M$.apply(null,e))}{const e=t.map(l=>qT(l)?function n5(n,t){switch(n){case Uh.RAW:return new L2(i5(t));case Uh.BASE64:case Uh.BASE64URL:return new L2(r5(n,t));case Uh.DATA_URL:return new L2(function I$(n){const t=new o5(n);return t.base64?r5(Uh.BASE64,t.rest):function P$(n){let t;try{t=decodeURIComponent(n)}catch{throw n1(Uh.DATA_URL,"Malformed data URL.")}return i5(t)}(t.rest)}(t),function T$(n){return new o5(n).contentType}(t))}throw k2()}(Uh.RAW,l).data:l.data_);let i=0;e.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(l=>{for(let m=0;m<l.length;m++)r[s++]=l[m]}),new pm(r,!0)}}uploadData(){return this.data_}}function U2(n){let t;try{t=JSON.parse(n)}catch{return null}return function g$(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function s5(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function k$(n,t){return t}class Ll{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||k$}}let $T=null;function o1(){if($T)return $T;const n=[];n.push(new Ll("bucket")),n.push(new Ll("generation")),n.push(new Ll("metageneration")),n.push(new Ll("name","fullPath",!0));const e=new Ll("name");e.xform=function t(s,l){return function R$(n){return!qT(n)||n.length<2?n:s5(n)}(l)},n.push(e);const r=new Ll("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Ll("timeCreated")),n.push(new Ll("updated")),n.push(new Ll("md5Hash",null,!0)),n.push(new Ll("cacheControl",null,!0)),n.push(new Ll("contentDisposition",null,!0)),n.push(new Ll("contentEncoding",null,!0)),n.push(new Ll("contentLanguage",null,!0)),n.push(new Ll("contentType",null,!0)),n.push(new Ll("metadata","customMetadata",!0)),$T=n,$T}function a5(n,t,e){const i=U2(t);return null===i?null:function F$(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const l=e[s];i[l.local]=l.xform(i,t[l.server])}return function N$(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Fl(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}class qf{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zf(n){if(!n)throw k2()}function qb(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function n$(){return new ps(Xo.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function t$(){return new ps(Xo.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function e$(n){return new ps(Xo.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function i$(n){return new ps(Xo.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function f5(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let St="";for(let Lt=0;Lt<2;Lt++)St+=Math.random().toString().slice(2);return St}();l["Content-Type"]="multipart/related; boundary="+v;const x=function h5(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function $$(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}(t,i,r),S=function V2(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}(x,e),te=pm.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+v+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===te)throw function QU(){return new ps(Xo.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ae={name:x.fullPath},ve=fm(s,n.host,n._protocol),vt=n.maxUploadRetryTime,Dt=new qf(ve,"POST",function GT(n,t){return function e(i,r){const s=a5(n,r,t);return Zf(null!==s),s}}(n,e),vt);return Dt.urlParams=ae,Dt.headers=l,Dt.body=te.uploadData(),Dt.errorHandler=qb(t),Dt}let m5=null;class Q${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hb.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hb.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hb.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw r1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw r1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw r1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw r1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw r1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class J$ extends Q${initXhr(){this.xhr_.responseType="text"}}function Vh(){return m5?m5():new J$}class sy{constructor(t,e){this._service=t,this._location=e instanceof Fl?e:Fl.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new sy(t,e)}get root(){const t=new Fl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s5(this._location.path)}get storage(){return this._service}get parent(){const t=function D$(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Fl(this._location.bucket,t);return new sy(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function u$(n){return new ps(Xo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function dG(n){n._throwIfRoot("getDownloadURL");const t=function H$(n,t,e){const r=fm(t.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,m=new qf(r,"GET",function z$(n,t){return function e(i,r){const s=a5(n,r,t);return Zf(null!==s),function L$(n,t,e,i){const r=U2(t);if(null===r||!qT(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(x=>{const L=n.fullPath;return fm("/b/"+l(n.bucket)+"/o/"+l(L),e,i)+e5({alt:"media",token:x})})[0]}(s,r,n.host,n._protocol)}}(n,e),l);return m.errorHandler=function s1(n){const t=qb(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function XZ(n){return new ps(Xo.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}(t),m}(n.storage,n._location,o1());return n.storage.makeRequestWithTokens(t,Vh).then(e=>{if(null===e)throw function c$(){return new ps(Xo.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function b5(n,t){if(n instanceof H2){const e=n;if(null==e._bucket)throw function s$(){return new ps(Xo.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WU+"' property when initializing the app?")}();const i=new sy(e,e._bucket);return null!=t?b5(i,t):i}return void 0!==t?function y5(n,t){const e=function A$(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Fl(n._location.bucket,e);return new sy(n.storage,i)}(n,t):n}function C5(n,t){const e=t?.[WU];return null==e?null:Fl.makeFromBucketSpec(e,n)}class H2{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=GU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Fl.makeFromBucketSpec(r,this._host):C5(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Fl.makeFromBucketSpec(this._url,t):C5(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){F2("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){F2("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,dt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,dt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sy(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new d$(JU());{const l=function w$(n,t,e,i,r,s,l=!0){const m=e5(n.urlParams),v=n.url+m,x=Object.assign({},n.headers);return function b$(n,t){t&&(n["X-Firebase-GMPID"]=t)}(x,t),function v$(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(x,e),function y$(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(x,s),function C$(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(x,i),new _$(v,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,dt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const w5="@firebase/storage",M5="storage";function _G(n,t,e){return function g5(n,t,e){n._throwIfRoot("uploadBytes");const i=f5(n.storage,n._location,o1(),new pm(t,!0),e);return n.storage.makeRequestWithTokens(i,Vh).then(r=>({metadata:r,ref:n}))}(n=(0,ie.m9)(n),t,e)}function vG(n){return dG(n=(0,ie.m9)(n))}function yG(n,t){return function mG(n,t){if(t&&function fG(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof H2)return function pG(n,t){return new sy(n,t)}(n,t);throw R2("To use ref(service, url), the first argument must be a Storage instance.")}return b5(n,t)}(n=(0,ie.m9)(n),t)}function bG(n=(0,Us.getApp)(),t){n=(0,ie.m9)(n);const i=(0,Us._getProvider)(n,M5).getImmediate({identifier:t}),r=(0,ie.P0)("storage");return r&&function CG(n,t,e,i={}){!function gG(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ie.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(i,...r),i}function wG(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new H2(e,i,r,t,Us.SDK_VERSION)}!function xG(){(0,Us._registerComponent)(new du.wA(M5,wG,"PUBLIC").setMultipleInstances(!0)),(0,Us.registerVersion)(w5,"0.11.2",""),(0,Us.registerVersion)(w5,"0.11.2","esm2017")}();class YT{constructor(t){return t}}const E5="storage",q2=new o.OlP("angularfire2.storage-instances");function OG(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new YT(i)}}const PG={provide:class MG{constructor(){return(0,bn.vb)(E5)}},deps:[[new o.FiY,q2]]},IG={provide:YT,useFactory:function EG(n,t){const e=(0,bn.JM)(E5,n,t);return e&&new YT(e)},deps:[[new o.FiY,q2],Nm]};let TG=(()=>{class n{constructor(){(0,Sd.KN)("angularfire",bn.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[IG,PG]}),n})();function SG(n,...t){return{ngModule:TG,providers:[{provide:q2,useFactory:OG(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,jC,[new o.FiY,Dd],[new o.FiY,Ep],...t]}]}}const DG=(0,bn.u3)(vG,!0),AG=(0,bn.u3)(bG,!0),kG=(0,bn.u3)(yG,!0),RG=(0,bn.u3)(_G,!0);var $d=Q(4674),Ar=Q(2459),_n=Q(2096),Gd=Q(5619);const{isArray:FG}=Array,{getPrototypeOf:LG,prototype:UG,keys:VG}=Object;function O5(n){if(1===n.length){const t=n[0];if(FG(t))return{args:t,keys:null};if(function BG(n){return n&&"object"==typeof n&&LG(n)===UG}(t)){const e=VG(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var a1=Q(2737);const{isArray:zG}=Array;function Z2(n){return(0,mn.U)(t=>function jG(n,t){return zG(t)?n(...t):n(t)}(n,t))}var $b=Q(9940);function P5(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var HG=Q(7103);function KT(...n){const t=(0,$b.yG)(n),e=(0,$b.jO)(n),{args:i,keys:r}=O5(n);if(0===i.length)return(0,Ar.D)([],t);const s=new cr.y(function qG(n,t,e=a1.y){return i=>{I5(t,()=>{const{length:r}=n,s=new Array(r);let l=r,m=r;for(let v=0;v<r;v++)I5(t,()=>{const x=(0,Ar.D)(n[v],t);let S=!1;x.subscribe((0,li.x)(i,L=>{s[v]=L,S||(S=!0,m--),m||i.next(e(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>P5(r,l):a1.y));return e?s.pipe(Z2(e)):s}function I5(n,t,e){n?(0,HG.f)(e,n,t):t()}const QT=(0,Q(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var c1=Q(7537);function l1(...n){return function $G(){return(0,c1.J)(1)}()((0,Ar.D)(n,(0,$b.yG)(n)))}var $2=Q(8407);function Gb(n,t){const e=(0,$d.m)(n)?n:()=>n,i=r=>r.error(e());return new cr.y(t?r=>t.schedule(i,0,r):i)}var $f=Q(6232),Ic=Q(7394);function G2(){return(0,Tr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,li.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class T5 extends cr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Tr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ic.w0;const e=this.getSubject();t.add(this.source.subscribe((0,li.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ic.w0.EMPTY)}return t}refCount(){return G2()(this)}}var Bo=Q(4664);function tc(n){return n<=0?()=>$f.E:(0,Tr.e)((t,e)=>{let i=0;t.subscribe((0,li.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Gf(...n){const t=(0,$b.yG)(n);return(0,Tr.e)((e,i)=>{(t?l1(n,e,t):l1(n,e)).subscribe(i)})}var Ra=Q(1631);function JT(n){return(0,Tr.e)((t,e)=>{let i=!1;t.subscribe((0,li.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function S5(n=GG){return(0,Tr.e)((t,e)=>{let i=!1;t.subscribe((0,li.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function GG(){return new QT}function Bg(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Xi((r,s)=>n(r,s,i)):a1.y,tc(1),e?JT(t):S5(()=>new QT))}function ay(n,t){return(0,$d.m)(t)?(0,Ra.z)(n,t,1):(0,Ra.z)(n,1)}function zg(n){return(0,Tr.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,li.x)(e,void 0,void 0,l=>{s=(0,Ro.Xf)(n(l,zg(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Wb(n,t){return(0,Tr.e)(function WG(n,t,e,i,r){return(s,l)=>{let m=e,v=t,x=0;s.subscribe((0,li.x)(l,S=>{const L=x++;v=m?n(v,S,L):(m=!0,S),i&&l.next(v)},r&&(()=>{m&&l.next(v),l.complete()})))}}(n,t,arguments.length>=2,!0))}function W2(n){return n<=0?()=>$f.E:(0,Tr.e)((t,e)=>{let i=[];t.subscribe((0,li.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function D5(n){return(0,mn.U)(()=>n)}function XT(n){return(0,Tr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Y2=Q(2420);function nc(n){return(0,Tr.e)((t,e)=>{(0,Ro.Xf)(n).subscribe((0,li.x)(e,()=>e.complete(),Y2.Z)),!e.closed&&t.subscribe(e)})}const Ci="primary",u1=Symbol("RouteTitle");class KG{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Yb(n){return new KG(n)}function QG(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],m=n[s];if(l.startsWith(":"))r[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Wf(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!A5(n[r],t[r]))return!1;return!0}function A5(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function k5(n){return n.length>0?n[n.length-1]:null}function jg(n){return function NG(n){return!!n&&(n instanceof cr.y||(0,$d.m)(n.lift)&&(0,$d.m)(n.subscribe))}(n)?n:(0,o.QGY)(n)?(0,Ar.D)(Promise.resolve(n)):(0,_n.of)(n)}const XG={exact:function F5(n,t,e){if(!cy(n.segments,t.segments)||!eS(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!F5(n.children[i],t.children[i],e))return!1;return!0},subset:L5},R5={exact:function e9(n,t){return Wf(n,t)},subset:function t9(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>A5(n[e],t[e]))},ignored:()=>!0};function N5(n,t,e){return XG[e.paths](n.root,t.root,e.matrixParams)&&R5[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function L5(n,t,e){return U5(n,t,t.segments,e)}function U5(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!cy(r,e)||t.hasChildren()||!eS(r,e,i))}if(n.segments.length===e.length){if(!cy(n.segments,e)||!eS(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!L5(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(cy(n.segments,r)&&eS(n.segments,r,i)&&n.children[Ci])&&U5(n.children[Ci],t,s,i)}}function eS(n,t,e){return t.every((i,r)=>R5[e](n[r].parameters,i.parameters))}class Kb{constructor(t=new zr([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yb(this.queryParams)),this._queryParamMap}toString(){return r9.serialize(this)}}class zr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tS(this)}}class d1{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Yb(this.parameters)),this._parameterMap}toString(){return z5(this)}}function cy(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let h1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new K2},providedIn:"root"})}return n})();class K2{parse(t){const e=new m9(t);return new Kb(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${f1(t.root,!0)}`,i=function a9(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${nS(e)}=${nS(r)}`).join("&"):`${nS(e)}=${nS(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function o9(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const r9=new K2;function tS(n){return n.segments.map(t=>z5(t)).join("/")}function f1(n,t){if(!n.hasChildren())return tS(n);if(t){const e=n.children[Ci]?f1(n.children[Ci],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ci&&i.push(`${r}:${f1(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function i9(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ci&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ci&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ci?[f1(n.children[Ci],!1)]:[`${r}:${f1(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ci]?`${tS(n)}/${e[0]}`:`${tS(n)}/(${e.join("//")})`}}function V5(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nS(n){return V5(n).replace(/%3B/gi,";")}function Q2(n){return V5(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iS(n){return decodeURIComponent(n)}function B5(n){return iS(n.replace(/\+/g,"%20"))}function z5(n){return`${Q2(n.path)}${function s9(n){return Object.keys(n).map(t=>`;${Q2(t)}=${Q2(n[t])}`).join("")}(n.parameters)}`}const c9=/^[^\/()?;#]+/;function J2(n){const t=n.match(c9);return t?t[0]:""}const l9=/^[^\/()?;=#]+/,d9=/^[^=?&#]+/,f9=/^[^&#]+/;class m9{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zr([],{}):new zr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ci]=new zr(t,e)),i}parseSegment(){const t=J2(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new d1(iS(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function u9(n){const t=n.match(l9);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=J2(this.remaining);r&&(i=r,this.capture(i))}t[iS(e)]=iS(i)}parseQueryParam(t){const e=function h9(n){const t=n.match(d9);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function p9(n){const t=n.match(f9);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=B5(e),s=B5(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=J2(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ci);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Ci]:new zr([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function j5(n){return n.segments.length>0?new zr([],{[Ci]:n}):n}function H5(n){const t={};for(const i of Object.keys(n.children)){const s=H5(n.children[i]);if(i===Ci&&0===s.segments.length&&s.hasChildren())for(const[l,m]of Object.entries(s.children))t[l]=m;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function g9(n){if(1===n.numberOfChildren&&n.children[Ci]){const t=n.children[Ci];return new zr(n.segments.concat(t.segments),t.children)}return n}(new zr(n.segments,t))}function ly(n){return n instanceof Kb}function q5(n){let t;const r=j5(function e(s){const l={};for(const v of s.children){const x=e(v);l[v.outlet]=x}const m=new zr(s.url,l);return s===n&&(t=m),m}(n.root));return t??r}function Z5(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return X2(r,r,r,e,i);const s=function v9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new G5(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([v,x])=>{m[v]="string"==typeof x?x.split("/"):x}),[...r,{outlets:m}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?e=!0:".."===m?t++:""!=m&&r.push(m))}),r):[...r,s]},[]);return new G5(e,t,i)}(t);if(s.toRoot())return X2(r,r,new zr([],{}),e,i);const l=function y9(n,t,e){if(n.isAbsolute)return new oS(t,!0,0);if(!e)return new oS(t,!1,NaN);if(null===e.parent)return new oS(e,!0,0);const i=rS(n.commands[0])?0:1;return function b9(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new oS(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),m=l.processChildren?m1(l.segmentGroup,l.index,s.commands):W5(l.segmentGroup,l.index,s.commands);return X2(r,l.segmentGroup,m,e,i)}function rS(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p1(n){return"object"==typeof n&&null!=n&&n.outlets}function X2(n,t,e,i,r){let l,s={};i&&Object.entries(i).forEach(([v,x])=>{s[v]=Array.isArray(x)?x.map(S=>`${S}`):`${x}`}),l=n===t?e:$5(n,t,e);const m=j5(H5(l));return new Kb(m,s,r)}function $5(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:$5(s,t,e)}),new zr(n.segments,i)}class G5{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&rS(i[0]))throw new o.vHH(4003,!1);const r=i.find(p1);if(r&&r!==k5(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oS{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function W5(n,t,e){if(n||(n=new zr([],{})),0===n.segments.length&&n.hasChildren())return m1(n,t,e);const i=function w9(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const l=n.segments[r],m=e[i];if(p1(m))break;const v=`${m}`,x=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&x&&"object"==typeof x&&void 0===x.outlets){if(!K5(v,x,l))return s;i+=2}else{if(!K5(v,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new zr(n.segments.slice(0,i.pathIndex),{});return s.children[Ci]=new zr(n.segments.slice(i.pathIndex),n.children),m1(s,0,r)}return i.match&&0===r.length?new zr(n.segments,{}):i.match&&!n.hasChildren()?eN(n,t,e):i.match?m1(n,0,r):eN(n,t,e)}function m1(n,t,e){if(0===e.length)return new zr(n.segments,{});{const i=function C9(n){return p1(n[0])?n[0].outlets:{[Ci]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Ci)&&n.children[Ci]&&1===n.numberOfChildren&&0===n.children[Ci].segments.length){const s=m1(n.children[Ci],t,e);return new zr(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=W5(n.children[s],t,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new zr(n.segments,r)}}function eN(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(p1(s)){const v=x9(s.outlets);return new zr(i,v)}if(0===r&&rS(e[0])){i.push(new d1(n.segments[t].path,Y5(e[0]))),r++;continue}const l=p1(s)?s.outlets[Ci]:`${s}`,m=r<e.length-1?e[r+1]:null;l&&m&&rS(m)?(i.push(new d1(l,Y5(m))),r+=2):(i.push(new d1(l,{})),r++)}return new zr(i,{})}function x9(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=eN(new zr([],{}),0,i))}),t}function Y5(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function K5(n,t,e){return n==e.path&&Wf(t,e.parameters)}const g1="imperative";class Yf{constructor(t,e){this.id=t,this.url=e}}class mm extends Yf{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hg extends Yf{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _1 extends Yf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qb extends Yf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class sS extends Yf{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q5 extends Yf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M9 extends Yf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E9 extends Yf{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O9 extends Yf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P9 extends Yf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I9{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class T9{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class S9{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D9{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A9{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k9{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J5{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tN{}class nN{constructor(t){this.url=t}}class R9{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new v1,this.attachRef=null}}let v1=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new R9,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class X5{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=iN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=iN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return rN(t,this._root).map(e=>e.value)}}function iN(n,t){if(n===t.value)return t;for(const e of t.children){const i=iN(n,e);if(i)return i}return null}function rN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=rN(n,e);if(i.length)return i.unshift(t),i}return[]}class gm{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jb(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class e6 extends X5{constructor(t,e){super(t),this.snapshot=e,oN(this,t)}toString(){return this.snapshot.toString()}}function t6(n,t){const e=function N9(n,t){const l=new aS([],{},{},"",{},Ci,t,null,{});return new i6("",new gm(l,[]))}(0,t),i=new Gd.X([new d1("",{})]),r=new Gd.X({}),s=new Gd.X({}),l=new Gd.X({}),m=new Gd.X(""),v=new Xb(i,r,l,m,s,Ci,t,e.root);return v.snapshot=e.root,new e6(new gm(v,[]),e)}class Xb{constructor(t,e,i,r,s,l,m,v){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,mn.U)(x=>x[u1]))??(0,_n.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mn.U)(t=>Yb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mn.U)(t=>Yb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function n6(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function F9(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class aS{get title(){return this.data?.[u1]}constructor(t,e,i,r,s,l,m,v,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=m,this.routeConfig=v,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class i6 extends X5{constructor(t,e){super(e),this.url=t,oN(this,e)}toString(){return r6(this._root)}}function oN(n,t){t.value._routerState=n,t.children.forEach(e=>oN(n,e))}function r6(n){const t=n.children.length>0?` { ${n.children.map(r6).join(", ")} } `:"";return`${n.value}${t}`}function sN(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Wf(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Wf(t.params,e.params)||n.paramsSubject.next(e.params),function JG(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Wf(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Wf(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function aN(n,t){const e=Wf(n.params,t.params)&&function n9(n,t){return cy(n,t)&&n.every((e,i)=>Wf(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||aN(n.parent,t.parent))}let cN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ci,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(v1),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)(cS,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new L9(e,m,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]})}return n})();class L9{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Xb?this.route:t===v1?this.childContexts:this.parent.get(t,e)}}const cS=new o.OlP("");let o6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=KT([i.queryParams,i.params,i.data]).pipe((0,Bo.w)(([s,l,m],v)=>(m={...s,...l,...m},0===v?(0,_n.of)(m):Promise.resolve(m)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const l=(0,o.qFp)(i.component);if(l)for(const{templateName:m}of l.inputs)e.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function y1(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function V9(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return y1(n,i,r);return y1(n,i)})}(n,t,e);return new gm(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(m=>y1(n,m)),l}}const i=function B9(n){return new Xb(new Gd.X(n.url),new Gd.X(n.params),new Gd.X(n.queryParams),new Gd.X(n.fragment),new Gd.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>y1(n,s));return new gm(i,r)}}const lN="ngNavigationCancelingError";function s6(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ly(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=a6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function a6(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[lN]=!0,i.cancellationCode=t,e&&(i.url=e),i}function c6(n){return n&&n[lN]}let l6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(i,r){1&i&&o._UZ(0,"router-outlet")},dependencies:[cN],encapsulation:2})}return n})();function uN(n){const t=n.children&&n.children.map(uN),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ci&&(e.component=l6),e}function Bh(n){return n.outlet||Ci}function b1(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class W9{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),sN(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Jb(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Jb(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Jb(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Jb(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new k9(s.value.snapshot))}),t.children.length&&this.forwardEvent(new D9(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(sN(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),sN(m.route.value),this.activateChildRoutes(t,null,l.children)}else{const m=b1(r.snapshot);l.attachRef=null,l.route=r,l.injector=m,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class u6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lS{constructor(t,e){this.component=t,this.route=e}}function Y9(n,t,e){const i=n._root;return C1(i,t?t._root:null,e,[i.value])}function eC(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function C1(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jb(t);return n.children.forEach(l=>{(function Q9(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const v=function J9(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!cy(n.url,t.url);case"pathParamsOrQueryParamsChange":return!cy(n.url,t.url)||!Wf(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aN(n,t)||!Wf(n.queryParams,t.queryParams);default:return!aN(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new u6(i)):(s.data=l.data,s._resolvedData=l._resolvedData),C1(n,t,s.component?m?m.children:null:e,i,r),v&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new lS(m.outlet.component,l))}else l&&w1(t,m,r),r.canActivateChecks.push(new u6(i)),C1(n,null,s.component?m?m.children:null:e,i,r)})(l,s[l.value.outlet],e,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,m])=>w1(m,e.getContext(l),r)),r}function w1(n,t,e){const i=Jb(n),r=n.value;Object.entries(i).forEach(([s,l])=>{w1(l,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new lS(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function x1(n){return"function"==typeof n}function d6(n){return n instanceof QT||"EmptyError"===n?.name}const uS=Symbol("INITIAL_VALUE");function tC(){return(0,Bo.w)(n=>KT(n.map(t=>t.pipe(tc(1),Gf(uS)))).pipe((0,mn.U)(t=>{for(const e of t)if(!0!==e){if(e===uS)return uS;if(!1===e||e instanceof Kb)return e}return!0}),Xi(t=>t!==uS),tc(1)))}function h6(n){return(0,$2.z)((0,nr.b)(t=>{if(ly(t))throw s6(0,t)}),(0,mn.U)(t=>!0===t))}class dS{constructor(t){this.segmentGroup=t||null}}class f6{constructor(t){this.urlTree=t}}function nC(n){return Gb(new dS(n))}function p6(n){return Gb(new f6(n))}class v8{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new o.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,_n.of)(i);if(r.numberOfChildren>1||!r.children[Ci])return Gb(new o.vHH(4e3,!1));r=r.children[Ci]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Kb(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);i[r]=e[m]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let l={};return Object.entries(e.children).forEach(([m,v])=>{l[m]=this.createSegmentGroup(t,v,i,r)}),new zr(s,l)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const dN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y8(n,t,e,i,r){const s=hN(n,t,e);return s.matched?(i=function j9(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function m8(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,_n.of)(!0);const s=r.map(l=>{const m=eC(l,n);return jg(function r8(n){return n&&x1(n.canMatch)}(m)?m.canMatch(t,e):n.runInContext(()=>m(t,e)))});return(0,_n.of)(s).pipe(tC(),h6())}(i,t,e).pipe((0,mn.U)(l=>!0===l?s:{...dN}))):(0,_n.of)(s)}function hN(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...dN}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||QG)(e,n,t);if(!r)return{...dN};const s={};Object.entries(r.posParams??{}).forEach(([m,v])=>{s[m]=v.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function m6(n,t,e,i){return e.length>0&&function w8(n,t,e){return e.some(i=>hS(n,t,i)&&Bh(i)!==Ci)}(n,e,i)?{segmentGroup:new zr(t,C8(i,new zr(e,n.children))),slicedSegments:[]}:0===e.length&&function x8(n,t,e){return e.some(i=>hS(n,t,i))}(n,e,i)?{segmentGroup:new zr(n.segments,b8(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new zr(n.segments,n.children),slicedSegments:e}}function b8(n,t,e,i,r){const s={};for(const l of i)if(hS(n,e,l)&&!r[Bh(l)]){const m=new zr([],{});s[Bh(l)]=m}return{...r,...s}}function C8(n,t){const e={};e[Ci]=t;for(const i of n)if(""===i.path&&Bh(i)!==Ci){const r=new zr([],{});e[Bh(i)]=r}return e}function hS(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class P8{constructor(t,e,i,r,s,l,m){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new v8(this.urlSerializer,this.urlTree)}noMatchError(t){return new o.vHH(4002,!1)}recognize(){const t=m6(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ci).pipe(zg(e=>{if(e instanceof f6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof dS?this.noMatchError(e):e}),(0,mn.U)(e=>{const i=new aS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ci,this.rootComponentType,null,{}),r=new gm(i,e),s=new i6("",r),l=function _9(n,t,e=null,i=null){return Z5(q5(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ci).pipe(zg(i=>{throw i instanceof dS?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=n6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Ar.D)(r).pipe(ay(s=>{const l=i.children[s],m=function $9(n,t){const e=n.filter(i=>Bh(i)===t);return e.push(...n.filter(i=>Bh(i)!==t)),e}(e,s);return this.processSegmentGroup(t,m,l,s)}),Wb((s,l)=>(s.push(...l),s)),JT(null),function YG(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Xi((r,s)=>n(r,s,i)):a1.y,W2(1),e?JT(t):S5(()=>new QT))}(),(0,Ra.z)(s=>{if(null===s)return nC(i);const l=g6(s);return function I8(n){n.sort((t,e)=>t.value.outlet===Ci?-1:e.value.outlet===Ci?1:t.value.outlet.localeCompare(e.value.outlet))}(l),(0,_n.of)(l)}))}processSegment(t,e,i,r,s,l){return(0,Ar.D)(e).pipe(ay(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,i,r,s,l).pipe(zg(v=>{if(v instanceof dS)return(0,_n.of)(null);throw v}))),Bg(m=>!!m),zg(m=>{if(d6(m))return function E8(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,_n.of)([]):nC(i);throw m}))}processSegmentAgainstRoute(t,e,i,r,s,l,m){return function M8(n,t,e,i){return!!(Bh(n)===i||i!==Ci&&hS(t,e,n))&&("**"===n.path||hN(t,n,e).matched)}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,l):nC(r):nC(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?p6(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Ra.z)(l=>{const m=new zr(l,{});return this.processSegment(t,e,m,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){const{matched:m,consumedSegments:v,remainingSegments:x,positionalParamSegments:S}=hN(e,r,s);if(!m)return nC(e);const L=this.applyRedirects.applyRedirectCommands(v,r.redirectTo,S);return r.redirectTo.startsWith("/")?p6(L):this.applyRedirects.lineralizeSegments(r,L).pipe((0,Ra.z)(Z=>this.processSegment(t,i,e,Z.concat(x),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,l){let m;if("**"===i.path){const v=r.length>0?k5(r).parameters:{},x=new aS(r,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_6(i),Bh(i),i.component??i._loadedComponent??null,i,v6(i));m=(0,_n.of)({snapshot:x,consumedSegments:[],remainingSegments:[]}),e.children={}}else m=y8(e,i,r,t).pipe((0,mn.U)(({matched:v,consumedSegments:x,remainingSegments:S,parameters:L})=>v?{snapshot:new aS(x,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_6(i),Bh(i),i.component??i._loadedComponent??null,i,v6(i)),consumedSegments:x,remainingSegments:S}:null));return m.pipe((0,Bo.w)(v=>null===v?nC(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,Bo.w)(({routes:x})=>{const S=i._loadedInjector??t,{snapshot:L,consumedSegments:Z,remainingSegments:te}=v,{segmentGroup:ae,slicedSegments:ve}=m6(e,Z,te,x);if(0===ve.length&&ae.hasChildren())return this.processChildren(S,x,ae).pipe((0,mn.U)(vt=>null===vt?null:[new gm(L,vt)]));if(0===x.length&&0===ve.length)return(0,_n.of)([new gm(L,[])]);const Be=Bh(i)===s;return this.processSegment(S,x,ae,ve,Be?Ci:s,!0).pipe((0,mn.U)(vt=>[new gm(L,vt)]))}))))}getChildConfig(t,e,i){return e.children?(0,_n.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,_n.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function p8(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,_n.of)(!0);const s=r.map(l=>{const m=eC(l,n);return jg(function e8(n){return n&&x1(n.canLoad)}(m)?m.canLoad(t,e):n.runInContext(()=>m(t,e)))});return(0,_n.of)(s).pipe(tC(),h6())}(t,e,i).pipe((0,Ra.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,nr.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function _8(n){return Gb(a6(!1,3))}())):(0,_n.of)({routes:[],injector:t})}}function T8(n){const t=n.value.routeConfig;return t&&""===t.path}function g6(n){const t=[],e=new Set;for(const i of n){if(!T8(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=g6(i.children);t.push(new gm(i.value,r))}return t.filter(i=>!e.has(i))}function _6(n){return n.data||{}}function v6(n){return n.resolve||{}}function y6(n){return"string"==typeof n.title||null===n.title}function fN(n){return(0,Bo.w)(t=>{const e=n(t);return e?(0,Ar.D)(e).pipe((0,mn.U)(()=>t)):(0,_n.of)(t)})}const iC=new o.OlP("ROUTES");let pN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,_n.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=jg(e.loadComponent()).pipe((0,mn.U)(b6),(0,nr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),XT(()=>{this.componentLoaders.delete(e)})),r=new T5(i,()=>new Fn.x).pipe(G2());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,_n.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function F8(n,t,e,i){return jg(n.loadChildren()).pipe((0,mn.U)(b6),(0,Ra.z)(r=>r instanceof o.YKP||Array.isArray(r)?(0,_n.of)(r):(0,Ar.D)(t.compileModuleAsync(r))),(0,mn.U)(r=>{i&&i(n);let s,l,m=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(e).injector,l=s.get(iC,[],{optional:!0,self:!0}).flat()),{routes:l.map(uN),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(XT(()=>{this.childrenLoaders.delete(i)})),l=new T5(s,()=>new Fn.x).pipe(G2());return this.childrenLoaders.set(i,l),l}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function b6(n){return function L8(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let fS=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fn.x,this.transitionAbortSubject=new Fn.x,this.configLoader=(0,o.f3M)(pN),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(h1),this.rootContexts=(0,o.f3M)(v1),this.inputBindingEnabled=null!==(0,o.f3M)(cS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_n.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new T9(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new I9(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Gd.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:g1,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xi(s=>0!==s.id),(0,mn.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,Bo.w)(s=>{this.currentTransition=s;let l=!1,m=!1;return(0,_n.of)(s).pipe((0,nr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bo.w)(v=>{const x=v.currentBrowserUrl.toString(),S=!e.navigated||v.extractedUrl.toString()!==x||x!==v.currentUrlTree.toString();if(!S&&"reload"!==(v.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const Z="";return this.events.next(new Qb(v.id,this.urlSerializer.serialize(v.rawUrl),Z,0)),v.resolve(null),$f.E}if(e.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,_n.of)(v).pipe((0,Bo.w)(Z=>{const te=this.transitions?.getValue();return this.events.next(new mm(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Z.source,Z.restoredState)),te!==this.transitions?.getValue()?$f.E:Promise.resolve(Z)}),function S8(n,t,e,i,r,s){return(0,Ra.z)(l=>function O8(n,t,e,i,r,s,l="emptyOnly"){return new P8(n,t,e,i,r,l,s).recognize()}(n,t,e,i,l.extractedUrl,r,s).pipe((0,mn.U)(({state:m,tree:v})=>({...l,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,nr.b)(Z=>{s.targetSnapshot=Z.targetSnapshot,s.urlAfterRedirects=Z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Z.urlAfterRedirects};const te=new Q5(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(te)}));if(S&&e.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:Z,extractedUrl:te,source:ae,restoredState:ve,extras:Be}=v,vt=new mm(Z,this.urlSerializer.serialize(te),ae,ve);this.events.next(vt);const Dt=t6(0,this.rootComponentType).snapshot;return this.currentTransition=s={...v,targetSnapshot:Dt,urlAfterRedirects:te,extras:{...Be,skipLocationChange:!1,replaceUrl:!1}},(0,_n.of)(s)}{const Z="";return this.events.next(new Qb(v.id,this.urlSerializer.serialize(v.extractedUrl),Z,1)),v.resolve(null),$f.E}}),(0,nr.b)(v=>{const x=new M9(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(x)}),(0,mn.U)(v=>(this.currentTransition=s={...v,guards:Y9(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},s)),function s8(n,t){return(0,Ra.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?(0,_n.of)({...e,guardsResult:!0}):function a8(n,t,e,i){return(0,Ar.D)(n).pipe((0,Ra.z)(r=>function f8(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,_n.of)(!0);const l=s.map(m=>{const v=b1(t)??r,x=eC(m,v);return jg(function i8(n){return n&&x1(n.canDeactivate)}(x)?x.canDeactivate(n,t,e,i):v.runInContext(()=>x(n,t,e,i))).pipe(Bg())});return(0,_n.of)(l).pipe(tC())}(r.component,r.route,e,t,i)),Bg(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Ra.z)(m=>m&&function X9(n){return"boolean"==typeof n}(m)?function c8(n,t,e,i){return(0,Ar.D)(t).pipe(ay(r=>l1(function u8(n,t){return null!==n&&t&&t(new S9(n)),(0,_n.of)(!0)}(r.route.parent,i),function l8(n,t){return null!==n&&t&&t(new A9(n)),(0,_n.of)(!0)}(r.route,i),function h8(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function K9(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Cc(()=>{const m=l.guards.map(v=>{const x=b1(l.node)??e,S=eC(v,x);return jg(function n8(n){return n&&x1(n.canActivateChild)}(S)?S.canActivateChild(i,n):x.runInContext(()=>S(i,n))).pipe(Bg())});return(0,_n.of)(m).pipe(tC())}));return(0,_n.of)(s).pipe(tC())}(n,r.path,e),function d8(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,_n.of)(!0);const r=i.map(s=>Cc(()=>{const l=b1(t)??e,m=eC(s,l);return jg(function t8(n){return n&&x1(n.canActivate)}(m)?m.canActivate(t,n):l.runInContext(()=>m(t,n))).pipe(Bg())}));return(0,_n.of)(r).pipe(tC())}(n,r.route,e))),Bg(r=>!0!==r,!0))}(i,s,n,t):(0,_n.of)(m)),(0,mn.U)(m=>({...e,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,nr.b)(v=>{if(s.guardsResult=v.guardsResult,ly(v.guardsResult))throw s6(0,v.guardsResult);const x=new E9(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(x)}),Xi(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),fN(v=>{if(v.guards.canActivateChecks.length)return(0,_n.of)(v).pipe((0,nr.b)(x=>{const S=new O9(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(S)}),(0,Bo.w)(x=>{let S=!1;return(0,_n.of)(x).pipe(function D8(n,t){return(0,Ra.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,_n.of)(e);let s=0;return(0,Ar.D)(r).pipe(ay(l=>function A8(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!y6(r)&&(s[u1]=r.title),function k8(n,t,e,i){const r=function R8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,_n.of)({});const s={};return(0,Ar.D)(r).pipe((0,Ra.z)(l=>function N8(n,t,e,i){const r=b1(t)??i,s=eC(n,r);return jg(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[l],t,e,i).pipe(Bg(),(0,nr.b)(m=>{s[l]=m}))),W2(1),D5(s),zg(l=>d6(l)?$f.E:Gb(l)))}(s,n,t,i).pipe((0,mn.U)(l=>(n._resolvedData=l,n.data=n6(n,e).resolve,r&&y6(r)&&(n.data[u1]=r.title),null)))}(l.route,i,n,t)),(0,nr.b)(()=>s++),W2(1),(0,Ra.z)(l=>s===r.length?(0,_n.of)(e):$f.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,nr.b)({next:()=>S=!0,complete:()=>{S||this.cancelNavigationTransition(x,"",2)}}))}),(0,nr.b)(x=>{const S=new P9(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(S)}))}),fN(v=>{const x=S=>{const L=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,nr.b)(Z=>{S.component=Z}),(0,mn.U)(()=>{})));for(const Z of S.children)L.push(...x(Z));return L};return KT(x(v.targetSnapshot.root)).pipe(JT(),tc(1))}),fN(()=>this.afterPreactivation()),(0,mn.U)(v=>{const x=function U9(n,t,e){const i=y1(n,t._root,e?e._root:void 0);return new e6(i,t)}(e.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=s={...v,targetRouterState:x},s}),(0,nr.b)(()=>{this.events.next(new tN)}),((n,t,e,i)=>(0,mn.U)(r=>(new W9(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),tc(1),(0,nr.b)({next:v=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hg(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),e.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{l=!0}}),nc(this.transitionAbortSubject.pipe((0,nr.b)(v=>{throw v}))),XT(()=>{l||m||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),zg(v=>{if(m=!0,c6(v))this.events.next(new _1(s.id,this.urlSerializer.serialize(s.extractedUrl),v.message,v.cancellationCode)),function z9(n){return c6(n)&&ly(n.url)}(v)?this.events.next(new nN(v.url)):s.resolve(!1);else{this.events.next(new sS(s.id,this.urlSerializer.serialize(s.extractedUrl),v,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(v))}catch(x){s.reject(x)}}return $f.E}))}))}cancelNavigationTransition(e,i,r){const s=new _1(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C6(n){return n!==g1}let w6=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ci);return i}getResolvedTitleForRoute(e){return e.data[u1]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(U8)},providedIn:"root"})}return n})(),U8=(()=>{class n extends w6{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(pt))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(z8)},providedIn:"root"})}return n})();class B8{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let z8=(()=>{class n extends B8{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pS=new o.OlP("",{providedIn:"root",factory:()=>({})});let j8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(H8)},providedIn:"root"})}return n})(),H8=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M1=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(M1||{});function x6(n,t){n.events.pipe(Xi(e=>e instanceof Hg||e instanceof _1||e instanceof sS||e instanceof Qb),(0,mn.U)(e=>e instanceof Hg||e instanceof Qb?M1.COMPLETE:e instanceof _1&&(0===e.code||1===e.code)?M1.REDIRECTING:M1.FAILED),Xi(e=>e!==M1.REDIRECTING),tc(1)).subscribe(()=>{t()})}function q8(n){throw n}function Z8(n,t,e){return t.parse("/")}const $8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ms=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this._events=new Fn.x,this.options=(0,o.f3M)(pS,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||q8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Z8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(j8),this.routeReuseStrategy=(0,o.f3M)(V8),this.titleStrategy=(0,o.f3M)(w6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(iC,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(fS),this.urlSerializer=(0,o.f3M)(h1),this.location=(0,o.f3M)(mt),this.componentInputBindingEnabled=!!(0,o.f3M)(cS,{optional:!0}),this.eventsSubscription=new Ic.w0,this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kb,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=t6(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(M6(i)&&this._events.next(i));if(i instanceof mm)C6(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Qb)this.rawUrlTree=r.rawUrl;else if(i instanceof Q5){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof tN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof _1)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof nN){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||C6(r.source)};this.scheduleNavigation(s,g1,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof sS&&this.restoreHistory(r,!0),i instanceof Hg&&(this.navigated=!0),M6(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),g1,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const v={...r};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(s.state=v)}const m=this.parseUrl(e);this.scheduleNavigation(m,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(uN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:m,preserveFragment:v}=i,x=v?this.currentUrlTree.fragment:l;let L,S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...s};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}null!==S&&(S=this.removeEmptyProps(S));try{L=q5(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),L=this.currentUrlTree.root}return Z5(L,e,S,x??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ly(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,g1,null,i)}navigate(e,i={skipLocationChange:!1}){return function W8(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new o.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...$8}:!1===i?{...G8}:i,ly(e))return N5(this.currentUrlTree,e,r);const s=this.parseUrl(e);return N5(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let m,v,x;l?(m=l.resolve,v=l.reject,x=l.promise):x=new Promise((L,Z)=>{m=L,v=Z});const S=this.pendingTasks.add();return x6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:m,reject:v,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(L=>Promise.reject(L))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M6(n){return!(n instanceof tN||n instanceof nN)}let bu=(()=>{class n{constructor(e,i,r,s,l,m){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Fn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=e.events.subscribe(x=>{x instanceof Hg&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(Xb),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ne))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&o.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&i&&o.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",o.VuI],replaceUrl:["replaceUrl","replaceUrl",o.VuI],routerLink:"routerLink"},standalone:!0,features:[o.Xq5,o.TTD]})}return n})(),mN=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,l){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(m=>{m instanceof Hg&&this.update()})}ngAfterContentInit(){(0,_n.of)(this.links.changes,(0,_n.of)(null)).pipe((0,c1.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Ar.D)(e).pipe((0,c1.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Y8(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(bu,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&o.Suo(s,bu,5),2&i){let l;o.iGM(l=o.CRH())&&(r.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.TTD]})}return n})();class E6{}let K8=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(e=>e instanceof Hg),ay(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,m=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(m,s.children??s._loadedRoutes))}return(0,Ar.D)(r).pipe((0,c1.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,_n.of)(null);const s=r.pipe((0,Ra.z)(l=>null===l?(0,_n.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Ar.D)([s,l]).pipe((0,c1.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ms),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(E6),o.LFG(pN))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gN=new o.OlP("");let O6=(()=>{class n{constructor(e,i,r,s,l={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof mm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hg?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Qb&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof J5&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new J5(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function _m(n,t){return{\u0275kind:n,\u0275providers:t}}function I6(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(ms),r=n.get(T6);1===n.get(_N)&&i.initialNavigation(),n.get(S6,null,o.XFs.Optional)?.setUpPreloading(),n.get(gN,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const T6=new o.OlP("",{factory:()=>new Fn.x}),_N=new o.OlP("",{providedIn:"root",factory:()=>1}),S6=new o.OlP("");function e7(n){return _m(0,[{provide:S6,useExisting:K8},{provide:E6,useExisting:n}])}const D6=new o.OlP("ROUTER_FORROOT_GUARD"),n7=[mt,{provide:h1,useClass:K2},ms,v1,{provide:Xb,useFactory:function P6(n){return n.routerState.root},deps:[ms]},pN,[]];function i7(){return new o.PXZ("Router",ms)}let vN=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[n7,[],{provide:iC,multi:!0,useValue:e},{provide:D6,useFactory:a7,deps:[[ms,new o.FiY,new o.tp0]]},{provide:pS,useValue:i||{}},i?.useHash?{provide:Ne,useClass:st}:{provide:Ne,useClass:lt},{provide:gN,useFactory:()=>{const n=(0,o.f3M)(ur),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(pS),i=(0,o.f3M)(fS),r=(0,o.f3M)(h1);return e.scrollOffset&&n.setOffset(e.scrollOffset),new O6(r,i,n,t,e)}},i?.preloadingStrategy?e7(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:i7},i?.initialNavigation?c7(i):[],i?.bindToComponentInputs?_m(8,[o6,{provide:cS,useExisting:o6}]).\u0275providers:[],[{provide:A6,useFactory:I6},{provide:o.tb,multi:!0,useExisting:A6}]]}}static forChild(e){return{ngModule:n,providers:[{provide:iC,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(D6,8))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function a7(n){return"guarded"}function c7(n){return["disabled"===n.initialNavigation?_m(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(ms);return()=>{t.setUpLocationChangeListener()}}},{provide:_N,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_m(2,[{provide:_N,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(ut,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(ms),s=t.get(T6);x6(r,()=>{i(!0)}),t.get(fS).afterPreactivation=()=>(i(!0),s.closed?(0,_n.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const A6=new o.OlP("");Q(4467);const E1=[{routerLink:"dashboard",icon:"fal fa-home",label:"F\u0151oldal"},{routerLink:"products",icon:"fal fa-duotone fa-glasses",label:"Napszem\xfcvegek"},{routerLink:"accessories",icon:"fal fa-gem",label:"Kieg\xe9sz\xedt\u0151k"},{routerLink:"fragrances",icon:" fa fa-spray-can-sparkles",label:"Parf\xfcm\xf6k"},{routerLink:"user",icon:"fal fa-user",label:"Profil"},{routerLink:"shopping-cart",icon:"fal fa-cart-shopping",label:"Kos\xe1r",badge:0}];let es=(()=>{class n{constructor(e){this.fs=e,this.cartItems=[],this.currentProduct=[],this.discount10=!1,this.discount20=!1,this.placedOrder=!1,this.addedToCart=!1}getCollectionData(e){let i=al(this.fs,e);return vo(i,{idField:"id"})}refreshData(e,i){e().subscribe(r=>{for(const s of r)i.some(l=>l.id===s.id)||i.push(s)})}getHawkers(){return this.getCollectionData("hawkers")}getJPG(){return this.getCollectionData("JPG")}getOrders(){return this.getCollectionData("*orders")}getUsers(){return this.getCollectionData("*users")}addToCartService(e){const i_selectedPrice=this.selectedSizePrice,i_selectedColor=this.selectedColor,i_selectedSize=this.selectedSize,r=this.cartItems.find(l=>l.product.productName===e.productName&&l.selectedPrice===i_selectedPrice&&l.color===i_selectedColor&&l.size===i_selectedSize);this.cartItems=this.getCartItems(),r?r.quantity<5&&(r.quantity++,this.addedToCart=!0):(this.cartItems.push({product:e,quantity:1,selectedPrice:this.selectedSizePrice,size:this.selectedSize||null,color:this.selectedColor||null,selectedImage:this.currentImage||null}),this.addedToCart=!0,console.log("item: ",e.productName,this.selectedColor,this.selectedSizePrice,this.selectedSize,"beker\xfclt"));const s=E1.find(l=>"shopping-cart"===l.routerLink);if(s){const l=this.cartItems.reduce((m,v)=>m+v.quantity,0);s.badge=l}}selectItem(e){this.selectedSize=e.size||null,this.selectedSizePrice=e.price||null,this.discount10=e.discount10||null,e.discount10&&(this.selectedSizePrice=.9*this.selectedSizePrice)}selectColor(e){this.selectedColor=e.color||null,this.currentImage=e.selectedImage||null,this.shippingImage=e.selectedImage||null}changeMainImage(e){this.shippingImage=e}getCurrentProduct(e){return this.currentProduct.push([e]),this.currentProduct}getCartItems(){return this.cartItems}clearCart(){this.cartItems=[];const e=E1.find(i=>"shopping-cart"===i.routerLink);e&&(e.badge=0)}getSelectedPrice(){return this.selectedSizePrice}exit(){window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Nl))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ca=(()=>{class n{constructor(e,i,r){this.rendererFactory=e,this.services=i,this.firestore=r,this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1,this.isModalOpen=!1,this.isFilterChecked=!1,this.fragrances$=vo(al(this.firestore,"fragrances")),this.manFragrances$=vo(Zs(al(this.firestore,"fragrances"),Br("gender","==","man"))),this.womanFragrances$=vo(Zs(al(this.firestore,"fragrances"),Br("gender","==","woman"))),this.diorQuery$=vo(Zs(al(this.firestore,"fragrances"),Br("brand","==","Dior"))),this.lancomeQuery$=vo(Zs(al(this.firestore,"fragrances"),Br("brand","==","Lancome"))),this.JPGQuery$=vo(Zs(al(this.firestore,"fragrances"),Br("brand","==","Jean Paul Gaultier"))),this.renderer=e.createRenderer(null,null)}filterCheck(){this.isFilterChecked=!this.isFilterChecked}onCheckboxChange(e){"isAllChecked"===e&&(this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1),("isDiorChecked"===e||"isLancomeChecked"===e||"isJPGChecked"===e||"isWomanChecked"===e||"isManChecked"===e)&&(this.isAllChecked=!(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked||this.isWomanChecked||this.isManChecked));const i=al(this.firestore,"fragrances");!0===this.isManChecked&&(this.diorQuery$=vo(Zs(i,Br("gender","==","man"),Br("brand","==","Dior"))),this.lancomeQuery$=vo(Zs(i,Br("gender","==","man"),Br("brand","==","Lancome"))),this.JPGQuery$=vo(Zs(i,Br("gender","==","man"),Br("brand","==","Jean Paul Gaultier"))),this.manFragrances$=vo(!0===this.isManChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Zs(i,Br("gender","==","man"),Br("brand","==","*")):Zs(i,Br("gender","==","man")))),!0===this.isWomanChecked&&(this.diorQuery$=vo(Zs(i,Br("gender","==","woman"),Br("brand","==","Dior"))),this.lancomeQuery$=vo(Zs(i,Br("gender","==","woman"),Br("brand","==","Lancome"))),this.JPGQuery$=vo(Zs(i,Br("gender","==","woman"),Br("brand","==","Jean Paul Gaultier"))),this.womanFragrances$=vo(!0===this.isWomanChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Zs(i,Br("gender","==","woman"),Br("brand","==","*")):Zs(i,Br("gender","==","woman")))),!1===this.isWomanChecked&&!1===this.isManChecked&&(this.diorQuery$=vo(Zs(i,Br("brand","==","Dior"))),this.lancomeQuery$=vo(Zs(i,Br("brand","==","Lancome"))),this.JPGQuery$=vo(Zs(i,Br("brand","==","Jean Paul Gaultier"))))}mouseOver(e){e.imagePath=e.modalImagePath[1]}mouseLeave(e){e.imagePath=e.modalImagePath[0]}openModal(e){this.selectedProduct=e,this.isModalOpen=!0,this.renderer.setStyle(document.body,"overflow","hidden"),e.type&&e.type.length>0&&this.services.selectItem(e.type[0]),e.colorType&&e.colorType.length>0&&this.services.selectColor(e.colorType[0])}closeModal(){this.renderer.removeStyle(document.body,"overflow"),this.isModalOpen=!1}closeAddedModal(){this.renderer.removeStyle(document.body,"overflow"),this.services.addedToCart=!1,this.services.shippingImage="",console.log("this.services.addedToCart: ",this.services.addedToCart)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(es),o.LFG(Nl))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u7=(()=>{class n{constructor(){this.discountedWatches="Kedvezm\xe9nyes \xf3r\xe1k",this.discountedSunglasses="Kedvezm\xe9nyes napszem\xfcvegek",this.loremIps="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ",this.more="Tudjon meg t\xf6bbet!",this.ourSunglasses="Forgalmazott napszem\xfcvegek",this.ourFragrances="Forgalmazott parf\xfcm\xf6k",this.hawkers="Hawkers napszem\xfcvegek sz\xe9les k\xedn\xe1latban.",this.goToProducts="Tov\xe1bb a term\xe9kekhez!",this.labella="Minden f\xe9rfit mag\xe1hoz vonz, \xe9s t\xf6k\xe9letes p\xe1rt alkot a Jean Paul Gaultier Le Male Le Parfum f\xe9rfi illattal \u2013 ez a Jean Paul Gaultier La Belle Le Parfum n\u0151i illat, amelynek nagyon neh\xe9z ellen\xe1llni. \xdajabb term\xe9s Jean Paul Gaultier k\xe9pzeletbeli kertj\xe9b\u0151l, ahol minden b\u0171n megengedett.",this.lebeau="A f\xe9rfi Jean Paul Gaultier Le Beau \xfcvegcs\xe9j\xe9nek az alakja egy izmos f\xe9rfitorz\xf3, amelyet csak egy lev\xe9l takar. \xdagy n\xe9z ki, mintha egyenesen a Paradicsomb\xf3l l\xe9pett volna el\u0151. Azonban az \u0151 eset\xe9ben sz\xf3 sincs tiltott gy\xfcm\xf6lcsr\u0151l. Egy\xe9rtelm\u0171en k\xf3stol\xe1sra k\xe9sztet\u0151, friss, f\xfcgg\u0151s\xe9get kiv\xe1lt\xf3 illat.",this.readMore="Olvasson t\xf6bbet a m\xe1rk\xe1r\xf3l!"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const d7=function(n){return{"image-active":n}};function h7(n,t){if(1&n&&o._UZ(0,"img",9),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("src",e.imageSrc,o.LSH)("alt",e.imageAlt)("ngClass",o.VKq(3,d7,r.selectedIndex===i))}}const f7=function(n){return{"caption-active":n}};function p7(n,t){if(1&n&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("ngClass",o.VKq(2,f7,r.selectedIndex===i)),o.xp6(1),o.Oqu(e.caption)}}const m7=function(n){return{"caption-button-active":n}};function g7(n,t){if(1&n&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("routerLink",e.routerLink)("ngClass",o.VKq(3,m7,r.selectedIndex===i)),o.xp6(1),o.Oqu(e.button)}}const _7=function(n){return{active:n}};function v7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",12),o.NdJ("click",function(){const s=o.CHM(e).index,l=o.oxw(2);return o.KtG(l.selectImage(s))}),o.qZA()}if(2&n){const e=t.index,i=o.oxw(2);o.Q6J("ngClass",o.VKq(1,_7,i.selectedIndex===e))}}function y7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"i",14),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onPrevClick())}),o.qZA()()}}function b7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",15)(1,"i",16),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onNextClick())}),o.qZA()()}}function C7(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,h7,1,5,"img",2),o.YNc(2,p7,2,4,"div",3),o.YNc(3,g7,2,5,"div",4),o.TgZ(4,"div",5),o.YNc(5,v7,1,3,"span",6),o.qZA(),o.YNc(6,y7,2,0,"div",7),o.YNc(7,b7,2,0,"div",8),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.images),o.xp6(1),o.Q6J("ngForOf",e.images),o.xp6(1),o.Q6J("ngForOf",e.images),o.xp6(2),o.Q6J("ngForOf",e.images),o.xp6(1),o.Q6J("ngIf",e.controls),o.xp6(1),o.Q6J("ngIf",e.controls)}}let w7=(()=>{class n{constructor(){this.images=[],this.indicators=!0,this.controls=!1,this.autoSlide=!1,this.slideInterval=4e3,this.clicked=!1,this.contentLoaded=!1,this.selectedIndex=0}ngOnInit(){this.autoSlide&&this.autoSlideImages(),setTimeout(()=>{this.contentLoaded=!0},2e3)}autoSlideImages(){setInterval(()=>{this.onNextClick()},this.slideInterval)}selectImage(e){this.selectedIndex=e}onPrevClick(){0===this.selectedIndex?this.selectedIndex=this.images.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.images.length-1?this.selectedIndex=0:this.selectedIndex++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-carousel"]],inputs:{images:"images",indicators:"indicators",controls:"controls",autoSlide:"autoSlide"},decls:1,vars:1,consts:[["class","carousel-container",4,"ngIf"],[1,"carousel-container"],["class","fade",3,"src","alt","ngClass",4,"ngFor","ngForOf"],["class","caption",3,"ngClass",4,"ngFor","ngForOf"],["class","caption-button",3,"routerLink","ngClass",4,"ngFor","ngForOf"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],["class","btn-carousel btn-prev",4,"ngIf"],["class","btn-carousel btn-next",4,"ngIf"],[1,"fade",3,"src","alt","ngClass"],[1,"caption",3,"ngClass"],[1,"caption-button",3,"routerLink","ngClass"],[1,"dot",3,"ngClass","click"],[1,"btn-carousel","btn-prev"],[1,"fas","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fas","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"]],template:function(i,r){1&i&&o.YNc(0,C7,8,6,"div",0),2&i&&o.Q6J("ngIf",r.images&&r.images.length>0)},dependencies:[Cr,Mn,Hn,bu],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;margin:auto;width:auto;max-width:100%}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .caption[_ngcontent-%COMP%]{display:none}.caption-active[_ngcontent-%COMP%]{font-family:Outfit,sans-serif;display:block;position:absolute;left:2%;top:20%;font-weight:900;font-size:clamp(35px,4vw,120px);color:#fff;line-height:80px;max-width:500px;text-shadow:2px 2px 2px #333}.caption-button[_ngcontent-%COMP%]{display:none}.caption-button-active[_ngcontent-%COMP%]{display:block;position:absolute;bottom:10%;left:2%;font-weight:900;font-size:22px;cursor:pointer;padding:15px 30px;border:1px solid white;background:white;color:#000;transition:.2s ease}.caption-button-active[_ngcontent-%COMP%]:hover{background:transparent;color:#fff}@media screen and (max-width: 768px){.caption-button-active[_ngcontent-%COMP%]{font-size:16px;padding:7px 13px;bottom:25%}.caption-active[_ngcontent-%COMP%]{max-width:230px;line-height:38px}}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;border-radius:.625rem;transition:all .5s ease}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.dot[_ngcontent-%COMP%]{cursor:pointer;height:13px;width:13px;margin:0 5px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacitiy .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1}.fade[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade;animation-duration:.7s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.8}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;cursor:pointer}.icon-carousel[_ngcontent-%COMP%]{opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:35px}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}@media screen and (max-width: 1080px){.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{border-radius:0rem;transition:all .5s ease}}"]})}return n})(),x7=(()=>{class n{constructor(){this.text=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-custom-button"]],inputs:{text:"text"},decls:2,vars:1,consts:[[1,"custom-button"]],template:function(i,r){1&i&&(o.TgZ(0,"button",0),o._uU(1),o.qZA()),2&i&&(o.xp6(1),o.Oqu(r.text))},styles:['.custom-button[_ngcontent-%COMP%]{margin-top:20px;width:auto;height:45px;font-size:20px;cursor:pointer;border:none;outline:none;background:transparent;color:#fff;font-weight:700;position:relative;transition:all .5s;z-index:1}.custom-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-10px;width:5px;height:100%;background-color:#fff;z-index:-1;transition:all .5s}.custom-button[_ngcontent-%COMP%]:hover:before{width:110%}.custom-button[_ngcontent-%COMP%]:hover{color:#000}.custom-button[_ngcontent-%COMP%]:active:before{background:#b9b9b9}@media screen and (max-width: 768px){.custom-button[_ngcontent-%COMP%]{height:35px;font-size:15px}}']})}return n})(),mS=(()=>{class n{constructor(e){this.viewportScroller=e,this.contentLoaded=!1}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1e3)}scrollToTop(){this.viewportScroller.scrollToPosition([0,0])}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ur))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:90,vars:2,consts:[[1,"footer"],[1,"footer-container"],[1,"container"],[1,"footer_inner"],[1,"c-footer"],[1,"layout"],[1,"layout_item","w-50"],[1,"newsletter"],[1,"newsletter_title"],[1,"layout_item","w-25"],[1,"c-nav-tool"],[1,"c-nav-tool_list"],["routerLink","/products/",1,"c-link"],["routerLink","/accessories/",1,"c-link"],["routerLink","/fragrances/",1,"c-link"],["routerLink","/media/",1,"c-link"],[1,"c-nav-tool_item"],[1,"c-link"],["routerLink","/user/sign-up/",1,"c-link"],["routerLink","/user/login/",1,"c-link"],[1,"layout","c-2"],[1,"flex"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","32","height","32"],["fill","none","d","M0 0h24v24H0z"],["d","M12 6.654a6.786 6.786 0 0 1 2.596 5.344A6.786 6.786 0 0 1 12 17.34a6.786 6.786 0 0 1-2.596-5.343A6.786 6.786 0 0 1 12 6.654zm-.87-.582A7.783 7.783 0 0 0 8.4 12a7.783 7.783 0 0 0 2.728 5.926 6.798 6.798 0 1 1 .003-11.854zm1.742 11.854A7.783 7.783 0 0 0 15.6 12a7.783 7.783 0 0 0-2.73-5.928 6.798 6.798 0 1 1 .003 11.854z"],["d","M1 4h22v2H1V4zm0 14h22v2H1v-2zm18.622-3.086l-.174-.87h-1.949l-.31.863-1.562.003c1.005-2.406 1.75-4.19 2.236-5.348.127-.303.353-.457.685-.455.254.002.669.002 1.245 0L21 14.912l-1.378.003zm-1.684-2.062h1.256l-.47-2.18-.786 2.18zM7.872 9.106l1.57.002-2.427 5.806-1.59-.001c-.537-2.07-.932-3.606-1.184-4.605-.077-.307-.23-.521-.526-.622-.263-.09-.701-.23-1.315-.419v-.16h2.509c.434 0 .687.21.769.64l.62 3.289 1.574-3.93zm3.727.002l-1.24 5.805-1.495-.002 1.24-5.805 1.495.002zM14.631 9c.446 0 1.01.138 1.334.267l-.262 1.204c-.293-.118-.775-.277-1.18-.27-.59.009-.954.256-.954.493 0 .384.632.578 1.284.999.743.48.84.91.831 1.378-.01.971-.831 1.929-2.564 1.929-.791-.012-1.076-.078-1.72-.306l.272-1.256c.656.274.935.361 1.495.361.515 0 .956-.207.96-.568.002-.257-.155-.384-.732-.702-.577-.317-1.385-.756-1.375-1.64C12.033 9.759 13.107 9 14.63 9z"],["d","M15 17a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15zM2 2h4v20H2V2z"],["d","M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-6v2h2v-2h1a2.5 2.5 0 0 0 2-4 2.5 2.5 0 0 0-2-4h-1V6h-2v2H8v8h3zm-1-3h4a.5.5 0 1 1 0 1h-4v-1zm0-3h4a.5.5 0 1 1 0 1h-4v-1z"],["d","M20.067 8.478c.492.88.556 2.014.3 3.327-.74 3.806-3.276 5.12-6.514 5.12h-.5a.805.805 0 0 0-.794.68l-.04.22-.63 3.993-.032.17a.804.804 0 0 1-.794.679H7.72a.483.483 0 0 1-.477-.558L7.418 21h1.518l.95-6.02h1.385c4.678 0 7.75-2.203 8.796-6.502zm-2.96-5.09c.762.868.983 1.81.752 3.285-.019.123-.04.24-.062.36-.735 3.773-3.089 5.446-6.956 5.446H8.957c-.63 0-1.174.414-1.354 1.002l-.014-.002-.93 5.894H3.121a.051.051 0 0 1-.05-.06l2.598-16.51A.95.95 0 0 1 6.607 2h5.976c2.183 0 3.716.469 4.523 1.388z"],["d","M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z"],["d","M22.162 5.656a8.384 8.384 0 0 1-2.402.658A4.196 4.196 0 0 0 21.6 4c-.82.488-1.719.83-2.656 1.015a4.182 4.182 0 0 0-7.126 3.814 11.874 11.874 0 0 1-8.62-4.37 4.168 4.168 0 0 0-.566 2.103c0 1.45.738 2.731 1.86 3.481a4.168 4.168 0 0 1-1.894-.523v.052a4.185 4.185 0 0 0 3.355 4.101 4.21 4.21 0 0 1-1.89.072A4.185 4.185 0 0 0 7.97 16.65a8.394 8.394 0 0 1-6.191 1.732 11.83 11.83 0 0 0 6.41 1.88c7.693 0 11.9-6.373 11.9-11.9 0-.18-.005-.362-.013-.54a8.496 8.496 0 0 0 2.087-2.165z"],["d","M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153a4.908 4.908 0 0 1 1.153 1.772c.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 0 1-1.153 1.772 4.915 4.915 0 0 1-1.772 1.153c-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 0 1-1.772-1.153 4.904 4.904 0 0 1-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 0 1 1.153-1.772A4.897 4.897 0 0 1 5.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2zm0 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.25a1.25 1.25 0 0 0-2.5 0 1.25 1.25 0 0 0 2.5 0zM12 9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"],[1,"layout_item","w-25",2,"display","flex","justify-content","end","align-items","center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","36","height","36",1,"arrow",3,"click"],["d","M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm1 10h3l-4-4-4 4h3v4h2v-4z"],[1,"footer_copyright"]],template:function(i,r){1&i&&(o.TgZ(0,"footer",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),o._uU(9,"Ha nem szeretne lemaradni az aktu\xe1lis aj\xe1nlatainkr\xf3l, \xedratkozzon fel!"),o.qZA()()(),o.TgZ(10,"div",9)(11,"nav",10)(12,"ul",11)(13,"li")(14,"a",12),o._uU(15,"Napszem\xfcvegek"),o.qZA()(),o.TgZ(16,"li")(17,"a",13),o._uU(18,"Kieg\xe9sz\xedt\u0151k"),o.qZA()(),o.TgZ(19,"li")(20,"a",14),o._uU(21,"Parf\xfcm\xe9ria"),o.qZA()(),o.TgZ(22,"li")(23,"a",15),o._uU(24,"K\xf6z\xf6ss\xe9gi oldal"),o.qZA()()()()(),o.TgZ(25,"div",9)(26,"nav",10)(27,"ul",11)(28,"li",16)(29,"a",17),o._uU(30,"Sz\xe1ll\xedt\xe1s & Visszat\xe9r\xedt\xe9s"),o.qZA()(),o.TgZ(31,"li",16)(32,"a",17),o._uU(33,"\xdcgyf\xe9lszolg\xe1lat & \xc1SZF"),o.qZA()(),o.TgZ(34,"li",16)(35,"a",17),o._uU(36,"Term\xe9k garancia"),o.qZA()(),o.TgZ(37,"li",16)(38,"a",18),o._uU(39," Regisztr\xe1ci\xf3 "),o.qZA()(),o.TgZ(40,"li",16)(41,"a",19),o._uU(42," Bejelentkez\xe9s "),o.qZA()()()()()(),o.TgZ(43,"div",20)(44,"div",6)(45,"ul",21)(46,"li"),o.O4$(),o.TgZ(47,"svg",22),o._UZ(48,"path",23)(49,"path",24),o.qZA()(),o.kcU(),o.TgZ(50,"li"),o.O4$(),o.TgZ(51,"svg",22),o._UZ(52,"path",23)(53,"path",25),o.qZA()(),o.kcU(),o.TgZ(54,"li"),o.O4$(),o.TgZ(55,"svg",22),o._UZ(56,"path",23)(57,"path",26),o.qZA()(),o.kcU(),o.TgZ(58,"li"),o.O4$(),o.TgZ(59,"svg",22),o._UZ(60,"path",23)(61,"path",27),o.qZA()(),o.kcU(),o.TgZ(62,"li"),o.O4$(),o.TgZ(63,"svg",22),o._UZ(64,"path",23)(65,"path",28),o.qZA()()()(),o.kcU(),o.TgZ(66,"div",9)(67,"ul",21)(68,"li")(69,"a"),o.O4$(),o.TgZ(70,"svg",22),o._UZ(71,"path",23)(72,"path",29),o.qZA()()(),o.kcU(),o.TgZ(73,"li")(74,"a"),o.O4$(),o.TgZ(75,"svg",22),o._UZ(76,"path",23)(77,"path",30),o.qZA()()(),o.kcU(),o.TgZ(78,"li")(79,"a"),o.O4$(),o.TgZ(80,"svg",22),o._UZ(81,"path",23)(82,"path",31),o.qZA()()()()(),o.kcU(),o.TgZ(83,"div",32),o.O4$(),o.TgZ(84,"svg",33),o.NdJ("click",function(){return r.scrollToTop()}),o._UZ(85,"path",23)(86,"path",34),o.qZA()()()()(),o.kcU(),o.TgZ(87,"div",35)(88,"p"),o._uU(89,"\xa9 2024 Webshop test, projektmunka."),o.qZA()()()()),2&i&&o.Udp("display",r.contentLoaded?"flex":"none")},dependencies:[bu],styles:["[_ngcontent-%COMP%]:root{--light: #ffffff;--dark: #000;--hover: #242020}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif;margin:0;padding:0;box-sizing:border-box}h3[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:300;line-height:50px;text-align:center}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--dark);font-weight:400;transition:.3s ease-in;border-bottom:1px solid transparent;margin-bottom:.5rem;display:inline-flex;cursor:pointer;transition:all .3s ease;-webkit-user-select:none;user-select:none}a[_ngcontent-%COMP%]:hover{color:#868686}.arrow[_ngcontent-%COMP%]{cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}button[_ngcontent-%COMP%]{appearance:none;border:0;background:transparent}.flex[_ngcontent-%COMP%]{display:flex}.footer-container[_ngcontent-%COMP%]{border-radius:.625rem;position:absolute;top:0;left:0;object-fit:cover;width:100%;height:100%;z-index:-1;overflow:hidden;background:white;border:none}.footer_inner[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(50px);backdrop-filter:blur(50px);border:1px solid rgba(233,232,232,.208);border-radius:5px;padding:2rem;margin:1rem 0}.footer[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.container[_ngcontent-%COMP%]{max-width:1200px;width:100%;margin:0 auto;padding:0 1rem}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:min(100%,400px);border-bottom:1px solid var(--dark)}input[_ngcontent-%COMP%]{padding:.75rem 0;border:none;background:none;font-weight:500;transition:border .3s cubic-bezier(.215,.61,.355,1);border-radius:0;width:100%;font-size:1.05rem;font-weight:bolder}input[_ngcontent-%COMP%]:focus{outline:none}@media screen and (max-width: 768px){.footer_inner[_ngcontent-%COMP%]{padding:.25rem}h3[_ngcontent-%COMP%]{font-size:1.4rem}}@media (min-width: 675px){.layout[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;column-gap:2rem}.w-50[_ngcontent-%COMP%]{width:50%}.w-25[_ngcontent-%COMP%]{width:25%}}form[_ngcontent-%COMP%]{position:relative}svg[_ngcontent-%COMP%]{margin:.5rem}.c-2[_ngcontent-%COMP%]{margin-top:3.5rem}.footer_copyright[_ngcontent-%COMP%]{color:var(--light)}"]})}return n})(),k6=(()=>{class n{constructor(){this.material="Anyaga: ",this.materialBelt="Sz\xedj anyaga: ",this.frame="Keret: ",this.lens="Lencse: ",this.size="M\xe9ret: ",this.waterproof="V\xedz\xe1ll\xf3s\xe1g: ",this.productDetails="term\xe9kjellemz\u0151: ",this.clickForDetails="Kattintson a r\xe9szletek\xe9rt!",this.addToCart="Hozz\xe1ad\xe1s a kos\xe1rhoz"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vm=(()=>{class n{constructor(e,i,r,s){this.rendererFactory=e,this.services=i,this.firestore=r,this.productService=s,this.screenWidthChanged=new o.vpe,this.closeModalEvent=new o.vpe,this.closeAddedModalEvent=new o.vpe,this.screenWidth=0,this.currentImage="",this.showDetailsBox=!1,this.renderer=e.createRenderer(null,null),this.updateScreenWidth(),window.addEventListener("resize",()=>this.updateScreenWidth())}updateScreenWidth(){this.screenWidth=window.innerWidth,this.screenWidthChanged.emit(this.screenWidth)}disableScroll(){this.renderer.setStyle(document.body,"overflow","hidden")}enableScroll(){this.renderer.removeStyle(document.body,"overflow")}showDetails(){this.showDetailsBox=!this.showDetailsBox}changeMainImage(e){this.currentImage=e}closeModal(){this.closeModalEvent.emit(),this.services.selectedSize=null,this.services.selectedSizePrice=null,this.services.selectedColor=null,this.renderer.removeStyle(document.body,"overflow"),this.productService.isModalOpen=!1,this.showDetailsBox=!1,this.services.currentImage="",this.currentImage=""}addToCart(e){this.services.addToCartService(e),this.closeModal()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(es),o.LFG(Nl),o.LFG(ca))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gS=typeof performance<"u"&&typeof performance.now<"u"&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||"function"==typeof performance.clearMeasures),M7=typeof PerformanceObserver<"u"&&typeof PerformanceObserver.prototype<"u"&&"function"==typeof PerformanceObserver.prototype.constructor,yN="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0);let _S={},rC={};const bN=()=>gS?performance.now():Date.now(),R6=n=>{_S[n]=void 0,rC[n]&&(rC[n]=void 0),gS&&(yN||performance.clearMeasures(n),performance.clearMarks(n))},N6=n=>{if(gS){if(yN&&M7){const t=new PerformanceObserver(e=>{rC[n]=e.getEntries().find(i=>i.name===n),t.disconnect()});t.observe({entryTypes:["measure"]})}performance.mark(n)}_S[n]=bN()},F6=(n,t)=>{try{const e=_S[n];return gS?(t||performance.mark(`${n}-end`),performance.measure(n,n,t||`${n}-end`),yN?rC[n]?rC[n]:e?{duration:bN()-e,startTime:e,entryType:"measure",name:n}:{}:performance.getEntriesByName(n).pop()||{}):e?{duration:bN()-e,startTime:e,entryType:"measure",name:n}:{}}catch{return{}}finally{R6(n),R6(t||`${n}-end`)}};function E7(n,t){1&n&&o.Hsn(0,0,["*ngIf","appearance  === 'custom-content'"])}const O7=function(n,t,e,i,r){return{"custom-content":n,circle:t,progress:e,"progress-dark":i,pulse:r}};function P7(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,E7,1,0,"ng-content",2),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngClass",o.qbA(5,O7,"custom-content"===e.appearance,"circle"===e.appearance,"progress"===e.animation,"progress-dark"===e.animation,"pulse"===e.animation))("ngStyle",e.theme),o.uIk("aria-label",e.ariaLabel)("aria-valuetext",e.loadingText),o.xp6(1),o.Q6J("ngIf","custom-content"===e.appearance)}}const I7=["*"],L6=new o.OlP("ngx-skeleton-loader.config");let Kf=(()=>{class n{constructor(e){this.config=e;const{appearance:i="line",animation:r="progress",theme:s=null,loadingText:l="Loading...",count:m=1,ariaLabel:v="loading"}=e||{};this.appearance=i,this.animation=r,this.theme=s,this.loadingText=l,this.count=m,this.items=[],this.ariaLabel=v}ngOnInit(){N6("NgxSkeletonLoader:Rendered"),N6("NgxSkeletonLoader:Loaded"),this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,o.X6Q)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const e=["progress","progress-dark","pulse","false"];-1===e.indexOf(String(this.animation))&&((0,o.X6Q)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${e.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance=""),this.config?.theme?.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(e){["count","animation","appearance"].find(i=>e[i]&&(e[i].isFirstChange()||e[i].previousValue===e[i].currentValue))||this.validateInputValues()}ngAfterViewInit(){F6("NgxSkeletonLoader:Rendered")}ngOnDestroy(){F6("NgxSkeletonLoader:Loaded")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(L6,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[o.TTD],ngContentSelectors:I7,decls:1,vars:1,consts:[["class","skeleton-loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",1,"skeleton-loader",3,"ngClass","ngStyle"],[4,"ngIf"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,P7,2,11,"div",0)),2&e&&o.Q6J("ngForOf",i.items)},dependencies:[Cr,Mn,Hn,ho],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:rgb(239,241,246) no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0))}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),n})(),CN=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:L6,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[vi]}),n})();const T7=function(){return{width:"50px",height:"50px",margin:"3px"}};function S7(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",24),2&n&&o.Q6J("theme",o.DdM(1,T7))}function D7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"img",22),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.changeMainImage(s))}),o.qZA(),o.YNc(2,S7,1,2,"ngx-skeleton-loader",23),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Udp("display",i.contentLoaded?"flex":"none"),o.Q6J("src",e,o.LSH),o.xp6(1),o.Q6J("ngIf",!i.contentLoaded)}}function A7(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij("Anyaga: ",e.product.composition.material," ")}}function k7(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,A7,2,1,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.material)}}function R7(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij("Sz\xedj anyaga: ",e.product.composition.belt," ")}}function N7(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,R7,2,1,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.belt)}}function F7(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij("Keret: ",e.product.composition.frame," ")}}function L7(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,F7,2,1,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.frame)}}function U7(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij("Lencse: ",e.product.composition.lens," ")}}function V7(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,U7,2,1,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.lens)}}function B7(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij("M\xe9ret: ",e.product.composition.size," ")}}function z7(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,B7,2,1,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.size)}}function j7(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij("V\xedz\xe1ll\xf3s\xe1g: ",e.product.composition.waterProof," ")}}function H7(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,j7,2,1,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.waterProof)}}function q7(n,t){if(1&n&&(o.TgZ(0,"i",27),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.textService.clickForDetails)}}function Z7(n,t){if(1&n&&(o.TgZ(0,"div",28),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.product.description," ")}}function $7(n,t){if(1&n&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.ekj("selected",i.services.selectedColor===e),o.xp6(1),o.hij("",e.color," ")}}function G7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectItem(s))})("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectColor(s))}),o.YNc(1,$7,2,3,"div",30),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",e.price)}}function W7(n,t){if(1&n&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.ekj("selected",i.services.selectedColor===e),o.xp6(1),o.hij("",e.color," ")}}function Y7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectColor(s))}),o.YNc(1,W7,2,3,"div",30),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",!e.price&&!e.belt&&!e.frame)}}function K7(n,t){if(1&n&&(o.TgZ(0,"div",33),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.ekj("selected",i.services.selectedSize===e),o.xp6(1),o.hij("",e.size," ")}}function Q7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectItem(s))}),o.YNc(1,K7,2,3,"div",32),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",e.size)}}function J7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",34),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._uU(1," Hozz\xe1ad\xe1s a kos\xe1rhoz"),o.qZA()}}function X7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",34),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._UZ(1,"i",35),o.qZA()}}function eW(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.material),o.xp6(1),o.hij("> ",e.product.composition.material," ")}}function tW(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.materialBelt),o.xp6(1),o.hij(" ",e.product.composition.belt,"")}}function nW(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.frame),o.xp6(1),o.hij(" ",e.product.composition.frame," ")}}function iW(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.lens),o.xp6(1),o.hij(" ",e.product.composition.lens," ")}}function rW(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.size),o.xp6(1),o.hij(" ",e.product.composition.size," ")}}function oW(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.waterproof),o.xp6(1),o.hij(" ",e.product.composition.waterProof," ")}}function sW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",36)(1,"div",37),o.YNc(2,eW,4,2,"p",38),o.YNc(3,tW,4,2,"p",38),o.YNc(4,nW,4,2,"p",38),o.YNc(5,iW,4,2,"p",38),o.YNc(6,rW,4,2,"p",38),o.YNc(7,oW,4,2,"p",38),o.TgZ(8,"p",12),o._uU(9),o.qZA(),o._uU(10),o.TgZ(11,"button",39),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.showDetails())}),o._UZ(12,"i",20),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.product.composition.material),o.xp6(1),o.Q6J("ngIf",e.product.composition.belt),o.xp6(1),o.Q6J("ngIf",e.product.composition.frame),o.xp6(1),o.Q6J("ngIf",e.product.composition.lens),o.xp6(1),o.Q6J("ngIf",e.product.composition.size),o.xp6(1),o.Q6J("ngIf",e.product.composition.waterProof),o.xp6(2),o.Oqu(e.textService.productDetails),o.xp6(1),o.hij("",e.product.description," ")}}const aW=function(){return{display:"block"}};let cW=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.textService=i,this.productService=r,this.modalService=s,this.services=l,this.contentLoaded=!1,this.routerSubscription=this.router.events.subscribe(m=>{m instanceof mm&&this.modalService.closeModal()})}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},500)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(k6),o.Y36(ca),o.Y36(vm),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-modal-dashboard"]],inputs:{product:"product"},decls:34,vars:23,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],["class","composition-description",4,"ngIf"],[1,"composition-description",3,"ngStyle","click"],[1,"comp-desc-p"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-color-buttons-container"],[3,"click",4,"ngFor","ngForOf"],[1,"item-size-buttons-container"],["class","cart-btn",3,"click",4,"ngIf"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],["appearance","line",3,"theme",4,"ngIf"],["appearance","line",3,"theme"],[1,"composition-description"],["class","comp-desc-p",4,"ngIf"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["class","item-color-buttons","tabindex","0",3,"selected",4,"ngIf"],["tabindex","0",1,"item-color-buttons"],["class","item-size-buttons","tabindex","0",3,"selected",4,"ngIf"],["tabindex","0",1,"item-size-buttons"],[1,"cart-btn",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],["class","mobile-comp-desc-p",4,"ngIf"],[1,"close-comp-desc-details-btn",3,"click"],[1,"mobile-comp-desc-p"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o._uU(6),o.qZA(),o._UZ(7,"img",5),o.TgZ(8,"div",6),o.YNc(9,D7,3,4,"div",7),o.qZA()(),o.TgZ(10,"div",8)(11,"div",9),o.YNc(12,k7,2,1,"div",10),o.YNc(13,N7,2,1,"div",10),o.YNc(14,L7,2,1,"div",10),o.YNc(15,V7,2,1,"div",10),o.YNc(16,z7,2,1,"div",10),o.YNc(17,H7,2,1,"div",10),o.TgZ(18,"div",11),o.NdJ("click",function(){return r.modalService.showDetails()}),o.TgZ(19,"p",12),o._uU(20),o.YNc(21,q7,2,1,"i",13),o.qZA(),o.YNc(22,Z7,2,1,"div",14),o.qZA()(),o.TgZ(23,"div",15),o.YNc(24,G7,2,1,"div",16),o.qZA(),o.TgZ(25,"div",15),o.YNc(26,Y7,2,1,"div",16),o.qZA(),o.TgZ(27,"div",17),o.YNc(28,Q7,2,1,"div",16),o.qZA(),o.YNc(29,J7,2,0,"div",18),o.YNc(30,X7,2,0,"div",18),o.qZA(),o.TgZ(31,"button",19),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(32,"i",20),o.qZA(),o.YNc(33,sW,13,8,"div",21),o.qZA()()),2&i&&(o.xp6(4),o.lnq(" ",r.product.productName," ",r.services.selectedColor," ",r.services.selectedSize," "),o.xp6(2),o.hij("",r.services.selectedSizePrice," Ft"),o.xp6(1),o.Q6J("src",r.services.shippingImage,o.LSH),o.xp6(2),o.Q6J("ngForOf",r.product.modalImagePath),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngStyle",o.DdM(22,aW)),o.xp6(2),o.hij("",r.textService.productDetails," "),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(2),o.Q6J("ngForOf",r.product.colorType),o.xp6(2),o.Q6J("ngForOf",r.product.colorType),o.xp6(2),o.Q6J("ngForOf",r.product.type),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(3),o.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=700))},dependencies:[Mn,Hn,ho,Kf],styles:[".modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:20}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column;z-index:21}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{flex-direction:row;display:flex;overflow-x:scroll;width:65%;bottom:0;position:absolute}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#1c202b;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(-n+6){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]   .mobile-comp-desc-i[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p-details[_ngcontent-%COMP%]{color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;margin-left:5px;top:50%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333;align-items:center;text-align:center;justify-content:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-left:5px;position:absolute;top:60%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;text-align:center;justify-content:center;align-items:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]{border-bottom:1px solid #ececec;padding-bottom:10px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:14px;padding:10px 0 5px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:5%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{position:relative;top:0%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{top:-10px;right:-10px;font-size:13px;width:25px;height:25px}}@media screen and (min-width: 550px) and (max-width: 700px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:70%;height:80%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 701px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}"]})}return n})();const lW=function(){return{width:"100%",height:"100%"}};function uW(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",1),2&n&&o.Q6J("theme",o.DdM(1,lW))}let vS=(()=>{class n{constructor(){this.contentLoaded=!1}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1e3)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-skeleton-loader"]],decls:1,vars:1,consts:[["class","line","appearance","line",3,"theme",4,"ngIf"],["appearance","line",1,"line",3,"theme"]],template:function(i,r){1&i&&o.YNc(0,uW,1,2,"ngx-skeleton-loader",0),2&i&&o.Q6J("ngIf",!r.contentLoaded)},dependencies:[Hn,Kf],styles:[".line[_ngcontent-%COMP%]{position:fixed;width:100%;height:90%}"]})}return n})();function dW(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"span"),o._uU(2),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij("- ",e.discountAmount,"%")}}function hW(n,t){if(1&n&&(o.TgZ(0,"div",13),o._uU(1),o.TgZ(2,"p",14),o._uU(3,"Ft "),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij("",e.type[0].price," ")}}function fW(n,t){if(1&n&&(o.TgZ(0,"div",15)(1,"div",16),o._uU(2),o.TgZ(3,"p",17),o._uU(4,"Ft-r\xf3l"),o.qZA()(),o.TgZ(5,"div",18),o._uU(6),o.TgZ(7,"p",19),o._uU(8,"Ft"),o.qZA()()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij(" ",e.type[0].price," "),o.xp6(4),o.hij(" ",.9*e.type[0].price," ")}}function pW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseLeave(s))})("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.openModal(s))}),o.TgZ(1,"div",4),o._uU(2),o.TgZ(3,"p",5),o._uU(4),o.qZA(),o.YNc(5,dW,3,1,"div",6),o.qZA(),o.TgZ(6,"div",7),o._UZ(7,"img",8),o.qZA(),o.TgZ(8,"div",9),o.YNc(9,hW,4,1,"div",10),o.YNc(10,fW,9,2,"div",11),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.hij(" ",e.brandName," "),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.Q6J("ngIf",!e.type[0].discount10),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10)}}let mW=(()=>{class n{constructor(e,i){this.firestore=e,this.productService=i,this.sunglassesDiscount$=vo(Zs(al(this.firestore,"hawkers"),Br("discount","==",!0))),this.screenWidth=0,this.contentLoaded=!1,this.sectionInView="",this.opacity=0}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1e3)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Nl),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-discounted-sunglasses"]],decls:5,vars:5,consts:[[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[1,"product-card",3,"mouseover","mouseleave","click"],[1,"product-card-head"],[1,"brand-name"],["class","badge",4,"ngIf"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"price-container"],["class","product-card-price",4,"ngIf"],["class","product-card-original-price",4,"ngIf"],[1,"badge"],[1,"product-card-price"],[1,"tol"],[1,"product-card-original-price"],[1,"original-price"],[1,"original-tol"],[1,"discount-price"],[1,"discount-tol"]],template:function(i,r){1&i&&(o.TgZ(0,"div")(1,"div",0)(2,"div",1),o.YNc(3,pW,11,6,"div",2),o.ALo(4,"async"),o.qZA()()()),2&i&&(o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(3),o.Q6J("ngForOf",o.lcZ(4,3,r.sunglassesDiscount$)))},dependencies:[Mn,Hn,Ui],styles:[".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function gW(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"span"),o._uU(2),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij("- ",e.discountAmount,"%")}}function _W(n,t){if(1&n&&(o.TgZ(0,"div",13),o._uU(1),o.TgZ(2,"p",14),o._uU(3,"Ft "),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij("",e.type[0].price," ")}}function vW(n,t){if(1&n&&(o.TgZ(0,"div",15)(1,"div",16),o._uU(2),o.TgZ(3,"p",17),o._uU(4,"Ft-r\xf3l"),o.qZA()(),o.TgZ(5,"div",18),o._uU(6),o.TgZ(7,"p",19),o._uU(8,"Ft"),o.qZA()()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij(" ",e.type[0].price," "),o.xp6(4),o.hij(" ",.9*e.type[0].price," ")}}function yW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseLeave(s))})("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.openModal(s))}),o.TgZ(1,"div",4),o._uU(2),o.TgZ(3,"p",5),o._uU(4),o.qZA(),o.YNc(5,gW,3,1,"div",6),o.qZA(),o.TgZ(6,"div",7),o._UZ(7,"img",8),o.qZA(),o.TgZ(8,"div",9),o.YNc(9,_W,4,1,"div",10),o.YNc(10,vW,9,2,"div",11),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.hij(" ",e.brandName," "),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.Q6J("ngIf",!e.type[0].discount10),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10)}}let bW=(()=>{class n{constructor(e,i){this.firestore=e,this.productService=i,this.watchesDiscount$=vo(Zs(al(this.firestore,"watches"),Br("discount","==",!0))),this.screenWidth=0,this.contentLoaded=!1,this.sectionInView="",this.opacity=0}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1e3)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Nl),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-discounted-watches"]],decls:5,vars:5,consts:[[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[1,"product-card",3,"mouseover","mouseleave","click"],[1,"product-card-head"],[1,"brand-name"],["class","badge",4,"ngIf"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"price-container"],["class","product-card-price",4,"ngIf"],["class","product-card-original-price",4,"ngIf"],[1,"badge"],[1,"product-card-price"],[1,"tol"],[1,"product-card-original-price"],[1,"original-price"],[1,"original-tol"],[1,"discount-price"],[1,"discount-tol"]],template:function(i,r){1&i&&(o.TgZ(0,"div")(1,"div",0)(2,"div",1),o.YNc(3,yW,11,6,"div",2),o.ALo(4,"async"),o.qZA()()()),2&i&&(o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(3),o.Q6J("ngForOf",o.lcZ(4,3,r.watchesDiscount$)))},dependencies:[Mn,Hn,Ui],styles:[".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})(),CW=(()=>{class n{constructor(){this.contentLoaded=!1}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1e3)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-customer-rewiev"]],decls:69,vars:2,consts:[[1,"container"],[1,"description"],[1,"reviewSection"],[1,"reviewItem"],[1,"top"],[1,"clientImage"],[1,"fa-solid","fa-star"],[1,"review"],[1,"fa-regular","fa-star"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2," V\xe1s\xe1rl\xf3i v\xe9lem\xe9nyek "),o.qZA(),o.TgZ(3,"p",1),o._uU(4,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid, atque? Repudiandae possimus asperiores hic nemo id a molestiae minus impedit!"),o.qZA(),o.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"span"),o._uU(10,"Tesztel\u0151 Emese"),o.qZA()(),o.TgZ(11,"ul")(12,"li"),o._UZ(13,"i",6),o.qZA(),o.TgZ(14,"li"),o._UZ(15,"i",6),o.qZA(),o.TgZ(16,"li"),o._UZ(17,"i",6),o.qZA(),o.TgZ(18,"li"),o._UZ(19,"i",6),o.qZA(),o.TgZ(20,"li"),o._UZ(21,"i",6),o.qZA()()(),o.TgZ(22,"article")(23,"p",7),o._uU(24,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Fugit beatae ipsa voluptatibus perferendis quos eaque nemo error tempora harum quas, laudantium tenetur, neque, facere exercitationem!"),o.qZA(),o.TgZ(25,"p"),o._uU(26,"Jan 01, 2024"),o.qZA()()(),o.TgZ(27,"div",3)(28,"div",4)(29,"div",5)(30,"span"),o._uU(31,"Tesztel\u0151 R\xe9ka"),o.qZA()(),o.TgZ(32,"ul")(33,"li"),o._UZ(34,"i",6),o.qZA(),o.TgZ(35,"li"),o._UZ(36,"i",6),o.qZA(),o.TgZ(37,"li"),o._UZ(38,"i",6),o.qZA(),o.TgZ(39,"li"),o._UZ(40,"i",6),o.qZA(),o.TgZ(41,"li"),o._UZ(42,"i",6),o.qZA()()(),o.TgZ(43,"article")(44,"p",7),o._uU(45,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Fugit beatae ipsa voluptatibus perferendis quos eaque nemo error tempora harum quas, laudantium tenetur, neque, facere exercitationem!"),o.qZA(),o.TgZ(46,"p"),o._uU(47,"Jan 01, 2024"),o.qZA()()(),o.TgZ(48,"div",3)(49,"div",4)(50,"div",5)(51,"span"),o._uU(52,"Tesztel\u0151 D\xe1vid"),o.qZA()(),o.TgZ(53,"ul")(54,"li"),o._UZ(55,"i",6),o.qZA(),o.TgZ(56,"li"),o._UZ(57,"i",6),o.qZA(),o.TgZ(58,"li"),o._UZ(59,"i",6),o.qZA(),o.TgZ(60,"li"),o._UZ(61,"i",6),o.qZA(),o.TgZ(62,"li"),o._UZ(63,"i",8),o.qZA()()(),o.TgZ(64,"article")(65,"p",7),o._uU(66,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Fugit beatae ipsa voluptatibus perferendis quos eaque nemo error tempora harum quas, laudantium tenetur, neque, facere exercitationem!"),o.qZA(),o.TgZ(67,"p"),o._uU(68,"Jan 01, 2024"),o.qZA()()()()()),2&i&&o.Udp("display",r.contentLoaded?"flex":"none")},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100vh;color:#fff;display:flex;align-items:center;flex-direction:column;justify-content:center;background-color:#2a2c34;border-radius:.625rem}h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;text-align:center}.description[_ngcontent-%COMP%]{text-align:center;width:43%}.clientImage[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.clientImage[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.clientImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}.reviewSection[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-around}.reviewItem[_ngcontent-%COMP%]{width:300px;padding:10px;margin:1rem;cursor:pointer;border-radius:10px;background-color:#1c202b;border:1px solid #12151b;transition:all .2s linear}.reviewItem[_ngcontent-%COMP%]:hover{border-color:#fff;transform:scale(1.01);background-color:#12151b;box-shadow:0 0 3px #fff}.top[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.top[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;list-style:none}.top[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:4px}article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:100;margin-bottom:1rem;font-family:system-ui}@media screen and (max-width: 700px){.container[_ngcontent-%COMP%]{height:auto;padding-top:20px}.description[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width: 375px){.reviewSection[_ngcontent-%COMP%]{padding:0}.reviewItem[_ngcontent-%COMP%]{width:100%}.clientImage[_ngcontent-%COMP%]{margin-bottom:.6rem}.top[_ngcontent-%COMP%]{align-items:center;flex-direction:column;justify-content:center}}"]})}return n})(),U6=(()=>{class n{constructor(){this.text=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-custom-keep-button"]],inputs:{text:"text"},decls:3,vars:1,consts:[[1,"button"],[1,"button__text"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"span",1),o._uU(2),o.qZA()()),2&i&&(o.xp6(2),o.Oqu(r.text))},styles:[".button[_ngcontent-%COMP%]{position:relative;width:150px;height:40px;cursor:pointer;display:flex;align-items:center;background-color:#1c202b;overflow:hidden;transition:.5s ease;justify-content:center}.button[_ngcontent-%COMP%]   .button__text[_ngcontent-%COMP%]{color:#fff;font-weight:600;display:flex}.button[_ngcontent-%COMP%]:hover{background:#0e1014;transition:.5s ease}"]})}return n})(),wW=(()=>{class n{constructor(){this.text=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-custom-cart-button"]],inputs:{text:"text"},decls:3,vars:1,consts:[[1,"button"],[1,"button__text"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"span",1),o._uU(2),o.qZA()()),2&i&&(o.xp6(2),o.Oqu(r.text))},styles:[".button[_ngcontent-%COMP%]{position:relative;width:150px;height:40px;cursor:pointer;display:flex;align-items:center;background-color:#fff;overflow:hidden;transition:.5s ease;justify-content:center;border:1px solid #1C202B}.button[_ngcontent-%COMP%]   .button__text[_ngcontent-%COMP%]{color:#1c202b;font-weight:600;display:flex}.button[_ngcontent-%COMP%]:hover{background:#f5f5f5;transition:.5s ease}"]})}return n})();const xW=function(){return["/shopping-cart"]};let yS=(()=>{class n{constructor(e,i,r,s){this.router=e,this.sharedService=i,this.modalService=r,this.productService=s,this.keepShopping="V\xe1s\xe1rl\xe1s folytat\xe1sa",this.checkout="Tov\xe1bb a kos\xe1rhoz",this.routerSubscription=this.router.events.subscribe(l=>{l instanceof mm&&this.productService.closeAddedModal()})}ngOnInit(){this.modalService.disableScroll()}ngOnDestroy(){this.modalService.enableScroll()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(es),o.Y36(vm),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-added-to-cart-alert"]],inputs:{product:"product"},decls:12,vars:7,consts:[[1,"remove-item-container"],[1,"remove-item"],[1,"remove-item-header"],[1,"remove-item-desc"],[1,"item-name"],["routerLinkActive","router-link-active",3,"text","routerLink"],[3,"text","click"],[1,"product-image",3,"src"],[1,"exit-button",3,"click"],["aria-hidden","true",1,"fa","fa-window-close"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"Term\xe9k hozz\xe1adva a kos\xe1rhoz"),o.qZA(),o.TgZ(4,"h2",3),o._uU(5),o._UZ(6,"span",4),o.qZA(),o._UZ(7,"app-custom-cart-button",5),o.TgZ(8,"app-custom-keep-button",6),o.NdJ("click",function(){return r.productService.closeAddedModal()}),o.qZA(),o._UZ(9,"img",7),o.TgZ(10,"div",8),o.NdJ("click",function(){return r.productService.closeAddedModal()}),o._UZ(11,"i",9),o.qZA()()()),2&i&&(o.xp6(5),o.AsE(' A(z) "',r.product.brand," ",r.product.brandName,' "Term\xe9k hozz\xe1adva a kos\xe1rhoz '),o.xp6(2),o.Q6J("text",r.checkout)("routerLink",o.DdM(6,xW)),o.xp6(1),o.Q6J("text",r.keepShopping),o.xp6(1),o.Q6J("src",r.sharedService.shippingImage||r.product.imagePath,o.LSH))},dependencies:[bu,mN,U6,wW],styles:[".remove-item-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:110}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]{position:relative;width:auto;height:600px;min-width:600px;background-color:#fff;padding:20px;border-radius:.625rem;align-items:center;justify-content:center}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-header[_ngcontent-%COMP%]{font-size:20px;color:#333}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]{font-size:16px;color:#333;border-bottom:1px solid #ececec}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#4e4e4e}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-cart-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-keep-button[_ngcontent-%COMP%]{position:absolute;left:20px;bottom:20px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:flex}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:300px;width:auto;position:absolute;top:55%;left:50%;transform:translate(-50%,-50%)}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .exit-button[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-1px;font-size:40px;cursor:pointer}@media screen and (max-width: 700px){.remove-item-container[_ngcontent-%COMP%]{width:100%;margin-left:0rem;transition:all .5s ease}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]{padding:10px;height:80vh;min-width:0px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-header[_ngcontent-%COMP%]{font-size:18px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]{font-size:14px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#4e4e4e}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:220px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-cart-button[_ngcontent-%COMP%]{right:10px;bottom:10px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-keep-button[_ngcontent-%COMP%]{left:10px;bottom:10px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .exit-button[_ngcontent-%COMP%]{position:absolute;top:-3px;right:-1px;font-size:35px;cursor:pointer}}"]})}return n})();function MW(n,t){if(1&n&&o._UZ(0,"img",29),2&n){const e=o.oxw();o.Q6J("@fadeInB","a"===e.sectionInView)}}function EW(n,t){if(1&n&&o._UZ(0,"img",30),2&n){const e=o.oxw();o.Q6J("@fadeInB","a"===e.sectionInView)}}function OW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-modal-dashboard",31),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}function PW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-added-to-cart-alert",32),o.NdJ("closeAddedModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeAddedModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}const IW=function(){return["/products"]},wN=function(){return["/fragrances"]};let TW=(()=>{class n{constructor(e,i,r,s,l,m){this.elementRef=e,this.firestore=i,this.renderer=r,this.productService=s,this.textService=l,this.services=m,this.watchesDiscount$=vo(Zs(al(this.firestore,"watches"),Br("discount","==",!0))),this.screenWidth=0,this.contentLoaded=!1,this.sectionInView="",this.opacity=0,this.imgPc="./assets/images/commercial/media_background.jpg",this.imgMobile="./assets/images/commercial/media_background_mobile.jpg",this.images=[{imageSrc:"./assets/images/commercial/commercial_police_watch_ps.webp",imageAlt:"watch",caption:"POLICE \xf3r\xe1k & kieg\xe9sz\xedt\u0151k",button:"Tov\xe1bb a kollekci\xf3kra!",routerLink:"/accessories/"},{imageSrc:"./assets/images/commercial/commercial_fragrance_ps.webp",imageAlt:"fragrance",caption:"Parf\xfcm\xf6k sz\xe9les v\xe1laszt\xe9ka",button:"Tov\xe1bb a parf\xfcm\xf6kre!",routerLink:"/fragrances/"}],this.mobileImages=[{imageSrc:"./assets/images/commercial/commercial_police_watch_ps_mobile.webp",imageAlt:"watch",caption:"POLICE \xf3r\xe1k & kieg\xe9sz\xedt\u0151k",button:"Tov\xe1bb a kollekci\xf3kra!",routerLink:"/accessories/"},{imageSrc:"./assets/images/commercial/commercial_fragrance_ps_mobile.webp",imageAlt:"fragrance",caption:"Parf\xfcm\xf6k sz\xe9les v\xe1laszt\xe9ka",button:"Tov\xe1bb a parf\xfcm\xf6kre!",routerLink:"/fragrances/"}],this.currentImages=this.images,this.updateImagesBasedOnScreenWidth()}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1e3)}checkScroll(){["a"].forEach(i=>{const s=this.elementRef.nativeElement.querySelector(`#${i}`).getBoundingClientRect();s.top>=10&&s.bottom<=window.innerHeight&&(this.sectionInView=i)})}onResize(e){this.updateImagesBasedOnScreenWidth()}updateImagesBasedOnScreenWidth(){this.screenWidth=window.innerWidth,this.currentImages=this.screenWidth<700?this.mobileImages:this.images}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(Nl),o.Y36(o.Qsj),o.Y36(ca),o.Y36(u7),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],hostBindings:function(i,r){1&i&&o.NdJ("scroll",function(l){return r.checkScroll(l)},!1,o.Jf7)("resize",function(l){return r.onResize(l)},!1,o.Jf7)},decls:51,vars:30,consts:[[3,"images","autoSlide"],[1,"dashboard-container"],[1,"commercial-container"],[1,"discount-section"],[1,"brand-container"],[1,"brand-text"],[1,"brands"],["src","./assets/images/commercial/hawkers_logo.png",1,"hawkers",3,"routerLink"],[1,"commercial-first"],[1,"first-text-button-container"],["id","a",1,"first-text"],["id","a","routerLink","/products/",1,"first-text-button"],["class","commercial-img","id","a","src","./assets/images/commercial/sunglasses_commercial_1.jpg","alt","","id","a",4,"ngIf"],["class","commercial-img","id","a","src","./assets/images/commercial/sunglasses_commercial_mobile_ps_1.jpg",4,"ngIf"],[1,"fragrances-text"],["src","./assets/images/commercial/dior_logo.png",1,"dior",3,"routerLink"],["src","./assets/images/commercial/jpg_logo.png",1,"jpg",3,"routerLink"],["src","./assets/images/commercial/lancome_logo.png",1,"lancome",3,"routerLink"],[1,"commercial-second-container-1"],[1,"image-container-1"],["src","./assets/images/commercial/commercial_labella_copy_1.jpg","alt","",1,"commercial-second-img-1"],[1,"common-text-2-container"],[1,"second-text-1"],["routerLink","/fragrances",3,"text"],[1,"image-container-2"],["src","./assets/images/commercial/lebauraw.jpg",1,"commercial-second-img-2"],[1,"second-text-2"],[3,"product","closeModalEvent",4,"ngIf"],[3,"product","closeAddedModalEvent",4,"ngIf"],["id","a","src","./assets/images/commercial/sunglasses_commercial_1.jpg","alt","","id","a",1,"commercial-img"],["id","a","src","./assets/images/commercial/sunglasses_commercial_mobile_ps_1.jpg",1,"commercial-img"],[3,"product","closeModalEvent"],[3,"product","closeAddedModalEvent"]],template:function(i,r){1&i&&(o._UZ(0,"app-skeleton-loader")(1,"app-carousel",0),o.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),o._uU(7),o.qZA(),o.TgZ(8,"div",6),o._UZ(9,"img",7),o.qZA()()(),o.TgZ(10,"div",8)(11,"div",9)(12,"div",10),o._uU(13),o.qZA(),o.TgZ(14,"div",11),o._uU(15),o.qZA()(),o.YNc(16,MW,1,1,"img",12),o.YNc(17,EW,1,1,"img",13),o.qZA(),o.TgZ(18,"div",4)(19,"div",5),o._uU(20),o.qZA()(),o._UZ(21,"app-discounted-sunglasses"),o.TgZ(22,"div",4)(23,"div",14),o._uU(24),o.qZA(),o.TgZ(25,"div",6),o._UZ(26,"img",15)(27,"img",16)(28,"img",17),o.qZA()(),o.TgZ(29,"div",18)(30,"div",19),o._UZ(31,"img",20),o.TgZ(32,"div",21)(33,"div",22),o._uU(34),o._UZ(35,"app-custom-button",23),o.qZA()()(),o.TgZ(36,"div",24),o._UZ(37,"img",25),o.TgZ(38,"div",21)(39,"div",26),o._uU(40),o._UZ(41,"app-custom-button",23),o.qZA()()()(),o.TgZ(42,"div",3)(43,"div",4)(44,"div",5),o._uU(45),o.qZA()(),o._UZ(46,"app-discounted-watches"),o.qZA()()(),o._UZ(47,"app-customer-rewiev"),o.YNc(48,OW,1,1,"app-modal-dashboard",27),o.YNc(49,PW,1,1,"app-added-to-cart-alert",28),o._UZ(50,"app-footer")),2&i&&(o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.Q6J("images",r.currentImages)("autoSlide",!0),o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.xp6(5),o.hij(" ",r.textService.ourSunglasses," "),o.xp6(2),o.Q6J("routerLink",o.DdM(26,IW)),o.xp6(3),o.Q6J("@fadeInA","a"===r.sectionInView),o.xp6(1),o.Oqu(r.textService.hawkers),o.xp6(1),o.Q6J("@fadeInADelayed","a"===r.sectionInView),o.xp6(1),o.hij(" ",r.textService.goToProducts,""),o.xp6(1),o.Q6J("ngIf",r.screenWidth>=768),o.xp6(1),o.Q6J("ngIf",r.screenWidth<768),o.xp6(3),o.hij(" ",r.textService.discountedSunglasses," "),o.xp6(4),o.hij(" ",r.textService.ourFragrances," "),o.xp6(2),o.Q6J("routerLink",o.DdM(27,wN)),o.xp6(1),o.Q6J("routerLink",o.DdM(28,wN)),o.xp6(1),o.Q6J("routerLink",o.DdM(29,wN)),o.xp6(6),o.hij("",r.textService.labella," "),o.xp6(1),o.Q6J("text",r.textService.more),o.xp6(5),o.hij("",r.textService.lebeau," "),o.xp6(1),o.Q6J("text",r.textService.more),o.xp6(4),o.hij(" ",r.textService.discountedWatches," "),o.xp6(3),o.Q6J("ngIf",r.productService.isModalOpen),o.xp6(1),o.Q6J("ngIf",r.services.addedToCart))},dependencies:[Hn,bu,w7,x7,mS,cW,vS,mW,bW,CW,yS],styles:[".a-remove-brightness[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_removeBrightness 1s ease forwards}.a-delayed[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:1.5s}.a-first-text[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:1s;pointer-events:none}.a-second-text[_ngcontent-%COMP%], .a-third-text[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:2s}@keyframes _ngcontent-%COMP%_delay-pointer-events{0%{visibility:hidden}50%{visibility:hidden}to{visibility:visible}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;pointer-events:none}to{pointer-events:auto;opacity:1}}@keyframes _ngcontent-%COMP%_removeBrightness{0%{filter:brightness(90%)}to{filter:brightness(10%)}}@keyframes _ngcontent-%COMP%_addBlur{0%{filter:blur(0px)}to{filter:blur(10px)}}.dashboard-container[_ngcontent-%COMP%]{background-color:#eae7e6}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{background:#1C202B;color:#fff;border-radius:.625rem;margin:40px 0 20px;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]{background-color:transparent;height:100px;margin-top:10px;width:auto;overflow:hidden;color:#fff;justify-content:space-between}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]{transition:all .3s;cursor:pointer;height:100px;filter:brightness(150%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]:hover{filter:brightness(250%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .fragrances-text[_ngcontent-%COMP%]{text-align:center;width:auto;margin:40px auto 10px;background:#1C202B;color:#fff;border-radius:.625rem;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;text-align:end}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;right:0;top:0;z-index:20}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{font-family:Outfit,sans-serif;display:block;position:absolute;right:2%;overflow:hidden;top:10%;font-weight:900;font-size:clamp(22px,4vw,50px);color:#fff;line-height:70px;max-width:600px;text-shadow:2px 2px 2px #333}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]   .first-text-button[_ngcontent-%COMP%]{display:flex;position:absolute;bottom:10%;right:2%;font-weight:900;font-size:22px;cursor:pointer;padding:15px 30px;border:1px solid white;background:white;color:#000;transition:.2s ease}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]   .first-text-button[_ngcontent-%COMP%]:hover{background:transparent;color:#fff}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]{margin-top:10px;max-width:100%;width:100%;overflow:hidden;filter:brightness(50%);transition:all .5s ease;border-radius:.625rem}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]{width:50%;position:relative}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%]{opacity:0;transition:all .5s ease}@keyframes _ngcontent-%COMP%_delay-pointer-events{0%{pointer-events:none}50%{pointer-events:none}to{pointer-events:auto}}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]:hover   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]:hover   app-custom-button[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_delay-pointer-events 1s;transition-delay:.5s;opacity:1}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all .5s ease-out;transition-delay:.05s;opacity:0;width:100%;height:99.3%;padding:0;border-radius:.625rem}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]:hover{opacity:1;background-color:#000000b2}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]{z-index:100;color:#fff;font-size:14px;font-style:italic;margin:15px;position:absolute;top:35%;text-align:center;display:flex;flex-direction:column;opacity:1;filter:brightness(100%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%]{width:auto;margin:0 auto}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]{width:100%;height:auto;max-height:100%;transition:all .5s ease}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%]{border-top-left-radius:.625rem;border-bottom-left-radius:.625rem}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]{border-top-right-radius:.625rem;border-bottom-right-radius:.625rem}@media screen and (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:15px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]{height:auto;justify-content:center;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]{transition:all .3s;cursor:pointer;height:100px;display:flex;width:200px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{max-width:230px;line-height:38px;max-width:300px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]   .first-text-button[_ngcontent-%COMP%]{font-size:16px;padding:7px 13px;bottom:5%}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]{width:100%;margin-top:0;filter:brightness(50%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .fragrances-text[_ngcontent-%COMP%]{font-size:15px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]{display:block}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]{width:200%}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]{top:10%;font-size:12px;overflow:auto}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]{width:200%;height:auto;max-height:auto;transition:border .5s ease;border-radius:.625rem}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]:hover{border-radius:.625rem}}@media screen and (max-width: 768px){.commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]   .first-text-button[_ngcontent-%COMP%]{font-size:10px;padding:7px 13px;bottom:25%}.commercial-first[_ngcontent-%COMP%]   .first-text-button-container[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{max-width:230px;line-height:38px}}@media screen and (max-width: 1080px){.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]{border-radius:0rem;transition:all .5s ease}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]{border-radius:0rem}}",".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"],data:{animation:[Qo("fadeInA",[No("true",Vn({opacity:1})),No("false",Vn({opacity:0})),pr("false => true",si("800ms 1200ms ease-in"))]),Qo("fadeInADelayed",[No("true",Vn({opacity:1})),No("false",Vn({opacity:0})),pr("false => true",si("800ms 2000ms ease-in"))]),Qo("fadeInB",[No("true",Vn({filter:"brightness(0.4)"})),No("false",Vn({filter:"brightness(1.0)"})),pr("false => true",si("800ms ease-in"))])]}})}return n})();const SW=function(){return{width:"50px",height:"50px",margin:"3px"}};function DW(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",21),2&n&&o.Q6J("theme",o.DdM(1,SW))}function AW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"img",19),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.modalService.changeMainImage(s))}),o.qZA(),o.YNc(2,DW,1,2,"ngx-skeleton-loader",20),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Udp("display",i.contentLoaded?"flex":"none"),o.Q6J("src",e,o.LSH),o.xp6(1),o.Q6J("ngIf",!i.contentLoaded)}}function kW(n,t){if(1&n&&(o.TgZ(0,"div",22)(1,"p",12),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.hij("Keret: ",e.product.composition.frame," ")}}function RW(n,t){if(1&n&&(o.TgZ(0,"div",22)(1,"p",12),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.hij("Lencse: ",e.product.composition.lens," ")}}function NW(n,t){1&n&&(o.TgZ(0,"i",23),o._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),o.qZA())}function FW(n,t){if(1&n&&(o.TgZ(0,"div",24),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.product.description," ")}}function LW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._uU(1," Hozz\xe1ad\xe1s a kos\xe1rhoz"),o.qZA()}}function UW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._UZ(1,"i",26),o.qZA()}}function VW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",27)(1,"div",28)(2,"p",29)(3,"span"),o._uU(4,"Keret: "),o.qZA(),o._uU(5),o.qZA(),o.TgZ(6,"p",29)(7,"span"),o._uU(8,"Lencse: "),o.qZA(),o._uU(9),o.qZA(),o.TgZ(10,"p",12),o._uU(11,"Term\xe9kjellemz\u0151: "),o.qZA(),o._uU(12),o.TgZ(13,"button",30),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.showDetails())}),o._UZ(14,"i",17),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(5),o.hij(" ",e.product.composition.frame,""),o.xp6(4),o.hij(" ",e.product.composition.lens," "),o.xp6(3),o.hij(" ",e.product.description," ")}}const BW=function(){return{display:"block"}};let zW=(()=>{class n{constructor(e,i,r,s){this.router=e,this.productService=i,this.modalService=r,this.services=s,this.contentLoaded=!1,this.routerSubscription=this.router.events.subscribe(l=>{l instanceof mm&&this.modalService.closeModal()})}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},500)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(ca),o.Y36(vm),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-modal-products"]],inputs:{product:"product"},decls:24,vars:13,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],["class","composition-description",4,"ngIf"],[1,"composition-description",3,"ngStyle","click"],[1,"comp-desc-p"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],["class","cart-btn",3,"click",4,"ngIf"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],["appearance","line",3,"theme",4,"ngIf"],["appearance","line",3,"theme"],[1,"composition-description"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[1,"cart-btn",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o._uU(6),o.qZA(),o._UZ(7,"img",5),o.TgZ(8,"div",6),o.YNc(9,AW,3,4,"div",7),o.qZA()(),o.TgZ(10,"div",8)(11,"div",9),o.YNc(12,kW,3,1,"div",10),o.YNc(13,RW,3,1,"div",10),o.TgZ(14,"div",11),o.NdJ("click",function(){return r.modalService.showDetails()}),o.TgZ(15,"p",12),o._uU(16,"Term\xe9kjellemz\u0151: "),o.YNc(17,NW,2,0,"i",13),o.qZA(),o.YNc(18,FW,2,1,"div",14),o.qZA()(),o.YNc(19,LW,2,0,"div",15),o.YNc(20,UW,2,0,"div",15),o.qZA(),o.TgZ(21,"button",16),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(22,"i",17),o.qZA(),o.YNc(23,VW,15,3,"div",18),o.qZA()()),2&i&&(o.xp6(4),o.hij(" ",r.product.productName,""),o.xp6(2),o.hij("",r.product.discount10?.9*r.services.selectedSizePrice:r.services.selectedSizePrice," Ft"),o.xp6(1),o.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],o.LSH),o.xp6(2),o.Q6J("ngForOf",r.product.modalImagePath),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngStyle",o.DdM(12,BW)),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(3),o.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=700))},dependencies:[Mn,Hn,ho,Kf],styles:[".modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:20}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column;z-index:21}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{flex-direction:row;display:flex;overflow-x:scroll;width:65%;bottom:0;position:absolute}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#1c202b;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(-n+6){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]   .mobile-comp-desc-i[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p-details[_ngcontent-%COMP%]{color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;margin-left:5px;top:50%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333;align-items:center;text-align:center;justify-content:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-left:5px;position:absolute;top:60%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;text-align:center;justify-content:center;align-items:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]{border-bottom:1px solid #ececec;padding-bottom:10px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:14px;padding:10px 0 5px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:5%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{position:relative;top:0%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{top:-10px;right:-10px;font-size:13px;width:25px;height:25px}}@media screen and (min-width: 550px) and (max-width: 700px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:70%;height:80%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 701px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}"]})}return n})();function jW(n,t){1&n&&(o.TgZ(0,"div",18)(1,"span"),o._uU(2,"- 10%"),o.qZA()())}function HW(n,t){if(1&n&&(o.TgZ(0,"div",19),o._uU(1),o.TgZ(2,"p",20),o._uU(3,"Ft "),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij("",e.type[0].price," ")}}function qW(n,t){if(1&n&&(o.TgZ(0,"div",21)(1,"div",22),o._uU(2),o.TgZ(3,"p",23),o._uU(4,"Ft-r\xf3l"),o.qZA()(),o.TgZ(5,"div",24),o._uU(6),o.TgZ(7,"p",25),o._uU(8,"Ft"),o.qZA()()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij(" ",e.type[0].price," "),o.xp6(4),o.hij(" ",.9*e.type[0].price," ")}}function ZW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",9),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseLeave(s))})("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.openModal(s))}),o.TgZ(1,"div",10),o._uU(2),o.TgZ(3,"p",11),o._uU(4),o.qZA(),o.YNc(5,jW,3,0,"div",12),o.qZA(),o.TgZ(6,"div",13),o._UZ(7,"img",14),o.qZA(),o.TgZ(8,"div",15),o.YNc(9,HW,4,1,"div",16),o.YNc(10,qW,9,2,"div",17),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.Q6J("ngIf",!e.type[0].discount10),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10)}}function $W(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-modal-products",26),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}function GW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-added-to-cart-alert",27),o.NdJ("closeAddedModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeAddedModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}let WW=(()=>{class n{constructor(e,i,r,s,l){this.services=e,this.firestore=i,this.modalService=r,this.productService=s,this.elementRef=l,this.task$=vo(al(this.firestore,"hawkers")),this.contentLoaded=!1,this.videoLoaded=!1,this.screenWidth=0,this.sectionInView="",this.imgPc="./assets/images/commercial/sunglasses_background.jpg",this.imgMobile="./assets/images/commercial/sunglasses_background_mobile.jpg"}ngOnInit(){this.screenWidth=window.innerWidth,setTimeout(()=>{this.contentLoaded=!0},1e3),this.imageBlurTimeout=setTimeout(()=>{const e=document.querySelector(".commercial-watch-text-container");e&&e.classList.add("fade-in")},1500),this.textTimeout=setTimeout(()=>{const e=document.querySelector(".commercial-watch-text");e&&e.classList.add("fade-in")},2e3)}ngOnDestroy(){clearTimeout(this.textTimeout),clearTimeout(this.imageBlurTimeout)}onResize(e){this.screenWidth=window.innerWidth}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(Nl),o.Y36(vm),o.Y36(ca),o.Y36(o.SBq))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-products"]],hostBindings:function(i,r){1&i&&o.NdJ("resize",function(l){return r.onResize(l)},!1,o.Jf7)},decls:15,vars:10,consts:[[1,"commercial-watch-container"],["alt","",3,"src"],[1,"commercial-watch-text-container"],[1,"commercial-watch-text"],[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[3,"product","closeModalEvent",4,"ngIf"],[3,"product","closeAddedModalEvent",4,"ngIf"],[1,"product-card",3,"mouseover","mouseleave","click"],[1,"product-card-head"],[1,"brand-name"],["class","badge",4,"ngIf"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"price-container"],["class","product-card-price",4,"ngIf"],["class","product-card-original-price",4,"ngIf"],[1,"badge"],[1,"product-card-price"],[1,"tol"],[1,"product-card-original-price"],[1,"original-price"],[1,"original-tol"],[1,"discount-price"],[1,"discount-tol"],[3,"product","closeModalEvent"],[3,"product","closeAddedModalEvent"]],template:function(i,r){1&i&&(o._UZ(0,"app-skeleton-loader"),o.TgZ(1,"div")(2,"div",0),o._UZ(3,"img",1),o.TgZ(4,"div",2)(5,"div",3),o._uU(6," HAWKERS "),o.qZA()()()(),o.TgZ(7,"div")(8,"div",4)(9,"div",5),o.YNc(10,ZW,11,6,"div",6),o.ALo(11,"async"),o.qZA()()(),o._UZ(12,"app-footer"),o.YNc(13,$W,1,1,"app-modal-products",7),o.YNc(14,GW,1,1,"app-added-to-cart-alert",8)),2&i&&(o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(2),o.Q6J("src",r.screenWidth>=768?r.imgPc:r.imgMobile,o.LSH),o.xp6(4),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(3),o.Q6J("ngForOf",o.lcZ(11,8,r.task$)),o.xp6(3),o.Q6J("ngIf",r.productService.isModalOpen),o.xp6(1),o.Q6J("ngIf",r.services.addedToCart))},dependencies:[Mn,Hn,zW,mS,vS,yS,Ui],styles:[".fade-in[_ngcontent-%COMP%]{opacity:1!important}.commercial-watch-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;position:relative}.commercial-watch-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1400px;border-radius:.625rem}.commercial-watch-container[_ngcontent-%COMP%]   .commercial-watch-text-container[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1400px;border-radius:.625rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:opacity 1s ease;background-image:linear-gradient(135deg,rgba(159,5,255,.4117647059) 10%,rgba(253,94,8,.4196078431) 100%)}.commercial-watch-container[_ngcontent-%COMP%]   .commercial-watch-text-container[_ngcontent-%COMP%]   .commercial-watch-text[_ngcontent-%COMP%]{font-family:oswald,sans-serif;text-shadow:1px 1px 1px #333;line-height:1.5;border-radius:.625rem;font-size:clamp(70px,14vw,250px);position:absolute;-webkit-user-select:none;user-select:none;opacity:0;transition:opacity 1s ease}@media screen and (max-width: 1080px){.commercial-watch-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;position:relative}.commercial-watch-container[_ngcontent-%COMP%]   .commercial-watch-text-container[_ngcontent-%COMP%]{border-radius:0rem;transition:.5s ease}.commercial-watch-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1400px;border-radius:0rem;transition:.5s ease}}",".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})(),YW=(()=>{class n{constructor(){this.price="Ft",this.priceFrom="Ft-t\xf3l",this.originalPrice="Ft-r\xf3l",this.discountAmount="10% Kedvezm\xe9ny",this.discountHeader="- 10%",this.discountDesc="Az akci\xf3ban r\xe9sztvev\u0151 \xf3r\xe1kra!"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KW=function(){return{width:"50px",height:"50px",margin:"3px"}};function QW(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",24),2&n&&o.Q6J("theme",o.DdM(1,KW))}function JW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"img",22),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.changeMainImage(s))}),o.qZA(),o.YNc(2,QW,1,2,"ngx-skeleton-loader",23),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Udp("display",i.contentLoaded?"flex":"none"),o.Q6J("src",e,o.LSH),o.xp6(1),o.Q6J("ngIf",!i.contentLoaded)}}function XW(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.AsE("",e.textService.material," ",e.product.composition.material," ")}}function eY(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,XW,2,2,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.material)}}function tY(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.AsE("",e.textService.materialBelt," ",e.product.composition.belt," ")}}function nY(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,tY,2,2,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.belt)}}function iY(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.AsE("",e.textService.frame," ",e.product.composition.frame," ")}}function rY(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,iY,2,2,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.frame)}}function oY(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.AsE("",e.textService.size," ",e.product.composition.size," ")}}function sY(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,oY,2,2,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.size)}}function aY(n,t){if(1&n&&(o.TgZ(0,"p",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.AsE("",e.textService.waterproof," ",e.product.composition.waterProof," ")}}function cY(n,t){if(1&n&&(o.TgZ(0,"div",25),o.YNc(1,aY,2,2,"p",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.product.composition.waterProof)}}function lY(n,t){if(1&n&&(o.TgZ(0,"i",27),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.textService.clickForDetails)}}function uY(n,t){if(1&n&&(o.TgZ(0,"div",28),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.product.description," ")}}function dY(n,t){if(1&n&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.ekj("selected",i.services.selectedColor===e),o.xp6(1),o.hij("",e.color," ")}}function hY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectItem(s))})("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectColor(s))}),o.YNc(1,dY,2,3,"div",30),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",e.price)}}function fY(n,t){if(1&n&&(o.TgZ(0,"div",31),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.ekj("selected",i.services.selectedColor===e),o.xp6(1),o.hij("",e.color," ")}}function pY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectColor(s))}),o.YNc(1,fY,2,3,"div",30),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",!e.price&&!e.belt)}}function mY(n,t){if(1&n&&(o.TgZ(0,"div",33),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.ekj("selected",i.services.selectedSize===e),o.xp6(1),o.hij("",e.size," ")}}function gY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectItem(s))}),o.YNc(1,mY,2,3,"div",32),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",e.size)}}function _Y(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",34),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.textService.addToCart,"")}}function vY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",34),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._UZ(1,"i",35),o.qZA()}}function yY(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.hij("",e.textService.material," "),o.xp6(1),o.hij(" ",e.product.composition.material,"")}}function bY(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.hij("",e.textService.materialBelt," "),o.xp6(1),o.hij(" ",e.product.composition.belt,"")}}function CY(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.frame),o.xp6(1),o.hij(" ",e.product.composition.frame," ")}}function wY(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.size),o.xp6(1),o.hij(" ",e.product.composition.size," ")}}function xY(n,t){if(1&n&&(o.TgZ(0,"p",40)(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.waterproof),o.xp6(1),o.hij(" ",e.product.composition.waterProof," ")}}function MY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",36)(1,"div",37),o.YNc(2,yY,4,2,"p",38),o.YNc(3,bY,4,2,"p",38),o.YNc(4,CY,4,2,"p",38),o.YNc(5,wY,4,2,"p",38),o.YNc(6,xY,4,2,"p",38),o.TgZ(7,"p",12),o._uU(8),o.qZA(),o._uU(9),o.TgZ(10,"button",39),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.showDetails())}),o._UZ(11,"i",20),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.product.composition.material),o.xp6(1),o.Q6J("ngIf",e.product.composition.belt),o.xp6(1),o.Q6J("ngIf",e.product.composition.frame),o.xp6(1),o.Q6J("ngIf",e.product.composition.size),o.xp6(1),o.Q6J("ngIf",e.product.composition.waterProof),o.xp6(2),o.hij("",e.textService.productDetails," "),o.xp6(1),o.hij(" ",e.product.description," ")}}const EY=function(){return{display:"block"}};let OY=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.textService=i,this.productService=r,this.modalService=s,this.services=l,this.contentLoaded=!1,this.routerSubscription=this.router.events.subscribe(m=>{m instanceof mm&&this.modalService.closeModal()})}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},500)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(k6),o.Y36(ca),o.Y36(vm),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-modal-accessories"]],inputs:{product:"product"},decls:33,vars:22,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],["class","composition-description",4,"ngIf"],[1,"composition-description",3,"ngStyle","click"],[1,"comp-desc-p"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-color-buttons-container"],[3,"click",4,"ngFor","ngForOf"],[1,"item-size-buttons-container"],["class","cart-btn",3,"click",4,"ngIf"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],["appearance","line",3,"theme",4,"ngIf"],["appearance","line",3,"theme"],[1,"composition-description"],["class","comp-desc-p",4,"ngIf"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["class","item-color-buttons","tabindex","0",3,"selected",4,"ngIf"],["tabindex","0",1,"item-color-buttons"],["class","item-size-buttons","tabindex","0",3,"selected",4,"ngIf"],["tabindex","0",1,"item-size-buttons"],[1,"cart-btn",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],["class","mobile-comp-desc-p",4,"ngIf"],[1,"close-comp-desc-details-btn",3,"click"],[1,"mobile-comp-desc-p"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o._uU(6),o.qZA(),o._UZ(7,"img",5),o.TgZ(8,"div",6),o.YNc(9,JW,3,4,"div",7),o.qZA()(),o.TgZ(10,"div",8)(11,"div",9),o.YNc(12,eY,2,1,"div",10),o.YNc(13,nY,2,1,"div",10),o.YNc(14,rY,2,1,"div",10),o.YNc(15,sY,2,1,"div",10),o.YNc(16,cY,2,1,"div",10),o.TgZ(17,"div",11),o.NdJ("click",function(){return r.modalService.showDetails()}),o.TgZ(18,"p",12),o._uU(19),o.YNc(20,lY,2,1,"i",13),o.qZA(),o.YNc(21,uY,2,1,"div",14),o.qZA()(),o.TgZ(22,"div",15),o.YNc(23,hY,2,1,"div",16),o.qZA(),o.TgZ(24,"div",15),o.YNc(25,pY,2,1,"div",16),o.qZA(),o.TgZ(26,"div",17),o.YNc(27,gY,2,1,"div",16),o.qZA(),o.YNc(28,_Y,2,1,"div",18),o.YNc(29,vY,2,0,"div",18),o.qZA(),o.TgZ(30,"button",19),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(31,"i",20),o.qZA(),o.YNc(32,MY,12,7,"div",21),o.qZA()()),2&i&&(o.xp6(4),o.lnq(" ",r.product.productName," ",r.services.selectedColor," ",r.services.selectedSize," "),o.xp6(2),o.hij("",r.product.discount10?.9*r.services.selectedSizePrice:r.services.selectedSizePrice," Ft"),o.xp6(1),o.Q6J("src",r.services.shippingImage,o.LSH),o.xp6(2),o.Q6J("ngForOf",r.product.modalImagePath),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngStyle",o.DdM(21,EY)),o.xp6(2),o.hij("",r.textService.productDetails," "),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(2),o.Q6J("ngForOf",r.product.colorType),o.xp6(2),o.Q6J("ngForOf",r.product.colorType),o.xp6(2),o.Q6J("ngForOf",r.product.type),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(3),o.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=700))},dependencies:[Mn,Hn,ho,Kf],styles:[".modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:20}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column;z-index:21}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{flex-direction:row;display:flex;overflow-x:scroll;width:65%;bottom:0;position:absolute}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#1c202b;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(-n+6){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]   .mobile-comp-desc-i[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p-details[_ngcontent-%COMP%]{color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;margin-left:5px;top:50%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333;align-items:center;text-align:center;justify-content:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-left:5px;position:absolute;top:60%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;text-align:center;justify-content:center;align-items:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]{border-bottom:1px solid #ececec;padding-bottom:10px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:14px;padding:10px 0 5px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:5%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{position:relative;top:0%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{top:-10px;right:-10px;font-size:13px;width:25px;height:25px}}@media screen and (min-width: 550px) and (max-width: 700px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:70%;height:80%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 701px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}"]})}return n})();function PY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",12),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseLeave(s))})("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.openModal(s))}),o.TgZ(1,"div",13),o._uU(2),o.TgZ(3,"p",14),o._uU(4),o.qZA()(),o.TgZ(5,"div",15),o._UZ(6,"img",16),o.qZA(),o.TgZ(7,"div",17)(8,"div",18),o._uU(9),o.TgZ(10,"p",19),o._uU(11),o.qZA()()()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(3),o.hij("",e.type[0].price," "),o.xp6(2),o.hij("",i.textService.priceFrom," ")}}function IY(n,t){if(1&n&&(o.TgZ(0,"div",23)(1,"span"),o._uU(2),o.qZA()()),2&n){const e=o.oxw(2);o.xp6(2),o.Oqu(e.textService.discountHeader)}}function TY(n,t){if(1&n&&(o.TgZ(0,"div",18),o._uU(1),o.TgZ(2,"p",19),o._uU(3),o.qZA()()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.hij("",e.type[0].price," "),o.xp6(2),o.hij("",i.textService.price," ")}}function SY(n,t){if(1&n&&(o.TgZ(0,"div",24)(1,"div",25),o._uU(2),o.TgZ(3,"p",26),o._uU(4),o.qZA()(),o.TgZ(5,"div",27),o._uU(6),o.TgZ(7,"p",28),o._uU(8),o.qZA()()()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(2),o.hij(" ",e.type[0].price," "),o.xp6(2),o.Oqu(i.textService.originalPrice),o.xp6(2),o.hij(" ",.9*e.type[0].price," "),o.xp6(2),o.Oqu(i.textService.price)}}function DY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",12),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.mouseLeave(s))})("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.productService.openModal(s))}),o.TgZ(1,"div",13),o._uU(2),o.TgZ(3,"p",14),o._uU(4),o.qZA(),o.YNc(5,IY,3,1,"div",20),o.qZA(),o.TgZ(6,"div",15),o._UZ(7,"img",16),o.qZA(),o.TgZ(8,"div",17),o.YNc(9,TY,4,2,"div",21),o.YNc(10,SY,9,4,"div",22),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.Q6J("ngIf",!e.type[0].discount10),o.xp6(1),o.Q6J("ngIf",e.type[0].discount10)}}function AY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-modal-accessories",29),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}function kY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-added-to-cart-alert",30),o.NdJ("closeAddedModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeAddedModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}let RY=(()=>{class n{constructor(e,i,r,s,l,m){this.productService=e,this.services=i,this.firestore=r,this.modalService=s,this.textService=l,this.elementRef=m,this.contentLoaded=!1,this.accessories$=vo(al(this.firestore,"accessories")),this.watches$=vo(al(this.firestore,"watches")),this.screenWidth=0,this.sectionInView="",this.imgPc="./assets/images/commercial/police_watch_commercial.jpg",this.imgMobile="./assets/images/commercial/police_watch_commercial_mobile_copy.jpg",this.imgLogo="./assets/images/commercial/police_logo.svg"}getDiscountPrice(){}ngOnInit(){this.screenWidth=window.innerWidth,setTimeout(()=>{this.contentLoaded=!0},1e3)}onResize(e){this.screenWidth=window.innerWidth}checkScroll(){["d"].forEach(i=>{const s=this.elementRef.nativeElement.querySelector(`#${i}`).getBoundingClientRect();s.top>=10&&s.bottom<=window.innerHeight&&(this.sectionInView=i)})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ca),o.Y36(es),o.Y36(Nl),o.Y36(vm),o.Y36(YW),o.Y36(o.SBq))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-accessories"]],hostBindings:function(i,r){1&i&&o.NdJ("resize",function(l){return r.onResize(l)},!1,o.Jf7)("scroll",function(l){return r.checkScroll(l)},!1,o.Jf7)},decls:24,vars:23,consts:[[1,"img-brand-container"],["alt","",1,"img-brand",3,"src"],[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[1,"commercial-watch-container"],["alt","",3,"src"],[1,"commercial-watch-text-container"],["id","d",1,"commercial-watch-text"],["id","d"],[3,"product","closeModalEvent",4,"ngIf"],[3,"product","closeAddedModalEvent",4,"ngIf"],[1,"product-card",3,"mouseover","mouseleave","click"],[1,"product-card-head"],[1,"brand-name"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"price-container"],[1,"product-card-price"],[1,"tol"],["class","badge",4,"ngIf"],["class","product-card-price",4,"ngIf"],["class","product-card-original-price",4,"ngIf"],[1,"badge"],[1,"product-card-original-price"],[1,"original-price"],[1,"original-tol"],[1,"discount-price"],[1,"discount-tol"],[3,"product","closeModalEvent"],[3,"product","closeAddedModalEvent"]],template:function(i,r){1&i&&(o._UZ(0,"app-skeleton-loader"),o.TgZ(1,"div",0),o._UZ(2,"img",1),o.qZA(),o.TgZ(3,"div")(4,"div",2)(5,"div",3),o.YNc(6,PY,12,5,"div",4),o.ALo(7,"async"),o.qZA()()(),o.TgZ(8,"div")(9,"div",5),o._UZ(10,"img",6),o.TgZ(11,"div",7)(12,"div",8),o._uU(13),o.qZA(),o.TgZ(14,"p",9),o._uU(15),o.qZA()()()(),o.TgZ(16,"div")(17,"div",2)(18,"div",3),o.YNc(19,DY,11,6,"div",4),o.ALo(20,"async"),o.qZA()()(),o._UZ(21,"app-footer"),o.YNc(22,AY,1,1,"app-modal-accessories",10),o.YNc(23,kY,1,1,"app-added-to-cart-alert",11)),2&i&&(o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(1),o.Q6J("src",r.imgLogo,o.LSH),o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(3),o.Q6J("ngForOf",o.lcZ(7,19,r.accessories$)),o.xp6(2),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(2),o.Q6J("src",r.screenWidth>=768?r.imgPc:r.imgMobile,o.LSH)("@fadeInB","d"===r.sectionInView),o.xp6(2),o.Q6J("@fadeInA","d"===r.sectionInView),o.xp6(1),o.hij(" ",r.textService.discountAmount," "),o.xp6(1),o.Q6J("@fadeInADelayed","d"===r.sectionInView),o.xp6(1),o.Oqu(r.textService.discountDesc),o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(3),o.Q6J("ngForOf",o.lcZ(20,21,r.watches$)),o.xp6(3),o.Q6J("ngIf",r.productService.isModalOpen),o.xp6(1),o.Q6J("ngIf",r.services.addedToCart))},dependencies:[Mn,Hn,OY,mS,vS,yS,Ui],styles:[".img-brand-container[_ngcontent-%COMP%]{width:100%;align-items:center;justify-content:center;position:relative;display:flex;flex-direction:column;padding-bottom:70px}.img-brand-container[_ngcontent-%COMP%]   .img-brand[_ngcontent-%COMP%]{height:30px;width:200px;margin:50px auto 0;position:absolute;-webkit-user-select:none;user-select:none}.commercial-watch-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;position:relative;transition:all .5s ease}.commercial-watch-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1400px;border-radius:.625rem;transition:all .5s ease}.commercial-watch-container[_ngcontent-%COMP%]   .commercial-watch-text-container[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1400px;border-radius:.625rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;display:flex;align-items:center;justify-content:center;text-align:center}.commercial-watch-container[_ngcontent-%COMP%]   .commercial-watch-text-container[_ngcontent-%COMP%]   .commercial-watch-text[_ngcontent-%COMP%]{font-family:oswald,sans-serif;font-size:clamp(20px,6vw,50px);line-height:1.5;padding:20px;border-radius:.625rem;position:absolute;top:25%;-webkit-user-select:none;user-select:none}.commercial-watch-container[_ngcontent-%COMP%]   .commercial-watch-text-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:oswald,sans-serif;position:absolute;font-size:clamp(14px,5vw,32px);top:46%;padding:15px;-webkit-user-select:none;user-select:none}@media screen and (max-width: 700px){.img-brand[_ngcontent-%COMP%]{width:200px}}@media screen and (max-width: 1080px){.commercial-watch-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;position:relative}.commercial-watch-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1400px;border-radius:0rem}}",".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"],data:{animation:[Qo("fadeInA",[No("true",Vn({opacity:1})),No("false",Vn({opacity:0})),pr("false => true",si("800ms 1200ms ease-in"))]),Qo("fadeInADelayed",[No("true",Vn({opacity:1})),No("false",Vn({opacity:0})),pr("false => true",si("800ms 2000ms ease-in"))]),Qo("fadeInB",[No("true",Vn({filter:"brightness(0.2)"})),No("false",Vn({filter:"brightness(1.0)"})),pr("false => true",si("800ms ease-in"))])]}})}return n})(),xN=(()=>{class n{constructor(e){this.services=e,this.navbarData=E1,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390}getTotalPrice(){let e=0;for(const i of this.services.getCartItems())e+=i.selectedPrice*i.quantity;return e}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}calculateInsurance(){return this.insuranceIsChecked?500:0}calculateGiftFee(){return this.giftIsChecked?1590:0}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+this.calculateInsurance()+this.calculateGiftFee()}removeFromCart(e){const i=this.services.getCartItems().indexOf(e);if(-1!==i){const r=e.quantity;this.services.getCartItems().splice(i,1);const s=this.navbarData.find(l=>"shopping-cart"===l.routerLink);s&&(s.badge=Math.max((s.badge||0)-r,0))}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(es))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V6(...n){const t=(0,$b.jO)(n),{args:e,keys:i}=O5(n),r=new cr.y(s=>{const{length:l}=e;if(!l)return void s.complete();const m=new Array(l);let v=l,x=l;for(let S=0;S<l;S++){let L=!1;(0,Ro.Xf)(e[S]).subscribe((0,li.x)(s,Z=>{L||(L=!0,x--),m[S]=Z},()=>v--,void 0,()=>{(!v||!L)&&(x||s.next(i?P5(i,m):m),s.complete())}))}});return t?r.pipe(Z2(t)):r}let B6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.Qsj),o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n})}return n})(),uy=(()=>{class n extends B6{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})();const Wd=new o.OlP("NgValueAccessor"),FY={provide:Wd,useExisting:(0,o.Gpc)(()=>dy),multi:!0},UY=new o.OlP("CompositionEventMode");let dy=(()=>{class n extends B6{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LY(){const n=Y()?Y().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(UY,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&o.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[o._Bn([FY]),o.qOj]})}return n})();function qg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function j6(n){return null!=n&&"number"==typeof n.length}const ic=new o.OlP("NgValidators"),Zg=new o.OlP("NgAsyncValidators"),VY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class la{static min(t){return function H6(n){return t=>{if(qg(t.value)||qg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function q6(n){return t=>{if(qg(t.value)||qg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Z6(t)}static requiredTrue(t){return function $6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function G6(n){return qg(n.value)||VY.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function W6(n){return t=>qg(t.value)||!j6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return Y6(t)}static pattern(t){return function K6(n){if(!n)return bS;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(qg(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return n4(t)}static composeAsync(t){return i4(t)}}function Z6(n){return qg(n.value)?{required:!0}:null}function Y6(n){return t=>j6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function bS(n){return null}function Q6(n){return null!=n}function J6(n){return(0,o.QGY)(n)?(0,Ar.D)(n):n}function X6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function e4(n,t){return t.map(e=>e(n))}function t4(n){return n.map(t=>function BY(n){return!n.validate}(t)?t:e=>t.validate(e))}function n4(n){if(!n)return null;const t=n.filter(Q6);return 0==t.length?null:function(e){return X6(e4(e,t))}}function MN(n){return null!=n?n4(t4(n)):null}function i4(n){if(!n)return null;const t=n.filter(Q6);return 0==t.length?null:function(e){return V6(e4(e,t).map(J6)).pipe((0,mn.U)(X6))}}function EN(n){return null!=n?i4(t4(n)):null}function r4(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function o4(n){return n._rawValidators}function s4(n){return n._rawAsyncValidators}function ON(n){return n?Array.isArray(n)?n:[n]:[]}function CS(n,t){return Array.isArray(n)?n.includes(t):n===t}function a4(n,t){const e=ON(t);return ON(n).forEach(r=>{CS(e,r)||e.push(r)}),e}function c4(n,t){return ON(t).filter(e=>!CS(n,e))}class l4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=MN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=EN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ul extends l4{get formDirective(){return null}get path(){return null}}class Qf extends l4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class u4{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hy=(()=>{class n extends u4{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Qf,2))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[o.qOj]})}return n})(),O1=(()=>{class n extends u4{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ul,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[o.qOj]})}return n})();const P1="VALID",xS="INVALID",oC="PENDING",I1="DISABLED";function TN(n){return(MS(n)?n.validators:n)||null}function SN(n,t){return(MS(t)?t.asyncValidators:n)||null}function MS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function h4(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function f4(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class ES{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===P1}get invalid(){return this.status===xS}get pending(){return this.status==oC}get disabled(){return this.status===I1}get enabled(){return this.status!==I1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(a4(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(a4(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(c4(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(c4(t,this._rawAsyncValidators))}hasValidator(t){return CS(this._rawValidators,t)}hasAsyncValidator(t){return CS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=oC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=I1,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=P1,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===P1||this.status===oC)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?I1:P1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=oC,this._hasOwnPendingAsyncValidator=!0;const e=J6(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?I1:this.errors?xS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oC)?oC:this._anyControlsHaveStatus(xS)?xS:P1}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){MS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function qY(n){return Array.isArray(n)?MN(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function ZY(n){return Array.isArray(n)?EN(n):n||null}(this._rawAsyncValidators)}}class T1 extends ES{constructor(t,e,i){super(TN(e),SN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){f4(this,0,t),Object.keys(t).forEach(i=>{h4(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class p4 extends T1{}const fy=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>S1}),S1="always";function OS(n,t){return[...t.path,n]}function D1(n,t,e=S1){DN(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function GY(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&m4(n,t)})}(n,t),function YY(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function WY(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&m4(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function $Y(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function PS(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),TS(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function IS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function DN(n,t){const e=o4(n);null!==t.validator?n.setValidators(r4(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=s4(n);null!==t.asyncValidator?n.setAsyncValidators(r4(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();IS(t._rawValidators,r),IS(t._rawAsyncValidators,r)}function TS(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=o4(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=s4(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return IS(t._rawValidators,i),IS(t._rawAsyncValidators,i),e}function m4(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function g4(n,t){DN(n,t)}function kN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function _4(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function RN(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===dy?e=s:function JY(n){return Object.getPrototypeOf(n.constructor)===uy}(s)?i=s:r=s}),r||i||e||null}const eK={provide:Ul,useExisting:(0,o.Gpc)(()=>k1)},A1=(()=>Promise.resolve())();let k1=(()=>{class n extends Ul{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new T1({},MN(e),EN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){A1.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),D1(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){A1.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){A1.then(()=>{const i=this._findContainer(e.path),r=new T1({});g4(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){A1.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){A1.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,_4(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ic,10),o.Y36(Zg,10),o.Y36(fy,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&o.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([eK]),o.qOj]})}return n})();function v4(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function y4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const R1=class extends ES{constructor(t=null,e,i){super(TN(e),SN(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),MS(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=y4(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){v4(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){v4(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){y4(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},iK={provide:Qf,useExisting:(0,o.Gpc)(()=>SS)},w4=(()=>Promise.resolve())();let SS=(()=>{class n extends Qf{constructor(e,i,r,s,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new R1,this._registered=!1,this.name="",this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=RN(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),kN(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){w4.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.VuI)(i);w4.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?OS(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ul,9),o.Y36(ic,10),o.Y36(Zg,10),o.Y36(Wd,10),o.Y36(o.sBO,8),o.Y36(fy,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([iK]),o.qOj,o.TTD]})}return n})(),N1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const rK={provide:Wd,useExisting:(0,o.Gpc)(()=>F1),multi:!0};let F1=(()=>{class n extends uy{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&o.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[o._Bn([rK]),o.qOj]})}return n})(),x4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const NN=new o.OlP("NgModelWithFormControlWarning"),lK={provide:Ul,useExisting:(0,o.Gpc)(()=>ym)};let ym=(()=>{class n extends Ul{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(TS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return D1(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){PS(e.control||null,e,!1),function XY(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,_4(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(PS(i||null,e),(n=>n instanceof R1)(r)&&(D1(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);g4(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function KY(n,t){return TS(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DN(this.form,this),this._oldForm&&TS(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ic,10),o.Y36(Zg,10),o.Y36(fy,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&o.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([lK]),o.qOj,o.TTD]})}return n})();const hK={provide:Qf,useExisting:(0,o.Gpc)(()=>sC)};let sC=(()=>{class n extends Qf{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=RN(0,s)}ngOnChanges(e){this._added||this._setUpControl(),kN(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return OS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ul,13),o.Y36(ic,10),o.Y36(Zg,10),o.Y36(Wd,10),o.Y36(NN,8))};static#n=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([hK]),o.qOj,o.TTD]})}return n})();let py=(()=>{class n{constructor(){this._validator=bS}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):bS,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,features:[o.TTD]})}return n})();const CK={provide:ic,useExisting:(0,o.Gpc)(()=>DS),multi:!0};let DS=(()=>{class n extends py{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.VuI,this.createValidator=e=>Z6}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&o.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([CK]),o.qOj]})}return n})();const EK={provide:ic,useExisting:(0,o.Gpc)(()=>L1),multi:!0};let L1=(()=>{class n extends py{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function S4(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Y6(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&o.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([EK]),o.qOj]})}return n})(),L4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[x4]})}return n})();class U4 extends ES{constructor(t,e,i){super(TN(e),SN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){f4(this,0,t),t.forEach((i,r)=>{h4(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function V4(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let BN,B4=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return V4(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new T1(r,s)}record(e,i=null){const r=this._reduceControls(e);return new p4(r,i)}control(e,i,r){let s={};return this.useNonNullable?(V4(i)?s=i:(s.validators=i,s.asyncValidators=r),new R1(e,{...s,nonNullable:!0})):new R1(e,i,r)}array(e,i,r){const s=e.map(l=>this._createControl(l));return new U4(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof R1||e instanceof ES?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(B4).nonNullable},providedIn:"root"})}return n})(),PK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fy,useValue:e.callSetDisabledState??S1}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[L4]})}return n})(),z4=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:NN,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:fy,useValue:e.callSetDisabledState??S1}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[L4]})}return n})();try{BN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BN=!1}let aC,rc=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Hl(n){return n===ma}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const j4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function H4(){if(aC)return aC;if("object"!=typeof document||!document)return aC=new Set(j4),aC;let n=document.createElement("input");return aC=new Set(j4.filter(t=>(n.setAttribute("type",t),n.type===t))),aC}let U1,my,zN;function cC(n){return function IK(){if(null==U1&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>U1=!0}))}finally{U1=U1||!1}return U1}()?n:!!n.capture}function TK(){if(null==my){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return my=!1,my;if("scrollBehavior"in document.documentElement.style)my=!0;else{const n=Element.prototype.scrollTo;my=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return my}function $g(n){return n.composedPath?n.composedPath()[0]:n.target}function jN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function lC(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var uC=Q(6321);function $4(n,t=uC.z){return(0,Tr.e)((e,i)=>{let r=null,s=null,l=null;const m=()=>{if(r){r.unsubscribe(),r=null;const x=s;s=null,i.next(x)}};function v(){const x=l+n,S=t.now();if(S<x)return r=this.schedule(void 0,x-S),void i.add(r);m()}e.subscribe((0,li.x)(i,x=>{s=x,l=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{s=r=null}))})}function G4(n){return Xi((t,e)=>n<=e)}var zS=Q(3997);function kr(n){return null!=n&&"false"!=`${n}`}function W4(n,t=0){return function ZK(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function jS(n){return Array.isArray(n)?n:[n]}function ua(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Gg(n){return n instanceof o.SBq?n.nativeElement:n}let $K=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[$K]})}return n})();const K4=new Set;let gy,GK=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):YK}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function WK(n,t){if(!K4.has(n))try{gy||(gy=document.createElement("style"),t&&(gy.nonce=t),gy.setAttribute("type","text/css"),document.head.appendChild(gy)),gy.sheet&&(gy.sheet.insertRule(`@media ${n} {body{ }}`,0),K4.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(rc),o.LFG(o.Ojb,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let KK=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Fn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Q4(jS(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=KT(Q4(jS(e)).map(l=>this._registerQuery(l).observable));return s=l1(s.pipe(tc(1)),s.pipe(G4(1),$4(0))),s.pipe((0,mn.U)(l=>{const m={matches:!1,breakpoints:{}};return l.forEach(({matches:v,query:x})=>{m.matches=m.matches||v,m.breakpoints[x]=v}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new cr.y(l=>{const m=v=>this._zone.run(()=>l.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(Gf(i),(0,mn.U)(({matches:l})=>({query:e,matches:l})),nc(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(GK),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q4(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function X4(n,t,e){const i=HS(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function HN(n,t,e){const r=HS(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function HS(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const eV="cdk-describedby-message",qS="cdk-describedby-host";let qN=0,QK=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+qN++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+qN++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=ZN(i,r);"string"!=typeof i?(tV(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=ZN(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const l=this._messageRegistry.get(s);l&&0===l.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${qS}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(qS);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");tV(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(ZN(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=HS(e,"aria-describedby").filter(r=>0!=r.indexOf(eV));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);X4(e,"aria-describedby",r.messageElement.id),e.setAttribute(qS,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,HN(e,"aria-describedby",r.messageElement.id),e.removeAttribute(qS)}_isElementDescribedByMessage(e,i){const r=HS(e,"aria-describedby"),s=this._messageRegistry.get(i),l=s&&s.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae),o.LFG(rc))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZN(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function tV(n,t){n.id||(n.id=`${eV}-${t}-${qN++}`)}class nV{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Fn.x,this._typeaheadSubscription=Ic.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Fn.x,this.change=new Fn.x,t instanceof o.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,nr.b)(e=>this._pressedLetters.push(e)),$4(t),Xi(()=>this._pressedLetters.length>0),(0,mn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((r||lC(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class JK extends nV{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class XK extends nV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let eQ=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function nQ(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function tQ(n){try{return n.frameElement}catch{return null}}(function uQ(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===rV(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=rV(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function cQ(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function lQ(n){return!function rQ(n){return function sQ(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function iQ(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function oQ(n){return function aQ(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||iV(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(rc))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function rV(n){if(!iV(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function $N(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function GN(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const dQ=new o.OlP("cdk-input-modality-detector-options"),hQ={ignoreKeys:[18,17,224,91,16]},dC=cC({passive:!0,capture:!0});let fQ=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Gd.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(m=>m===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$g(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next($N(l)?"keyboard":"mouse"),this._mostRecentTarget=$g(l))},this._onTouchstart=l=>{GN(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$g(l))},this._options={...hQ,...s},this.modalityDetected=this._modality.pipe(G4(1)),this.modalityChanged=this.modalityDetected.pipe((0,zS.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dC),r.addEventListener("mousedown",this._onMousedown,dC),r.addEventListener("touchstart",this._onTouchstart,dC)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dC),document.removeEventListener("mousedown",this._onMousedown,dC),document.removeEventListener("touchstart",this._onTouchstart,dC))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(rc),o.LFG(o.R0b),o.LFG(Ae),o.LFG(dQ,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pQ=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function mQ(){return null}}),gQ=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let _Q=0,vQ=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,l;return 1===i.length&&"number"==typeof i[0]?l=i[0]:[s,l]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==l&&r&&(l=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(m=>this._currentResolve=m)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof l&&(this._previousTimeout=setTimeout(()=>this.clear(),l)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+_Q++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],l=s.getAttribute("aria-owns");l?-1===l.indexOf(e)&&s.setAttribute("aria-owns",l+" "+e):s.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(pQ,8),o.LFG(o.R0b),o.LFG(Ae),o.LFG(gQ,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yQ=new o.OlP("cdk-focus-monitor-default-options"),ZS=cC({passive:!0,capture:!0});let $S=(()=>{class n{constructor(e,i,r,s,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Fn.x,this._rootNodeFocusAndBlurListener=m=>{for(let x=$g(m);x;x=x.parentElement)"focus"===m.type?this._onFocus(m,x):this._onBlur(m,x)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=Gg(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,_n.of)();const s=function DK(n){if(function SK(){if(null==zN){const n=typeof document<"u"?document.head:null;zN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zN}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const m={checkChildren:i,subject:new Fn.x,rootNode:s};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=Gg(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Gg(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=$g(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ZS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ZS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(nc(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ZS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ZS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.R0b),o.LFG(rc),o.LFG(fQ),o.LFG(Ae,8),o.LFG(yQ,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sV="cdk-high-contrast-black-on-white",aV="cdk-high-contrast-white-on-black",WN="cdk-high-contrast-active";let cV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(KK).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(WN,sV,aV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(WN,sV):2===i&&e.add(WN,aV)}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(rc),o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bQ=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(cV))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[Y4]})}return n})();const CQ=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function wQ(){return(0,o.f3M)(Ae)}}),xQ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let V1=(()=>{class n{constructor(e){this.value="ltr",this.change=new o.vpe,e&&(this.value=function MQ(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?xQ.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(CQ,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const EQ=["text"];function OQ(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=o.oxw();o.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function PQ(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=o.oxw();o.Q6J("disabled",e.disabled)}}function IQ(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const TQ=[[["mat-icon"]],"*"],SQ=["mat-icon","*"],AQ=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function DQ(){return!0}});let ts=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!jN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(cV),o.LFG(AQ,8),o.LFG(Ae))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[B1,B1]})}return n})();function hC(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=kr(t)}constructor(...t){super(...t),this._disabled=!1}}}function z1(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function j1(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=kr(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function YN(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?W4(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function dV(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let hV=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class RQ{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fV=cC({passive:!0,capture:!0});class NQ{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=$g(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,fV)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,fV)))}}const pV={enterDuration:225,exitDuration:150},mV=cC({passive:!0,capture:!0}),gV=["mousedown","touchstart"],_V=["mouseup","mouseleave","touchend","touchcancel"];class GS{static#e=this._eventManager=new NQ;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gg(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...pV,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function LQ(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),m=t-r.left,v=e-r.top,x=s.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=m-l+"px",S.style.top=v-l+"px",S.style.height=2*l+"px",S.style.width=2*l+"px",null!=i.color&&(S.style.backgroundColor=i.color),S.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(S);const L=window.getComputedStyle(S),te=L.transitionDuration,ae="none"===L.transitionProperty||"0s"===te||"0s, 0s"===te||0===r.width&&0===r.height,ve=new RQ(this,S,i,ae);S.style.transform="scale3d(1, 1, 1)",ve.state=0,i.persistent||(this._mostRecentTransientRipple=ve);let Be=null;return!ae&&(x||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const vt=()=>this._finishRippleTransition(ve),Dt=()=>this._destroyRipple(ve);S.addEventListener("transitionend",vt),S.addEventListener("transitioncancel",Dt),Be={onTransitionEnd:vt,onTransitionCancel:Dt}}),this._activeRipples.set(ve,Be),(ae||!x)&&this._finishRippleTransition(ve),ve}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...pV,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Gg(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,gV.forEach(i=>{GS._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_V.forEach(e=>{this._triggerElement.addEventListener(e,this,mV)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=$N(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!GN(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(gV.forEach(e=>GS._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&_V.forEach(e=>t.removeEventListener(e,this,mV)))}}const vV=new o.OlP("mat-ripple-global-options");let fC=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new GS(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(rc),o.Y36(vV,8),o.Y36(o.QbO,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&o.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),q1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts,ts]})}return n})(),UQ=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.QbO,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),VQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts]})}return n})();const yV=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),bV=new o.OlP("MatOptgroup");let BQ=0;class zQ{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let jQ=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=kr(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+BQ++,this.onSelectionChange=new o.vpe,this._stateChanges=new Fn.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!lC(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new zQ(this,e))}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275dir=o.lG2({type:n,viewQuery:function(i,r){if(1&i&&o.Gf(EQ,7),2&i){let s;o.iGM(s=o.CRH())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),WS=(()=>{class n extends jQ{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(yV,8),o.Y36(bV,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&o.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(l){return r._handleKeydown(l)}),2&i&&(o.Ikx("id",r.id),o.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),o.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:SQ,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(o.F$t(TQ),o.YNc(0,OQ,1,2,"mat-pseudo-checkbox",0),o.Hsn(1),o.TgZ(2,"span",1,2),o.Hsn(4,1),o.qZA(),o.YNc(5,PQ,1,1,"mat-pseudo-checkbox",3),o.YNc(6,IQ,2,1,"span",4),o._UZ(7,"div",5)),2&i&&(o.Q6J("ngIf",r.multiple),o.xp6(5),o.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),o.xp6(1),o.Q6J("ngIf",r.group&&r.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[fC,Hn,UQ],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),CV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[q1,vi,ts,VQ]})}return n})();const wV={capture:!0},xV=["focus","click","mouseenter","touchstart"],KN="mat-ripple-loader-uninitialized",QN="mat-ripple-loader-class-name",MV="mat-ripple-loader-centered",YS="mat-ripple-loader-disabled";let ZQ=(()=>{class n{constructor(){this._document=(0,o.f3M)(Ae,{optional:!0}),this._animationMode=(0,o.f3M)(o.QbO,{optional:!0}),this._globalRippleOptions=(0,o.f3M)(vV,{optional:!0}),this._platform=(0,o.f3M)(rc),this._ngZone=(0,o.f3M)(o.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${KN}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of xV)this._document?.addEventListener(e,this._onInteraction,wV)})}ngOnDestroy(){for(const e of xV)this._document?.removeEventListener(e,this._onInteraction,wV)}configureRipple(e,i){e.setAttribute(KN,""),(i.className||!e.hasAttribute(QN))&&e.setAttribute(QN,i.className||""),i.centered&&e.setAttribute(MV,""),i.disabled&&e.setAttribute(YS,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(YS,""):e.removeAttribute(YS)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(QN)),e.append(i);const r=new fC(new o.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(MV),r.disabled=e.hasAttribute(YS),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(KN),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $Q=["switch"];function GQ(n,t){1&n&&(o.TgZ(0,"div",12),o.O4$(),o.TgZ(1,"svg",13),o._UZ(2,"path",14),o.qZA(),o.TgZ(3,"svg",15),o._UZ(4,"path",16),o.qZA()())}const WQ=["*"],YQ=new o.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),KQ={provide:Wd,useExisting:(0,o.Gpc)(()=>OV),multi:!0};class EV{constructor(t,e){this.source=t,this.checked=e}}let QQ=0;const JQ=YN(z1(j1(hC(class{constructor(n){this._elementRef=n}}))));let XQ=(()=>{class n extends JQ{get required(){return this._required}set required(e){this._required=kr(e)}get checked(){return this._checked}set checked(e){this._checked=kr(e),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(e){this._hideIcon=kr(e)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,l,m,v){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=l,this._onChange=x=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new o.vpe,this.toggleChange=new o.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=l.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${v}${++QQ}`,this._hideIcon=l.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275dir=o.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[o.qOj]})}return n})(),OV=(()=>{class n extends XQ{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(e,i,r,s,l,m){super(e,i,r,s,l,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new EV(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(e){return new EV(this,e)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36($S),o.Y36(o.sBO),o.$8M("tabindex"),o.Y36(YQ),o.Y36(o.QbO,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&o.Gf($Q,5),2&i){let s;o.iGM(s=o.CRH())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(o.Ikx("id",r.id),o.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),o.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[o._Bn([KQ]),o.qOj],ngContentSelectors:WQ,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(o.F$t(),o.TgZ(0,"div",0)(1,"button",1,2),o.NdJ("click",function(){return r._handleClick()}),o._UZ(3,"div",3),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"div",7),o.qZA(),o.TgZ(8,"div",8),o._UZ(9,"div",9),o.qZA(),o.YNc(10,GQ,5,0,"div",10),o.qZA()()(),o.TgZ(11,"label",11),o.NdJ("click",function(l){return l.stopPropagation()}),o.Hsn(12),o.qZA()()),2&i){const s=o.MAs(2);o.ekj("mdc-form-field--align-end","before"==r.labelPosition),o.xp6(1),o.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),o.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),o.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),o.xp6(8),o.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),o.xp6(1),o.Q6J("ngIf",!r.hideIcon),o.xp6(1),o.Q6J("for",r.buttonId),o.uIk("id",r._labelId)}},dependencies:[fC,Hn],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),PV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})(),IV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[PV,ts,q1,vi,PV,ts]})}return n})(),nJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-custom-remove-button"]],decls:12,vars:0,consts:[["type","button",1,"button"],[1,"button__text"],[1,"button__icon"],["height","512","viewBox","0 0 512 512","width","512","xmlns","http://www.w3.org/2000/svg",1,"svg"],["d","M112,112l20,320c.95,18.49,14.4,32,32,32H348c17.67,0,30.87-13.51,32-32l20-320",2,"fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","32px"],["x1","80","x2","432","y1","112","y2","112",2,"stroke","#fff","stroke-linecap","round","stroke-miterlimit","10","stroke-width","32px"],["d","M192,112V72h0a23.93,23.93,0,0,1,24-24h80a23.93,23.93,0,0,1,24,24h0v40",2,"fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","32px"],["x1","256","x2","256","y1","176","y2","400",2,"fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","32px"],["x1","184","x2","192","y1","176","y2","400",2,"fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","32px"],["x1","328","x2","320","y1","176","y2","400",2,"fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","32px"]],template:function(i,r){1&i&&(o.TgZ(0,"button",0)(1,"span",1),o._uU(2,"T\xf6rl\xe9s"),o.qZA(),o.TgZ(3,"span",2),o.O4$(),o.TgZ(4,"svg",3),o._UZ(5,"title")(6,"path",4)(7,"line",5)(8,"path",6)(9,"line",7)(10,"line",8)(11,"line",9),o.qZA()()())},styles:[".button[_ngcontent-%COMP%]{position:relative;width:150px;height:40px;cursor:pointer;display:flex;align-items:center;border:1px solid #cc0000;background-color:#e50000;overflow:hidden}.button[_ngcontent-%COMP%], .button__icon[_ngcontent-%COMP%], .button__text[_ngcontent-%COMP%]{transition:all .3s}.button[_ngcontent-%COMP%]   .button__text[_ngcontent-%COMP%]{transform:translate(35px);color:#fff;font-weight:600}.button[_ngcontent-%COMP%]   .button__icon[_ngcontent-%COMP%]{position:absolute;transform:translate(109px);height:100%;width:39px;background-color:#c00;display:flex;align-items:center;justify-content:center}.button[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{width:20px}.button[_ngcontent-%COMP%]:hover{background:#cc0000}.button[_ngcontent-%COMP%]:hover   .button__text[_ngcontent-%COMP%]{color:transparent}.button[_ngcontent-%COMP%]:hover   .button__icon[_ngcontent-%COMP%]{width:148px;transform:translate(0)}.button[_ngcontent-%COMP%]:active   .button__icon[_ngcontent-%COMP%]{background-color:#b20000}.button[_ngcontent-%COMP%]:active{border:1px solid #b20000}"]})}return n})(),iJ=(()=>{class n{constructor(e,i,r,s){this.productService=e,this.modalService=i,this.services=r,this.cartService=s,this.customKeepText="Vissza"}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ca),o.Y36(vm),o.Y36(es),o.Y36(xN))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-shopping-cart-modal"]],inputs:{product:"product"},decls:14,vars:4,consts:[[1,"remove-item-container"],[1,"remove-item"],[1,"remove-item-header"],[1,"remove-item-desc"],[1,"item-name"],[3,"click"],[3,"text","click"],[1,"product-image",3,"src"],[1,"exit-button",3,"click"],["aria-hidden","true",1,"fa","fa-window-close"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),o._uU(3,"Term\xe9k elt\xe1vol\xedt\xe1sa a kos\xe1rb\xf3l"),o.qZA(),o.TgZ(4,"h2",3),o._uU(5,"Val\xf3ban elt\xe1vol\xedtja a(z) "),o.TgZ(6,"span",4),o._uU(7),o.qZA(),o._uU(8," term\xe9ket a kos\xe1rb\xf3l? "),o.qZA(),o.TgZ(9,"app-custom-remove-button",5),o.NdJ("click",function(){return r.cartService.removeFromCart(r.product)})("click",function(){return r.modalService.closeModal()}),o.qZA(),o.TgZ(10,"app-custom-keep-button",6),o.NdJ("click",function(){return r.modalService.closeModal()}),o.qZA(),o._UZ(11,"img",7),o.TgZ(12,"div",8),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(13,"i",9),o.qZA()()()),2&i&&(o.xp6(7),o.AsE(' "',r.product.product.brand," ",r.product.product.brandName,'"'),o.xp6(3),o.Q6J("text",r.customKeepText),o.xp6(1),o.Q6J("src",r.product.selectedImage||r.product.product.imagePath,o.LSH))},dependencies:[nJ,U6],styles:[".remove-item-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:110}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]{position:relative;width:auto;height:600px;min-width:600px;background-color:#fff;padding:20px;border-radius:.625rem;align-items:center;justify-content:center}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-header[_ngcontent-%COMP%]{font-size:20px;color:#333}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]{font-size:16px;color:#333;border-bottom:1px solid #ececec}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#4e4e4e}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-remove-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-keep-button[_ngcontent-%COMP%]{position:absolute;left:20px;bottom:20px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{display:flex}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:300px;width:auto;position:absolute;top:55%;left:50%;transform:translate(-50%,-50%)}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .exit-button[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-1px;font-size:40px;cursor:pointer}@media screen and (max-width: 700px){.remove-item-container[_ngcontent-%COMP%]{width:100%;margin-left:0rem;transition:all .5s ease}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]{padding:10px;height:80vh;min-width:0px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-header[_ngcontent-%COMP%]{font-size:18px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]{font-size:14px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .remove-item-desc[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#4e4e4e}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:220px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-remove-button[_ngcontent-%COMP%]{right:10px;bottom:10px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   app-custom-keep-button[_ngcontent-%COMP%]{left:10px;bottom:10px}.remove-item-container[_ngcontent-%COMP%]   .remove-item[_ngcontent-%COMP%]   .exit-button[_ngcontent-%COMP%]{position:absolute;top:-3px;right:-1px;font-size:35px;cursor:pointer}}"]})}return n})();const rJ=function(){return{"max-width":"300px",height:"300px",width:"90vw","border-radius":"15px"}},oJ=function(){return{width:"100%","min-width":"150px"}};function sJ(n,t){1&n&&(o.TgZ(0,"div",4),o._UZ(1,"ngx-skeleton-loader",5)(2,"ngx-skeleton-loader",6),o.qZA()),2&n&&(o.xp6(1),o.Q6J("theme",o.DdM(2,rJ)),o.xp6(1),o.Q6J("theme",o.DdM(3,oJ)))}const aJ=function(){return["/products"]};function cJ(n,t){if(1&n&&(o.TgZ(0,"div",7),o._UZ(1,"img",8),o.TgZ(2,"div",9),o._uU(3,"A kosara \xfcres!"),o.TgZ(4,"p",10),o._uU(5,"Vissza a term\xe9kekhez!"),o.qZA()()()),2&n){const e=o.oxw();o.Udp("display",e.contentLoaded?"flex":"none"),o.xp6(4),o.Q6J("routerLink",o.DdM(3,aJ))}}function lJ(n,t){if(1&n&&(o.TgZ(0,"div",41)(1,"div",42),o._uU(2),o.qZA(),o.TgZ(3,"span",43),o._uU(4),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij("",e.product.brand," "),o.xp6(2),o.lnq("",e.product.brandName," ",e.color," ",e.size,"")}}function uJ(n,t){if(1&n&&(o.TgZ(0,"div",44)(1,"div",42),o._uU(2),o.qZA(),o.TgZ(3,"span",43),o._uU(4),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij("",e.product.brand," "),o.xp6(2),o.lnq("",e.product.brandName," ",e.color," ",e.size,"")}}const TV=function(n){return{"disabled-button":n}};function dJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",27),o._UZ(1,"div",28)(2,"img",29),o.YNc(3,lJ,5,4,"div",30),o.YNc(4,uJ,5,4,"div",31),o.TgZ(5,"div",32)(6,"div",33),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.decreaseQuantity(s))}),o._UZ(7,"i",34),o.qZA(),o.TgZ(8,"div",35),o._uU(9),o.qZA(),o.TgZ(10,"div",36),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.increaseQuantity(s))}),o._UZ(11,"i",37),o.qZA()(),o.TgZ(12,"div",38),o._uU(13),o.qZA(),o.TgZ(14,"button",39),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.openModal(s))}),o._UZ(15,"i",40),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw(2);o.xp6(2),o.Q6J("src",e.selectedImage||e.product.imagePath,o.LSH),o.xp6(1),o.Q6J("ngIf",i.screenWidth>=700),o.xp6(1),o.Q6J("ngIf",i.screenWidth<700),o.xp6(2),o.Q6J("ngClass",o.VKq(7,TV,1===e.quantity)),o.xp6(3),o.Oqu(e.quantity),o.xp6(1),o.Q6J("ngClass",o.VKq(9,TV,5===e.quantity)),o.xp6(3),o.hij(" ",e.selectedPrice*e.quantity," Ft ")}}const SV=function(n){return{active:n}},KS=function(n){return{opacity:n}};function hJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",11)(1,"div",12)(2,"div",13),o.YNc(3,dJ,16,11,"div",14),o.qZA()(),o.TgZ(4,"div",15)(5,"div",16)(6,"mat-slide-toggle",17),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.shoppingService.insuranceIsChecked=r)}),o._uU(7,"K\xfcldem\xe9ny biztos\xedt\xe1sa"),o.qZA(),o.TgZ(8,"h3",18),o._uU(9,"500 Ft"),o.qZA(),o.TgZ(10,"p",19),o._uU(11,"A k\xfcldem\xe9ny megs\xe9r\xfcl\xe9se vagy elveszt\xe9se eset\xe9n nem kell v\xe1rnia a helyzet t\xf6rv\xe9nyileg el\u0151\xedrt hat\xe1rid\u0151n bel\xfcli rendez\xe9s\xe9re. El\xe9g, ha bejelenti nek\xfcnk \xe9s dokument\xe1lja a k\xfcldem\xe9ny megs\xe9r\xfcl\xe9s\xe9t vagy elveszt\xe9s\xe9t, \xe9s mi postafordult\xe1val teljesen \xfaj \xe1rut k\xfcld\xfcnk \xf6nnek. "),o.qZA()(),o.TgZ(12,"div",20)(13,"mat-slide-toggle",17),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.shoppingService.giftIsChecked=r)}),o._uU(14,"Luxus csomagol\xe1s"),o.qZA(),o.TgZ(15,"h3",18),o._uU(16,"1590 Ft"),o.qZA(),o.TgZ(17,"p",19),o._uU(18," Sz\xedvesen luxus kivitel\u0171 aj\xe1nd\xe9kcsomagol\xe1sba csomagolunk \xf6nnek mindent. "),o.qZA()(),o.TgZ(19,"div",21),o._uU(20,"H\xe1zhoz sz\xe1ll\xedt\xe1s "),o.TgZ(21,"h3"),o._uU(22,"1390 Ft "),o.qZA()(),o.TgZ(23,"div",22),o._uU(24,"100% Kedvezm\xe9ny a kisz\xe1ll\xedt\xe1sra! "),o.TgZ(25,"p",23),o._uU(26,"50.000 Forint v\xe1s\xe1rl\xe1s eset\xe9n ingyenesen h\xe1zhoz sz\xe1ll\xedtjuk! "),o.qZA()(),o.TgZ(27,"div",24)(28,"div",25)(29,"h3"),o._uU(30,"\xd6sszesen fizetend\u0151: "),o.TgZ(31,"p"),o._uU(32),o.qZA()()()(),o.TgZ(33,"button",26),o._uU(34,"Tov\xe1bb a sz\xe1ll\xedt\xe1sra!"),o.qZA()()()}if(2&n){const e=o.oxw();o.Udp("display",e.contentLoaded?"grid":"none"),o.xp6(3),o.Q6J("ngForOf",e.services.getCartItems()),o.xp6(3),o.Q6J("ngModel",e.shoppingService.insuranceIsChecked),o.xp6(2),o.Q6J("ngClass",o.VKq(13,SV,e.shoppingService.insuranceIsChecked)),o.xp6(2),o.Q6J("ngStyle",o.VKq(15,KS,e.shoppingService.insuranceIsChecked?1:.5)),o.xp6(3),o.Q6J("ngModel",e.shoppingService.giftIsChecked),o.xp6(2),o.Q6J("ngClass",o.VKq(17,SV,e.shoppingService.giftIsChecked)),o.xp6(2),o.Q6J("ngStyle",o.VKq(19,KS,e.shoppingService.giftIsChecked?1:.5)),o.xp6(2),o.Q6J("ngStyle",o.VKq(21,KS,e.getTotalPrice()<5e4?1:.5)),o.xp6(4),o.Q6J("ngStyle",o.VKq(23,KS,e.getTotalPrice()>49999?1:.5)),o.xp6(9),o.hij("",e.calculateShippingPrice()+e.getTotalPrice()+(e.shoppingService.insuranceIsChecked?500:0)+(e.shoppingService.giftIsChecked?1590:0)," Ft"),o.xp6(1),o.Q6J("disabled",0===e.services.getCartItems().length)}}function fJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-shopping-cart-modal",45),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}let pJ=(()=>{class n{constructor(e,i,r){this.services=e,this.shoppingService=i,this.productService=r,this.cartItems=[],this.selectedProducts=[],this.contentLoaded=!1,this.navbarData=E1,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390,this.selectedProductPrice=this.services.selectedSizePrice,this.screenWidth=0}ngOnInit(){this.screenWidth=window.innerWidth,this.cartItems=this.services.getCartItems(),setTimeout(()=>{this.contentLoaded=!0},500)}onResize(e){this.screenWidth=window.innerWidth}getProductPrice(){return this.selectedProductPrice}increaseQuantity(e){e.quantity++;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)+1)}decreaseQuantity(e){if(e.quantity>1){e.quantity--;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)-1)}}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}getTotalPrice(){let e=0;for(const i of this.services.getCartItems())e+=i.selectedPrice*i.quantity;return e}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(xN),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-shopping-cart"]],hostBindings:function(i,r){1&i&&o.NdJ("resize",function(l){return r.onResize(l)},!1,o.Jf7)},decls:4,vars:4,consts:[["class","ngx-container",4,"ngIf"],["class","empty-cart",3,"display",4,"ngIf"],["class","shopping-cart-component",3,"display",4,"ngIf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"ngx-container"],["appearance","circle",3,"theme"],["count","2","appearance","line",3,"theme"],[1,"empty-cart"],["src","./assets/images/empty-cart.png",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shopping-cart-card-container"],[1,"shopping-cart-card"],["class","cart-item",4,"ngFor","ngForOf"],[1,"checkout-container"],[1,"insurance"],[3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"checkout-container-desc",3,"ngStyle"],[1,"gift"],[1,"shipping",3,"ngStyle"],[1,"bonus",3,"ngStyle"],[1,"bonus-desc"],[1,"checkout-card"],[1,"total-price"],["routerLink","/shipping",1,"btn-hover","color-8",3,"disabled"],[1,"cart-item"],[1,"img-background"],[1,"product-image",3,"src"],["class","pc-screen",4,"ngIf"],["class","mobile-screen",4,"ngIf"],[1,"buttons"],[1,"decreaseQuantity",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-minus"],[1,"product-quantity"],[1,"increaseQuantity",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"shopping-cart-price"],[1,"removeFromCart",3,"click"],[1,"fal","fa-times","close-icon"],[1,"pc-screen"],[1,"shopping-cart-head"],[1,"brand-name"],[1,"mobile-screen"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(o.YNc(0,sJ,3,4,"div",0),o.YNc(1,cJ,6,4,"div",1),o.YNc(2,hJ,35,25,"div",2),o.YNc(3,fJ,1,1,"app-shopping-cart-modal",3)),2&i&&(o.Q6J("ngIf",!r.contentLoaded&&0===r.services.getCartItems().length),o.xp6(1),o.Q6J("ngIf",0===r.services.getCartItems().length),o.xp6(1),o.Q6J("ngIf",r.services.getCartItems().length>0),o.xp6(1),o.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[Cr,Mn,Hn,ho,bu,OV,hy,SS,Kf,iJ],styles:['.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px;position:relative;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#1c202b;flex:1;display:flex;align-items:center;border-bottom:1px solid #ccc;position:relative;gap:10px;margin:0 0 20px;min-width:600px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .pc-screen[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:20px;position:absolute;top:5px;left:150px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .pc-screen[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{position:absolute;top:25px;font-size:17px;left:150px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{width:140px;height:140px;background-color:#fff;position:absolute;overflow:hidden;z-index:2;border-radius:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{z-index:3;width:140px;background-color:#fff;height:140px;border-radius:5px;margin-right:10px;overflow:hidden;border:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;position:absolute;right:10px;bottom:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;gap:5px;position:absolute;left:145px;bottom:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff;font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff;transition:all .5s ease}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]:hover{filter:brightness(150%)}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]:active{background-color:#fff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff;transition:all .5s ease}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]:hover{filter:brightness(150%)}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]:active{background-color:#fff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100;transition:all .5s ease}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]:hover{background-color:#ef2158}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:15px 10px 15px 0;margin-left:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:10px 0 0;width:95vw;height:140px;min-width:0px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .mobile-screen[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:14px;margin-left:5px;position:absolute;top:5px;left:105px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .mobile-screen[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{margin-left:5px;position:absolute;top:20px;font-size:12px;left:105px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{left:0;bottom:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:14px;position:absolute;left:144px;bottom:13px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:10px;padding:0;margin:10px;position:absolute;left:100px;bottom:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:10px;padding:0;margin:10px;position:absolute;left:150px;bottom:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:16px;position:absolute;right:5px;bottom:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{width:100px;height:140px;overflow:hidden}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:auto;height:auto;max-height:100px;overflow:hidden}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:auto}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:100%}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;border-radius:.625rem;height:100%;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 800px){.checkout-container[_ngcontent-%COMP%]{padding:8px}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 800px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 800px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;background-color:#1c202b;color:#fff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border-radius:.625rem;transition:all .5s ease}.btn-hover[_ngcontent-%COMP%]:hover{color:#fff;background-color:#12151d}']})}return n})(),_y=(()=>{class n{constructor(e){this.auth=e,this.localStorageKey="savedCredentials",this.currentUser$=g3(this.auth)}getSavedCredentials(){const e=localStorage.getItem(this.localStorageKey);return e?JSON.parse(e):null}saveCredentials(e,i){localStorage.setItem(this.localStorageKey,JSON.stringify({email:e,password:i}))}clearSavedCredentials(){localStorage.removeItem(this.localStorageKey)}login(e,i){return(0,Ar.D)(I3(this.auth,e,i))}logout(){return(0,Ar.D)(this.auth.signOut())}signUp(e,i){return(0,Ar.D)(SO(this.auth,e,i))}updateProfileData(e){return(0,_n.of)(this.auth.currentUser).pipe(ay(r=>{if(!r)throw new Error("Nincs hiteles\xedtve!");return zm(r,e)}))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Pp))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mJ=["input"],gJ=["label"],_J=["*"],vJ=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:DV});function DV(){return{color:"accent",clickAction:"check-indeterminate"}}const yJ={provide:Wd,useExisting:(0,o.Gpc)(()=>Z1),multi:!0};class bJ{}let CJ=0;const AV=DV(),wJ=YN(z1(j1(hC(class{constructor(n){this._elementRef=n}}))));let xJ=(()=>{class n extends wJ{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=kr(e)}constructor(e,i,r,s,l,m,v){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=m,this._options=v,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||AV,this.color=this.defaultColor=this._options.color||AV.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${e}${++CJ}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=kr(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=kr(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=kr(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275dir=o.lG2({type:n,viewQuery:function(i,r){if(1&i&&(o.Gf(mJ,5),o.Gf(gJ,5),o.Gf(fC,5)),2&i){let s;o.iGM(s=o.CRH())&&(r._inputElement=s.first),o.iGM(s=o.CRH())&&(r._labelElement=s.first),o.iGM(s=o.CRH())&&(r.ripple=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[o.qOj]})}return n})(),Z1=(()=>{class n extends xJ{constructor(e,i,r,s,l,m){super("mat-mdc-checkbox-",e,i,r,s,l,m),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new bJ;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(o.QbO,8),o.Y36(vJ,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&(o.Ikx("id",r.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),o.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[o._Bn([yJ]),o.qOj],ngContentSelectors:_J,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(o.F$t(),o.TgZ(0,"div",0),o.NdJ("click",function(l){return r._preventBubblingFromLabel(l)}),o.TgZ(1,"div",1,2)(3,"div",3),o.NdJ("click",function(){return r._onTouchTargetClick()}),o.qZA(),o.TgZ(4,"input",4,5),o.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(l){return r._onInteractionEvent(l)}),o.qZA(),o._UZ(6,"div",6),o.TgZ(7,"div",7),o.O4$(),o.TgZ(8,"svg",8),o._UZ(9,"path",9),o.qZA(),o.kcU(),o._UZ(10,"div",10),o.qZA(),o._UZ(11,"div",11),o.qZA(),o.TgZ(12,"label",12,13),o.Hsn(14),o.qZA()()),2&i){const s=o.MAs(2);o.ekj("mdc-form-field--align-end","before"==r.labelPosition),o.xp6(4),o.ekj("mdc-checkbox--selected",r.checked),o.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),o.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),o.xp6(7),o.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),o.xp6(1),o.Q6J("for",r.inputId)}},dependencies:[fC],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),kV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})(),OJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts,q1,kV,ts,kV]})}return n})();const RV=function(n){return{error:n}};let NV=(()=>{class n{constructor(e,i,r,s){this.authService=e,this.toast=i,this.router=r,this.fb=s,this.loginForm=this.fb.group({email:["",la.required],password:["",la.required],rememberMe:[!1]}),this.emailInvalid=!1,this.passwordInvalid=!1,this.hide=!1}ngOnInit(){const e=this.authService.getSavedCredentials();e&&this.loginForm.patchValue({email:e.email,password:e.password,rememberMe:!0})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:e,password:i,rememberMe:r}=this.loginForm.value;this.emailInvalid=this.loginForm.get("email").invalid,this.passwordInvalid=this.loginForm.get("password").invalid,this.loginForm.valid&&e&&i&&this.authService.login(e,i).pipe(this.toast.observe({success:"Sikeres bejelentkez\xe9s",loading:"Bejelentkez\xe9s...",error:"Hib\xe1s E-mail vagy jelsz\xf3!"})).subscribe(()=>{r?this.authService.saveCredentials(e,i):this.authService.clearSavedCredentials(),this.router.navigate(["/user/profile"])})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(_y),o.Y36(Ga),o.Y36(ms),o.Y36(kS))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:35,vars:7,consts:[[1,"form-container"],[1,"title"],[1,"form",3,"formGroup","ngSubmit"],[1,"inputGroup",3,"ngClass"],["type","text","required","","formControlName","email"],["for","text"],["type","password","formControlName","password","required",""],[1,"checkbox"],["type","checkbox","formControlName","rememberMe"],[1,"form-btn"],[1,"sign-up-label"],["routerLink","/user/sign-up",1,"sign-up-link"],[1,"buttons-container"],[1,"apple-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","viewBox","0 0 1024 1024","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"apple-icon"],["d","M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"],[1,"login-with-g-a"],[1,"google-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","version","1.1","x","0px","y","0px","viewBox","0 0 48 48","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"google-icon"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\n            c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\n            c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\n            C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\n            c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\n            c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Jelentkezzen be!"),o.qZA(),o.TgZ(3,"form",2),o.NdJ("ngSubmit",function(){return r.submit()}),o.TgZ(4,"div",3),o._UZ(5,"input",4),o.TgZ(6,"label",5),o._uU(7,"E-mail c\xedm"),o.qZA()(),o.TgZ(8,"div",3),o._UZ(9,"input",6),o.TgZ(10,"label",5),o._uU(11,"Jelsz\xf3"),o.qZA()(),o.TgZ(12,"div",7)(13,"mat-checkbox",8),o._uU(14,"Eml\xe9kezz r\xe1m"),o.qZA()(),o.TgZ(15,"button",9),o._uU(16,"Bejelentkez\xe9s"),o.qZA()(),o.TgZ(17,"p",10),o._uU(18," M\xe9g nincs fi\xf3kja?"),o.TgZ(19,"span",11),o._uU(20,"Regisztr\xe1ljon!"),o.qZA()(),o.TgZ(21,"div",12)(22,"div",13),o.O4$(),o.TgZ(23,"svg",14),o._UZ(24,"path",15),o.qZA(),o.kcU(),o.TgZ(25,"span",16),o._uU(26,"Bejelentkez\xe9s Apple fi\xf3kkal"),o.qZA()(),o.TgZ(27,"div",17),o.O4$(),o.TgZ(28,"svg",18),o._UZ(29,"path",19)(30,"path",20)(31,"path",21)(32,"path",22),o.qZA(),o.kcU(),o.TgZ(33,"span",16),o._uU(34,"Bejelentkez\xe9s Google fi\xf3kkal"),o.qZA()()()()),2&i&&(o.xp6(3),o.Q6J("formGroup",r.loginForm),o.xp6(1),o.Q6J("ngClass",o.VKq(3,RV,r.emailInvalid)),o.xp6(4),o.Q6J("ngClass",o.VKq(5,RV,r.passwordInvalid)))},dependencies:[Cr,bu,N1,dy,hy,O1,DS,ym,sC,Z1],styles:[".mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-checkbox[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:500px;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px;position:relative}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#061e29}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.page-link[_ngcontent-%COMP%]{text-decoration:underline;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{cursor:pointer;font-size:9px;font-weight:700}.page-link-label[_ngcontent-%COMP%]:hover{color:#000}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#1C202B;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:11px;text-decoration:underline;text-decoration-color:#1c202b;color:#1c202b;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.apple-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;cursor:not-allowed;display:flex;justify-content:center;align-items:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:11px;gap:5px;-webkit-user-select:none;user-select:none;opacity:.3}.apple-login-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:2px solid #000}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}@media screen and (max-width: 550px){.form-container[_ngcontent-%COMP%]{max-width:550px;height:500px;padding:15px 7px;margin-top:35px}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 30px;font-size:22px}.form-container[_ngcontent-%COMP%]   .apple-login-button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .google-login-button[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width: 550px){.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}}.inputGroup[_ngcontent-%COMP%]{margin:1em 0 0;max-width:100%;position:relative}.inputGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;width:100%}.inputGroup.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:red}.inputGroup.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.inputGroup.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#646464}.inputGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:100%;position:absolute;left:0;padding:.8em;margin-left:.5em;pointer-events:none;transition:all .3s ease;color:#646464}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.9);margin:0 0 0 1.3em;padding:.4em;background-color:#fff}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid){border-color:#1c202b}"]})}return n})(),JN=(()=>{class n{constructor(){this.first=!0}getCallingCodes(){let e=["+36","+33","+44","+43","+32","+420","+372","+30","+39","+45","+352","+358"];return e.sort((i,r)=>"+36"===i?-1:"+36"===r?1:i.localeCompare(r)),e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$1=(()=>{class n{get currentUserProfile$(){return this.authService.currentUser$.pipe((0,Bo.w)(e=>{if(!e?.uid)return(0,_n.of)(null);const i=HT(this.firestore,"*users",e?.uid);return $Z(i)}))}constructor(e,i){this.firestore=e,this.authService=i}addUser(e){const i=HT(this.firestore,"*users",e?.uid);return(0,Ar.D)($U(i,e))}addGuest(e){const i=HT(this.firestore,"*guests",e?.uid);return(0,Ar.D)($U(i,e))}updateUser(e){const i=HT(this.firestore,"*users",e?.uid);return(0,Ar.D)(YZ(i,{...e}))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Nl),o.LFG(_y))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XN=Q(3020);class eF{}class bm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof bm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new bm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(m=>-1===s.indexOf(m)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class PJ{encodeKey(t){return FV(t)}encodeValue(t){return FV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const TJ=/%(\d[a-f0-9])/gi,SJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FV(n){return encodeURIComponent(n).replace(TJ,(t,e)=>SJ[e]??t)}function QS(n){return`${n}`}class Wg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new PJ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function IJ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,m]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],v=e.get(l)||[];v.push(m),e.set(l,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(QS):[QS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(QS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(QS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class DJ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function LV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function UV(n){return typeof Blob<"u"&&n instanceof Blob}function VV(n){return typeof FormData<"u"&&n instanceof FormData}class G1{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function AJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bm),this.context||(this.context=new DJ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+l}}else this.params=new Wg,this.urlWithParams=e}serializeBody(){return null===this.body?null:LV(this.body)||UV(this.body)||VV(this.body)||function kJ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VV(this.body)?null:UV(this.body)?this.body.type||null:LV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,x=t.params||this.params;const S=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((L,Z)=>L.set(Z,t.setHeaders[Z]),v)),t.setParams&&(x=Object.keys(t.setParams).reduce((L,Z)=>L.set(Z,t.setParams[Z]),x)),new G1(e,i,s,{params:x,headers:v,context:S,reportProgress:m,responseType:r,withCredentials:l})}}var nF=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(nF||{});class RJ{constructor(t,e=200,i="OK"){this.headers=t.headers||new bm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class W1 extends RJ{constructor(t={}){super(t),this.type=nF.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new W1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function iF(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rF=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof G1)s=e;else{let v,x;v=r.headers instanceof bm?r.headers:new bm(r.headers),r.params&&(x=r.params instanceof Wg?r.params:new Wg({fromObject:r.params})),s=new G1(e,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:x,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,_n.of)(s).pipe(ay(v=>this.handler.handle(v)));if(e instanceof G1||"events"===r.observe)return l;const m=l.pipe(Xi(v=>v instanceof W1));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe((0,mn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,mn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,mn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,mn.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Wg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,iF(r,i))}post(e,i,r={}){return this.request("POST",e,iF(r,i))}put(e,i,r={}){return this.request("PUT",e,iF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(eF))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const eX=["*"];let eD;function Y1(n){return function tX(){if(void 0===eD&&(eD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(eD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return eD}()?.createHTML(n)||n}function YV(n){return Error(`Unable to find icon with the name "${n}"`)}function KV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function QV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class yy{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let tD=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new yy(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const l=this._sanitizer.sanitize(o.q3G.HTML,r);if(!l)throw QV(r);const m=Y1(l);return this._addSvgIconConfig(e,i,new yy("",m,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new yy(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw QV(i);const l=Y1(s);return this._addSvgIconSetConfig(e,new yy("",l,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw KV(e);const r=this._cachedIconsByUrl.get(i);return r?(0,_n.of)(nD(r)):this._loadSvgIconFromConfig(new yy(e,null)).pipe((0,nr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,mn.U)(s=>nD(s)))}getNamedSvgIcon(e,i=""){const r=JV(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):Gb(YV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,_n.of)(nD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,mn.U)(i=>nD(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,_n.of)(r):V6(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(zg(m=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,l.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(x)),(0,_n.of)(null)})))).pipe((0,mn.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw YV(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(l,e,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,nr.b)(i=>e.svgText=i),(0,mn.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,_n.of)(null):this._fetchIcon(e).pipe((0,nr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const m=this._svgElementFromString(Y1("<svg></svg>"));return m.appendChild(l),this._setSvgAttributes(m,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Y1("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:l,value:m}=r[s];"id"!==l&&i.setAttribute(l,m)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function nX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!l)throw KV(i);const m=this._inProgressUrlFetches.get(l);if(m)return m;const v=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,mn.U)(x=>Y1(x)),XT(()=>this._inProgressUrlFetches.delete(l)),(0,XN.B)());return this._inProgressUrlFetches.set(l,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(JV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return rX(s)?new yy(s.url,null,s.options):new yy(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(rF,8),o.LFG(io),o.LFG(Ae,8),o.LFG(o.qLn))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nD(n){return n.cloneNode(!0)}function JV(n,t){return n+":"+t}function rX(n){return!(!n.url||!n.options)}const oX=z1(class{constructor(n){this._elementRef=n}}),sX=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),aX=new o.OlP("mat-icon-location",{providedIn:"root",factory:function cX(){const n=(0,o.f3M)(Ae),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lX=XV.map(n=>`[${n}]`).join(", "),uX=/^url\(['"]?#(.*?)['"]?\)$/;let sF=(()=>{class n extends oX{get inline(){return this._inline}set inline(e){this._inline=kr(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,l,m){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ic.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(lX),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)XV.forEach(l=>{const m=i[s],v=m.getAttribute(l),x=v?v.match(uX):null;if(x){let S=r.get(m);S||(S=[],r.set(m,S)),S.push({name:l,value:x[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(tc(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(tD),o.$8M("aria-hidden"),o.Y36(aX),o.Y36(o.qLn),o.Y36(sX,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(o.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),o.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:eX,decls:1,vars:0,template:function(i,r){1&i&&(o.F$t(),o.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),eB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts,ts]})}return n})();const tB=cC({passive:!0});let dX=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return $f.E;const i=Gg(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Fn.x,l="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,tB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",m,tB)}}),s}stopMonitoring(e){const i=Gg(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(rc),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();var zh=Q(3019),fX=Q(4552);class pX extends Fn.x{constructor(t=1/0,e=1/0,i=fX.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;e||(i.push(t),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!t.closed;l+=i?1:2)t.next(s[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=e.now();let m=0;for(let v=1;v<i.length&&i[v]<=l;v+=2)m=v;m&&i.splice(0,m+1)}}}function aF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,XN.B)({connector:()=>new pX(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class mX{constructor(t){this._box=t,this._destroyed=new Fn.x,this._resizeSubject=new Fn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new cr.y(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Xi(e=>e.some(i=>i.target===t)),aF({bufferSize:1,refCount:!0}),nc(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let gX=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,o.f3M)(o.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new mX(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _X=["notch"],vX=["matFormFieldNotchedOutline",""],yX=["*"],bX=["textField"],CX=["iconPrefixContainer"],wX=["textPrefixContainer"];function xX(n,t){1&n&&o._UZ(0,"span",19)}function MX(n,t){if(1&n&&(o.TgZ(0,"label",17),o.Hsn(1,1),o.YNc(2,xX,1,0,"span",18),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),o.uIk("for",e._control.id),o.xp6(2),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function EX(n,t){if(1&n&&o.YNc(0,MX,3,5,"label",16),2&n){const e=o.oxw();o.Q6J("ngIf",e._hasFloatingLabel())}}function OX(n,t){1&n&&o._UZ(0,"div",20)}function PX(n,t){}function IX(n,t){if(1&n&&o.YNc(0,PX,0,0,"ng-template",22),2&n){o.oxw(2);const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function TX(n,t){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,IX,1,1,"ng-template",9),o.qZA()),2&n){const e=o.oxw();o.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),o.xp6(1),o.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function SX(n,t){1&n&&(o.TgZ(0,"div",23,24),o.Hsn(2,2),o.qZA())}function DX(n,t){1&n&&(o.TgZ(0,"div",25,26),o.Hsn(2,3),o.qZA())}function AX(n,t){}function kX(n,t){if(1&n&&o.YNc(0,AX,0,0,"ng-template",22),2&n){o.oxw();const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function RX(n,t){1&n&&(o.TgZ(0,"div",27),o.Hsn(1,4),o.qZA())}function NX(n,t){1&n&&(o.TgZ(0,"div",28),o.Hsn(1,5),o.qZA())}function FX(n,t){1&n&&o._UZ(0,"div",29)}function LX(n,t){if(1&n&&(o.TgZ(0,"div",30),o.Hsn(1,6),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function UX(n,t){if(1&n&&(o.TgZ(0,"mat-hint",34),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function VX(n,t){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,UX,2,2,"mat-hint",32),o.Hsn(2,7),o._UZ(3,"div",33),o.Hsn(4,8),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const BX=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zX=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let K1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]})}return n})(),jX=0;const nB=new o.OlP("MatError");let iB=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+jX++,e||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(o.$8M("aria-live"),o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&o.Ikx("id",r.id)},inputs:{id:"id"},features:[o._Bn([{provide:nB,useExisting:n}])]})}return n})(),HX=0,rB=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+HX++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(o.Ikx("id",r.id),o.uIk("align",null),o.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const qX=new o.OlP("MatPrefix"),oB=new o.OlP("MatSuffix");let ZX=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[o._Bn([{provide:oB,useExisting:n}])]})}return n})();const sB=new o.OlP("FloatingLabelParent");let aB=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,o.f3M)(gX),this._ngZone=(0,o.f3M)(o.R0b),this._parent=(0,o.f3M)(sB),this._resizeSubscription=new Ic.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function $X(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&o.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const cB="mdc-line-ripple--active",iD="mdc-line-ripple--deactivating";let lB=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(iD);"opacity"===r.propertyName&&l&&s.remove(cB,iD)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(iD),e.add(cB)}deactivate(){this._elementRef.nativeElement.classList.add(iD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),uB=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&o.Gf(_X,5),2&i){let s;o.iGM(s=o.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&o.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:vX,ngContentSelectors:yX,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1,2),o.Hsn(3),o.qZA(),o._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const GX={transitionMessages:Qo("transitionMessages",[No("enter",Vn({opacity:1,transform:"translateY(0%)"})),pr("void => enter",[Vn({opacity:0,transform:"translateY(-5px)"}),si("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let cF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n})}return n})();const lF=new o.OlP("MatFormField"),WX=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let dB=0,uF=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=kr(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,l,m,v,x){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=m,this._animationMode=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+dB++,this._hintLabelId="mat-mdc-hint-"+dB++,this._subscriptAnimationState="",this._destroyed=new Fn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,m&&(m.appearance&&(this.appearance=m.appearance),this._hideRequiredMarker=!!m?.hideRequiredMarker,m.color&&(this.color=m.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(nc(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,zh.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nc(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(nc(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(V1),o.Y36(rc),o.Y36(WX,8),o.Y36(o.QbO,8),o.Y36(Ae))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(o.Suo(s,K1,5),o.Suo(s,K1,7),o.Suo(s,cF,5),o.Suo(s,qX,5),o.Suo(s,oB,5),o.Suo(s,nB,5),o.Suo(s,rB,5)),2&i){let l;o.iGM(l=o.CRH())&&(r._labelChildNonStatic=l.first),o.iGM(l=o.CRH())&&(r._labelChildStatic=l.first),o.iGM(l=o.CRH())&&(r._formFieldControl=l.first),o.iGM(l=o.CRH())&&(r._prefixChildren=l),o.iGM(l=o.CRH())&&(r._suffixChildren=l),o.iGM(l=o.CRH())&&(r._errorChildren=l),o.iGM(l=o.CRH())&&(r._hintChildren=l)}},viewQuery:function(i,r){if(1&i&&(o.Gf(bX,5),o.Gf(CX,5),o.Gf(wX,5),o.Gf(aB,5),o.Gf(uB,5),o.Gf(lB,5)),2&i){let s;o.iGM(s=o.CRH())&&(r._textField=s.first),o.iGM(s=o.CRH())&&(r._iconPrefixContainer=s.first),o.iGM(s=o.CRH())&&(r._textPrefixContainer=s.first),o.iGM(s=o.CRH())&&(r._floatingLabel=s.first),o.iGM(s=o.CRH())&&(r._notchedOutline=s.first),o.iGM(s=o.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&o.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:lF,useExisting:n},{provide:sB,useExisting:n}])],ngContentSelectors:zX,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(o.F$t(BX),o.YNc(0,EX,1,1,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1,2),o.NdJ("click",function(l){return r._control.onContainerClick(l)}),o.YNc(4,OX,1,0,"div",3),o.TgZ(5,"div",4),o.YNc(6,TX,2,2,"div",5),o.YNc(7,SX,3,0,"div",6),o.YNc(8,DX,3,0,"div",7),o.TgZ(9,"div",8),o.YNc(10,kX,1,1,"ng-template",9),o.Hsn(11),o.qZA(),o.YNc(12,RX,2,0,"div",10),o.YNc(13,NX,2,0,"div",11),o.qZA(),o.YNc(14,FX,1,0,"div",12),o.qZA(),o.TgZ(15,"div",13),o.YNc(16,LX,2,1,"div",14),o.YNc(17,VX,5,2,"div",15),o.qZA()),2&i&&(o.xp6(2),o.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),o.xp6(2),o.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),o.xp6(2),o.Q6J("ngIf",r._hasOutline()),o.xp6(1),o.Q6J("ngIf",r._hasIconPrefix),o.xp6(1),o.Q6J("ngIf",r._hasTextPrefix),o.xp6(2),o.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),o.xp6(2),o.Q6J("ngIf",r._hasTextSuffix),o.xp6(1),o.Q6J("ngIf",r._hasIconSuffix),o.xp6(1),o.Q6J("ngIf",!r._hasOutline()),o.xp6(1),o.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),o.Q6J("ngSwitch",r._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Hn,ha,Ps,Fa,rB,aB,uB,lB],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[GX.transitionMessages]},changeDetection:0})}return n})(),pC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts,vi,Y4,ts]})}return n})();const QX=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),JX=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let XX=0;const eee=dV(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Fn.x}});let dF=(()=>{class n extends eee{get disabled(){return this._disabled}set disabled(e){this._disabled=kr(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(la.required)??!1}set required(e){this._required=kr(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&H4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=kr(e)}constructor(e,i,r,s,l,m,v,x,S,L){super(m,s,l,r),this._elementRef=e,this._platform=i,this._autofillMonitor=x,this._formField=L,this._uid="mat-input-"+XX++,this.focused=!1,this.stateChanges=new Fn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ae=>H4().has(ae)),this._iOSKeyupListener=ae=>{const ve=ae.target;!ve.value&&0===ve.selectionStart&&0===ve.selectionEnd&&(ve.setSelectionRange(1,1),ve.setSelectionRange(0,0))};const Z=this._elementRef.nativeElement,te=Z.nodeName.toLowerCase();this._inputValueAccessor=v||Z,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&S.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===te,this._isTextarea="textarea"===te,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=Z.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){JX.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(rc),o.Y36(Qf,10),o.Y36(k1,8),o.Y36(ym,8),o.Y36(hV),o.Y36(QX,10),o.Y36(dX),o.Y36(o.R0b),o.Y36(lF,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&o.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(o.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),o.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),o.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:cF,useExisting:n}]),o.qOj,o.TTD]})}return n})(),pB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts,pC,pC,hX,ts]})}return n})();var tee=Q(4266);const nee=["addListener","removeListener"],iee=["addEventListener","removeEventListener"],ree=["on","off"];function hF(n,t,e,i){if((0,$d.m)(e)&&(i=e,e=void 0),i)return hF(n,t,e).pipe(Z2(i));const[r,s]=function aee(n){return(0,$d.m)(n.addEventListener)&&(0,$d.m)(n.removeEventListener)}(n)?iee.map(l=>m=>n[l](t,m,e)):function oee(n){return(0,$d.m)(n.addListener)&&(0,$d.m)(n.removeListener)}(n)?nee.map(mB(n,t)):function see(n){return(0,$d.m)(n.on)&&(0,$d.m)(n.off)}(n)?ree.map(mB(n,t)):[];if(!r&&(0,tee.z)(n))return(0,Ra.z)(l=>hF(l,t,e))((0,Ro.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new cr.y(l=>{const m=(...v)=>l.next(1<v.length?v:v[0]);return r(m),()=>s(m)})}function mB(n,t){return e=>i=>n[e](t,i)}var gB=Q(1954);const Q1={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Q1;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ic.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Q1;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Q1;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var _B=Q(2631);new class lee extends _B.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class cee extends gB.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Q1.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Q1.cancelAnimationFrame(e),t._scheduled=void 0)}});let fF,dee=1;const rD={};function vB(n){return n in rD&&(delete rD[n],!0)}const hee={setImmediate(n){const t=dee++;return rD[t]=!0,fF||(fF=Promise.resolve()),fF.then(()=>vB(t)&&n()),t},clearImmediate(n){vB(n)}},{setImmediate:fee,clearImmediate:pee}=hee,oD={setImmediate(...n){const{delegate:t}=oD;return(t?.setImmediate||fee)(...n)},clearImmediate(n){const{delegate:t}=oD;return(t?.clearImmediate||pee)(n)},delegate:void 0},pF=new class gee extends _B.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class mee extends gB.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=oD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(oD.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var vee=Q(671);function yB(n=0,t,e=uC.P){let i=-1;return null!=t&&((0,vee.K)(t)?e=t:i=t),new cr.y(r=>{let s=function yee(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function bB(n,t=uC.z){return function _ee(n){return(0,Tr.e)((t,e)=>{let i=!1,r=null,s=null,l=!1;const m=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const x=r;r=null,e.next(x)}l&&e.complete()},v=()=>{s=null,l&&e.complete()};t.subscribe((0,li.x)(e,x=>{i=!0,r=x,s||(0,Ro.Xf)(n(x)).subscribe(s=(0,li.x)(e,m,v))},()=>{l=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>yB(n,t))}let Cee=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Fn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new cr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(bB(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Xi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Gg(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.R0b),o.LFG(rc),o.LFG(Ae,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mF=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Fn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(bB(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(rc),o.LFG(o.R0b),o.LFG(Ae,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})(),CB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[B1,sD,B1,sD]})}return n})();class gF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Mee extends gF{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class _F extends gF{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Eee extends gF{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class Oee{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Mee?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof _F?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Eee?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Pee extends Oee{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const m=l.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=l,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Iee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const wB=TK();class Tee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ua(-this._previousScrollPosition.left),t.style.top=ua(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),wB&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wB&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class See{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Xi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xB{enable(){}disable(){}attach(){}}function vF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function MB(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Dee{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();vF(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Aee=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new xB,this.close=l=>new See(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Tee(this._viewportRuler,this._document),this.reposition=l=>new Dee(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Cee),o.LFG(mF),o.LFG(o.R0b),o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yF{constructor(t){if(this.scrollStrategy=new xB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class kee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let EB=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ree=(()=>{class n extends EB{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const m=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae),o.LFG(o.R0b,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nee=(()=>{class n extends EB{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=$g(s)},this._clickListener=s=>{const l=$g(s),m="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let x=v.length-1;x>-1;x--){const S=v[x];if(S._outsidePointerEvents.observers.length<1||!S.hasAttached())continue;if(S.overlayElement.contains(l)||S.overlayElement.contains(m))break;const L=S._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>L.next(s)):L.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae),o.LFG(rc),o.LFG(o.R0b,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OB=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||jN()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),jN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ae),o.LFG(rc))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Fee{constructor(t,e,i,r,s,l,m,v,x,S=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=m,this._location=v,this._outsideClickDispatcher=x,this._animationsDisabled=S,this._backdropElement=null,this._backdropClick=new Fn.x,this._attachments=new Fn.x,this._detachments=new Fn.x,this._locationChanges=Ic.w0.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._backdropTransitionendHandler=L=>{this._disposeBackdrop(L.target)},this._keydownEvents=new Fn.x,this._outsidePointerEvents=new Fn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tc(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ua(this._config.width),t.height=ua(this._config.height),t.minWidth=ua(this._config.minWidth),t.minHeight=ua(this._config.minHeight),t.maxWidth=ua(this._config.maxWidth),t.maxHeight=ua(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=jS(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(nc((0,zh.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const PB="cdk-overlay-connected-position-bounding-box",Lee=/([A-Za-z%]+)$/;class Uee{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Fn.x,this._resizeSubscription=Ic.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(PB),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let m of this._preferredPositions){let v=this._getOriginPoint(t,r,m),x=this._getOverlayPoint(v,e,m),S=this._getOverlayFit(x,e,i,m);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(S,x,i)?s.push({position:m,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!l||l.overlayFit.visibleArea<S.visibleArea)&&(l={overlayFit:S,overlayPoint:x,originPoint:v,position:m,overlayRect:e})}if(s.length){let m=null,v=-1;for(const x of s){const S=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);S>v&&(v=S,m=x)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&by(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;r="start"==i.originX?l:m}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=TB(e);let{x:l,y:m}=t,v=this._getOffset(r,"x"),x=this._getOffset(r,"y");v&&(l+=v),x&&(m+=x);let Z=0-m,te=m+s.height-i.height,ae=this._subtractOverflows(s.width,0-l,l+s.width-i.width),ve=this._subtractOverflows(s.height,Z,te),Be=ae*ve;return{visibleArea:Be,isCompletelyWithinViewport:s.width*s.height===Be,fitsInViewportVertically:ve===s.height,fitsInViewportHorizontally:ae==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,l=IB(this._overlayRef.getConfig().minHeight),m=IB(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=m&&m<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=TB(e),s=this._viewportRect,l=Math.max(t.x+r.width-s.width,0),m=Math.max(t.y+r.height-s.height,0),v=Math.max(s.top-i.top-t.y,0),x=Math.max(s.left-i.left-t.x,0);let S=0,L=0;return S=r.width<=s.width?x||-l:t.x<this._viewportMargin?s.left-i.left-t.x:0,L=r.height<=s.height?v||-m:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:S,y:L},{x:t.x+S,y:t.y+L}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new kee(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,l,m,S,L,Z;if("top"===e.overlayY)l=t.y,s=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-t.y+2*this._viewportMargin,s=i.height-m+this._viewportMargin;else{const te=Math.min(i.bottom-t.y+i.top,t.y),ae=this._lastBoundingBoxSize.height;s=2*te,l=t.y-te,s>ae&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-ae/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)Z=i.width-t.x+this._viewportMargin,S=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)L=t.x,S=i.right-t.x;else{const te=Math.min(i.right-t.x+i.left,t.x),ae=this._lastBoundingBoxSize.width;S=2*te,L=t.x-te,S>ae&&!this._isInitialRender&&!this._growAfterOpen&&(L=t.x-ae/2)}return{top:l,left:L,bottom:m,right:Z,width:S,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=ua(i.height),r.top=ua(i.top),r.bottom=ua(i.bottom),r.width=ua(i.width),r.left=ua(i.left),r.right=ua(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ua(s)),l&&(r.maxWidth=ua(l))}this._lastBoundingBoxSize=i,by(this._boundingBox.style,r)}_resetBoundingBoxStyles(){by(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){by(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const S=this._viewportRuler.getViewportScrollPosition();by(i,this._getExactOverlayY(e,t,S)),by(i,this._getExactOverlayX(e,t,S))}else i.position="static";let m="",v=this._getOffset(e,"x"),x=this._getOffset(e,"y");v&&(m+=`translateX(${v}px) `),x&&(m+=`translateY(${x}px)`),i.transform=m.trim(),l.maxHeight&&(r?i.maxHeight=ua(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=ua(l.maxWidth):s&&(i.maxWidth="")),by(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ua(s.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ua(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MB(t,i),isOriginOutsideView:vF(t,i),isOverlayClipped:MB(e,i),isOverlayOutsideView:vF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&jS(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function by(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function IB(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Lee);return e&&"px"!==e?null:parseFloat(t)}return n||null}function TB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const SB="cdk-global-overlay-wrapper";class Vee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(SB),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:m}=i,v=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),x=!("100%"!==s&&"100vh"!==s||m&&"100%"!==m&&"100vh"!==m),S=this._xPosition,L=this._xOffset,Z="rtl"===this._overlayRef.getConfig().direction;let te="",ae="",ve="";v?ve="flex-start":"center"===S?(ve="center",Z?ae=L:te=L):Z?"left"===S||"end"===S?(ve="flex-end",te=L):("right"===S||"start"===S)&&(ve="flex-start",ae=L):"left"===S||"start"===S?(ve="flex-start",te=L):("right"===S||"end"===S)&&(ve="flex-end",ae=L),t.position=this._cssPosition,t.marginLeft=v?"0":te,t.marginTop=x?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=v?"0":ae,e.justifyContent=ve,e.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(SB),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Bee=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Vee}flexibleConnectedTo(e){return new Uee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(mF),o.LFG(Ae),o.LFG(rc),o.LFG(OB))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zee=0,mC=(()=>{class n{constructor(e,i,r,s,l,m,v,x,S,L,Z,te){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=m,this._ngZone=v,this._document=x,this._directionality=S,this._location=L,this._outsideClickDispatcher=Z,this._animationsModuleType=te}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new yF(e);return l.direction=l.direction||this._directionality.value,new Fee(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+zee++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new Pee(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Aee),o.LFG(OB),o.LFG(o._Vd),o.LFG(Bee),o.LFG(Ree),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Ae),o.LFG(V1),o.LFG(mt),o.LFG(Nee),o.LFG(o.QbO,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],DB=new o.OlP("cdk-connected-overlay-scroll-strategy");let bF=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),AB=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=kr(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=kr(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=kr(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=kr(e)}get push(){return this._push}set push(e){this._push=kr(e)}constructor(e,i,r,s,l){this._overlay=e,this._dir=l,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ic.w0.EMPTY,this._attachSubscription=Ic.w0.EMPTY,this._detachSubscription=Ic.w0.EMPTY,this._positionSubscription=Ic.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new _F(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=jee);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!lC(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new yF({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function xee(n,t=!1){return(0,Tr.e)((e,i)=>{let r=0;e.subscribe((0,li.x)(i,s=>{const l=n(s,r++);(l||t)&&i.next(s),!l&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(mC),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(DB),o.Y36(V1,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[o.TTD]})}return n})();const qee={provide:DB,deps:[mC],useFactory:function Hee(n){return()=>n.scrollStrategies.reposition()}};let kB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[mC,qee],imports:[B1,Iee,CB,CB]})}return n})();class Zee{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Fn.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const $ee=["trigger"],Gee=["panel"];function Wee(n,t){if(1&n&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function Yee(n,t){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function Kee(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function Qee(n,t){if(1&n&&(o.TgZ(0,"span",11),o.YNc(1,Yee,2,1,"span",12),o.YNc(2,Kee,1,0,"ng-content",13),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Jee(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"div",15,16),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(2,1),o.qZA()}if(2&n){const e=o.oxw();o.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),o.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Xee=[[["mat-select-trigger"]],"*"],ete=["mat-select-trigger","*"],tte={transformPanelWrap:Qo("transformPanelWrap",[pr("* => void",D("@transformPanel",[Ea()],{optional:!0}))]),transformPanel:Qo("transformPanel",[No("void",Vn({opacity:0,transform:"scale(1, 0.8)"})),pr("void => showing",si("120ms cubic-bezier(0, 0, 0.2, 1)",Vn({opacity:1,transform:"scale(1, 1)"}))),pr("* => void",si("100ms linear",Vn({opacity:0})))])};let RB=0;const NB=new o.OlP("mat-select-scroll-strategy"),ite=new o.OlP("MAT_SELECT_CONFIG"),rte={provide:NB,deps:[mC],useFactory:function nte(n){return()=>n.scrollStrategies.reposition()}},ote=new o.OlP("MatSelectTrigger");class ste{constructor(t,e){this.source=t,this.value=e}}const ate=j1(YN(hC(dV(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Fn.x}}))));let cte=(()=>{class n extends ate{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(la.required)??!1}set required(e){this._required=kr(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=kr(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=kr(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=W4(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,l,m,v,x,S,L,Z,te,ae,ve){super(l,s,v,x,L),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=m,this._parentFormField=S,this._liveAnnouncer=ae,this._defaultOptions=ve,this._panelOpen=!1,this._compareWith=(Be,vt)=>Be===vt,this._uid="mat-select-"+RB++,this._triggerAriaLabelledBy=null,this._destroy=new Fn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+RB++,this._panelDoneAnimatingStream=new Fn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Cc(()=>{const Be=this.options;return Be?Be.changes.pipe(Gf(Be),(0,Bo.w)(()=>(0,zh.T)(...Be.map(vt=>vt.onSelectionChange)))):this._ngZone.onStable.pipe(tc(1),(0,Bo.w)(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(Xi(Be=>Be),(0,mn.U)(()=>{})),this._closedStream=this.openedChange.pipe(Xi(Be=>!Be),(0,mn.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ve?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ve.typeaheadDebounceInterval),this._scrollStrategyFactory=te,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Z)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Zee(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,zS.x)(),nc(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(nc(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Gf(null),nc(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&HN(this._trackedModal,"aria-owns",i),X4(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(HN(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,l=this._keyManager;if(!l.isTyping()&&s&&!lC(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const m=this.selected;l.onKeydown(e);const v=this.selected;v&&m!==v&&this._liveAnnouncer.announce(v.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,l=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(l||13!==r&&32!==r||!i.activeItem||lC(e))if(!l&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const m=this.options.some(v=>!v.disabled&&!v.selected);this.options.forEach(v=>{v.disabled||(m?v.select():v.deselect())})}else{const m=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==m&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(tc(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new JK(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,zh.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(nc(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,zh.T)(...this.options.map(i=>i._stateChanges)).pipe(nc(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(mF),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(hV),o.Y36(o.SBq),o.Y36(V1,8),o.Y36(k1,8),o.Y36(ym,8),o.Y36(lF,8),o.Y36(Qf,10),o.$8M("tabindex"),o.Y36(NB),o.Y36(vQ),o.Y36(ite,8))};static#t=this.\u0275dir=o.lG2({type:n,viewQuery:function(i,r){if(1&i&&(o.Gf($ee,5),o.Gf(Gee,5),o.Gf(AB,5)),2&i){let s;o.iGM(s=o.CRH())&&(r.trigger=s.first),o.iGM(s=o.CRH())&&(r.panel=s.first),o.iGM(s=o.CRH())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]})}return n})(),CF=(()=>{class n extends cte{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(nc(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function HQ(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let l=0;l<n+1;l++)i[l].group&&i[l].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),l=i._getHostElement();r.scrollTop=0===e&&1===s?0:function qQ(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(l.offsetTop,l.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new ste(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof bF?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=kr(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(o.Suo(s,ote,5),o.Suo(s,WS,5),o.Suo(s,bV,5)),2&i){let l;o.iGM(l=o.CRH())&&(r.customTrigger=l.first),o.iGM(l=o.CRH())&&(r.options=l),o.iGM(l=o.CRH())&&(r.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&o.NdJ("keydown",function(l){return r._handleKeydown(l)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(o.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),o.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[o._Bn([{provide:cF,useExisting:n},{provide:yV,useExisting:n}]),o.qOj],ngContentSelectors:ete,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(o.F$t(Xee),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return r.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Wee,2,1,"span",3),o.YNc(5,Qee,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()()()(),o.YNc(10,Jee,3,9,"ng-template",9),o.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const s=o.MAs(1);o.xp6(3),o.Q6J("ngSwitch",r.empty),o.uIk("id",r._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(5),o.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Cr,Ps,Fa,xu,AB,bF],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[tte.transformPanel]},changeDetection:0})}return n})(),FB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[rte],imports:[vi,kB,CV,ts,sD,pC,CV,ts]})}return n})();function lte(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a vezet\xe9knev\xe9t! "),o.qZA())}function ute(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Keresztnev\xe9t! "),o.qZA())}function dte(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),o.qZA())}function hte(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg az E-mail c\xedm\xe9t! "),o.qZA())}const fte=function(n){return{"bold-text":n}};function pte(n,t){if(1&n&&(o.TgZ(0,"mat-option",27),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.Q6J("value",e)("ngClass",o.VKq(3,fte,i.callingCodeService.first)),o.xp6(1),o.hij("",e," ")}}function mte(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," V\xe1lasszon! "),o.qZA())}function gte(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),o.qZA())}function _te(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),o.qZA())}function vte(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adjon meg egy er\u0151s jelsz\xf3t! "),o.qZA())}function yte(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg m\xe9gegyszer! "),o.qZA())}function bte(n,t){1&n&&(o.TgZ(0,"mat-error",28),o._uU(1," A jelsz\xf3nak egyeznie kell! "),o.qZA())}let wte=(()=>{class n{constructor(e,i,r,s,l,m){this.callingCodeService=e,this.authService=i,this.fb=r,this.router=s,this.toast=l,this.usersService=m,this.signUpForm=this.fb.group({firstName:["",la.required],lastName:["",la.required],email:["",[la.required,la.email]],callingCode:["",la.required],phone:["",la.required],address:["",la.required],password:["",la.required],confirmPassword:["",la.required]},{validators:n=>{const t=n.get("password")?.value,e=n.get("confirmPassword")?.value;return t&&e&&t!==e?{passwordsDontMatch:!0}:null}}),this.hide=!0,this.termsChecked=!1,this.callingCodes=[]}termsCheck(e){e.target!==e.currentTarget&&(e.stopPropagation(),this.termsChecked=!this.termsChecked)}ngOnInit(){this.callingCodes=this.callingCodeService.getCallingCodes()}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get address(){return this.signUpForm.get("address")}get firstName(){return this.signUpForm.get("firstName")}get lastName(){return this.signUpForm.get("lastName")}get callingCode(){return this.signUpForm.get("callingCode")}get phone(){return this.signUpForm.get("phone")}submit(){const{lastName:e,firstName:i,address:r,callingCode:s,phone:l,email:m,password:v}=this.signUpForm.value;!this.signUpForm.valid||!i||!i||!v||!m||!r||!s||!l||0==this.termsChecked||this.authService.signUp(m,v).pipe((0,Bo.w)(({user:{uid:x}})=>this.usersService.addUser({uid:x,email:m,lastName:e,firstName:i,address:r,callingCode:s,phone:l,displayName:e})),this.toast.observe({success:"Sikeres regisztr\xe1ci\xf3!",loading:"Bejelentkez\xe9s",error:({message:x})=>`${x}`})).subscribe(()=>{this.router.navigate(["/user"])})}limitDigits(e){const i=e.target.value;i.length>12&&(e.target.value=i.slice(0,12))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(JN),o.Y36(_y),o.Y36(kS),o.Y36(ms),o.Y36(Ga),o.Y36($1))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:69,vars:18,consts:[[1,"form-container"],[1,"title"],[1,"reg-form",3,"formGroup","ngSubmit"],[1,"row"],["maxlength","14","matInput","","formControlName","lastName"],[4,"ngIf"],["maxlength","14","matInput","","formControlName","firstName"],["matInput","","formControlName","email"],[1,"row-sec"],[1,"row-in"],[1,"scrollable-container"],["matNativeControl","","formControlName","callingCode"],[3,"value","ngClass",4,"ngFor","ngForOf"],[1,"row-out"],["type","number","matInput","","formControlName","phone",3,"input"],["maxlength","50","matInput","","formControlName","address"],["maxlength","16","matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",1,"pw-hide",3,"click"],["maxlength","16","matInput","","formControlName","confirmPassword",3,"type"],["class","pw-must-match",4,"ngIf"],[1,"checkbox-with-text"],[3,"click"],[1,"terms"],[1,"login-container"],["routerLink","/user/login/",1,"login"],[1,"center","margin-top"],["type","submit",1,"form-btn",3,"disabled"],[3,"value","ngClass"],[1,"pw-must-match"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Hozza l\xe9tre fi\xf3kj\xe1t!"),o.qZA(),o.TgZ(3,"form",2),o.NdJ("ngSubmit",function(){return r.submit()}),o.TgZ(4,"div",3)(5,"mat-form-field")(6,"mat-label"),o._uU(7,"Vezet\xe9kn\xe9v"),o.qZA(),o._UZ(8,"input",4),o.YNc(9,lte,2,0,"mat-error",5),o.qZA(),o.TgZ(10,"mat-form-field")(11,"mat-label"),o._uU(12,"Keresztn\xe9v"),o.qZA(),o._UZ(13,"input",6),o.YNc(14,ute,2,0,"mat-error",5),o.qZA()(),o.TgZ(15,"mat-form-field")(16,"mat-label"),o._uU(17,"E-mail c\xedm"),o.qZA(),o._UZ(18,"input",7),o.YNc(19,dte,2,0,"mat-error",5),o.YNc(20,hte,2,0,"mat-error",5),o.qZA(),o.TgZ(21,"div",8)(22,"div",9)(23,"mat-form-field")(24,"mat-label"),o._uU(25,"H\xedv\xf3azonos\xedt\xf3"),o.qZA(),o.TgZ(26,"div",10)(27,"mat-select",11),o.YNc(28,pte,2,5,"mat-option",12),o.qZA()(),o.YNc(29,mte,2,0,"mat-error",5),o.qZA()(),o.TgZ(30,"div",13)(31,"mat-form-field")(32,"mat-label"),o._uU(33,"Telefonsz\xe1m"),o.qZA(),o.TgZ(34,"input",14),o.NdJ("input",function(l){return r.limitDigits(l)}),o.qZA(),o.YNc(35,gte,2,0,"mat-error",5),o.qZA()()(),o.TgZ(36,"mat-form-field")(37,"mat-label"),o._uU(38,"Sz\xe1ll\xedt\xe1si c\xedm"),o.qZA(),o._UZ(39,"input",15),o.YNc(40,_te,2,0,"mat-error",5),o.qZA(),o.TgZ(41,"mat-form-field")(42,"mat-label"),o._uU(43,"Jelsz\xf3 "),o.qZA(),o._UZ(44,"input",16),o.TgZ(45,"div",17),o.NdJ("click",function(){return r.hide=!r.hide}),o.TgZ(46,"mat-icon"),o._uU(47),o.qZA()(),o.YNc(48,vte,2,0,"mat-error",5),o.qZA(),o.TgZ(49,"mat-form-field")(50,"mat-label"),o._uU(51,"Jelsz\xf3 \xfajra"),o.qZA(),o._UZ(52,"input",18),o.YNc(53,yte,2,0,"mat-error",5),o.qZA(),o.YNc(54,bte,2,0,"mat-error",19),o.TgZ(55,"div",20)(56,"mat-checkbox",21),o.NdJ("click",function(l){return r.termsCheck(l)}),o.qZA(),o.TgZ(57,"span"),o._uU(58," Elfogadom az "),o.TgZ(59,"span",22),o._uU(60,"\xc1SZF"),o.qZA(),o._uU(61,"-et "),o.qZA()(),o.TgZ(62,"div",23),o._uU(63,"M\xe1r rendelkezik fi\xf3kkal? "),o.TgZ(64,"div",24),o._uU(65,"Jelentkezzen be! "),o.qZA()(),o.TgZ(66,"div",25)(67,"button",26),o._uU(68,"Regisztr\xe1ci\xf3!"),o.qZA()()()()),2&i&&(o.xp6(3),o.Q6J("formGroup",r.signUpForm),o.xp6(6),o.Q6J("ngIf",null==r.lastName||null==r.lastName.errors?null:r.lastName.errors.required),o.xp6(5),o.Q6J("ngIf",null==r.firstName||null==r.firstName.errors?null:r.firstName.errors.required),o.xp6(5),o.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),o.xp6(1),o.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),o.xp6(8),o.Q6J("ngForOf",r.callingCodes),o.xp6(1),o.Q6J("ngIf",null==r.callingCode||null==r.callingCode.errors?null:r.callingCode.errors.required),o.xp6(6),o.Q6J("ngIf",null==r.phone||null==r.phone.errors?null:r.phone.errors.required),o.xp6(5),o.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.required),o.xp6(4),o.Q6J("type",r.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",r.hide),o.xp6(2),o.hij(" ",r.hide?"visibility_off":"visibility"," "),o.xp6(1),o.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),o.xp6(4),o.Q6J("type",r.hide?"password":"text"),o.xp6(1),o.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),o.xp6(1),o.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch),o.xp6(13),o.Q6J("disabled",0==r.termsChecked))},dependencies:[Cr,Mn,Hn,bu,sF,N1,dy,F1,hy,O1,L1,ym,sC,dF,uF,K1,iB,ZX,Z1,CF,WS],styles:[".mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-checkbox[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:500px;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px;position:relative}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#061e29}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.page-link[_ngcontent-%COMP%]{text-decoration:underline;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{cursor:pointer;font-size:9px;font-weight:700}.page-link-label[_ngcontent-%COMP%]:hover{color:#000}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#1C202B;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:11px;text-decoration:underline;text-decoration-color:#1c202b;color:#1c202b;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.apple-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;cursor:not-allowed;display:flex;justify-content:center;align-items:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:11px;gap:5px;-webkit-user-select:none;user-select:none;opacity:.3}.apple-login-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:2px solid #000}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}@media screen and (max-width: 550px){.form-container[_ngcontent-%COMP%]{max-width:550px;height:500px;padding:15px 7px;margin-top:35px}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 30px;font-size:22px}.form-container[_ngcontent-%COMP%]   .apple-login-button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .google-login-button[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width: 550px){.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}}.inputGroup[_ngcontent-%COMP%]{margin:1em 0 0;max-width:100%;position:relative}.inputGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;width:100%}.inputGroup.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:red}.inputGroup.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.inputGroup.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#646464}.inputGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:100%;position:absolute;left:0;padding:.8em;margin-left:.5em;pointer-events:none;transition:all .3s ease;color:#646464}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.9);margin:0 0 0 1.3em;padding:.4em;background-color:#fff}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid){border-color:#1c202b}",".form-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:800px;position:relative}.title[_ngcontent-%COMP%]{border-bottom:1px solid #747474;padding-bottom:15px}.checkbox-with-text[_ngcontent-%COMP%]{display:flex;align-items:center}.checkbox-with-text[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-top:0;white-space:nowrap;position:relative}.checkbox-with-text[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#1c202b;text-decoration:underline;cursor:pointer}.pw-must-match[_ngcontent-%COMP%]{position:absolute;font-size:12px;margin-left:14px;bottom:19%}.row-sec[_ngcontent-%COMP%]{display:flex;gap:5px}.row-sec[_ngcontent-%COMP%]   .row-in[_ngcontent-%COMP%]{display:flex;width:50%;gap:5px}.row-sec[_ngcontent-%COMP%]   .row-out[_ngcontent-%COMP%]{display:flex;width:50%}.reg-form[_ngcontent-%COMP%]{height:auto;width:100%;display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{color:#1c202b}mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#1c202b;font-size:15px}mat-form-field[_ngcontent-%COMP%]   .pw-hide[_ngcontent-%COMP%]{cursor:pointer}.form-btn[_ngcontent-%COMP%]{width:60%;transition:.3s ease-in-out}.login-container[_ngcontent-%COMP%]{display:flex;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.login-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{color:#1c202b;margin-left:5px;font-size:11px;text-decoration:underline;text-decoration-color:#1c202b;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.form-btn[_ngcontent-%COMP%]:disabled{padding:10px 15px;border-radius:20px;border:0!important;outline:0!important;background:#989898;color:#fff;cursor:pointer;box-shadow:#0000 0 0;transition:.3s ease-in-out}@media screen and (max-width: 650px){.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .row-sec[_ngcontent-%COMP%]{display:block}.form-container[_ngcontent-%COMP%]   .row-sec[_ngcontent-%COMP%]   .row-in[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .row-sec[_ngcontent-%COMP%]   .row-out[_ngcontent-%COMP%]{width:100%}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 20px;font-size:24px}.form-container[_ngcontent-%COMP%]   .pw-must-match[_ngcontent-%COMP%]{position:absolute;font-size:12px;margin-left:14px;bottom:17%}.form-container[_ngcontent-%COMP%]   .form-btn[_ngcontent-%COMP%]{margin-top:10px;top:100%}.form-container[_ngcontent-%COMP%]   .checkbox-with-text[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}.form-container[_ngcontent-%COMP%]   .checkbox-with-text[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-top:0;white-space:nowrap;position:relative}.form-container[_ngcontent-%COMP%]   .checkbox-with-text[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#1c202b;text-decoration:underline;cursor:pointer}}"]})}return n})();const xte=function(){return["/dashboard"]};let Mte=(()=>{class n{constructor(e,i){this.router=e,this.service=i}ngOnInit(){this.service.placedOrder||this.router.navigate(["/dashboard"]),setTimeout(()=>{this.router.navigate(["/dashboard"]),this.service.placedOrder=!1},4e3)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-landing"]],decls:6,vars:2,consts:[[1,"empty-cart"],["src","./assets/images/green-checkmark.png",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"div",2),o._uU(3,"K\xf6sz\xf6nj\xfck a v\xe1s\xe1rl\xe1st!"),o.TgZ(4,"p",3),o._uU(5," Hamarosan \xe1tir\xe1ny\xedtjuk a f\u0151oldalra!"),o.qZA()()()),2&i&&(o.xp6(4),o.Q6J("routerLink",o.DdM(1,xte)))},dependencies:[bu],styles:['.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:90px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;width:400px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:22px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}']})}return n})();const Ete=["mat-button",""],Ote=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Pte=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ite=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Tte=z1(hC(j1(class{constructor(n){this._elementRef=n}})));let Ste=(()=>{class n extends Tte{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=kr(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=kr(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,o.f3M)($S),this._rippleLoader=(0,o.f3M)(ZQ),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const m of Ite)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(v=>{l.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})(),Ate=(()=>{class n extends Ste{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(rc),o.Y36(o.R0b),o.Y36(o.QbO,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(o.uIk("disabled",r.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:Ete,ngContentSelectors:Pte,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(o.F$t(Ote),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)),2&i&&o.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),LB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts,q1,ts]})}return n})();const Rte=["*",[["mat-toolbar-row"]]],Nte=["*","mat-toolbar-row"],Fte=z1(class{constructor(n){this._elementRef=n}});let Lte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),Ute=(()=>{class n extends Fte{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(rc),o.Y36(Ae))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&o.Suo(s,Lte,5),2&i){let l;o.iGM(l=o.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&o.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:Nte,decls:2,vars:0,template:function(i,r){1&i&&(o.F$t(Rte),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),UB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ts,ts]})}return n})();function VB(n,t){return t?e=>l1(t.pipe(tc(1),function Vte(){return(0,Tr.e)((n,t)=>{n.subscribe((0,li.x)(t,Y2.Z))})}()),e.pipe(VB(n))):(0,Ra.z)((e,i)=>(0,Ro.Xf)(n(e,i)).pipe(tc(1),D5(e)))}function BB(n,t=uC.z){const e=yB(n,t);return VB(()=>e)}const Bte=["mat-menu-item",""];function zte(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"polygon",4),o.qZA())}const jte=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Hte=["mat-icon, [matMenuItemIcon]","*"];function qte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))})("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationDone(r))}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Zte=["*"],wF=new o.OlP("MAT_MENU_PANEL"),$te=j1(hC(class{}));let aD=(()=>{class n extends $te{constructor(e,i,r,s,l){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new Fn.x,this._focused=new Fn.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(Ae),o.Y36($S),o.Y36(wF,8),o.Y36(o.sBO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&o.NdJ("click",function(l){return r._checkDisabled(l)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(o.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),o.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:Bte,ngContentSelectors:Hte,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(o.F$t(jte),o.Hsn(0),o.TgZ(1,"span",0),o.Hsn(2,1),o.qZA(),o._UZ(3,"div",1),o.YNc(4,zte,2,0,"svg",2)),2&i&&(o.xp6(3),o.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),o.xp6(1),o.Q6J("ngIf",r._triggersSubmenu))},dependencies:[Hn,fC],encapsulation:2,changeDetection:0})}return n})();const Gte=new o.OlP("MatMenuContent"),cD={transformMenu:Qo("transformMenu",[No("void",Vn({opacity:0,transform:"scale(0.8)"})),pr("void => enter",si("120ms cubic-bezier(0, 0, 0.2, 1)",Vn({opacity:1,transform:"scale(1)"}))),pr("* => void",si("100ms 25ms linear",Vn({opacity:0})))]),fadeInItems:Qo("fadeInItems",[No("showing",Vn({opacity:1})),pr("void => *",[Vn({opacity:0}),si("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Wte=0;const zB=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function Yte(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let J1=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=kr(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=kr(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=s,this._directDescendantItems=new o.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Fn.x,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Wte++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new XK(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Gf(this._directDescendantItems),(0,Bo.w)(e=>(0,zh.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Gf(this._directDescendantItems),(0,Bo.w)(i=>(0,zh.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:lC(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(tc(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Gf(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(zB),o.Y36(o.sBO))};static#t=this.\u0275dir=o.lG2({type:n,contentQueries:function(i,r,s){if(1&i&&(o.Suo(s,Gte,5),o.Suo(s,aD,5),o.Suo(s,aD,4)),2&i){let l;o.iGM(l=o.CRH())&&(r.lazyContent=l.first),o.iGM(l=o.CRH())&&(r._allItems=l),o.iGM(l=o.CRH())&&(r.items=l)}},viewQuery:function(i,r){if(1&i&&o.Gf(o.Rgc,5),2&i){let s;o.iGM(s=o.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),Kte=(()=>{class n extends J1{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(zB),o.Y36(o.sBO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:wF,useExisting:n}]),o.qOj],ngContentSelectors:Zte,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(o.F$t(),o.YNc(0,qte,3,6,"ng-template"))},dependencies:[Cr],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[cD.transformMenu,cD.fadeInItems]},changeDetection:0})}return n})();const jB=new o.OlP("mat-menu-scroll-strategy"),Jte={provide:jB,deps:[mC],useFactory:function Qte(n){return()=>n.scrollStrategies.reposition()}},HB=cC({passive:!0});let Xte=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,s,l,m,v,x,S){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=m,this._dir=v,this._focusMonitor=x,this._ngZone=S,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ic.w0.EMPTY,this._hoverSubscription=Ic.w0.EMPTY,this._menuCloseSubscription=Ic.w0.EMPTY,this._changeDetectorRef=(0,o.f3M)(o.sBO),this._handleTouchStart=L=>{GN(L)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof J1?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,HB)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,HB),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof J1&&(e._startAnimation(),e._directDescendantItems.changes.pipe(nc(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof J1?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Xi(r=>"void"===r.toState),tc(1),nc(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new yF({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,l)):e.setPositionClasses(s,l)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[l,m]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[v,x]=[l,m],[S,L]=[r,s],Z=0;if(this.triggersSubmenu()){if(L=r="before"===e.xPosition?"start":"end",s=S="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const te=this._parentMaterialMenu.items.first;this._parentInnerPadding=te?te._getHostElement().offsetTop:0}Z="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(v="top"===l?"bottom":"top",x="top"===m?"bottom":"top");i.withPositions([{originX:r,originY:v,overlayX:S,overlayY:l,offsetY:Z},{originX:s,originY:v,overlayX:L,overlayY:l,offsetY:Z},{originX:r,originY:x,overlayX:S,overlayY:m,offsetY:-Z},{originX:s,originY:x,overlayX:L,overlayY:m,offsetY:-Z}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_n.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Xi(l=>l!==this._menuItemInstance),Xi(()=>this._menuOpen)):(0,_n.of)();return(0,zh.T)(e,r,s,i)}_handleMousedown(e){$N(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Xi(e=>e===this._menuItemInstance&&!e.disabled),BB(0,pF)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof J1&&this.menu._isAnimating?this.menu._animationDone.pipe(tc(1),BB(0,pF),nc(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new _F(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(mC),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(jB),o.Y36(wF,8),o.Y36(aD,10),o.Y36(V1,8),o.Y36($S),o.Y36(o.R0b))};static#t=this.\u0275dir=o.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&o.NdJ("click",function(l){return r._handleClick(l)})("mousedown",function(l){return r._handleMousedown(l)})("keydown",function(l){return r._handleKeydown(l)}),2&i&&o.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),ene=(()=>{class n extends Xte{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]})}return n})(),qB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[Jte],imports:[vi,q1,ts,kB,sD,ts]})}return n})();function tne(n,t){if(1&n&&(o.TgZ(0,"h1",7),o._uU(1),o.qZA()),2&n){const e=t.ngIf;o.xp6(1),o.hij(" \xdcdv\xf6z\xf6lj\xfck, ",e.displayName,"!")}}function nne(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"button",8),o._UZ(2,"img",9),o.TgZ(3,"mat-icon"),o._uU(4,"expand_more"),o.qZA()(),o.BQk()),2&n){o.oxw();const e=o.MAs(6);o.xp6(1),o.Q6J("matMenuTriggerFor",e)}}let ZB=(()=>{class n{constructor(e,i,r,s){this.authService=e,this.router=i,this.usersService=r,this.services=s,this.user$=this.usersService.currentUserProfile$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(_y),o.Y36(ms),o.Y36($1),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-user-header"]],decls:13,vars:6,consts:[["color","primary"],["class","log-in-a",4,"ngIf"],[4,"ngIf"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/user/orders"],["mat-menu-item","","routerLink","/user/profile"],["mat-menu-item","",3,"click"],[1,"log-in-a"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30","src","assets/image-placeholder.png",1,"profile-image-toolbar"]],template:function(i,r){1&i&&(o.TgZ(0,"mat-toolbar",0),o.YNc(1,tne,2,1,"h1",1),o.ALo(2,"async"),o.YNc(3,nne,5,1,"ng-container",2),o.ALo(4,"async"),o.qZA(),o.TgZ(5,"mat-menu",null,3)(7,"button",4),o._uU(8,"Rendel\xe9sek"),o.qZA(),o.TgZ(9,"button",5),o._uU(10,"Profil"),o.qZA(),o.TgZ(11,"button",6),o.NdJ("click",function(){return r.logout()}),o._uU(12,"Kijelentkez\xe9s"),o.qZA()()),2&i&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.user$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(4,4,r.user$)))},dependencies:[Hn,bu,Ate,sF,Ute,Kte,aD,ene,Ui],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;margin:0;background-color:#1c202b;border-radius:.625rem;transition:all .5s ease;box-shadow:0 6px 20px #00000063}@media screen and (max-width: 1080px){mat-toolbar[_ngcontent-%COMP%]{border-radius:0;transition:all .5s ease}}@media screen and (max-width: 768px){mat-toolbar[_ngcontent-%COMP%]   .log-in-a[_ngcontent-%COMP%]{font-size:16px}}.conent[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px;margin-top:10px}.Btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:45px;height:45px;border:none;border-radius:50%;cursor:pointer;position:absolute;right:20px;overflow:hidden;transition-duration:.3s;box-shadow:2px 2px 10px #0003;background-color:#fff}.sign[_ngcontent-%COMP%]{width:100%;transition-duration:.3s;display:flex;align-items:center;justify-content:center}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#1c202b}.text[_ngcontent-%COMP%]{position:absolute;right:0%;width:0%;opacity:0;color:#1c202b;font-size:1.2em;font-weight:600;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover{width:185px;border-radius:40px;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover   .sign[_ngcontent-%COMP%]{width:30%;transition-duration:.3s;padding-left:20px}.Btn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1;width:70%;transition-duration:.3s;padding-right:10px}.Btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px)}"]})}return n})();const ine=function(){return{width:"100%",height:"50px"}};function rne(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",4),2&n&&o.Q6J("theme",o.DdM(1,ine))}const one=function(){return{width:"100%",height:"200px",marginBottom:"10px"}};function sne(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",5),2&n&&o.Q6J("theme",o.DdM(1,one))}function ane(n,t){1&n&&(o.TgZ(0,"div",11),o._uU(1,"Kor\xe1bbi rendel\xe9sek"),o.qZA())}function cne(n,t){if(1&n&&o._UZ(0,"img",22),2&n){const e=o.oxw().$implicit;o.Q6J("src",e.product.imagePath,o.LSH)}}function lne(n,t){if(1&n&&(o.TgZ(0,"div",20)(1,"div",21),o._UZ(2,"img",22),o.YNc(3,cne,1,1,"img",23),o.qZA(),o.TgZ(4,"div",24),o._uU(5),o.qZA(),o.TgZ(6,"div",25),o._uU(7),o.qZA(),o.TgZ(8,"div",26),o._uU(9),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Q6J("src",e.selectedImage,o.LSH),o.xp6(1),o.Q6J("ngIf",null===e.selectedImage),o.xp6(2),o.lnq("",e.product.productName," ",e.size," ",e.color,""),o.xp6(2),o.hij("",e.quantity," db"),o.xp6(2),o.hij("",e.selectedPrice," Ft/db")}}function une(n,t){if(1&n&&(o.TgZ(0,"div",12),o.YNc(1,lne,10,7,"div",13),o.TgZ(2,"div",14)(3,"p",15),o._uU(4),o.qZA(),o.TgZ(5,"p",16),o._uU(6),o.qZA(),o.TgZ(7,"p",17),o._uU(8),o.qZA(),o.TgZ(9,"p",17),o._uU(10),o.qZA(),o.TgZ(11,"p",17),o._uU(12),o.qZA(),o.TgZ(13,"p",17),o._uU(14),o.qZA(),o.TgZ(15,"p",18),o._uU(16),o.ALo(17,"date"),o.qZA(),o.TgZ(18,"p",19),o._uU(19),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngForOf",e.items),o.xp6(3),o.hij("Aj\xe1nd\xe9kcsomagol\xe1s: ",e.gift?"Igen, +1590 Ft":"Nem",""),o.xp6(2),o.hij("K\xfcldem\xe9ny biztos\xedt\xe1sa: ",e.insurance?"Igen, +500 Ft":"Nem",""),o.xp6(2),o.hij("Sz\xe1ll\xedt\xe1s d\xedja: ",e.shippingPrice," Ft"),o.xp6(2),o.hij("Rendel\xe9si azonos\xedt\xf3: ",e.id," "),o.xp6(2),o.AsE("Telefonsz\xe1m: ",e.callingCode," ",e.phone," "),o.xp6(2),o.hij("Sz\xe1ll\xedt\xe1si c\xedm: ",e.address," "),o.xp6(2),o.hij("Rendel\xe9s d\xe1tuma: ",o.xi3(17,10,e.orderDate.toDate(),"yyyy-MM-dd"),""),o.xp6(3),o.hij("\xd6sszesen: ",e.price," Ft")}}const dne=function(){return["/products"]};function hne(n,t){1&n&&(o.TgZ(0,"div",11)(1,"div",27),o._UZ(2,"img",28),o.TgZ(3,"div",29),o._uU(4,"A rendel\xe9si el\u0151zm\xe9nye \xfcres!"),o.TgZ(5,"p",30),o._uU(6,"V\xe1logasson a term\xe9kek k\xf6z\xf6tt!"),o.qZA()()()()),2&n&&(o.xp6(5),o.Q6J("routerLink",o.DdM(1,dne)))}function fne(n,t){if(1&n&&(o.TgZ(0,"div",6)(1,"div",7),o.YNc(2,ane,2,0,"div",8),o.qZA(),o.TgZ(3,"div",9),o.YNc(4,une,20,13,"div",10),o.qZA(),o.YNc(5,hne,7,2,"div",8),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.userOrders.length>0),o.xp6(2),o.Q6J("ngForOf",e.userOrders),o.xp6(1),o.Q6J("ngIf",e.userOrders.length<=0)}}let pne=(()=>{class n{constructor(e,i,r,s){this.fs=e,this.authService=i,this.usersService=r,this.services=s,this.user$=this.authService.currentUser$,this.items=[],this.users=[],this.userOrders=[],this.contentLoaded=!1}ngOnInit(){this.services.refreshData(()=>this.services.getOrders(),this.items),this.services.refreshData(()=>this.services.getUsers(),this.users),this.getUser(),setTimeout(()=>{this.contentLoaded=!0},1e3)}getUser(){this.usersService.currentUserProfile$.subscribe(e=>{e&&e.email&&(this.userEmail=e.email,this.userOrders=this.findUserOrders(e.email))})}findUserOrders(e){return this.items.filter(i=>i.email===e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Nl),o.Y36(_y),o.Y36($1),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-orders"]],decls:6,vars:7,consts:[["appearance","line",3,"theme",4,"ngIf"],["appearance","line","count","3",3,"theme",4,"ngIf"],[1,"contentloaded"],["class","orders-container",4,"ngIf"],["appearance","line",3,"theme"],["appearance","line","count","3",3,"theme"],[1,"orders-container"],[1,"orders-head-container"],["class","orders-head",4,"ngIf"],[1,"order-table"],["class","order-row",4,"ngFor","ngForOf"],[1,"orders-head"],[1,"order-row"],["class","item-container",4,"ngFor","ngForOf"],[1,"order-data"],[1,"gift"],[1,"insurance"],[1,"shipping-price"],[1,"order-date"],[1,"total-price"],[1,"item-container"],[1,"product-image"],[3,"src"],[3,"src",4,"ngIf"],[1,"description"],[1,"quantity"],[1,"product-price"],[1,"empty-cart"],["src","./assets/images/empty-order.png",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"]],template:function(i,r){1&i&&(o.YNc(0,rne,1,2,"ngx-skeleton-loader",0),o.YNc(1,sne,1,2,"ngx-skeleton-loader",1),o.TgZ(2,"div",2),o._UZ(3,"app-user-header"),o.YNc(4,fne,6,3,"div",3),o.ALo(5,"async"),o.qZA()),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,5,r.user$)))},dependencies:[Mn,Hn,bu,Kf,ZB,Ui,La],styles:['.order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-weight:100}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]{background-color:#fff;margin:20px 0 50px;box-shadow:0 6px 20px #00000030;border-radius:1rem;overflow:hidden;border:transparent}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]{padding:10px 10px 40px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{width:300px;padding-top:10px;text-align:center;border-top:1px solid #edf1f7;float:right;font-size:16px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #edf1f7}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;text-align:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{background-color:#fff;max-width:120px;max-height:120px;align-items:center;justify-content:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;max-height:120px;float:left}@media screen and (max-width: 550px){.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%], .order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:70px;max-height:70px}}.orders-head-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.orders-head-container[_ngcontent-%COMP%]   .orders-head[_ngcontent-%COMP%]{background:#1C202B;color:#fff;border-radius:.625rem;margin:40px 0 20px;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;width:400px;position:absolute;top:90%;left:50%;transform:translate(-50%,-50%);font-size:22px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 550px){.empty-cart-desc[_ngcontent-%COMP%]{max-width:80%;line-height:30px}}']})}return n})();const xF=(0,mn.U)(n=>!!n);let mne=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,s)=>{const l=r.data.authGuardPipe||(()=>xF);return sa(this.auth).pipe(tc(1),l(r,s),(0,mn.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ms),o.LFG(Pp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const X1=n=>({canActivate:[mne],data:{authGuardPipe:n}}),$B=n=>(0,$2.z)(xF,(0,mn.U)(t=>t&&n||!0));var vne=Q(7582);const yne=o.GuJ,Cne=Symbol("__destroy"),GB=Symbol("__decoratorApplied");function WB(n){return"string"==typeof n?Symbol(`__destroy__${n}`):Cne}function YB(n,t){n[t]||(n[t]=new Fn.x)}function KB(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function QB(n){n instanceof Ic.w0&&n.unsubscribe()}function JB(n,t){return function(){if(n&&n.call(this),KB(this,WB()),t.arrayName&&function xne(n){Array.isArray(n)&&n.forEach(QB)}(this[t.arrayName]),t.checkProperties)for(const e in this)t.blackList?.includes(e)||QB(this[e])}}Symbol("CheckerHasBeenSet");function Dne(n,t){return e=>{const i=WB(t);"string"==typeof t?function Sne(n,t,e){const i=n[t];YB(n,e),n[t]=function(){i.apply(this,arguments),KB(this,e),n[t]=i}}(n,t,i):YB(n,i);const r=n[i];return e.pipe(nc(r))}}let kne=(()=>{class n{constructor(e){this.storage=e}uploadImage(e,i){const r=kG(this.storage,i);return(0,Ar.D)(RG(r,e)).pipe((0,Bo.w)(l=>DG(l.ref)))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(YT))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Rne=function(){return{width:"100%",height:"50px"}};function Nne(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",4),2&n&&o.Q6J("theme",o.DdM(1,Rne))}const Fne=function(){return{"max-width":"500px",height:"500px",width:"90vw","border-radius":"15px"}};function Lne(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",5),2&n&&o.Q6J("theme",o.DdM(1,Fne))}const Une=function(n){return{"bold-text":n}};function Vne(n,t){if(1&n&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw(2);o.Q6J("value",e)("ngClass",o.VKq(3,Une,i.callingCodeService.first)),o.xp6(1),o.hij("",e," ")}}function Bne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",6)(1,"h1",7),o._uU(2,"Szem\xe9lyes adatok"),o.qZA(),o.TgZ(3,"form",8),o.NdJ("ngSubmit",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.saveProfile())}),o.TgZ(4,"div",9)(5,"mat-form-field")(6,"mat-label"),o._uU(7,"Vezet\xe9kn\xe9v"),o.qZA(),o._UZ(8,"input",10),o.qZA(),o.TgZ(9,"mat-form-field")(10,"mat-label"),o._uU(11,"Keresztn\xe9v"),o.qZA(),o._UZ(12,"input",11),o.qZA()(),o.TgZ(13,"mat-form-field")(14,"mat-label"),o._uU(15,"Profiln\xe9v"),o.qZA(),o._UZ(16,"input",12),o.qZA(),o.TgZ(17,"div",13)(18,"div",14)(19,"mat-form-field")(20,"mat-label"),o._uU(21,"H\xedv\xf3azonos\xedt\xf3"),o.qZA(),o.TgZ(22,"div",15)(23,"mat-select",16),o.YNc(24,Vne,2,5,"mat-option",17),o.qZA()()()(),o.TgZ(25,"div",18)(26,"mat-form-field")(27,"mat-label"),o._uU(28,"Telefonsz\xe1m"),o.qZA(),o.TgZ(29,"input",19),o.NdJ("input",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.limitDigits(r))}),o.qZA()()()(),o.TgZ(30,"mat-form-field")(31,"mat-label"),o._uU(32,"Sz\xe1ll\xedt\xe1si c\xedm"),o.qZA(),o._UZ(33,"input",20),o.qZA(),o.TgZ(34,"button",21),o._uU(35," Ment\xe9s "),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(3),o.Q6J("formGroup",e.profileForm),o.xp6(21),o.Q6J("ngForOf",e.callingCodes)}}let EF=class JL{constructor(t,e,i,r,s,l){this.authService=t,this.imageUploadService=e,this.toast=i,this.usersService=r,this.fb=s,this.callingCodeService=l,this.user$=this.usersService.currentUserProfile$,this.contentLoaded=!1,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],callingCode:[""],phone:[""],address:[""]}),this.callingCodes=[]}ngOnInit(){this.callingCodes=this.callingCodeService.getCallingCodes(),this.usersService.currentUserProfile$.pipe(Dne(this),(0,nr.b)(console.log)).subscribe(t=>{this.profileForm.patchValue({...t})}),setTimeout(()=>{this.contentLoaded=!0},1e3)}saveProfile(){const{uid:t,...e}=this.profileForm.value;t&&this.usersService.updateUser({uid:t,...e}).pipe(this.toast.observe({loading:"Profil ment\xe9se...",success:"Sikeres ment\xe9s!",error:"Hiba t\xf6rt\xe9nt a profil ment\xe9se sor\xe1n!"})).subscribe()}limitDigits(t){const e=t.target.value;e.length>12&&(t.target.value=e.slice(0,12))}static#e=this.\u0275fac=function(e){return new(e||JL)(o.Y36(_y),o.Y36(kne),o.Y36(Ga),o.Y36($1),o.Y36(kS),o.Y36(JN))};static#t=this.\u0275cmp=o.Xpm({type:JL,selectors:[["app-profile"]],decls:6,vars:7,consts:[["appearance","line",3,"theme",4,"ngIf"],["class","mid screen-width","appearance","circle",3,"theme",4,"ngIf"],[1,"contentloaded"],["class","form-container mat-elevation-z5 text-center",4,"ngIf"],["appearance","line",3,"theme"],["appearance","circle",1,"mid","screen-width",3,"theme"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-header"],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName","maxlength","14"],["type","text","matInput","","formControlName","lastName","maxlength","14"],["type","text","matInput","","formControlName","displayName","maxlength","14"],[1,"row-sec"],[1,"row-in"],[1,"scrollable-container"],["matNativeControl","","formControlName","callingCode"],[3,"value","ngClass",4,"ngFor","ngForOf"],[1,"row-out"],["type","number","matInput","","formControlName","phone",3,"input"],["type","text","matInput","","formControlName","address"],["type","submit",1,"save-button","margin-top"],[3,"value","ngClass"]],template:function(e,i){1&e&&(o.YNc(0,Nne,1,2,"ngx-skeleton-loader",0),o.YNc(1,Lne,1,2,"ngx-skeleton-loader",1),o.TgZ(2,"div",2),o._UZ(3,"app-user-header"),o.YNc(4,Bne,36,2,"div",3),o.ALo(5,"async"),o.qZA()),2&e&&(o.Q6J("ngIf",!i.contentLoaded),o.xp6(1),o.Q6J("ngIf",!i.contentLoaded),o.xp6(1),o.Udp("display",i.contentLoaded?"block":"none"),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,5,i.user$)))},dependencies:[Cr,Mn,Hn,N1,dy,F1,hy,O1,L1,ym,sC,dF,uF,K1,Kf,CF,WS,ZB,Ui],styles:[".profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center;box-shadow:0 .25rem .5rem #000}.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:.625rem;width:650px;padding:30px;background-color:#fff}.form-container[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{border-bottom:1px solid #1C202B;padding-bottom:15px;width:100%;color:#1c202b;font-size:26px}@media screen and (max-width: 700px){.form-container[_ngcontent-%COMP%]{width:100%;padding:10px}.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:block}}.profile-image[_ngcontent-%COMP%]{position:relative}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:35%}.form-container[_ngcontent-%COMP%]{max-width:600px;margin-top:25px}.row[_ngcontent-%COMP%], .row-sec[_ngcontent-%COMP%]{display:flex;gap:10px}.row-sec[_ngcontent-%COMP%]   .row-in[_ngcontent-%COMP%], .row-sec[_ngcontent-%COMP%]   .row-out[_ngcontent-%COMP%]{display:flex;width:50%}.save-button[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:.625rem;border:0!important;outline:0!important;background:#1C202B;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px;transition:.2s ease-in-out}.save-button[_ngcontent-%COMP%]:hover{background:#1C202B}.test[_ngcontent-%COMP%]{background:yellow}"]})};function OF(){return(0,Tr.e)((n,t)=>{let e,i=!1;n.subscribe((0,li.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}EF=(0,vne.gn)([function One(n={}){return t=>{!function bne(n){return!!n[yne]}(t)?function Mne(n,t){n.prototype.ngOnDestroy=JB(n.prototype.ngOnDestroy,t)}(t,n):function Ene(n,t){const e=n.\u0275pipe;e.onDestroy=JB(e.onDestroy,t)}(t,n),function wne(n){n.prototype[GB]=!0}(t)}}()],EF);var Vl=Q(6304),nz=(Q(8661),Q(3106));function PF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function iz(){if(typeof Uint8Array>"u")throw new yt("unimplemented","Uint8Arrays are not available in this environment.")}function rz(){if(!function Vk(){return typeof atob<"u"}())throw new yt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class eE{constructor(t){this._delegate=t}static fromBase64String(t){return rz(),new eE(Hf.fromBase64String(t))}static fromUint8Array(t){return iz(),new eE(Hf.fromUint8Array(t))}toBase64(){return rz(),this._delegate.toBase64()}toUint8Array(){return iz(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IF(n){return function Hne(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class qne{enableIndexedDbPersistence(t,e){return function kq(n,t){bU(n=$i(n,Vo));const e=qs(n);if(e._uninitializedComponentsProvider)throw new yt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");pu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Vb;return yU(e,r,new n2(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Rq(n){bU(n=$i(n,Vo));const t=qs(n);if(t._uninitializedComponentsProvider)throw new yt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");pu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Vb;return yU(t,i,new tU(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Nq(n){if(n._initialized&&!n._terminated)throw new yt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ms;return n._queue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{yield(e=(0,dt.Z)(function*(i){if(!mu.D())return Promise.resolve();const r=i+"main";yield mu.delete(r)}),function(i){return e.apply(this,arguments)})(CM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class oz{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof kh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&pu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){gU(this._delegate,t,e,i)}enableNetwork(){return function Lq(n){return function bq(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const t=yield rU(n),e=yield oU(n);return t.setNetworkEnabled(!0),function(i){const r=$t(i);return r.vu.delete(0),Yv(r)}(e)}))}(qs(n=$i(n,Vo)))}(this._delegate)}disableNetwork(){return function Uq(n){return function Cq(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const t=yield rU(n),e=yield oU(n);return t.setNetworkEnabled(!1),(i=(0,dt.Z)(function*(r){const s=$t(r);s.vu.add(0),yield kg(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(qs(n=$i(n,Vo)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,dU("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fq(n){return function(t){const e=new Ms;return t.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function HM(n,t){return qM.apply(this,arguments)}(yield u2(t),e)})),e.promise}(qs(n=$i(n,Vo)))}(this._delegate)}onSnapshotsInSync(t){return function fZ(n,t){return function Mq(n,t){const e=new PT(t);return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield Bb(n),r=e,$t(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield Bb(n),r=e,void $t(i).ku.delete(r);var i,r}))}}(qs(n=$i(n,Vo)),m2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new yt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new gC(this,f2(this._delegate,t))}catch(e){throw Bl(e,"collection()","Firestore.collection()")}}doc(t){try{return new Yd(this,WM(this._delegate,t))}catch(e){throw Bl(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new zl(this,function Iq(n,t){if(n=$i(n,GM),h2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yt(tt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pc(n,null,(e=t,new Pf(Zi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Bl(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function MZ(n,t,e){n=$i(n,Vo);const i=Object.assign(Object.assign({},wZ),e);return function(r){if(r.maxAttempts<1)throw new yt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const m=new Ms;return r.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){const v=yield function sU(n){return TT(n).then(t=>t.datastore)}(r);new vq(r.asyncQueue,v,l,s,m).run()})),m.promise}(qs(n),r=>t(new xZ(n,r)),i)}(this._delegate,e=>t(new sz(this,e)))}batch(){return qs(this._delegate),new az(new UU(this._delegate,t=>jb(this._delegate,t)))}loadBundle(t){return function Vq(n,t){const e=qs(n=$i(n,Vo)),i=new Sq;return function Eq(n,t,e,i){const r=function(s,l){let m;return m="string"==typeof s?tM().encode(s):s,v=function(v,x){if(v instanceof Uint8Array)return nU(v,x);if(v instanceof ArrayBuffer)return nU(new Uint8Array(v),x);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new gq(v,l);var v}(e,sm(t));n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){!function pq(n,t,e){const i=$t(n);var r;(r=(0,dt.Z)(function*(s,l,m){try{const v=yield l.getMetadata();if(yield function(Z,te){const ae=$t(Z),ve=fs(te.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",Be=>ae.qs.getBundleMetadata(Be,te.id)).then(Be=>!!Be&&Be.createTime.compareTo(ve)>=0)}(s.localStore,v))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(Z=v).totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}),Promise.resolve(new Set);m._updateProgress(c(v));const x=new a(v,s.localStore,l.serializer);let S=yield l.bc();for(;S;){const Z=yield x.zu(S);Z&&m._updateProgress(Z),S=yield l.bc()}const L=yield x.complete();return yield lm(s,L.Ju,void 0),yield function(Z,te){const ae=$t(Z);return ae.persistence.runTransaction("Save bundle","readwrite",ve=>ae.qs.saveBundleMetadata(ve,te))}(s.localStore,v),m._completeWith(L.progress),Promise.resolve(L.Hu)}catch(v){return pu("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var Z}),function(s,l,m){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield u2(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Bq(n,t){return function Oq(n,t){return n.asyncQueue.enqueue((0,dt.Z)(function*(){return function(e,i){const r=$t(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield ST(n),t)}))}(qs(n=$i(n,Vo)),t).then(e=>e?new Pc(n,null,e.query):null)}(this._delegate,t).then(e=>e?new zl(this,e):null)}}class lD extends w2{constructor(t){super(),this.firestore=t}convertBytes(t){return new eE(new Hf(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Yd.forKey(e,this.firestore,null)}}class sz{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new lD(t)}get(t){const e=wy(t);return this._delegate.get(e).then(i=>new tE(this._firestore,new hm(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=wy(t);return i?(PF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=wy(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=wy(t);return this._delegate.delete(e),this}}class az{constructor(t){this._delegate=t}set(t,e,i){const r=wy(t);return i?(PF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=wy(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=wy(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Cy{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new t1(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nE(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Cy.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Cy(t,new lD(t),e),r.set(e,s)),s}}Cy.INSTANCES=new WeakMap;class Yd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new yt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Yd(e,new Uo(e._delegate,i,new Zt(t)))}static forKey(t,e,i){return new Yd(e,new Uo(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new gC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new gC(this.firestore,f2(this._delegate,t))}catch(e){throw Bl(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ie.m9)(t))instanceof Uo&&_U(this._delegate,t)}set(t,e){e=PF("DocumentReference.set",e);try{return e?x2(this._delegate,t,e):x2(this._delegate,t)}catch(i){throw Bl(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?M2(this._delegate,t):M2(this._delegate,t,e,...i)}catch(r){throw Bl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function hZ(n){return jb($i(n.firestore,Vo),[new yg(n._key,Dr.none())])}(this._delegate)}onSnapshot(...t){const e=cz(t),i=lz(t,r=>new tE(this.firestore,new hm(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return E2(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function aZ(n){n=$i(n,Uo);const t=$i(n.firestore,Vo),e=qs(t),i=new Ug(t);return function wq(n,t){const e=new Ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,s,l){try{const m=yield function(v,x){const S=$t(v);return S.persistence.runTransaction("read document","readonly",L=>S.localDocuments.getDocument(L,x))}(r,s);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new yt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=ey(m,`Failed to get document '${s} from cache`);l.reject(v)}}),function(r,s,l){return i.apply(this,arguments)})(yield ST(n),t,e);var i})),e.promise}(e,n._key).then(r=>new hm(t,i,n._key,r,new oy(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function cZ(n){n=$i(n,Uo);const t=$i(n.firestore,Vo);return aU(qs(t),n._key,{source:"server"}).then(e=>O2(t,n,e))}(this._delegate):function sZ(n){n=$i(n,Uo);const t=$i(n.firestore,Vo);return aU(qs(t),n._key).then(e=>O2(t,n,e))}(this._delegate),e.then(i=>new tE(this.firestore,new hm(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Yd(this.firestore,this._delegate.withConverter(t?Cy.getInstance(this.firestore,t):null))}}function Bl(n,t,e){return n.message=n.message.replace(t,e),n}function cz(n){for(const t of n)if("object"==typeof t&&!IF(t))return t;return{}}function lz(n,t){var e,i;let r;return r=IF(n[0])?n[0]:IF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class tE{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Yd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return FU(this._delegate,t._delegate)}}class nE extends tE{data(t){const e=this._delegate.data(t);return function yP(n,t){n||ln()}(void 0!==e),e}}class zl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lD(t)}where(t,e,i){try{return new zl(this.firestore,dm(this._delegate,TU(t,e,i)))}catch(r){throw Bl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new zl(this.firestore,dm(this._delegate,function Kq(n,t="asc"){const e=t,i=LT("orderBy",n);return C2._create(i,e)}(t,e)))}catch(i){throw Bl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new zl(this.firestore,dm(this._delegate,function Qq(n){return pU("limit",n),UT._create("limit",n,"F")}(t)))}catch(e){throw Bl(e,"limit()","Query.limit()")}}limitToLast(t){try{return new zl(this.firestore,dm(this._delegate,function Jq(n){return pU("limitToLast",n),UT._create("limitToLast",n,"L")}(t)))}catch(e){throw Bl(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new zl(this.firestore,dm(this._delegate,function Xq(...n){return VT._create("startAt",n,!0)}(...t)))}catch(e){throw Bl(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new zl(this.firestore,dm(this._delegate,function eZ(...n){return VT._create("startAfter",n,!1)}(...t)))}catch(e){throw Bl(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new zl(this.firestore,dm(this._delegate,function tZ(...n){return BT._create("endBefore",n,!1)}(...t)))}catch(e){throw Bl(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new zl(this.firestore,dm(this._delegate,function nZ(...n){return BT._create("endAt",n,!0)}(...t)))}catch(e){throw Bl(e,"endAt()","Query.endAt()")}}isEqual(t){return p2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function uZ(n){n=$i(n,Pc);const t=$i(n.firestore,Vo),e=qs(t),i=new Ug(t);return function xq(n,t){const e=new Ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,s,l){try{const m=yield $v(r,s,!0),v=new _(s,m.ir),x=v.sc(m.documents),S=v.applyChanges(x,!1);l.resolve(S.snapshot)}catch(m){const v=ey(m,`Failed to execute query '${s} against cache`);l.reject(v)}}),function(r,s,l){return i.apply(this,arguments)})(yield ST(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Lg(t,i,n,r))}(this._delegate):"server"===t?.source?function dZ(n){n=$i(n,Pc);const t=$i(n.firestore,Vo),e=qs(t),i=new Ug(t);return cU(e,n._query,{source:"server"}).then(r=>new Lg(t,i,n,r))}(this._delegate):function lZ(n){n=$i(n,Pc);const t=$i(n.firestore,Vo),e=qs(t),i=new Ug(t);return IU(n._query),cU(e,n._query).then(r=>new Lg(t,i,n,r))}(this._delegate),e.then(i=>new TF(this.firestore,new Lg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=cz(t),i=lz(t,r=>new TF(this.firestore,new Lg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return E2(this._delegate,e,i)}withConverter(t){return new zl(this.firestore,this._delegate.withConverter(t?Cy.getInstance(this.firestore,t):null))}}class $ne{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new nE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new zl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new nE(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new $ne(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new nE(this._firestore,i))})}isEqual(t){return FU(this._delegate,t._delegate)}}class gC extends zl{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Yd(this.firestore,t):null}doc(t){try{return new Yd(this.firestore,void 0===t?WM(this._delegate):WM(this._delegate,t))}catch(e){throw Bl(e,"doc()","CollectionReference.doc()")}}add(t){return LU(this._delegate,t).then(e=>new Yd(this.firestore,e))}isEqual(t){return _U(this._delegate,t._delegate)}withConverter(t){return new gC(this.firestore,this._delegate.withConverter(t?Cy.getInstance(this.firestore,t):null))}}function wy(n){return $i(n,Uo)}class SF{constructor(...t){this._delegate=new um(...t)}static documentId(){return new SF(Jo.keyField().canonicalString())}isEqual(t){return(t=(0,ie.m9)(t))instanceof um&&this._delegate._internalPath.isEqual(t._internalPath)}}class xy{constructor(t){this._delegate=t}static serverTimestamp(){const t=function OZ(){return new g2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new xy(t)}static delete(){const t=function EZ(){return new KM("deleteField")}();return t._methodName="FieldValue.delete",new xy(t)}static arrayUnion(...t){const e=function PZ(...n){return new Zq("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new xy(e)}static arrayRemove(...t){const e=function IZ(...n){return new $q("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new xy(e)}static increment(t){const e=function TZ(n){return new Gq("increment",n)}(t);return e._methodName="FieldValue.increment",new xy(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Gne={Firestore:oz,GeoPoint:AT,Timestamp:co,Blob:eE,Transaction:sz,WriteBatch:az,DocumentReference:Yd,DocumentSnapshot:tE,Query:zl,QueryDocumentSnapshot:nE,QuerySnapshot:TF,CollectionReference:gC,FieldPath:SF,FieldValue:xy,setLogLevel:function Zne(n){!function Pk(n){Mf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Yne(n){(function Wne(n,t){n.INTERNAL.registerComponent(new du.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Gne)))})(n,(t,e)=>new oz(t,e,new qne)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(nz.Z);var uD=Q(3093);function uz(n,t){return(0,$d.m)(t)?(0,Bo.w)(()=>n,t):(0,Bo.w)(()=>n)}var DF=Q(5137),dz=Q(120);const AF=new o.OlP("angularfire2.auth.use-emulator"),kF=new o.OlP("angularfire2.auth.settings"),RF=new o.OlP("angularfire2.auth.tenant-id"),NF=new o.OlP("angularfire2.auth.langugage-code"),FF=new o.OlP("angularfire2.auth.use-device-language"),LF=new o.OlP("angularfire.auth.persistence"),UF=(n,t,e,i,r,s,l,m)=>(0,Vl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,s&&v.useDeviceLanguage(),l)for(const[x,S]of Object.entries(l))v.settings[x]=S;return m&&v.setPersistence(m),v},[e,i,r,s,l,m]);let VF=(()=>{class n{constructor(e,i,r,s,l,m,v,x,S,L,Z,te){const ae=new Fn.x,ve=(0,_n.of)(void 0).pipe((0,uD.Q)(l.outsideAngular),(0,Bo.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,8661)))),(0,mn.U)(()=>(0,Vl.on)(e,s,i)),(0,mn.U)(Be=>UF(Be,s,m,x,S,L,v,Z)),aF({bufferSize:1,refCount:!1}));if(Er(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_n.of)(null);else{ve.pipe(Bg()).subscribe();const vt=ve.pipe((0,Bo.w)(Lt=>Lt.getRedirectResult().then(Dn=>Dn,()=>null)),bn.iC,aF({bufferSize:1,refCount:!1})),Dt=ve.pipe((0,Bo.w)(Lt=>new cr.y(Dn=>({unsubscribe:s.runOutsideAngular(()=>Lt.onAuthStateChanged(Rn=>Dn.next(Rn),Rn=>Dn.error(Rn),()=>Dn.complete()))})))),St=ve.pipe((0,Bo.w)(Lt=>new cr.y(Dn=>({unsubscribe:s.runOutsideAngular(()=>Lt.onIdTokenChanged(Rn=>Dn.next(Rn),Rn=>Dn.error(Rn),()=>Dn.complete()))}))));this.authState=vt.pipe(uz(Dt),(0,DF.R)(l.outsideAngular),(0,uD.Q)(l.insideAngular)),this.user=vt.pipe(uz(St),(0,DF.R)(l.outsideAngular),(0,uD.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Bo.w)(Lt=>Lt?(0,Ar.D)(Lt.getIdToken()):(0,_n.of)(null))),this.idTokenResult=this.user.pipe((0,Bo.w)(Lt=>Lt?(0,Ar.D)(Lt.getIdTokenResult()):(0,_n.of)(null))),this.credential=(0,zh.T)(vt,ae,this.authState.pipe(Xi(Lt=>!Lt))).pipe((0,mn.U)(Lt=>Lt?.user?Lt:null),(0,DF.R)(l.outsideAngular),(0,uD.Q)(l.insideAngular))}return(0,Vl.pX)(this,ve,s,{spy:{apply:(Be,vt,Dt)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Dt.then(St=>ae.next(St))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vl.Dh),o.LFG(Vl.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bn.HU),o.LFG(AF,8),o.LFG(kF,8),o.LFG(RF,8),o.LFG(NF,8),o.LFG(FF,8),o.LFG(LF,8),o.LFG(Ep,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function hz(n,t){return function Qne(n,t=uC.z){return new cr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function BF(n,t){return hz(n,t).pipe((0,mn.U)(e=>({payload:e,type:"query"})))}function dD(n,t){return BF(n,t).pipe(Gf(void 0),OF(),(0,mn.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,m)=>{const v=r.find(S=>S.doc.ref.isEqual(l.ref)),x=e?.payload.docs.find(S=>S.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&x&&JSON.stringify(x.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),s}))}function fz(n,t,e){return dD(n,e).pipe(Wb((i,r)=>function Xne(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function eie(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return zF(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return zF(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return zF(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,zS.x)(),(0,mn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function zF(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function pz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mz{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=dD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,mn.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Gf(void 0),OF(),Xi(([i,r])=>r.length>0||!i),(0,mn.U)(([i,r])=>r),bn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Wb((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pz(t);return fz(this.query,e,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return BF(this.query,this.afs.schedulers.outsideAngular).pipe((0,mn.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),bn.iC)}get(t){return(0,Ar.D)(this.query.get(t)).pipe(bn.iC)}add(t){return this.ref.add(t)}doc(t){return new gz(this.ref.doc(t),this.afs)}}class gz{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=yz(i,e);return new mz(r,s,this.afs)}snapshotChanges(){return function Jne(n,t){return hz(n,t).pipe(Gf(void 0),OF(),(0,mn.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,mn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Ar.D)(this.ref.get(t)).pipe(bn.iC)}}class tie{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?dD(this.query,this.afs.schedulers.outsideAngular).pipe((0,mn.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Xi(e=>e.length>0),bn.iC):dD(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Wb((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pz(t);return fz(this.query,e,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return BF(this.query,this.afs.schedulers.outsideAngular).pipe((0,mn.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),bn.iC)}get(t){return(0,Ar.D)(this.query.get(t)).pipe(bn.iC)}}const _z=new o.OlP("angularfire2.enableFirestorePersistence"),vz=new o.OlP("angularfire2.firestore.persistenceSettings"),nie=new o.OlP("angularfire2.firestore.settings"),iie=new o.OlP("angularfire2.firestore.use-emulator");function yz(n,t=(e=>e)){return{query:t(n),ref:n}}let jF=(()=>{class n{constructor(e,i,r,s,l,m,v,x,S,L,Z,te,ae,ve,Be,vt,Dt){this.schedulers=v;const St=(0,Vl.on)(e,m,i),Lt=S;L&&UF(St,m,Z,ae,ve,Be,te,vt),[this.firestore,this.persistenceEnabled$]=(0,Vl.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const Dn=m.runOutsideAngular(()=>St.firestore());if(s&&Dn.settings(s),Lt&&Dn.useEmulator(...Lt),r&&!Er(l)){const Rn=()=>{try{return(0,Ar.D)(Dn.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(ji){return typeof console<"u"&&console.warn(ji),(0,_n.of)(!1)}};return[Dn,m.runOutsideAngular(Rn)]}return[Dn,(0,_n.of)(!1)]},[s,Lt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=yz(r,i),m=this.schedulers.ngZone.run(()=>s);return new mz(m,l,this)}collectionGroup(e,i){const r=i||(l=>l),s=this.firestore.collectionGroup(e);return new tie(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new gz(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vl.Dh),o.LFG(Vl.xv,8),o.LFG(_z,8),o.LFG(nie,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bn.HU),o.LFG(vz,8),o.LFG(iie,8),o.LFG(VF,8),o.LFG(AF,8),o.LFG(kF,8),o.LFG(RF,8),o.LFG(NF,8),o.LFG(FF,8),o.LFG(LF,8),o.LFG(Ep,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rie=(()=>{class n{constructor(){dz.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:_z,useValue:!0},{provide:vz,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jF]}),n})();const oie=function(){return{"max-width":"550px",height:"550px",width:"90vw","border-radius":"15px"}};function sie(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",20),2&n&&o.Q6J("theme",o.DdM(1,oie))}function aie(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a vezet\xe9knev\xe9t! "),o.qZA())}function cie(n,t){if(1&n&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Vezet\xe9kn\xe9v"),o.qZA(),o._UZ(3,"input",21),o.YNc(4,aie,2,0,"mat-error",7),o.qZA()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.required)}}function lie(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Keresztnev\xe9t! "),o.qZA())}function uie(n,t){if(1&n&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Keresztn\xe9v"),o.qZA(),o._UZ(3,"input",22),o.YNc(4,lie,2,0,"mat-error",7),o.qZA()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",null==e.firstName||null==e.firstName.errors?null:e.firstName.errors.required)}}function die(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),o.qZA())}function hie(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg az E-mail c\xedm\xe9t! "),o.qZA())}function fie(n,t){if(1&n&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"E-mail c\xedm"),o.qZA(),o._UZ(3,"input",23),o.YNc(4,die,2,0,"mat-error",7),o.YNc(5,hie,2,0,"mat-error",7),o.qZA()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email),o.xp6(1),o.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required)}}const pie=function(n){return{"bold-text":n}};function mie(n,t){if(1&n&&(o.TgZ(0,"mat-option",24),o._uU(1),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.Q6J("value",e)("ngClass",o.VKq(3,pie,i.callingCodeService.first)),o.xp6(1),o.hij("",e," ")}}function gie(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," V\xe1lasszon! "),o.qZA())}function _ie(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),o.qZA())}function vie(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),o.qZA())}function yie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25)(1,"mat-checkbox",26),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.termsCheck(r))}),o.qZA(),o.TgZ(2,"span"),o._uU(3," Elfogadom az "),o.TgZ(4,"span",27),o._uU(5,"\xc1SZF"),o.qZA(),o._uU(6,"-et "),o.qZA()()}}let bie=(()=>{class n{get email(){return this.shippingForm.get("email")}get address(){return this.shippingForm.get("address")}get firstName(){return this.shippingForm.get("firstName")}get lastName(){return this.shippingForm.get("lastName")}get callingCode(){return this.shippingForm.get("phone")}get phone(){return this.shippingForm.get("phone")}constructor(e,i,r,s,l,m,v,x,S,L,Z){this.fb=e,this.services=i,this.authService=r,this.shoppingService=s,this.usersService=l,this.toast=m,this.router=v,this.firestore=x,this.formbuilder=S,this.afs=L,this.callingCodeService=Z,this.shippingForm=this.fb.group({firstName:["",la.required],lastName:["",la.required],email:["",[la.required,la.email]],callingCode:["",la.required],phone:["",la.required],address:["",la.required]}),this.contentLoaded=!1,this.termsChecked=!1,this.orderId="",this.callingCodes=[],this.user$=this.usersService.currentUserProfile$,this.price=this.shoppingService.calculateTotalPayment(),this.items=this.services.getCartItems(),this.gift=this.shoppingService.giftIsChecked,this.insurance=this.shoppingService.insuranceIsChecked,this.shippingPrice=this.shoppingService.shippingPrice,this.orderDate=new Date}termsCheck(e){e.stopPropagation(),e.target!==e.currentTarget&&(this.termsChecked=!this.termsChecked)}ngOnInit(){this.callingCodes=this.callingCodeService.getCallingCodes(),0===this.services.getCartItems().length&&this.router.navigateByUrl("/shopping-cart"),setTimeout(()=>{this.contentLoaded=!0},500),this.user$.subscribe(e=>{e&&this.shippingForm.patchValue({firstName:e.firstName,lastName:e.lastName,email:e.email,callingCode:e.callingCode,phone:e.phone,address:e.address})})}rendelesFormSubmit(e){var i=this;return(0,dt.Z)(function*(){const{firstName:r,lastName:s,email:l,callingCode:m,phone:v,address:x}=i.shippingForm.value;if(i.shippingForm.valid&&r&&s&&l&&m&&v&&x)try{const S=yield i.user$.pipe(tc(1)).toPromise();let L;L=al(i.firestore,S?"*orders":"*guest"),e.items=i.items,e.gift=i.gift,e.insurance=i.insurance,e.shippingPrice=i.shippingPrice,e.price=i.price,e.orderDate=i.orderDate,i.services.placedOrder=!0,i.router.navigate(["/landing"]),yield GZ(L,e),console.log("Rendel\xe9s elk\xfcldve a Firestore-ba"),i.shippingForm.reset(),i.services.clearCart()}catch(S){console.error("Hiba t\xf6rt\xe9nt a rendel\xe9s elk\xfcld\xe9se sor\xe1n: ",S)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(kS),o.Y36(es),o.Y36(_y),o.Y36(xN),o.Y36($1),o.Y36(Ga),o.Y36(ms),o.Y36(Nl),o.Y36(B4),o.Y36(jF),o.Y36(JN))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-shipping"]],decls:42,vars:24,consts:[["class","mid screen-width","appearance","circle",3,"theme",4,"ngIf"],[1,"shopping-cart-component"],[1,"shipping-container","mat-elevation-z5"],[1,"title"],[3,"formGroup","ngSubmit"],["rendelesForm","ngForm"],[1,"row"],[4,"ngIf"],[1,"row-sec"],[1,"row-in"],[1,"scrollable-container"],["matNativeControl","","formControlName","callingCode"],[3,"value","ngClass",4,"ngFor","ngForOf"],[1,"row-out"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address","maxlength","50"],["class","checkbox-with-text",4,"ngIf"],[1,"button-container"],[1,"price"],["type","submit",1,"order-btn",3,"disabled"],["appearance","circle",1,"mid","screen-width",3,"theme"],["type","text","matInput","","formControlName","lastName","maxlength","14"],["type","text","matInput","","formControlName","firstName","maxlength","14"],["type","email","matInput","","formControlName","email"],[3,"value","ngClass"],[1,"checkbox-with-text"],[3,"click"],[1,"terms"]],template:function(i,r){if(1&i){const s=o.EpF();o.YNc(0,sie,1,2,"ngx-skeleton-loader",0),o.TgZ(1,"div",1)(2,"div",2)(3,"p",3),o._uU(4,"K\xe9rem, adja meg a sz\xe1ll\xedt\xe1si adatait!"),o.qZA(),o.TgZ(5,"form",4,5),o.NdJ("ngSubmit",function(){o.CHM(s);const m=o.MAs(6);return o.KtG(r.rendelesFormSubmit(m.value))}),o.TgZ(7,"div",6),o.YNc(8,cie,5,1,"mat-form-field",7),o.ALo(9,"async"),o.YNc(10,uie,5,1,"mat-form-field",7),o.ALo(11,"async"),o.qZA(),o.YNc(12,fie,6,2,"mat-form-field",7),o.ALo(13,"async"),o.TgZ(14,"div",8)(15,"div",9)(16,"mat-form-field")(17,"mat-label"),o._uU(18,"H\xedv\xf3azonos\xedt\xf3"),o.qZA(),o.TgZ(19,"div",10)(20,"mat-select",11),o.YNc(21,mie,2,5,"mat-option",12),o.qZA()(),o.YNc(22,gie,2,0,"mat-error",7),o.qZA()(),o.TgZ(23,"div",13)(24,"mat-form-field")(25,"mat-label"),o._uU(26,"Telefonsz\xe1m"),o.qZA(),o._UZ(27,"input",14),o.YNc(28,_ie,2,0,"mat-error",7),o.qZA()()(),o.TgZ(29,"mat-form-field")(30,"mat-label"),o._uU(31,"Szall\xedt\xe1si c\xedm"),o.qZA(),o._UZ(32,"input",15),o.YNc(33,vie,2,0,"mat-error",7),o.qZA(),o.YNc(34,yie,7,0,"div",16),o.ALo(35,"async"),o.TgZ(36,"div",17)(37,"p",18),o._uU(38),o.qZA(),o.TgZ(39,"button",19),o.ALo(40,"async"),o._uU(41,"Rendel\xe9s meger\u0151s\xedt\xe9se"),o.qZA()()()()()}2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(2),o.Udp("display",r.contentLoaded?"block":"none"),o.xp6(3),o.Q6J("formGroup",r.shippingForm),o.xp6(3),o.Q6J("ngIf",!o.lcZ(9,14,r.user$)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(11,16,r.user$)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(13,18,r.user$)),o.xp6(9),o.Q6J("ngForOf",r.callingCodes),o.xp6(1),o.Q6J("ngIf",null==r.callingCode||null==r.callingCode.errors?null:r.callingCode.errors.required),o.xp6(6),o.Q6J("ngIf",null==r.phone||null==r.phone.errors?null:r.phone.errors.required),o.xp6(5),o.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.required),o.xp6(1),o.Q6J("ngIf",!o.lcZ(35,20,r.user$)),o.xp6(4),o.hij("V\xe9g\xf6sszeg: ",r.price," Ft"),o.xp6(1),o.Q6J("disabled",0==r.termsChecked&&!o.lcZ(40,22,r.user$)))},dependencies:[Cr,Mn,Hn,N1,dy,F1,hy,O1,L1,ym,sC,dF,uF,K1,iB,Z1,Kf,CF,WS,Ui],styles:[".shipping-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:25px auto auto;padding:48px;background-color:#fff;border-radius:16px}.shipping-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:8px}.shipping-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:22px;font-weight:800;color:#061e29;line-height:normal;border-bottom:1px solid #747474;padding-bottom:15px}.checkbox-with-text[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}.checkbox-with-text[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-top:0;white-space:nowrap;position:relative}.checkbox-with-text[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#1c202b;text-decoration:underline;cursor:pointer}.row-sec[_ngcontent-%COMP%]{display:flex;gap:5px}.row-sec[_ngcontent-%COMP%]   .row-in[_ngcontent-%COMP%]{display:flex;width:50%;gap:5px}.row-sec[_ngcontent-%COMP%]   .row-out[_ngcontent-%COMP%]{display:flex;width:50%}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:25px}.button-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;font-weight:100;margin:20px 0;border-bottom:1px solid #1C202B;width:100%;text-align:end;padding:0 0 15px}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;background-color:#1c202b;color:#fff;cursor:pointer;margin-left:calc(100% - 200px);height:55px;text-align:center;border-radius:.625rem;transition:all .5s ease}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]:hover{color:#eceff1}@media screen and (max-width: 550px){.shipping-container[_ngcontent-%COMP%]{padding:5px}.row[_ngcontent-%COMP%]{display:block}.row-sec[_ngcontent-%COMP%]{display:block;gap:5px}.row-sec[_ngcontent-%COMP%]   .row-in[_ngcontent-%COMP%], .row-sec[_ngcontent-%COMP%]   .row-out[_ngcontent-%COMP%]{width:100%}}",'.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px;position:relative;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#1c202b;flex:1;display:flex;align-items:center;border-bottom:1px solid #ccc;position:relative;gap:10px;margin:0 0 20px;min-width:600px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .pc-screen[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:20px;position:absolute;top:5px;left:150px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .pc-screen[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{position:absolute;top:25px;font-size:17px;left:150px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{width:140px;height:140px;background-color:#fff;position:absolute;overflow:hidden;z-index:2;border-radius:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{z-index:3;width:140px;background-color:#fff;height:140px;border-radius:5px;margin-right:10px;overflow:hidden;border:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;position:absolute;right:10px;bottom:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;gap:5px;position:absolute;left:145px;bottom:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff;font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff;transition:all .5s ease}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]:hover{filter:brightness(150%)}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]:active{background-color:#fff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff;transition:all .5s ease}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]:hover{filter:brightness(150%)}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]:active{background-color:#fff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100;transition:all .5s ease}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]:hover{background-color:#ef2158}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:15px 10px 15px 0;margin-left:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:10px 0 0;width:95vw;height:140px;min-width:0px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .mobile-screen[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:14px;margin-left:5px;position:absolute;top:5px;left:105px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .mobile-screen[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{margin-left:5px;position:absolute;top:20px;font-size:12px;left:105px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{left:0;bottom:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:14px;position:absolute;left:144px;bottom:13px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:10px;padding:0;margin:10px;position:absolute;left:100px;bottom:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:10px;padding:0;margin:10px;position:absolute;left:150px;bottom:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:16px;position:absolute;right:5px;bottom:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{width:100px;height:140px;overflow:hidden}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:auto;height:auto;max-height:100px;overflow:hidden}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:auto}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:100%}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;border-radius:.625rem;height:100%;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 800px){.checkout-container[_ngcontent-%COMP%]{padding:8px}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 800px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 800px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;background-color:#1c202b;color:#fff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border-radius:.625rem;transition:all .5s ease}.btn-hover[_ngcontent-%COMP%]:hover{color:#fff;background-color:#12151d}']})}return n})();const Cie=[Qo("slideInOut",[No("in",Vn({"max-height":"500px",opacity:"1",visibility:"visible"})),No("out",Vn({"max-height":"0px",opacity:"0",visibility:"hidden"})),pr("in => out",[wc([si("100ms ease-in-out",Vn({opacity:"0"})),si("200ms ease-in-out",Vn({"max-height":"0px"})),si("300ms ease-in-out",Vn({visibility:"hidden"}))])]),pr("out => in",[wc([si("300ms ease-in-out",Vn({visibility:"visible"})),si("300ms ease-in-out",Vn({"max-height":"500px"})),si("400ms ease-in-out",Vn({opacity:"1"}))])])])],wie=function(n){return{"image-active":n}};function xie(n,t){if(1&n&&o._UZ(0,"img",6),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("src",e.imageSrc,o.LSH)("alt",e.imageAlt)("ngClass",o.VKq(3,wie,r.selectedIndex===i))}}const Mie=function(n){return{active:n}};function Eie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",9),o.NdJ("click",function(){const s=o.CHM(e).index,l=o.oxw(3);return o.KtG(l.selectImage(s))}),o.qZA()}if(2&n){const e=t.index,i=o.oxw(3);o.Q6J("ngClass",o.VKq(1,Mie,i.selectedIndex===e))}}function Oie(n,t){if(1&n&&(o.TgZ(0,"div",7),o.YNc(1,Eie,1,3,"span",8),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.images)}}function Pie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",10)(1,"i",11),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onPrevClick())}),o.qZA()()}}function Iie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",12)(1,"i",13),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onNextClick())}),o.qZA()()}}function Tie(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,xie,1,5,"img",2),o.YNc(2,Oie,2,1,"div",3),o.YNc(3,Pie,2,0,"div",4),o.YNc(4,Iie,2,0,"div",5),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.images),o.xp6(1),o.Q6J("ngIf",e.indicators),o.xp6(1),o.Q6J("ngIf",e.controls),o.xp6(1),o.Q6J("ngIf",e.controls)}}let Sie=(()=>{class n{constructor(){this.images=[],this.indicators=!0,this.controls=!1,this.autoSlide=!1,this.slideInterval=4e3,this.contentLoaded=!1,this.selectedIndex=0}ngOnInit(){this.autoSlide&&this.autoSlideImages(),setTimeout(()=>{this.contentLoaded=!0},2e3)}autoSlideImages(){setInterval(()=>{this.onNextClick()},this.slideInterval)}selectImage(e){this.selectedIndex=e}onPrevClick(){0===this.selectedIndex?this.selectedIndex=this.images.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.images.length-1?this.selectedIndex=0:this.selectedIndex++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-fragrance-carousel"]],inputs:{images:"images",indicators:"indicators",controls:"controls",autoSlide:"autoSlide",slideInterval:"slideInterval"},decls:1,vars:1,consts:[["class","carousel-container",4,"ngIf"],[1,"carousel-container"],["class","fade",3,"src","alt","ngClass",4,"ngFor","ngForOf"],["class","carousel-dot-container",4,"ngIf"],["class","btn-carousel btn-prev",4,"ngIf"],["class","btn-carousel btn-next",4,"ngIf"],[1,"fade",3,"src","alt","ngClass"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"],[1,"btn-carousel","btn-prev"],[1,"fas","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fas","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"]],template:function(i,r){1&i&&o.YNc(0,Tie,5,4,"div",0),2&i&&o.Q6J("ngIf",r.images&&r.images.length>0)},dependencies:[Cr,Mn,Hn],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;margin:auto;text-align:center;width:auto;max-width:1400px}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:.625rem;transition:all .5s ease}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.dot[_ngcontent-%COMP%]{cursor:pointer;height:13px;width:13px;margin:0 5px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacitiy .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1}.fade[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade;animation-duration:.7s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.8}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;cursor:pointer}.icon-carousel[_ngcontent-%COMP%]{opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:35px}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}@media screen and (max-width: 1080px){.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{border-radius:0rem;transition:all .5s ease}}"]})}return n})();const Die=function(){return{width:"50px",height:"50px",margin:"3px"}};function Aie(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",24),2&n&&o.Q6J("theme",o.DdM(1,Die))}function kie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"img",22),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.modalService.changeMainImage(s))}),o.qZA(),o.YNc(2,Aie,1,2,"ngx-skeleton-loader",23),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Udp("display",i.contentLoaded?"flex":"none"),o.Q6J("src",e,o.LSH),o.xp6(1),o.Q6J("ngIf",!i.contentLoaded)}}function Rie(n,t){if(1&n&&(o.TgZ(0,"div",25)(1,"p",13),o._uU(2,"Fejillat: "),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw();o.xp6(3),o.hij("",e.product.composition.head," ")}}function Nie(n,t){if(1&n&&(o.TgZ(0,"div",25)(1,"p",13),o._uU(2,"Sz\xedvillat: "),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw();o.xp6(3),o.hij("",e.product.composition.hearth," ")}}function Fie(n,t){if(1&n&&(o.TgZ(0,"div",25)(1,"p",13),o._uU(2,"Alapillat: "),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw();o.xp6(3),o.hij("",e.product.composition.base," ")}}function Lie(n,t){if(1&n&&(o.TgZ(0,"div",25)(1,"p",13),o._uU(2,"Illat: "),o.qZA(),o._uU(3),o.qZA()),2&n){const e=o.oxw();o.xp6(3),o.hij("",e.product.composition.scentType," ")}}function Uie(n,t){1&n&&(o.TgZ(0,"i",26),o._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),o.qZA())}function Vie(n,t){if(1&n&&(o.TgZ(0,"div",27),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.product.composition.compDescription," ")}}function Bie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",28),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw();return o.KtG(l.services.selectItem(s))}),o.TgZ(1,"div",29),o._uU(2),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.ekj("selected",i.services.selectedSize===e),o.xp6(1),o.AsE("",e.size," ",e.price," Ft")}}function zie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",30),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._uU(1," Hozz\xe1ad\xe1s a kos\xe1rhoz"),o.qZA()}}function jie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",30),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.addToCart(r.product))}),o._UZ(1,"i",31),o.qZA()}}function Hie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",32)(1,"div",33)(2,"p",34),o._uU(3),o.qZA(),o.TgZ(4,"p",34)(5,"span"),o._uU(6,"Fejillat: "),o.qZA(),o._uU(7),o.qZA(),o.TgZ(8,"p",34)(9,"span"),o._uU(10,"Sz\xedvillat: "),o.qZA(),o._uU(11),o.qZA(),o.TgZ(12,"p",34)(13,"span"),o._uU(14,"Alapillat: "),o.qZA(),o._uU(15),o.qZA(),o.TgZ(16,"p",34)(17,"span"),o._uU(18,"Illat: "),o.qZA(),o._uU(19),o.qZA(),o.TgZ(20,"p",13),o._uU(21,"Term\xe9kjellemz\u0151: "),o.qZA(),o._uU(22),o.TgZ(23,"button",35),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.showDetails())}),o._UZ(24,"i",20),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(3),o.hij("",e.product.scent," "),o.xp6(4),o.hij(" ",e.product.composition.head," "),o.xp6(4),o.hij(" ",e.product.composition.hearth," "),o.xp6(4),o.hij(" ",e.product.composition.base," "),o.xp6(4),o.hij(" ",e.product.composition.scentType," "),o.xp6(3),o.hij(" ",e.product.composition.compDescription," ")}}const qie=function(){return{display:"block"}};let Zie=(()=>{class n{constructor(e,i,r,s){this.router=e,this.productService=i,this.modalService=r,this.services=s,this.contentLoaded=!1,this.routerSubscription=this.router.events.subscribe(l=>{l instanceof mm&&this.modalService.closeModal()})}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},500)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ms),o.Y36(ca),o.Y36(vm),o.Y36(es))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-modal"]],inputs:{product:"product"},decls:30,vars:18,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],["class","composition-description",4,"ngIf"],[1,"composition-description",3,"ngStyle","click"],[1,"comp-desc-p"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-size-buttons-container"],[3,"click",4,"ngFor","ngForOf"],["class","cart-btn",3,"click",4,"ngIf"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],["appearance","line",3,"theme",4,"ngIf"],["appearance","line",3,"theme"],[1,"composition-description"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["tabindex","0",1,"item-size-buttons"],[1,"cart-btn",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o._uU(6),o.qZA(),o.TgZ(7,"div",5),o._uU(8),o.qZA(),o._UZ(9,"img",6),o.TgZ(10,"div",7),o.YNc(11,kie,3,4,"div",8),o.qZA()(),o.TgZ(12,"div",9)(13,"div",10),o.YNc(14,Rie,4,1,"div",11),o.YNc(15,Nie,4,1,"div",11),o.YNc(16,Fie,4,1,"div",11),o.YNc(17,Lie,4,1,"div",11),o.TgZ(18,"div",12),o.NdJ("click",function(){return r.modalService.showDetails()}),o.TgZ(19,"p",13),o._uU(20,"Term\xe9kjellemz\u0151: "),o.YNc(21,Uie,2,0,"i",14),o.qZA(),o.YNc(22,Vie,2,1,"div",15),o.qZA()(),o.TgZ(23,"div",16),o.YNc(24,Bie,3,4,"div",17),o.qZA(),o.YNc(25,zie,2,0,"div",18),o.YNc(26,jie,2,0,"div",18),o.qZA(),o.TgZ(27,"button",19),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(28,"i",20),o.qZA(),o.YNc(29,Hie,25,6,"div",21),o.qZA()()),2&i&&(o.xp6(4),o.AsE(" ",r.product.productName," ",r.services.selectedSize,""),o.xp6(2),o.hij("",r.product.scent," "),o.xp6(2),o.hij("",r.services.selectedSizePrice," Ft"),o.xp6(1),o.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],o.LSH),o.xp6(2),o.Q6J("ngForOf",r.product.modalImagePath),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngStyle",o.DdM(17,qie)),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(2),o.Q6J("ngForOf",r.product.type),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>700),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth<=700),o.xp6(3),o.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=700))},dependencies:[Mn,Hn,ho,Kf],styles:[".modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:20}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column;z-index:21}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{flex-direction:row;display:flex;overflow-x:scroll;width:65%;bottom:0;position:absolute}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#1c202b;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(-n+6){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]   .mobile-comp-desc-i[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p-details[_ngcontent-%COMP%]{color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;margin-left:5px;top:50%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333;align-items:center;text-align:center;justify-content:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-left:5px;position:absolute;top:60%;-webkit-user-select:none;user-select:none;text-align:center}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;display:flex;padding-left:5px;padding-right:5px;width:90px;height:40px;text-align:center;justify-content:center;align-items:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]{border-bottom:1px solid #ececec;padding-bottom:10px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]   .mobile-comp-desc-p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:14px;padding:10px 0 5px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:5%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{position:relative;top:0%;left:10px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{top:-10px;right:-10px;font-size:13px;width:25px;height:25px}}@media screen and (min-width: 550px) and (max-width: 700px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:active{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:70%;height:80%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:13px;width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 701px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}"]})}return n})();function $ie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseLeave(s))}),o.TgZ(1,"div",5),o._uU(2),o.TgZ(3,"p",6),o._uU(4),o.qZA(),o.TgZ(5,"p",7),o._uU(6),o.qZA()(),o.TgZ(7,"div",8),o._UZ(8,"img",9),o.qZA(),o.TgZ(9,"div",10),o._uU(10),o.TgZ(11,"p",11),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function Gie(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"div",2),o.YNc(2,$ie,13,5,"div",3),o.ALo(3,"async"),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,e.productService.diorQuery$))}}let bz=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dior-fragrances"]],decls:1,vars:1,consts:[["class","product-container",4,"ngIf"],[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,Gie,4,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isDiorChecked)},dependencies:[Mn,Hn,Ui],styles:[".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function Wie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseLeave(s))}),o.TgZ(1,"div",5),o._uU(2),o.TgZ(3,"p",6),o._uU(4),o.qZA(),o.TgZ(5,"p",7),o._uU(6),o.qZA()(),o.TgZ(7,"div",8),o._UZ(8,"img",9),o.qZA(),o.TgZ(9,"div",10),o._uU(10),o.TgZ(11,"p",11),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function Yie(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"div",2),o.YNc(2,Wie,13,5,"div",3),o.ALo(3,"async"),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,e.productService.JPGQuery$))}}let Kie=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-jpg-fragrances"]],decls:1,vars:1,consts:[["class","product-container",4,"ngIf"],[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,Yie,4,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isJPGChecked)},dependencies:[Mn,Hn,Ui],styles:[".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function Qie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseLeave(s))}),o.TgZ(1,"div",5),o._uU(2),o.TgZ(3,"p",6),o._uU(4),o.qZA(),o.TgZ(5,"p",7),o._uU(6),o.qZA()(),o.TgZ(7,"div",8),o._UZ(8,"img",9),o.qZA(),o.TgZ(9,"div",10),o._uU(10),o.TgZ(11,"p",11),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function Jie(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"div",2),o.YNc(2,Qie,13,5,"div",3),o.ALo(3,"async"),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,e.productService.lancomeQuery$))}}let Xie=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-lancome-fragrances"]],decls:1,vars:1,consts:[["class","product-container",4,"ngIf"],[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,Jie,4,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isLancomeChecked)},dependencies:[Mn,Hn,Ui],styles:[".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function ere(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseLeave(s))}),o.TgZ(1,"div",5),o._uU(2),o.TgZ(3,"p",6),o._uU(4),o.qZA(),o.TgZ(5,"p",7),o._uU(6),o.qZA()(),o.TgZ(7,"div",8),o._UZ(8,"img",9),o.qZA(),o.TgZ(9,"div",10),o._uU(10),o.TgZ(11,"p",11),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function tre(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"div",2),o.YNc(2,ere,13,5,"div",3),o.ALo(3,"async"),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,e.productService.womanFragrances$))}}let nre=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-woman-fragrances"]],decls:1,vars:1,consts:[["class","product-container",4,"ngIf"],[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,tre,4,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isWomanChecked)},dependencies:[Mn,Hn,Ui],styles:[".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function ire(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseLeave(s))}),o.TgZ(1,"div",5),o._uU(2),o.TgZ(3,"p",6),o._uU(4),o.qZA(),o.TgZ(5,"p",7),o._uU(6),o.qZA()(),o.TgZ(7,"div",8),o._UZ(8,"img",9),o.qZA(),o.TgZ(9,"div",10),o._uU(10),o.TgZ(11,"p",11),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function rre(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"div",2),o.YNc(2,ire,13,5,"div",3),o.ALo(3,"async"),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,1,e.productService.manFragrances$))}}let ore=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-man-fragrances"]],decls:1,vars:1,consts:[["class","product-container",4,"ngIf"],[1,"product-container"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,rre,4,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isManChecked)},dependencies:[Mn,Hn,Ui],styles:[".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})(),sre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-settings-button"]],decls:4,vars:0,consts:[[1,"setting-btn"],[1,"bar","bar1"],[1,"bar","bar2"]],template:function(i,r){1&i&&(o.TgZ(0,"button",0),o._UZ(1,"span",1)(2,"span",2)(3,"span",1),o.qZA())},styles:['.setting-btn[_ngcontent-%COMP%]{width:45px;height:45px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;background-color:#1c202b;border-radius:10px;cursor:pointer;border:none;margin-left:10px;margin-top:40px;box-shadow:0 6px 20px #00000030}.bar[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#e5e5e5;display:flex;align-items:center;justify-content:center;position:relative;border-radius:2px}.bar[_ngcontent-%COMP%]:before{content:"";width:2px;height:2px;background-color:#1c202b;position:absolute;border-radius:50%;border:2px solid white;transition:all .3s}.bar1[_ngcontent-%COMP%]:before{transform:translate(-4px)}.bar2[_ngcontent-%COMP%]:before{transform:translate(4px)}.setting-btn[_ngcontent-%COMP%]:hover   .bar1[_ngcontent-%COMP%]:before{transform:translate(4px)}.setting-btn[_ngcontent-%COMP%]:hover   .bar2[_ngcontent-%COMP%]:before{transform:translate(-4px)}']})}return n})();function are(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",14),o.NdJ("click",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,l=o.oxw(2);return o.KtG(l.productService.mouseLeave(s))}),o.TgZ(1,"div",15),o._uU(2),o.TgZ(3,"p",16),o._uU(4),o.qZA(),o.TgZ(5,"p",17),o._uU(6),o.qZA()(),o.TgZ(7,"div",18),o._UZ(8,"img",19),o.qZA(),o.TgZ(9,"div",20),o._uU(10),o.TgZ(11,"p",21),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function cre(n,t){if(1&n&&(o.TgZ(0,"div",12),o.YNc(1,are,13,5,"div",13),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.productService.fragrances$))}}function lre(n,t){1&n&&(o.TgZ(0,"div",22),o._UZ(1,"app-man-fragrances")(2,"app-woman-fragrances")(3,"app-dior-fragrances")(4,"app-jpg-fragrances")(5,"app-lancome-fragrances"),o.qZA())}function ure(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-modal",23),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}function dre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-added-to-cart-alert",24),o.NdJ("closeAddedModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeAddedModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}let hre=(()=>{class n{constructor(e,i,r,s){this.services=e,this.firestore=i,this.productService=r,this.renderer=s,this.contentLoaded=!1,this.jeanPaulBrandImg="./assets/images/commercial/jpg_logo.png",this.diorBrandImg="./assets/images/commercial/dior_logo.png",this.lancomeBrandImg="./assets/images/commercial/lancome_logo.png",this.screenWidth=0,this.animationState="out",this.images=[{imageSrc:"./assets/images/commercial/scandal_commercial_ps_copy.jpg",imageAlt:"scandal"},{imageSrc:"./assets/images/commercial/dior_commercial_ps_copy.jpg",imageAlt:"sauvage"}],this.mobileImages=[{imageSrc:"./assets/images/commercial/scandal_commercial_mobile_ps_copy.jpg"},{imageSrc:"./assets/images/commercial/dior_commercial_mobile_ps_copy.jpg"}],this.currentImages=this.images,this.updateImagesBasedOnScreenWidth()}ngOnInit(){this.screenWidth=window.innerWidth,setTimeout(()=>{this.contentLoaded=!0},1e3)}toggleShowDiv(e){"divA"===e&&(this.animationState="out"===this.animationState?"in":"out")}onResize(e){this.updateImagesBasedOnScreenWidth()}updateImagesBasedOnScreenWidth(){this.screenWidth=window.innerWidth,this.currentImages=this.screenWidth<700?this.mobileImages:this.images}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(es),o.Y36(Nl),o.Y36(ca),o.Y36(o.Qsj))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-fragrances"]],hostBindings:function(i,r){1&i&&o.NdJ("resize",function(l){return r.onResize(l)},!1,o.Jf7)},decls:23,vars:24,consts:[[3,"images","autoSlide"],[3,"click"],[1,"divA"],[1,"checkbox-all",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-w",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-m",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-b",3,"ngModel","ngModelChange","change"],[1,"product-container"],["class","product-card-container","style","min-height: 100vh;",4,"ngIf"],["class","filtered-fragrances-container",4,"ngIf"],[3,"product","closeModalEvent",4,"ngIf"],[3,"product","closeAddedModalEvent",4,"ngIf"],[1,"product-card-container",2,"min-height","100vh"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[1,"filtered-fragrances-container"],[3,"product","closeModalEvent"],[3,"product","closeAddedModalEvent"]],template:function(i,r){1&i&&(o._UZ(0,"app-skeleton-loader")(1,"app-fragrance-carousel",0),o.TgZ(2,"app-settings-button",1),o.NdJ("click",function(){return r.toggleShowDiv("divA")}),o.qZA(),o.TgZ(3,"div",2)(4,"mat-checkbox",3),o.NdJ("ngModelChange",function(l){return r.productService.isAllChecked=l})("change",function(){return r.productService.onCheckboxChange("isAllChecked")}),o._uU(5,"Mindet mutat"),o.qZA(),o.TgZ(6,"mat-checkbox",4),o.NdJ("ngModelChange",function(l){return r.productService.isWomanChecked=l})("change",function(){return r.productService.onCheckboxChange("isWomanChecked")}),o._uU(7,"N\u0151i"),o.qZA(),o.TgZ(8,"mat-checkbox",5),o.NdJ("ngModelChange",function(l){return r.productService.isManChecked=l})("change",function(){return r.productService.onCheckboxChange("isManChecked")}),o._uU(9,"F\xe9rfi"),o.qZA(),o.TgZ(10,"mat-checkbox",6),o.NdJ("ngModelChange",function(l){return r.productService.isDiorChecked=l})("change",function(){return r.productService.onCheckboxChange("isDiorChecked")}),o._uU(11,"Dior"),o.qZA(),o.TgZ(12,"mat-checkbox",6),o.NdJ("ngModelChange",function(l){return r.productService.isLancomeChecked=l})("change",function(){return r.productService.onCheckboxChange("isLancomeChecked")}),o._uU(13,"Lancome"),o.qZA(),o.TgZ(14,"mat-checkbox",6),o.NdJ("ngModelChange",function(l){return r.productService.isJPGChecked=l})("change",function(){return r.productService.onCheckboxChange("isJPGChecked")}),o._uU(15,"Jean Paul Gaultier"),o.qZA()(),o.TgZ(16,"div")(17,"div",7),o.YNc(18,cre,3,3,"div",8),o.qZA()(),o.YNc(19,lre,6,0,"div",9),o._UZ(20,"app-footer"),o.YNc(21,ure,1,1,"app-modal",10),o.YNc(22,dre,1,1,"app-added-to-cart-alert",11)),2&i&&(o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.Q6J("images",r.currentImages)("autoSlide",!0),o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.Q6J("@slideInOut",r.animationState),o.xp6(1),o.Q6J("ngModel",r.productService.isAllChecked)("disabled",!0===r.productService.isAllChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isWomanChecked)("disabled",!0===r.productService.isManChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isManChecked)("disabled",!0===r.productService.isWomanChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isDiorChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isLancomeChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isJPGChecked),o.xp6(2),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(2),o.Q6J("ngIf",!0===r.productService.isAllChecked),o.xp6(1),o.Q6J("ngIf",!r.productService.isAllChecked),o.xp6(2),o.Q6J("ngIf",r.productService.isModalOpen),o.xp6(1),o.Q6J("ngIf",r.services.addedToCart))},dependencies:[Mn,Hn,hy,Z1,SS,Sie,Zie,bz,Kie,Xie,nre,ore,sre,mS,vS,yS,Ui],styles:[".brands-container[_ngcontent-%COMP%]{background-color:#1c202b;border-radius:15px;display:flex;margin-bottom:50px;align-items:center;justify-content:center;transition:all .5s ease;box-shadow:0 6px 20px #00000030}.brands-container[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;width:auto;height:auto;aspect-ratio:3/2;object-fit:contain;cursor:pointer;transition:all .4s ease;filter:brightness(300%)}.brands-container[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]:hover{filter:brightness(200%)}.filtered-fragrances-container[_ngcontent-%COMP%]{min-height:100vh}@media screen and (max-width: 550px){.brands-container[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{display:flex}}@media screen and (max-width: 1080px){.brands-container[_ngcontent-%COMP%]{border-radius:0;transition:all .5s ease}}app-settings-button[_ngcontent-%COMP%]{width:45px;display:block}.divA[_ngcontent-%COMP%]{display:flex;color:#333;flex-direction:column;border-radius:.625rem;background-color:#fff;margin:1.25rem}",".product-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]{width:1100px;flex-wrap:wrap;justify-content:center;display:flex}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 6px 20px #00000030;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500;position:relative}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:100px;height:68px;position:absolute;display:flex;top:0;right:0;background-color:#1c202b;align-items:center;justify-content:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:27px;color:#fff;font-weight:900}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]{height:73px;align-items:center;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#999;bottom:0;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#999;width:100%}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .original-tol[_ngcontent-%COMP%]{color:#999;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]{padding:5px 0 0 15px;display:flex;font-weight:400;font-size:22px;color:#fff;width:100%;text-decoration:none}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-original-price[_ngcontent-%COMP%]   .discount-price[_ngcontent-%COMP%]   .discount-tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:2px 0 0 5px}.product-container[_ngcontent-%COMP%]   .product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:100%;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"],data:{animation:[Cie]}})}return n})();const fre=function(){return{"max-width":"500px",height:"500px",width:"90vw","border-radius":"15px"}};function pre(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",2),2&n&&o.Q6J("theme",o.DdM(1,fre))}function mre(n,t){if(1&n&&(o.TgZ(0,"div",3),o._UZ(1,"app-login"),o.qZA()),2&n){const e=o.oxw();o.Udp("display",e.contentLoaded?"block":"none")}}let gre=(()=>{class n{constructor(){this.contentLoaded=!1}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},500)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-user"]],decls:2,vars:2,consts:[["class","mid screen-width","appearance","circle",3,"theme",4,"ngIf"],["class","app-login-container",3,"display",4,"ngIf"],["appearance","circle",1,"mid","screen-width",3,"theme"],[1,"app-login-container"]],template:function(i,r){1&i&&(o.YNc(0,pre,1,2,"ngx-skeleton-loader",0),o.YNc(1,mre,2,2,"div",1)),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",r.contentLoaded))},dependencies:[Hn,Kf,NV]})}return n})();const Cz=()=>(n=>(0,$2.z)(xF,(0,mn.U)(t=>t||n)))(["login"]),wz=()=>$B(["user"]),_re=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:TW},{path:"products",component:WW},{path:"accessories",component:RY},{path:"fragrances",component:hre},{path:"shopping-cart",component:pJ},{path:"shipping",component:bie},{path:"dior",component:bz},{path:"landing",component:Mte},{path:"user",component:gre,...X1(()=>$B(["user/profile"]))},{path:"user/login",component:NV,...X1(wz)},{path:"user/sign-up",component:wte,...X1(wz)},{path:"user/orders",component:pne,...X1(Cz)},{path:"user/profile",component:EF,...X1(Cz)}];let vre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[vN.forRoot(_re,{useHash:!0}),vN]})}return n})(),yre=(()=>{class n{constructor(){this.collapsed=!1,this.screenWidth=0,this.closed=!1}getBodyClass(){let e="";return this.collapsed&&this.screenWidth>1080&&(e="body-trimmed"),this.closed&&this.screenWidth<=1080&&this.screenWidth>0&&(e="body-md-screen",e="body-mobile-closed"),e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-body"]],inputs:{collapsed:"collapsed",screenWidth:"screenWidth",closed:"closed"},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o._UZ(1,"router-outlet"),o.qZA()),2&i&&o.Q6J("ngClass",r.getBodyClass())},dependencies:[Cr,cN],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100%;margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background-attachment:fixed}@media screen and (max-width: 700px){.body[_ngcontent-%COMP%]{margin-left:0rem}}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.body-mobile-closed[_ngcontent-%COMP%]{width:100%;margin-left:0rem}@media screen and (min-width: 1080px){.body[_ngcontent-%COMP%]{padding:1rem 1rem .25rem}}"]})}return n})(),bre=0;const Cre=hC(class{}),xz="mat-badge-content";let wre=(()=>{class n extends Cre{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=kr(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=kr(e)}constructor(e,i,r,s,l){super(),this._ngZone=e,this._elementRef=i,this._ariaDescriber=r,this._renderer=s,this._animationMode=l,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=bre++,this._isInitialized=!1,this._interactivityChecker=(0,o.f3M)(eQ),this._document=(0,o.f3M)(Ae)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(xz),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){const i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${xz}`);for(const i of Array.from(e))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(QK),o.Y36(o.Qsj),o.Y36(o.QbO,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){2&i&&o.ekj("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[o.qOj]})}return n})(),Mz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[bQ,ts,ts]})}return n})();function xre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleOpen())}),o._UZ(1,"i",10),o.qZA()}2&n&&o.Q6J("@fadeInOut",void 0)}function Mre(n,t){1&n&&(o.TgZ(0,"div",11),o._uU(1,"Logo"),o.qZA()),2&n&&o.Q6J("@fadeInOut",void 0)}function Ere(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleOpen())}),o._UZ(1,"i",13),o.qZA()}2&n&&o.Q6J("@rotate",void 0)("@fadeInOut",void 0)}function Ore(n,t){if(1&n&&(o.TgZ(0,"div",5),o.YNc(1,xre,2,1,"button",6),o.YNc(2,Mre,2,1,"div",7),o.YNc(3,Ere,2,2,"button",8),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.closed||e.opened),o.xp6(1),o.Q6J("ngIf",e.opened),o.xp6(1),o.Q6J("ngIf",e.opened)}}function Pre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleCollapse())}),o._UZ(1,"i",10),o.qZA()}2&n&&o.Q6J("@fadeInOut",void 0)}function Ire(n,t){1&n&&(o.TgZ(0,"div",11),o._uU(1,"Logo"),o.qZA()),2&n&&o.Q6J("@fadeInOut",void 0)}function Tre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleCollapse())}),o._UZ(1,"i",13),o.qZA()}2&n&&o.Q6J("@rotate",void 0)("@fadeInOut",void 0)}function Sre(n,t){if(1&n&&(o.TgZ(0,"div",5),o.YNc(1,Pre,2,1,"button",6),o.YNc(2,Ire,2,1,"div",7),o.YNc(3,Tre,2,2,"button",8),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.closed||e.collapsed),o.xp6(1),o.Q6J("ngIf",e.collapsed),o.xp6(1),o.Q6J("ngIf",e.collapsed)}}function Dre(n,t){if(1&n&&o._UZ(0,"i",22),2&n){const e=o.oxw(2).$implicit;o.Tol(e.icon),o.Q6J("@fadeInOut",void 0)}}function Are(n,t){if(1&n&&(o.TgZ(0,"span",23),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.Q6J("@fadeInOut",void 0),o.xp6(1),o.hij(" ",e.label," ")}}function kre(n,t){if(1&n&&o._UZ(0,"mat-icon",24),2&n){const e=o.oxw(2).$implicit;o.s9C("matBadge",e.badge),o.Q6J("@fadeInOut",void 0)("matBadgeHidden",!e.badge)}}const Ez=function(n){return[n]},Oz=function(){return{exact:!0}};function Rre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",18),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(3);return o.KtG(r.toggleOpen())}),o.YNc(1,Dre,1,3,"i",19),o.YNc(2,Are,2,2,"span",20),o.YNc(3,kre,1,3,"mat-icon",21),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(2);o.Q6J("routerLink",o.VKq(6,Ez,e.routerLink))("@fadeInOut",void 0)("routerLinkActiveOptions",o.DdM(8,Oz)),o.xp6(1),o.Q6J("ngIf",!i.closed||i.opened),o.xp6(1),o.Q6J("ngIf",i.collapsed||i.opened),o.xp6(1),o.Q6J("ngIf",!i.closed||i.opened)}}function Nre(n,t){if(1&n&&(o.TgZ(0,"li",16),o.YNc(1,Rre,4,9,"a",17),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("@fadeInOut",void 0),o.xp6(1),o.Q6J("ngIf",!e.closed||e.opened)}}function Fre(n,t){if(1&n&&(o.TgZ(0,"ul",14),o.YNc(1,Nre,2,2,"li",15),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.navData)}}function Lre(n,t){if(1&n&&o._UZ(0,"i",22),2&n){const e=o.oxw(2).$implicit;o.Tol(e.icon),o.Q6J("@fadeInOut",void 0)}}function Ure(n,t){if(1&n&&(o.TgZ(0,"span",23),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.Q6J("@fadeInOut",void 0),o.xp6(1),o.hij(" ",e.label," ")}}function Vre(n,t){if(1&n&&o._UZ(0,"mat-icon",31),2&n){const e=o.oxw(2).$implicit;o.s9C("matBadge",e.badge),o.Q6J("@fadeInOut",void 0)("matBadgeHidden",!e.badge)}}function Bre(n,t){if(1&n&&(o.TgZ(0,"a",29),o.YNc(1,Lre,1,3,"i",19),o.YNc(2,Ure,2,2,"span",20),o.YNc(3,Vre,1,3,"mat-icon",30),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw(2);o.Q6J("routerLink",o.VKq(6,Ez,e.routerLink))("@fadeInOut",void 0)("routerLinkActiveOptions",o.DdM(8,Oz)),o.xp6(1),o.Q6J("ngIf",!i.closed||i.opened),o.xp6(1),o.Q6J("ngIf",i.collapsed||i.opened),o.xp6(1),o.Q6J("ngIf",!i.closed||i.opened)}}function zre(n,t){if(1&n&&(o.TgZ(0,"li",27),o.YNc(1,Bre,4,9,"a",28),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("@fadeInOut",void 0),o.xp6(1),o.Q6J("ngIf",!e.closed||e.opened)}}function jre(n,t){if(1&n&&(o.TgZ(0,"ul",25),o.YNc(1,zre,2,2,"li",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.navData)}}const Hre=function(n,t,e){return{"sidenav-collapsed":n,"sidenav-closed-mobile":t,"sidenav-opened-mobile":e}},qre=function(n,t){return{opacity:n,"pointer-events":t}};let Zre=(()=>{class n{constructor(e,i,r){this.modalService=e,this.elementRef=i,this.productService=r,this.onToggleSideNav=new o.vpe,this.collapsed=!1,this.closed=!1,this.opened=!1,this.screenwidth=0,this.navData=E1,this.contentLoaded=!1,this.lastScrollPosition=0}clickOutside(e){this.elementRef.nativeElement.contains(e.target)||(this.opened=!1,this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}onResize(e){this.screenwidth=window.innerWidth,this.screenwidth<=700&&(this.collapsed=!1,this.closed=!0,this.opened=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth})),this.screenwidth>700&&(this.collapsed=!1,this.closed=!1,this.opened=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}onScroll(e){const r=window.scrollY;Math.abs(r-this.lastScrollPosition)>200&&(r>this.lastScrollPosition?this.element&&(this.element.style.opacity="0",this.element.style.transition="opacity 0.2s ease-in-out",this.element.style.pointerEvents="none"):this.element&&(this.element.style.opacity="1",this.element.style.transition="opacity 0.2s ease-in-out",this.element.style.pointerEvents="auto"),this.lastScrollPosition=r)}ngOnInit(){this.screenwidth=window.innerWidth,this.element=document.querySelector(".sidenav-link-open"),window.innerWidth<=700&&(this.closed=!0,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth})),setTimeout(()=>{this.contentLoaded=!0},1500)}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),!1===this.collapsed&&(this.closed=!1)}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),this.closed=!1}toggleOpen(){this.opened=!this.opened,this.onToggleSideNav.emit({collapsed:this.collapsed,closed:this.closed,screenwidth:this.screenwidth})}toggleByWidth(){return this.screenwidth<700?this.toggleOpen():this.toggleCollapse()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(vm),o.Y36(o.SBq),o.Y36(ca))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sidenav"]],hostBindings:function(i,r){1&i&&o.NdJ("click",function(l){return r.clickOutside(l)},!1,o.evT)("resize",function(l){return r.onResize(l)},!1,o.Jf7)("scroll",function(l){return r.onScroll(l)},!1,o.Jf7)},outputs:{onToggleSideNav:"onToggleSideNav"},decls:6,vars:15,consts:[[1,"sidenav",3,"ngClass","click"],["class","logo-container",4,"ngIf"],["class","sidenav-nav-mobile",4,"ngIf"],["class","sidenav-nav",4,"ngIf"],[1,"sidenav-link-open","fa","fa-angle-double-right",3,"ngStyle","click"],[1,"logo-container"],["class","logo",3,"click",4,"ngIf"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"logo",3,"click"],["aria-hidden","true",1,"fa","fa-bars"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav-mobile"],["class","sidenav-nav-item-mobile",4,"ngFor","ngForOf"],[1,"sidenav-nav-item-mobile"],["href","","class","sidenav-nav-link-mobile","routerLinkActive","mobile-active",3,"routerLink","routerLinkActiveOptions","click",4,"ngIf"],["href","","routerLinkActive","mobile-active",1,"sidenav-nav-link-mobile",3,"routerLink","routerLinkActiveOptions","click"],["class","sidenav-link-icon",3,"class",4,"ngIf"],["class","sidenav-link-text",4,"ngIf"],["aria-hidden","false","class","cart-badge","matBadgeColor","warn","matBadgeOverlap","false",3,"matBadge","matBadgeHidden",4,"ngIf"],[1,"sidenav-link-icon"],[1,"sidenav-link-text"],["aria-hidden","false","matBadgeColor","warn","matBadgeOverlap","false",1,"cart-badge",3,"matBadge","matBadgeHidden"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],[1,"sidenav-nav-item"],["href","","class","sidenav-nav-link","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["href","","routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],["class","cart-badge","matBadgeColor","warn","matBadgeOverlap","false",3,"matBadge","matBadgeHidden",4,"ngIf"],["matBadgeColor","warn","matBadgeOverlap","false",1,"cart-badge",3,"matBadge","matBadgeHidden"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return r.modalService.closeModal()})("click",function(){return r.productService.closeAddedModal()}),o.YNc(1,Ore,4,3,"div",1),o.YNc(2,Sre,4,3,"div",1),o.YNc(3,Fre,2,1,"ul",2),o.YNc(4,jre,2,1,"ul",3),o.qZA(),o.TgZ(5,"i",4),o.NdJ("click",function(){return r.modalService.closeModal()})("click",function(){return r.toggleOpen()}),o.qZA()),2&i&&(o.Q6J("ngClass",o.kEZ(8,Hre,r.collapsed,r.closed,r.opened)),o.xp6(1),o.Q6J("ngIf",r.screenwidth<700),o.xp6(1),o.Q6J("ngIf",r.screenwidth>=700),o.xp6(1),o.Q6J("ngIf",r.screenwidth<700),o.xp6(1),o.Q6J("ngIf",r.screenwidth>=700),o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.Q6J("ngStyle",o.WLB(12,qre,r.productService.isModalOpen?"0":"1",r.productService.isModalOpen?"none":"auto")))},dependencies:[Cr,Mn,Hn,ho,bu,mN,wre,sF],styles:[".sidenav[_ngcontent-%COMP%]{background:#1C202B;-webkit-user-select:none;user-select:none;transition:all .5s ease;position:fixed;z-index:100;top:0;width:5rem;height:100vh}@media screen and (max-width: 700px){.sidenav[_ngcontent-%COMP%]{width:0rem}}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{color:#000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-closed-mobile[_ngcontent-%COMP%]{width:0rem;transition:.5s ease}.sidenav-closed-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex}.sidenav-closed-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .sidenav-closed-mobile[_ngcontent-%COMP%]   .sidenav-nav[_ngcontent-%COMP%]{display:none}.sidenav-opened-mobile[_ngcontent-%COMP%]{width:16.5625rem;transition:.5s ease}.sidenav-opened-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex}.sidenav-opened-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:block}.sidenav-opened-mobile[_ngcontent-%COMP%]   .sidenav-nav[_ngcontent-%COMP%]{display:flex}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.55625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sidenav-nav-mobile[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav-mobile[_ngcontent-%COMP%]   .sidenav-nav-item-mobile[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav-mobile[_ngcontent-%COMP%]   .sidenav-nav-item-mobile[_ngcontent-%COMP%]   .sidenav-nav-link-mobile[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#fff;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav-mobile[_ngcontent-%COMP%]   .sidenav-nav-item-mobile[_ngcontent-%COMP%]   .sidenav-nav-link-mobile[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav-mobile[_ngcontent-%COMP%]   .sidenav-nav-item-mobile[_ngcontent-%COMP%]   .sidenav-nav-link-mobile[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav-mobile[_ngcontent-%COMP%]   .sidenav-nav-item-mobile[_ngcontent-%COMP%]   .sidenav-nav-link-mobile[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav-mobile[_ngcontent-%COMP%]   .sidenav-nav-item-mobile[_ngcontent-%COMP%]:active   .sidenav-nav-link-mobile[_ngcontent-%COMP%]{background-color:#fff;color:#000}.mobile-active[_ngcontent-%COMP%]{background-color:#fff}.mobile-active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .mobile-active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}.sidenav-link-close-container[_ngcontent-%COMP%]   .sidenav-link-close[_ngcontent-%COMP%]{color:#f3f3f3;font-size:25px;margin-top:20px;z-index:5}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.sidenav-link-open[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #fff;position:fixed;color:#e9e9e9;font-size:35px;bottom:5px;left:5px;z-index:5;background-color:#1c202b;padding:10px;border-radius:50%}"],data:{animation:[Qo("fadeInOut",[pr(":enter",[Vn({opacity:0}),si("90ms 300ms",Vn({opacity:1}))]),pr(":leave",[Vn({opacity:1}),si("0ms",Vn({opacity:0}))])]),Qo("rotate",[pr(":enter",[si("430ms",up([Vn({transform:"rotate(0deg)",offset:"0"}),Vn({transform:"rotate(0.5turn)",offset:"1"})]))])])]}})}return n})(),$re=(()=>{class n{constructor(){this.title="webshop",this.isSideNavCollapsed=!1,this.isSideNavMobileClosed=!1,this.isWholeToggled=!1,this.screenWidth=0}onToggleSideNav(e){this.screenWidth=e.screenwidth,this.isSideNavCollapsed=e.collapsed,this.isSideNavMobileClosed=e.closed}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:3,consts:[[3,"onToggleSideNav"],[3,"collapsed","closed","screenWidth"]],template:function(i,r){1&i&&(o.TgZ(0,"app-sidenav",0),o.NdJ("onToggleSideNav",function(l){return r.onToggleSideNav(l)}),o.qZA(),o._UZ(1,"app-body",1)),2&i&&(o.xp6(1),o.Q6J("collapsed",r.isSideNavCollapsed)("closed",r.isSideNavMobileClosed)("screenWidth",r.screenWidth))},dependencies:[yre,Zre]})}return n})(),Gre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[vi,IV,LB,Mz,eB,z4,UB,pB,pC,qB,FB,LB,IV,Mz,eB,z4,UB,pB,pC,qB,OJ]})}return n})(),Wre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[vi,CN,vN]})}return n})();const Pz="@firebase/database";let HF="";function Tz(n){HF=n}class Qre{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ie.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ie.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Jre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ie.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Sz=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qre(t)}}catch{}return new Jre},My=Sz("localStorage"),qF=Sz("sessionStorage"),_C=new ju.Yd("@firebase/database"),Dz=function(){let n=1;return function(){return n++}}(),Az=function(n){const t=(0,ie.dS)(n),e=new ie.gQ;e.update(t);const i=e.digest();return ie.US.encodeByteArray(i)},iE=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=iE.apply(null,i):t+="object"==typeof i?(0,ie.Wl)(i):i,t+=" "}return t};let Ey=null,kz=!0;const Rz=function(n,t){(0,ie.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(_C.logLevel=ju.in.VERBOSE,Ey=_C.log.bind(_C),t&&qF.set("logging_enabled",!0)):"function"==typeof n?Ey=n:(Ey=null,qF.remove("logging_enabled"))},oc=function(...n){if(!0===kz&&(kz=!1,null===Ey&&!0===qF.get("logging_enabled")&&Rz(!0)),Ey){const t=iE.apply(null,n);Ey(t)}},rE=function(n){return function(...t){oc(n,...t)}},ZF=function(...n){const t="FIREBASE INTERNAL ERROR: "+iE(...n);_C.error(t)},Jf=function(...n){const t=`FIREBASE FATAL ERROR: ${iE(...n)}`;throw _C.error(t),new Error(t)},cl=function(...n){const t="FIREBASE WARNING: "+iE(...n);_C.warn(t)},hD=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Kg="[MIN_NAME]",Cm="[MAX_NAME]",Oy=function(n,t){if(n===t)return 0;if(n===Kg||t===Cm)return-1;if(t===Kg||n===Cm)return 1;{const e=Lz(n),i=Lz(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},toe=function(n,t){return n===t?0:n<t?-1:1},oE=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(t))},$F=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ie.Wl)(t[i]),e+=":",e+=$F(n[t[i]]);return e+="}",e},Nz=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function sc(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Fz=function(n){(0,ie.hu)(!hD(n),"Invalid JSON number");const i=1023;let r,s,l,m,v;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=m+i,l=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const x=[];for(v=52;v;v-=1)x.push(l%2?1:0),l=Math.floor(l/2);for(v=11;v;v-=1)x.push(s%2?1:0),s=Math.floor(s/2);x.push(r?1:0),x.reverse();const S=x.join("");let L="";for(v=0;v<64;v+=8){let Z=parseInt(S.substr(v,8),2).toString(16);1===Z.length&&(Z="0"+Z),L+=Z}return L.toLowerCase()},ooe=new RegExp("^-?(0*)\\d{1,10}$"),Lz=function(n){if(ooe.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},vC=function(n){try{n()}catch(t){setTimeout(()=>{throw cl("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},sE=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class loe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){cl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uoe{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(oc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cl(t)}}let aE=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const jz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zz="websocket",$z="long_polling";class WF{constructor(t,e,i,r,s=!1,l="",m=!1,v=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=My.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&My.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Gz(n,t,e){let i;if((0,ie.hu)("string"==typeof t,"typeof type must == string"),(0,ie.hu)("object"==typeof e,"typeof params must == object"),t===Zz)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==$z)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function doe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return sc(e,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class hoe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ie.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ie.p$)(this.counters_)}}const YF={},KF={};function QF(n){const t=n.toString();return YF[t]||(YF[t]=new hoe),YF[t]}class poe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&vC(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Qg{constructor(t,e,i,r,s,l,m){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rE(t),this.stats_=QF(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),Gz(e,$z,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new poe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JF((...s)=>{const[l,m,v,x,S]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=m,this.password=v;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,m]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&jz.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qg.forceAllow_=!0}static forceDisallow(){Qg.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!Qg.forceAllow_&&(Qg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ie.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ie.h$)(e),r=Nz(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ie.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class JF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Dz(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=JF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(m){oc("frame writing exception"),m.stack&&oc(m.stack),oc(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||oc("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ie.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{oc("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let pD=null;typeof MozWebSocket<"u"?pD=MozWebSocket:typeof WebSocket<"u"&&(pD=WebSocket);let yC=(()=>{class n{constructor(e,i,r,s,l,m,v){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rE(this.connId),this.stats_=QF(i),this.connURL=n.connectionURL_(i,m,v,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,l){const m={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&jz.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),s&&(m.ac=s),l&&(m.p=l),Gz(e,Zz,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,My.set("previous_websocket_failure",!0);try{let r;if((0,ie.Yr)()){r={headers:{"User-Agent":`Firebase/5/${HF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,m=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new pD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==pD&&!n.forceDisallow_}static previouslyFailed(){return My.isInMemoryStorage||!0===My.get("previous_websocket_failure")}markConnectionHealthy(){My.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ie.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ie.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Nz(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),ej=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Qg,yC]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=yC&&yC.isAvailable();let r=i&&!yC.previouslyFailed();if(e.webSocketOnly&&(i||cl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yC];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class aj{constructor(t,e,i,r,s,l,m,v,x,S){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=m,this.onDisconnect_=v,this.onKill_=x,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rE("c:"+this.id+":"),this.transportManager_=new ej(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=sE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=oE("t",t),i=oE("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=oE("t",t),i=oE("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=oE("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?ZF("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZF("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&cl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),sE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(My.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cj{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class lj{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ie.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,ie.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class mD extends lj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mD}getInitialEvent(t){return(0,ie.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Rr{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function lr(){return new Rr("")}function Si(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Jg(n){return n.pieces_.length-n.pieceNum_}function uo(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Rr(n.pieces_,t)}function eL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function cE(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function hj(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Rr(t,0)}function ns(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Rr)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Rr(e,0)}function Di(n){return n.pieceNum_>=n.pieces_.length}function jl(n,t){const e=Si(n),i=Si(t);if(null===e)return t;if(e===i)return jl(uo(n),uo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Foe(n,t){const e=cE(n,0),i=cE(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Oy(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function tL(n,t){if(Jg(n)!==Jg(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Kd(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Jg(n)>Jg(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Loe{constructor(t,e){this.errorPrefix_=e,this.parts_=cE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);fj(this)}}function fj(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Py(n))}function Py(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class nL extends lj{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new nL}getInitialEvent(t){return(0,ie.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const lE=1e3;let _D,Iy=(()=>{class n extends cj{constructor(e,i,r,s,l,m,v,x){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=x,this.id=n.nextPersistentConnectionId_++,this.log_=rE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nL.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&mD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,l={r:s,a:e,b:i};this.log_((0,ie.Wl)(l)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new ie.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const l=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+l),this.listens.has(m)||this.listens.set(m,new Map),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(m).has(l),"listen() called twice for same path/queryId.");const v={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(m).set(l,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,v=>{const x=v.d,S=v.s;n.warnOnListenWarnings_(x,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",v),"ok"!==S&&this.removeListen_(r,s),e.onComplete&&e.onComplete(S,x))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ie.r3)(e,"w")){const r=(0,ie.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();cl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ie.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ie.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,m=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const l={p:e};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,m=>{s&&setTimeout(()=>{s(m.s,m.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,l){this.initConnection_();const m={p:i,d:r};void 0!==l&&(m.h=l),this.outstandingPuts_.push({action:e,request:m,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ie.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):ZF("Unrecognized action received from server: "+(0,ie.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lE,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=lE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=lE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,dt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let v=!1,x=null;const S=function(){x?x.close():(v=!0,s())};e.realtime_={close:S,sendRequest:function(te){(0,ie.hu)(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(te)}};const Z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[te,ae]=yield Promise.all([e.authTokenProvider_.getToken(Z),e.appCheckTokenProvider_.getToken(Z)]);v?oc("getToken() completed but was canceled"):(oc("getToken() completed. Creating connection."),e.authToken_=te&&te.accessToken,e.appCheckToken_=ae&&ae.token,x=new aj(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ve=>{cl(ve+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(te){e.log_("Failed to get token: "+te),v||(e.repoInfo_.nodeAdmin&&cl(te),S())}}})()}interrupt(e){oc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){oc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=lE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>$F(l)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Rr(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){oc("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){oc("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+HF.replace(/\./g,"-")]=1,(0,ie.uI)()?e["framework.cordova"]=1:(0,ie.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mD.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Fi(t,e)}}class gD{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Fi(Kg,t),r=new Fi(Kg,e);return 0!==this.compare(i,r)}minPost(){return Fi.MIN}}class gj extends gD{static get __EMPTY_NODE(){return _D}static set __EMPTY_NODE(t){_D=t}compare(t,e){return Oy(t.name,e.name)}isDefinedOn(t){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Fi.MIN}maxPost(){return new Fi(Cm,_D)}makePost(t,e){return(0,ie.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Fi(t,_D)}toString(){return".key"}}const Xf=new gj;class vD{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let rL,jh=(()=>{class n{constructor(e,i,r,s,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Cu.EMPTY_NODE,this.right=l??Cu.EMPTY_NODE}copy(e,i,r,s,l){return new n(e??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cu.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Cu.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Cu{constructor(t,e=Cu.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Cu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,jh.BLACK,null,null))}remove(t){return new Cu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,jh.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vD(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new vD(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new vD(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new vD(this.root_,null,this.comparator_,!0,t)}}function Zoe(n,t){return Oy(n.name,t.name)}function iL(n,t){return Oy(n,t)}Cu.EMPTY_NODE=new class qoe{copy(t,e,i,r,s){return this}insert(t,e,i){return new jh(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _j=function(n){return"number"==typeof n?"number:"+Fz(n):"string:"+n},vj=function(n){if(n.isLeafNode()){const t=n.val();(0,ie.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ie.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===rL||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===rL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yj,bj,Cj,bC=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vj(this.priorityNode_)}static set __childrenNodeConstructor(e){yj=e}static get __childrenNodeConstructor(){return yj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Di(e)?this:".priority"===Si(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Si(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ie.hu)(".priority"!==r||1===Jg(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(uo(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_j(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Fz(this.value_):this.value_,this.lazyHash_=Az(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ie.hu)(s>=0,"Unknown leaf type: "+i),(0,ie.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const yo=new class Yoe extends gD{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Oy(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Fi.MIN}maxPost(){return new Fi(Cm,new bC("[PRIORITY-POST]",Cj))}makePost(t,e){const i=bj(t);return new Fi(e,new bC("[PRIORITY-POST]",i))}toString(){return".priority"}},Koe=Math.log(2);class Qoe{constructor(t){this.count=parseInt(Math.log(t+1)/Koe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yD=function(n,t,e,i){n.sort(t);const r=function(v,x){const S=x-v;let L,Z;if(0===S)return null;if(1===S)return L=n[v],Z=e?e(L):L,new jh(Z,L.node,jh.BLACK,null,null);{const te=parseInt(S/2,10)+v,ae=r(v,te),ve=r(te+1,x);return L=n[te],Z=e?e(L):L,new jh(Z,L.node,jh.BLACK,ae,ve)}},m=function(v){let x=null,S=null,L=n.length;const Z=function(ae,ve){const Be=L-ae,vt=L;L-=ae;const Dt=r(Be+1,vt),St=n[Be],Lt=e?e(St):St;te(new jh(Lt,St.node,ve,null,Dt))},te=function(ae){x?(x.left=ae,x=ae):(S=ae,x=ae)};for(let ae=0;ae<v.count;++ae){const ve=v.nextBitIsOne(),Be=Math.pow(2,v.count-(ae+1));ve?Z(Be,jh.BLACK):(Z(Be,jh.BLACK),Z(Be,jh.RED))}return S}(new Qoe(n.length));return new Cu(i||t,m)};let oL;const CC={};class wm{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ie.hu)(CC&&yo,"ChildrenNode.ts has not been loaded"),oL=oL||new wm({".priority":CC},{".priority":yo}),oL}get(t){const e=(0,ie.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Cu?e:null}hasIndex(t){return(0,ie.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ie.hu)(t!==Xf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Fi.Wrap);let m,l=s.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=s.getNext();m=r?yD(i,t.getCompare()):CC;const v=t.toString(),x=Object.assign({},this.indexSet_);x[v]=t;const S=Object.assign({},this.indexes_);return S[v]=m,new wm(S,x)}addToIndexes(t,e){const i=(0,ie.UI)(this.indexes_,(r,s)=>{const l=(0,ie.DV)(this.indexSet_,s);if((0,ie.hu)(l,"Missing index implementation for "+s),r===CC){if(l.isDefinedOn(t.node)){const m=[],v=e.getIterator(Fi.Wrap);let x=v.getNext();for(;x;)x.name!==t.name&&m.push(x),x=v.getNext();return m.push(t),yD(m,l.getCompare())}return CC}{const m=e.get(t.name);let v=r;return m&&(v=v.remove(new Fi(t.name,m))),v.insert(t,t.node)}});return new wm(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ie.UI)(this.indexes_,r=>{if(r===CC)return r;{const s=e.get(t.name);return s?r.remove(new Fi(t.name,s)):r}});return new wm(i,this.indexSet_)}}let uE,mi=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vj(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return uE||(uE=new n(new Cu(iL),null,wm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||uE}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?uE:i}}getChild(e){const i=Si(e);return null===i?this:this.getImmediateChild(i).getChild(uo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Fi(e,i);let s,l;i.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const m=s.isEmpty()?uE:this.priorityNode_;return new n(s,m,l)}}updateChild(e,i){const r=Si(e);if(null===r)return i;{(0,ie.hu)(".priority"!==Si(e)||1===Jg(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(uo(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(yo,(m,v)=>{i[m]=v.val(e),r++,l&&n.INTEGER_REGEXP_.test(m)?s=Math.max(s,Number(m)):l=!1}),!e&&l&&s<2*r){const m=[];for(const v in i)m[v]=i[v];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+_j(this.getPriority().val())+":"),this.forEachChild(yo,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Az(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new Fi(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Fi(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Fi(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Fi.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Fi.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dE?-1:0}withIndex(e){if(e===Xf||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Xf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(yo),s=i.getIterator(yo);let l=r.getNext(),m=s.getNext();for(;l&&m;){if(l.name!==m.name||!l.node.equals(m.node))return!1;l=r.getNext(),m=s.getNext()}return null===l&&null===m}return!1}return!1}}resolveIndex_(e){return e===Xf?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const dE=new class Joe extends mi{constructor(){super(new Cu(iL),mi.EMPTY_NODE,wm.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return mi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Fi,{MIN:{value:new Fi(Kg,mi.EMPTY_NODE)},MAX:{value:new Fi(Cm,dE)}}),gj.__EMPTY_NODE=mi.EMPTY_NODE,bC.__childrenNodeConstructor=mi,function $oe(n){rL=n}(dE),function Woe(n){Cj=n}(dE);const Xoe=!0;function gs(n,t=null){if(null===n)return mi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ie.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new bC(n,gs(t));if(n instanceof Array||!Xoe){let e=mi.EMPTY_NODE;return sc(n,(i,r)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const s=gs(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(gs(t))}{const e=[];let i=!1;if(sc(n,(l,m)=>{if("."!==l.substring(0,1)){const v=gs(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Fi(l,v)))}}),0===e.length)return mi.EMPTY_NODE;const s=yD(e,Zoe,l=>l.name,iL);if(i){const l=yD(e,yo.getCompare());return new mi(s,gs(t),new wm({".priority":l},{".priority":yo}))}return new mi(s,gs(t),wm.Default)}}!function Goe(n){bj=n}(gs);class sL extends gD{constructor(t){super(),this.indexPath_=t,(0,ie.hu)(!Di(t)&&".priority"!==Si(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Oy(t.name,e.name):s}makePost(t,e){const i=gs(t),r=mi.EMPTY_NODE.updateChild(this.indexPath_,i);return new Fi(e,r)}maxPost(){const t=mi.EMPTY_NODE.updateChild(this.indexPath_,dE);return new Fi(Cm,t)}toString(){return cE(this.indexPath_,0).join("/")}}const aL=new class ese extends gD{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Oy(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Fi.MIN}maxPost(){return Fi.MAX}makePost(t,e){const i=gs(t);return new Fi(e,i)}toString(){return".value"}};function wj(n){return{type:"value",snapshotNode:n}}function wC(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function hE(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function fE(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class cL{constructor(t){this.index_=t}updateChild(t,e,i,r,s,l){(0,ie.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?t.hasChild(e)?l.trackChildChange(hE(e,m)):(0,ie.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?l.trackChildChange(wC(e,i)):l.trackChildChange(fE(e,i,m))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(yo,(r,s)=>{e.hasChild(r)||i.trackChildChange(hE(r,s))}),e.isLeafNode()||e.forEachChild(yo,(r,s)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(s)||i.trackChildChange(fE(r,s,l))}else i.trackChildChange(wC(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?mi.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class pE{constructor(t){this.indexedFilter_=new cL(t.getIndex()),this.index_=t.getIndex(),this.startPost_=pE.getStartPost_(t),this.endPost_=pE.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,l){return this.matches(new Fi(e,i))||(i=mi.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,l)}updateFullNode(t,e,i){e.isLeafNode()&&(e=mi.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(mi.EMPTY_NODE);const s=this;return e.forEachChild(yo,(l,m)=>{s.matches(new Fi(l,m))||(r=r.updateImmediateChild(l,mi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class nse{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new pE(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,l){return this.rangedFilter_.matches(new Fi(e,i))||(i=mi.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,l):this.fullLimitUpdateChild_(t,e,i,s,l)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=mi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=mi.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const m=s.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),l++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(mi.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const m=s.getNext();l<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?l++:r=r.updateImmediateChild(m.name,mi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let l;if(this.reverse_){const L=this.index_.getCompare();l=(Z,te)=>L(te,Z)}else l=this.index_.getCompare();const m=t;(0,ie.hu)(m.numChildren()===this.limit_,"");const v=new Fi(e,i),x=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(v);if(m.hasChild(e)){const L=m.getImmediateChild(e);let Z=r.getChildAfterChild(this.index_,x,this.reverse_);for(;null!=Z&&(Z.name===e||m.hasChild(Z.name));)Z=r.getChildAfterChild(this.index_,Z,this.reverse_);const te=null==Z?1:l(Z,v);if(S&&!i.isEmpty()&&te>=0)return s?.trackChildChange(fE(e,i,L)),m.updateImmediateChild(e,i);{s?.trackChildChange(hE(e,L));const ve=m.updateImmediateChild(e,mi.EMPTY_NODE);return null!=Z&&this.rangedFilter_.matches(Z)?(s?.trackChildChange(wC(Z.name,Z.node)),ve.updateImmediateChild(Z.name,Z.node)):ve}}return i.isEmpty()?t:S&&l(x,v)>=0?(null!=s&&(s.trackChildChange(hE(x.name,x.node)),s.trackChildChange(wC(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(x.name,mi.EMPTY_NODE)):t}}class bD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yo}copy(){const t=new bD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function lL(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function uL(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function CD(n,t){const e=n.copy();return e.index_=t,e}function xj(n){const t={};if(n.isDefault())return t;let e;if(n.index_===yo?e="$priority":n.index_===aL?e="$value":n.index_===Xf?e="$key":((0,ie.hu)(n.index_ instanceof sL,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ie.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Mj(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==yo&&(t.i=n.index_.toString()),t}class wD extends cj{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=rE("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ie.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=wD.getListenId_(t,i),m={};this.listens_[l]=m;const v=xj(t._queryParams);this.restRequest_(s+".json",v,(x,S)=>{let L=S;if(404===x&&(L=null,x=null),null===x&&this.onDataUpdate_(s,L,!1,i),(0,ie.DV)(this.listens_,l)===m){let Z;Z=x?401===x?"permission_denied":"rest_error:"+x:"ok",r(Z,null)}})}unlisten(t,e){const i=wD.getListenId_(t,e);delete this.listens_[i]}get(t){const e=xj(t._queryParams),i=t._path.toString(),r=new ie.BH;return this.restRequest_(i+".json",e,(s,l)=>{let m=l;404===s&&(m=null,s=null),null===s?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(e);this.log_("Sending REST request for "+l);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+l+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,ie.cI)(m.responseText)}catch{cl("Failed to parse JSON response for "+l+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&cl("Got unsuccessful REST response for "+l+" Status: "+m.status),i(m.status);i=null}},m.open("GET",l,!0),m.send()})}}class cse{constructor(){this.rootNode_=mi.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function xD(){return{value:null,children:new Map}}function xC(n,t,e){if(Di(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Si(t);n.children.has(i)||n.children.set(i,xD()),xC(n.children.get(i),t=uo(t),e)}}function dL(n,t){if(Di(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(yo,(i,r)=>{xC(n,new Rr(i),r)}),dL(n,t)}}if(n.children.size>0){const e=Si(t);return t=uo(t),n.children.has(e)&&dL(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function hL(n,t,e){null!==n.value?e(t,n.value):function lse(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{hL(r,new Rr(t.toString()+"/"+i),e)})}class use{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&sc(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class fse{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new use(t);const i=1e4+2e4*Math.random();sE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;sc(t,(r,s)=>{s>0&&(0,ie.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),sE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ep=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ep||{});function mL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class MD{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ep.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Di(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Rr(t));return new MD(lr(),e,this.revert)}}return(0,ie.hu)(Si(this.path)===t,"operationForChild called for unrelated child."),new MD(uo(this.path),this.affectedTree,this.revert)}}class mE{constructor(t,e){this.source=t,this.path=e,this.type=ep.LISTEN_COMPLETE}operationForChild(t){return Di(this.path)?new mE(this.source,lr()):new mE(this.source,uo(this.path))}}class Ty{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ep.OVERWRITE}operationForChild(t){return Di(this.path)?new Ty(this.source,lr(),this.snap.getImmediateChild(t)):new Ty(this.source,uo(this.path),this.snap)}}class MC{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ep.MERGE}operationForChild(t){if(Di(this.path)){const e=this.children.subtree(new Rr(t));return e.isEmpty()?null:e.value?new Ty(this.source,lr(),e.value):new MC(this.source,lr(),e)}return(0,ie.hu)(Si(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new MC(this.source,uo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xg{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Di(t))return this.isFullyInitialized()&&!this.filtered_;const e=Si(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class pse{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function gE(n,t,e,i,r,s){const l=i.filter(m=>m.type===e);l.sort((m,v)=>function _se(n,t,e){if(null==t.childName||null==e.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new Fi(t.childName,t.snapshotNode),r=new Fi(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,m,v)),l.forEach(m=>{const v=function gse(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,s);r.forEach(x=>{x.respondsTo(m.type)&&t.push(x.createEvent(v,n.query_))})})}function ED(n,t){return{eventCache:n,serverCache:t}}function _E(n,t,e,i){return ED(new Xg(t,e,i),n.serverCache)}function Oj(n,t,e,i){return ED(n.eventCache,new Xg(t,e,i))}function OD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let gL;class bo{constructor(t,e=(()=>(gL||(gL=new Cu(toe)),gL))()){this.value=t,this.children=e}static fromObject(t){let e=new bo(null);return sc(t,(i,r)=>{e=e.set(new Rr(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:lr(),value:this.value};if(Di(t))return null;{const i=Si(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(uo(t),e);return null!=s?{path:ns(new Rr(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Di(t))return this;{const e=Si(t),i=this.children.get(e);return null!==i?i.subtree(uo(t)):new bo(null)}}set(t,e){if(Di(t))return new bo(e,this.children);{const i=Si(t),s=(this.children.get(i)||new bo(null)).set(uo(t),e),l=this.children.insert(i,s);return new bo(this.value,l)}}remove(t){if(Di(t))return this.children.isEmpty()?new bo(null):new bo(null,this.children);{const e=Si(t),i=this.children.get(e);if(i){const r=i.remove(uo(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new bo(null):new bo(this.value,s)}return this}}get(t){if(Di(t))return this.value;{const e=Si(t),i=this.children.get(e);return i?i.get(uo(t)):null}}setTree(t,e){if(Di(t))return e;{const i=Si(t),s=(this.children.get(i)||new bo(null)).setTree(uo(t),e);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new bo(this.value,l)}}fold(t){return this.fold_(lr(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ns(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,lr(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Di(t))return null;{const s=Si(t),l=this.children.get(s);return l?l.findOnPath_(uo(t),ns(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,lr(),e)}foreachOnPath_(t,e,i){if(Di(t))return this;{this.value&&i(e,this.value);const r=Si(t),s=this.children.get(r);return s?s.foreachOnPath_(uo(t),ns(e,r),i):new bo(null)}}foreach(t){this.foreach_(lr(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ns(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Hh{constructor(t){this.writeTree_=t}static empty(){return new Hh(new bo(null))}}function vE(n,t,e){if(Di(t))return new Hh(new bo(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const l=jl(r,t);return s=s.updateChild(l,e),new Hh(n.writeTree_.set(r,s))}{const r=new bo(e),s=n.writeTree_.setTree(t,r);return new Hh(s)}}}function _L(n,t,e){let i=n;return sc(e,(r,s)=>{i=vE(i,ns(t,r),s)}),i}function Pj(n,t){if(Di(t))return Hh.empty();{const e=n.writeTree_.setTree(t,new bo(null));return new Hh(e)}}function vL(n,t){return null!=Dy(n,t)}function Dy(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(jl(e.path,t)):null}function Ij(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(yo,(i,r)=>{t.push(new Fi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Fi(i,r.value))}),t}function e_(n,t){if(Di(t))return n;{const e=Dy(n,t);return new Hh(null!=e?new bo(e):n.writeTree_.subtree(t))}}function yL(n){return n.writeTree_.isEmpty()}function EC(n,t){return Tj(lr(),n.writeTree_,t)}function Tj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,ie.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=Tj(ns(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ns(n,".priority"),i)),e}}function PD(n,t){return Rj(t,n)}function xse(n,t){if(n.snap)return Kd(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Kd(ns(n.path,e),t))return!0;return!1}function Ese(n){return n.visible}function Sj(n,t,e){let i=Hh.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const l=s.path;let m;if(s.snap)Kd(e,l)?(m=jl(e,l),i=vE(i,m,s.snap)):Kd(l,e)&&(m=jl(l,e),i=vE(i,lr(),s.snap.getChild(m)));else{if(!s.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(Kd(e,l))m=jl(e,l),i=_L(i,m,s.children);else if(Kd(l,e))if(m=jl(l,e),Di(m))i=_L(i,lr(),s.children);else{const v=(0,ie.DV)(s.children,Si(m));if(v){const x=v.getChild(uo(m));i=vE(i,lr(),x)}}}}}return i}function Dj(n,t,e,i,r){if(i||r){const s=e_(n.visibleWrites,t);return!r&&yL(s)?e:r||null!=e||vL(s,lr())?EC(Sj(n.allWrites,function(x){return(x.visible||r)&&(!i||!~i.indexOf(x.writeId))&&(Kd(x.path,t)||Kd(t,x.path))},t),e||mi.EMPTY_NODE):null}{const s=Dy(n.visibleWrites,t);if(null!=s)return s;{const l=e_(n.visibleWrites,t);return yL(l)?e:null!=e||vL(l,lr())?EC(l,e||mi.EMPTY_NODE):null}}}function ID(n,t,e,i){return Dj(n.writeTree,n.treePath,t,e,i)}function bL(n,t){return function Ose(n,t,e){let i=mi.EMPTY_NODE;const r=Dy(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(yo,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(e){const s=e_(n.visibleWrites,t);return e.forEachChild(yo,(l,m)=>{const v=EC(e_(s,new Rr(l)),m);i=i.updateImmediateChild(l,v)}),Ij(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return Ij(e_(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function Aj(n,t,e,i){return function Pse(n,t,e,i,r){(0,ie.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ns(t,e);if(vL(n.visibleWrites,s))return null;{const l=e_(n.visibleWrites,s);return yL(l)?r.getChild(e):EC(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function TD(n,t){return function Tse(n,t){return Dy(n.visibleWrites,t)}(n.writeTree,ns(n.treePath,t))}function CL(n,t,e){return function Ise(n,t,e,i){const r=ns(t,e),s=Dy(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?EC(e_(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function kj(n,t){return Rj(ns(n.treePath,t),n.writeTree)}function Rj(n,t){return{treePath:n,writeTree:t}}class kse{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ie.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,fE(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,hE(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,wC(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,ie.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,fE(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Nj=new class Rse{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class wL{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Xg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return CL(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sy(this.viewCache_),s=function Ase(n,t,e,i,r,s){return function Sse(n,t,e,i,r,s,l){let m;const v=e_(n.visibleWrites,t),x=Dy(v,lr());if(null!=x)m=x;else{if(null==e)return[];m=EC(v,e)}if(m=m.withIndex(l),m.isEmpty()||m.isLeafNode())return[];{const S=[],L=l.getCompare(),Z=s?m.getReverseIteratorFrom(i,l):m.getIteratorFrom(i,l);let te=Z.getNext();for(;te&&S.length<r;)0!==L(te,i)&&S.push(te),te=Z.getNext();return S}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function Fj(n,t,e,i,r,s){const l=t.eventCache;if(null!=TD(i,e))return t;{let m,v;if(Di(e))if((0,ie.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const x=Sy(t),L=bL(i,x instanceof mi?x:mi.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),L,s)}else{const x=ID(i,Sy(t));m=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const x=Si(e);if(".priority"===x){(0,ie.hu)(1===Jg(e),"Can't have a priority with additional path components");const S=l.getNode();v=t.serverCache.getNode();const L=Aj(i,e,S,v);m=null!=L?n.filter.updatePriority(S,L):l.getNode()}else{const S=uo(e);let L;if(l.isCompleteForChild(x)){v=t.serverCache.getNode();const Z=Aj(i,e,l.getNode(),v);L=null!=Z?l.getNode().getImmediateChild(x).updateChild(S,Z):l.getNode().getImmediateChild(x)}else L=CL(i,x,t.serverCache);m=null!=L?n.filter.updateChild(l.getNode(),x,L,S,r,s):l.getNode()}}return _E(t,m,l.isFullyInitialized()||Di(e),n.filter.filtersNodes())}}function SD(n,t,e,i,r,s,l,m){const v=t.serverCache;let x;const S=l?n.filter:n.filter.getIndexedFilter();if(Di(e))x=S.updateFullNode(v.getNode(),i,null);else if(S.filtersNodes()&&!v.isFiltered()){const te=v.getNode().updateChild(e,i);x=S.updateFullNode(v.getNode(),te,null)}else{const te=Si(e);if(!v.isCompleteForPath(e)&&Jg(e)>1)return t;const ae=uo(e),Be=v.getNode().getImmediateChild(te).updateChild(ae,i);x=".priority"===te?S.updatePriority(v.getNode(),Be):S.updateChild(v.getNode(),te,Be,ae,Nj,null)}const L=Oj(t,x,v.isFullyInitialized()||Di(e),S.filtersNodes());return Fj(n,L,e,r,new wL(r,L,s),m)}function xL(n,t,e,i,r,s,l){const m=t.eventCache;let v,x;const S=new wL(r,t,s);if(Di(e))x=n.filter.updateFullNode(t.eventCache.getNode(),i,l),v=_E(t,x,!0,n.filter.filtersNodes());else{const L=Si(e);if(".priority"===L)x=n.filter.updatePriority(t.eventCache.getNode(),i),v=_E(t,x,m.isFullyInitialized(),m.isFiltered());else{const Z=uo(e),te=m.getNode().getImmediateChild(L);let ae;if(Di(Z))ae=i;else{const ve=S.getCompleteChild(L);ae=null!=ve?".priority"===eL(Z)&&ve.getChild(hj(Z)).isEmpty()?ve:ve.updateChild(Z,i):mi.EMPTY_NODE}v=te.equals(ae)?t:_E(t,n.filter.updateChild(m.getNode(),L,ae,Z,S,l),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function Lj(n,t){return n.eventCache.isCompleteForChild(t)}function Uj(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function ML(n,t,e,i,r,s,l,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let x,v=t;x=Di(e)?i:new bo(null).setTree(e,i);const S=t.serverCache.getNode();return x.children.inorderTraversal((L,Z)=>{if(S.hasChild(L)){const ae=Uj(0,t.serverCache.getNode().getImmediateChild(L),Z);v=SD(n,v,new Rr(L),ae,r,s,l,m)}}),x.children.inorderTraversal((L,Z)=>{const te=!t.serverCache.isCompleteForChild(L)&&null===Z.value;if(!S.hasChild(L)&&!te){const ve=Uj(0,t.serverCache.getNode().getImmediateChild(L),Z);v=SD(n,v,new Rr(L),ve,r,s,l,m)}}),v}class Hse{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new cL(i.getIndex()),s=function ise(n){return n.loadsAllData()?new cL(n.getIndex()):n.hasLimit()?new nse(n):new pE(n)}(i);this.processor_=function Nse(n){return{filter:n}}(s);const l=e.serverCache,m=e.eventCache,v=r.updateFullNode(mi.EMPTY_NODE,l.getNode(),null),x=s.updateFullNode(mi.EMPTY_NODE,m.getNode(),null),S=new Xg(v,l.isFullyInitialized(),r.filtersNodes()),L=new Xg(x,m.isFullyInitialized(),s.filtersNodes());this.viewCache_=ED(L,S),this.eventGenerator_=new pse(this.query_)}get query(){return this.query_}}function $se(n,t){const e=Sy(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Di(t)&&!e.getImmediateChild(Si(t)).isEmpty())?e.getChild(t):null}function Vj(n){return 0===n.eventRegistrations_.length}function Bj(n,t,e){const i=[];if(e){(0,ie.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(e,r);l&&i.push(l)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function zj(n,t,e,i){t.type===ep.MERGE&&null!==t.source.queryId&&((0,ie.hu)(Sy(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(OD(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Lse(n,t,e,i,r){const s=new kse;let l,m;if(e.type===ep.OVERWRITE){const x=e;x.source.fromUser?l=xL(n,t,x.path,x.snap,i,r,s):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered()&&!Di(x.path),l=SD(n,t,x.path,x.snap,i,r,m,s))}else if(e.type===ep.MERGE){const x=e;x.source.fromUser?l=function Vse(n,t,e,i,r,s,l){let m=t;return i.foreach((v,x)=>{const S=ns(e,v);Lj(t,Si(S))&&(m=xL(n,m,S,x,r,s,l))}),i.foreach((v,x)=>{const S=ns(e,v);Lj(t,Si(S))||(m=xL(n,m,S,x,r,s,l))}),m}(n,t,x.path,x.children,i,r,s):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered(),l=ML(n,t,x.path,x.children,i,r,m,s))}else if(e.type===ep.ACK_USER_WRITE){const x=e;l=x.revert?function jse(n,t,e,i,r,s){let l;if(null!=TD(i,e))return t;{const m=new wL(i,t,r),v=t.eventCache.getNode();let x;if(Di(e)||".priority"===Si(e)){let S;if(t.serverCache.isFullyInitialized())S=ID(i,Sy(t));else{const L=t.serverCache.getNode();(0,ie.hu)(L instanceof mi,"serverChildren would be complete if leaf node"),S=bL(i,L)}x=n.filter.updateFullNode(v,S,s)}else{const S=Si(e);let L=CL(i,S,t.serverCache);null==L&&t.serverCache.isCompleteForChild(S)&&(L=v.getImmediateChild(S)),x=null!=L?n.filter.updateChild(v,S,L,uo(e),m,s):t.eventCache.getNode().hasChild(S)?n.filter.updateChild(v,S,mi.EMPTY_NODE,uo(e),m,s):v,x.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=ID(i,Sy(t)),l.isLeafNode()&&(x=n.filter.updateFullNode(x,l,s)))}return l=t.serverCache.isFullyInitialized()||null!=TD(i,lr()),_E(t,x,l,n.filter.filtersNodes())}}(n,t,x.path,i,r,s):function Bse(n,t,e,i,r,s,l){if(null!=TD(r,e))return t;const m=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(Di(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return SD(n,t,e,v.getNode().getChild(e),r,s,m,l);if(Di(e)){let x=new bo(null);return v.getNode().forEachChild(Xf,(S,L)=>{x=x.set(new Rr(S),L)}),ML(n,t,e,x,r,s,m,l)}return t}{let x=new bo(null);return i.foreach((S,L)=>{const Z=ns(e,S);v.isCompleteForPath(Z)&&(x=x.set(S,v.getNode().getChild(Z)))}),ML(n,t,e,x,r,s,m,l)}}(n,t,x.path,x.affectedTree,i,r,s)}else{if(e.type!==ep.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+e.type);l=function zse(n,t,e,i,r){const s=t.serverCache;return Fj(n,Oj(t,s.getNode(),s.isFullyInitialized()||Di(e),s.isFiltered()),e,i,Nj,r)}(n,t,e.path,i,s)}const v=s.getChanges();return function Use(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=OD(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(wj(OD(t)))}}(t,l,v),{viewCache:l,changes:v}}(n.processor_,r,t,e,i);return function Fse(n,t){(0,ie.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ie.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,jj(n,s.changes,s.viewCache.eventCache.getNode(),null)}function jj(n,t,e,i){return function mse(n,t,e,i){const r=[],s=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function tse(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),gE(n,r,"child_removed",t,i,e),gE(n,r,"child_added",t,i,e),gE(n,r,"child_moved",s,i,e),gE(n,r,"child_changed",t,i,e),gE(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let DD,kD;class Hj{constructor(){this.views=new Map}}function EL(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,ie.hu)(null!=s,"SyncTree gave us an op for an invalid query."),zj(s,t,e,i)}{let s=[];for(const l of n.views.values())s=s.concat(zj(l,t,e,i));return s}}function qj(n,t,e,i,r){const l=n.views.get(t._queryIdentifier);if(!l){let m=ID(e,r?i:null),v=!1;m?v=!0:i instanceof mi?(m=bL(e,i),v=!1):(m=mi.EMPTY_NODE,v=!1);const x=ED(new Xg(m,v,!1),new Xg(i,r,!1));return new Hse(t,x)}return l}function Zj(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function t_(n,t){let e=null;for(const i of n.views.values())e=e||$se(i,t);return e}function $j(n,t){return t._queryParams.loadsAllData()?AD(n):n.views.get(t._queryIdentifier)}function Gj(n,t){return null!=$j(n,t)}function n_(n){return null!=AD(n)}function AD(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let nae=1;class Wj{constructor(t){this.listenProvider_=t,this.syncPointTree_=new bo(null),this.pendingWriteTree_=function Dse(){return{visibleWrites:Hh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function OL(n,t,e,i,r){return function yse(n,t,e,i,r){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=vE(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?OC(n,new Ty({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function i_(n,t,e=!1){const i=function Cse(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function wse(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,ie.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const m=n.allWrites[l];m.visible&&(l>=e&&xse(m,i.path)?r=!1:Kd(i.path,m.path)&&(s=!0)),l--}return!!r&&(s?(function Mse(n){n.visibleWrites=Sj(n.allWrites,Ese,lr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Pj(n.visibleWrites,i.path):sc(i.children,v=>{n.visibleWrites=Pj(n.visibleWrites,ns(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let s=new bo(null);return null!=i.snap?s=s.set(lr(),!0):sc(i.children,l=>{s=s.set(new Rr(l),!0)}),OC(n,new MD(i.path,s,e))}return[]}function yE(n,t,e){return OC(n,new Ty({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function RD(n,t,e,i,r=!1){const s=t._path,l=n.syncPointTree_.get(s);let m=[];if(l&&("default"===t._queryIdentifier||Gj(l,t))){const v=function Xse(n,t,e,i){const r=t._queryIdentifier,s=[];let l=[];const m=n_(n);if("default"===r)for(const[v,x]of n.views.entries())l=l.concat(Bj(x,e,i)),Vj(x)&&(n.views.delete(v),x.query._queryParams.loadsAllData()||s.push(x.query));else{const v=n.views.get(r);v&&(l=l.concat(Bj(v,e,i)),Vj(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||s.push(v.query)))}return m&&!n_(n)&&s.push(new(function Kse(){return(0,ie.hu)(DD,"Reference.ts has not been loaded"),DD}())(t._repo,t._path)),{removed:s,events:l}}(l,t,e,i);(function Qse(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const x=v.removed;if(m=v.events,!r){const S=-1!==x.findIndex(Z=>Z._queryParams.loadsAllData()),L=n.syncPointTree_.findOnPath(s,(Z,te)=>n_(te));if(S&&!L){const Z=n.syncPointTree_.subtree(s);if(!Z.isEmpty()){const te=function lae(n){return n.fold((t,e,i)=>{if(e&&n_(e))return[AD(e)];{let r=[];return e&&(r=Zj(e)),sc(i,(s,l)=>{r=r.concat(l)}),r}})}(Z);for(let ae=0;ae<te.length;++ae){const ve=te[ae],Be=ve.query,vt=Jj(n,ve);n.listenProvider_.startListening(CE(Be),bE(n,Be),vt.hashFn,vt.onComplete)}}}!L&&x.length>0&&!i&&(S?n.listenProvider_.stopListening(CE(t),null):x.forEach(Z=>{const te=n.queryToTagMap.get(FD(Z));n.listenProvider_.stopListening(CE(Z),te)}))}!function uae(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=FD(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,x)}return m}function Yj(n,t,e,i){const r=IL(n,i);if(null!=r){const s=TL(r),l=s.path,m=s.queryId,v=jl(l,t);return SL(n,l,new Ty(mL(m),v,e))}return[]}function PL(n,t,e,i=!1){const r=t._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(Z,te)=>{const ae=jl(Z,r);s=s||t_(te,ae),l=l||n_(te)});let v,m=n.syncPointTree_.get(r);m?(l=l||n_(m),s=s||t_(m,lr())):(m=new Hj,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=s?v=!0:(v=!1,s=mi.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((te,ae)=>{const ve=t_(ae,lr());ve&&(s=s.updateImmediateChild(te,ve))}));const x=Gj(m,t);if(!x&&!t._queryParams.loadsAllData()){const Z=FD(t);(0,ie.hu)(!n.queryToTagMap.has(Z),"View does not exist, but we have a tag");const te=function dae(){return nae++}();n.queryToTagMap.set(Z,te),n.tagToQueryMap.set(te,Z)}let L=function Jse(n,t,e,i,r,s){const l=qj(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,l),function Gse(n,t){n.eventRegistrations_.push(t)}(l,e),function Wse(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(yo,(s,l)=>{i.push(wC(s,l))}),e.isFullyInitialized()&&i.push(wj(e.getNode())),jj(n,i,e.getNode(),t)}(l,e)}(m,t,e,PD(n.pendingWriteTree_,r),s,v);if(!x&&!l&&!i){const Z=$j(m,t);L=L.concat(function hae(n,t,e){const i=t._path,r=bE(n,t),s=Jj(n,e),l=n.listenProvider_.startListening(CE(t),r,s.hashFn,s.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,ie.hu)(!n_(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((x,S,L)=>{if(!Di(x)&&S&&n_(S))return[AD(S).query];{let Z=[];return S&&(Z=Z.concat(Zj(S).map(te=>te.query))),sc(L,(te,ae)=>{Z=Z.concat(ae)}),Z}});for(let x=0;x<v.length;++x){const S=v[x];n.listenProvider_.stopListening(CE(S),bE(n,S))}}return l}(n,t,Z))}return L}function ND(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(l,m)=>{const x=t_(m,jl(l,t));if(x)return x});return Dj(r,t,s,e,!0)}function OC(n,t){return Kj(t,n.syncPointTree_,null,PD(n.pendingWriteTree_,lr()))}function Kj(n,t,e,i){if(Di(n.path))return Qj(n,t,e,i);{const r=t.get(lr());null==e&&null!=r&&(e=t_(r,lr()));let s=[];const l=Si(n.path),m=n.operationForChild(l),v=t.children.get(l);if(v&&m){const x=e?e.getImmediateChild(l):null,S=kj(i,l);s=s.concat(Kj(m,v,x,S))}return r&&(s=s.concat(EL(r,n,i,e))),s}}function Qj(n,t,e,i){const r=t.get(lr());null==e&&null!=r&&(e=t_(r,lr()));let s=[];return t.children.inorderTraversal((l,m)=>{const v=e?e.getImmediateChild(l):null,x=kj(i,l),S=n.operationForChild(l);S&&(s=s.concat(Qj(S,m,v,x)))}),r&&(s=s.concat(EL(r,n,i,e))),s}function Jj(n,t){const e=t.query,i=bE(n,e);return{hashFn:()=>(function qse(n){return n.viewCache_.serverCache.getNode()}(t)||mi.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function sae(n,t,e){const i=IL(n,e);if(i){const r=TL(i),s=r.path,l=r.queryId,m=jl(s,t);return SL(n,s,new mE(mL(l),m))}return[]}(n,e._path,i):function oae(n,t){return OC(n,new mE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function roe(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return RD(n,e,null,s)}}}}function bE(n,t){const e=FD(t);return n.queryToTagMap.get(e)}function FD(n){return n._path.toString()+"$"+n._queryIdentifier}function IL(n,t){return n.tagToQueryMap.get(t)}function TL(n){const t=n.indexOf("$");return(0,ie.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Rr(n.substr(0,t))}}function SL(n,t,e){const i=n.syncPointTree_.get(t);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),EL(i,e,PD(n.pendingWriteTree_,t),null)}function CE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function tae(){return(0,ie.hu)(kD,"Reference.ts has not been loaded"),kD}())(n._repo,n._path):n}class DL{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new DL(e)}node(){return this.node_}}class AL{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ns(this.path_,t);return new AL(this.syncTree_,e)}node(){return ND(this.syncTree_,this.path_)}}const fae=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},Xj=function(n,t,e){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?pae(n[".sv"],t,e):"object"==typeof n[".sv"]?mae(n[".sv"],t):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},pae=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},mae=function(n,t,e){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ie.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},eH=function(n,t,e,i){return RL(t,new AL(e,n),i)},kL=function(n,t,e){return RL(n,new DL(t),e)};function RL(n,t,e){const i=n.getPriority().val(),r=Xj(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const l=n,m=Xj(l.getValue(),t,e);return m!==l.getValue()||r!==l.getPriority().val()?new bC(m,gs(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new bC(r))),l.forEachChild(yo,(m,v)=>{const x=RL(v,t.getImmediateChild(m),e);x!==v&&(s=s.updateImmediateChild(m,x))}),s}}class NL{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function LD(n,t){let e=t instanceof Rr?t:new Rr(t),i=n,r=Si(e);for(;null!==r;){const s=(0,ie.DV)(i.node.children,r)||{children:{},childCount:0};i=new NL(r,i,s),e=uo(e),r=Si(e)}return i}function Ay(n){return n.node.value}function FL(n,t){n.node.value=t,LL(n)}function tH(n){return n.node.childCount>0}function UD(n,t){sc(n.node.children,(e,i)=>{t(new NL(e,n,i))})}function nH(n,t,e,i){e&&!i&&t(n),UD(n,r=>{nH(r,t,!0,i)}),e&&i&&t(n)}function wE(n){return new Rr(null===n.parent?n.name:wE(n.parent)+"/"+n.name)}function LL(n){null!==n.parent&&function vae(n,t,e){const i=function gae(n){return void 0===Ay(n)&&!tH(n)}(e),r=(0,ie.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,LL(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,LL(n))}(n.parent,n.name,n)}const yae=/[\[\].#$\/\u0000-\u001F\u007F]/,bae=/[\[\].#$\u0000-\u001F\u007F]/,UL=10485760,VD=function(n){return"string"==typeof n&&0!==n.length&&!yae.test(n)},iH=function(n){return"string"==typeof n&&0!==n.length&&!bae.test(n)},xE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!hD(n)||n&&"object"==typeof n&&(0,ie.r3)(n,".sv")},tp=function(n,t,e,i){i&&void 0===t||ME((0,ie.gK)(n,"value"),t,e)},ME=function(n,t,e){const i=e instanceof Rr?new Loe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Py(i));if("function"==typeof t)throw new Error(n+"contains a function "+Py(i)+" with contents = "+t.toString());if(hD(t))throw new Error(n+"contains "+t.toString()+" "+Py(i));if("string"==typeof t&&t.length>UL/3&&(0,ie.ug)(t)>UL)throw new Error(n+"contains a string greater than "+UL+" utf8 bytes "+Py(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(sc(t,(l,m)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!VD(l)))throw new Error(n+" contains an invalid key ("+l+") "+Py(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Uoe(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ie.ug)(t),fj(n)})(i,l),ME(n,m,i),function Voe(n){const t=n.parts_.pop();n.byteLength_-=(0,ie.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Py(i)+" in addition to actual children.")}},rH=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ie.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];sc(t,(l,m)=>{const v=new Rr(l);if(ME(r,m,ns(e,v)),".priority"===eL(v)&&!xE(m))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=cE(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!VD(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Foe);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Kd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},VL=function(n,t,e){if(!e||void 0!==t){if(hD(t))throw new Error((0,ie.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xE(t))throw new Error((0,ie.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},EE=function(n,t,e,i){if(!(i&&void 0===e||VD(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},OE=function(n,t,e,i){if(!(i&&void 0===e||iH(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xae=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),OE(n,t,e,i)},Qd=function(n,t){if(".info"===Si(t))throw new Error(n+" failed = Can't modify data under /.info/")},oH=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!VD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iH(n)}(e))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Mae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function BD(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!tL(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function sH(n,t,e){BD(n,e),aH(n,i=>tL(i,t))}function nd(n,t,e){BD(n,e),aH(n,i=>Kd(i,t)||Kd(t,i))}function aH(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Eae(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Eae(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Ey&&oc("event: "+e.toString()),vC(i)}}}const cH="repo_interrupt",Oae=25;class Pae{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xD(),this.transactionQueueTree_=new NL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lH(n){const e=n.infoData_.getNode(new Rr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function PE(n){return fae({timestamp:lH(n)})}function uH(n,t,e,i,r){n.dataUpdateCount++;const s=new Rr(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const v=(0,ie.UI)(e,x=>gs(x));l=function aae(n,t,e,i){const r=IL(n,i);if(r){const s=TL(r),l=s.path,m=s.queryId,v=jl(l,t),x=bo.fromObject(e);return SL(n,l,new MC(mL(m),v,x))}return[]}(n.serverSyncTree_,s,v,r)}else{const v=gs(e);l=Yj(n.serverSyncTree_,s,v,r)}else if(i){const v=(0,ie.UI)(e,x=>gs(x));l=function rae(n,t,e){const i=bo.fromObject(e);return OC(n,new MC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,v)}else{const v=gs(e);l=yE(n.serverSyncTree_,s,v)}let m=s;l.length>0&&(m=IC(n,s)),nd(n.eventQueue_,m,l)}function dH(n,t){BL(n,"connected",t),!1===t&&function Aae(n){PC(n,"onDisconnectEvents");const t=PE(n),e=xD();hL(n.onDisconnect_,lr(),(r,s)=>{const l=eH(r,s,n.serverSyncTree_,t);xC(e,r,l)});let i=[];hL(e,lr(),(r,s)=>{i=i.concat(yE(n.serverSyncTree_,r,s));const l=qL(n,r);IC(n,l)}),n.onDisconnect_=xD(),nd(n.eventQueue_,lr(),i)}(n)}function BL(n,t,e){const i=new Rr("/.info/"+t),r=gs(e);n.infoData_.updateSnapshot(i,r);const s=yE(n.infoSyncTree_,i,r);nd(n.eventQueue_,i,s)}function zD(n){return n.nextWriteId_++}function zL(n,t,e,i,r){PC(n,"set",{path:t.toString(),value:e,priority:i});const s=PE(n),l=gs(e,i),m=ND(n.serverSyncTree_,t),v=kL(l,m,s),x=zD(n),S=OL(n.serverSyncTree_,t,v,x,!0);BD(n.eventQueue_,S),n.server_.put(t.toString(),l.val(!0),(Z,te)=>{const ae="ok"===Z;ae||cl("set at "+t+" failed: "+Z);const ve=i_(n.serverSyncTree_,x,!ae);nd(n.eventQueue_,t,ve),r_(0,r,Z,te)});const L=qL(n,t);IC(n,L),nd(n.eventQueue_,L,[])}function kae(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&dL(n.onDisconnect_,t),r_(0,e,i,r)})}function hH(n,t,e,i){const r=gs(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,l)=>{"ok"===s&&xC(n.onDisconnect_,t,r),r_(0,i,s,l)})}function jL(n,t,e){let i;i=".info"===Si(t._path)?RD(n.infoSyncTree_,t,e):RD(n.serverSyncTree_,t,e),sH(n.eventQueue_,t._path,i)}function fH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(cH)}function PC(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),oc(e,...t)}function r_(n,t,e,i){t&&vC(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,t(l)}})}function HL(n,t,e){return ND(n.serverSyncTree_,t,e)||mi.EMPTY_NODE}function jD(n,t=n.transactionQueueTree_){if(t||HD(n,t),Ay(t)){const e=mH(n,t);(0,ie.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Vae(n,t,e){const i=e.map(x=>x.currentWriteId),r=HL(n,t,i);let s=r;const l=r.hash();for(let x=0;x<e.length;x++){const S=e[x];(0,ie.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const L=jl(t,S.path);s=s.updateChild(L,S.currentOutputSnapshotRaw)}const m=s.val(!0),v=t;n.server_.put(v.toString(),m,x=>{PC(n,"transaction put response",{path:v.toString(),status:x});let S=[];if("ok"===x){const L=[];for(let Z=0;Z<e.length;Z++)e[Z].status=2,S=S.concat(i_(n.serverSyncTree_,e[Z].currentWriteId)),e[Z].onComplete&&L.push(()=>e[Z].onComplete(null,!0,e[Z].currentOutputSnapshotResolved)),e[Z].unwatcher();HD(n,LD(n.transactionQueueTree_,t)),jD(n,n.transactionQueueTree_),nd(n.eventQueue_,t,S);for(let Z=0;Z<L.length;Z++)vC(L[Z])}else{if("datastale"===x)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{cl("transaction at "+v.toString()+" failed: "+x);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=x}IC(n,t)}},l)}(n,wE(t),e)}else tH(t)&&UD(t,e=>{jD(n,e)})}function IC(n,t){const e=pH(n,t),i=wE(e);return function Bae(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const v=t[m],x=jl(e,v.path);let L,S=!1;if((0,ie.hu)(null!==x,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)S=!0,L=v.abortReason,r=r.concat(i_(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=Oae)S=!0,L="maxretry",r=r.concat(i_(n.serverSyncTree_,v.currentWriteId,!0));else{const Z=HL(n,v.path,l);v.currentInputSnapshot=Z;const te=t[m].update(Z.val());if(void 0!==te){ME("transaction failed: Data returned ",te,v.path);let ae=gs(te);"object"==typeof te&&null!=te&&(0,ie.r3)(te,".priority")||(ae=ae.updatePriority(Z.getPriority()));const Be=v.currentWriteId,vt=PE(n),Dt=kL(ae,Z,vt);v.currentOutputSnapshotRaw=ae,v.currentOutputSnapshotResolved=Dt,v.currentWriteId=zD(n),l.splice(l.indexOf(Be),1),r=r.concat(OL(n.serverSyncTree_,v.path,Dt,v.currentWriteId,v.applyLocally)),r=r.concat(i_(n.serverSyncTree_,Be,!0))}else S=!0,L="nodata",r=r.concat(i_(n.serverSyncTree_,v.currentWriteId,!0))}nd(n.eventQueue_,e,r),r=[],S&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&i.push("nodata"===L?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(L),!1,null)))}HD(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)vC(i[m]);jD(n,n.transactionQueueTree_)}(n,mH(n,e),i),i}function pH(n,t){let e,i=n.transactionQueueTree_;for(e=Si(t);null!==e&&void 0===Ay(i);)i=LD(i,e),e=Si(t=uo(t));return i}function mH(n,t){const e=[];return gH(n,t,e),e.sort((i,r)=>i.order-r.order),e}function gH(n,t,e){const i=Ay(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);UD(t,r=>{gH(n,r,e)})}function HD(n,t){const e=Ay(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,FL(t,e.length>0?e:void 0)}UD(t,i=>{HD(n,i)})}function qL(n,t){const e=wE(pH(n,t)),i=LD(n.transactionQueueTree_,t);return function _ae(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{ZL(n,r)}),ZL(n,i),nH(i,r=>{ZL(n,r)}),e}function ZL(n,t){const e=Ay(t);if(e){const i=[];let r=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,ie.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,ie.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(i_(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?FL(t,void 0):e.length=s+1,nd(n.eventQueue_,wE(t),r);for(let l=0;l<i.length;l++)vC(i[l])}}const $L=function(n,t){const e=Hae(n),i=e.namespace;return"firebase.com"===e.domain&&Jf(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Jf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&cl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new WF(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Rr(e.pathString)}},Hae=function(n){let t="",e="",i="",r="",s="",l=!0,m="https",v=443;if("string"==typeof n){let x=n.indexOf("//");x>=0&&(m=n.substring(0,x-1),n=n.substring(x+2));let S=n.indexOf("/");-1===S&&(S=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),t=n.substring(0,Math.min(S,L)),S<L&&(r=function zae(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(S,L)));const Z=function jae(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):cl(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,L)));x=t.indexOf(":"),x>=0?(l="https"===m||"wss"===m,v=parseInt(t.substring(x+1),10)):x=t.length;const te=t.slice(0,x);if("localhost"===te.toLowerCase())e="localhost";else if(te.split(".").length<=2)e=te;else{const ae=t.indexOf(".");i=t.substring(0,ae).toLowerCase(),e=t.substring(ae+1),s=i}"ns"in Z&&(s=Z.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:l,scheme:m,pathString:r,namespace:s}},_H="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qae=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=_H.charAt(e%64),e=Math.floor(e/64);(0,ie.hu)(0===e,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=_H.charAt(t[r]);return(0,ie.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class vH{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ie.Wl)(this.snapshot.exportVal())}}class yH{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class GL{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ie.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class bH{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ie.BH;return kae(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Qd("OnDisconnect.remove",this._path);const t=new ie.BH;return hH(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Qd("OnDisconnect.set",this._path),tp("OnDisconnect.set",t,this._path,!1);const e=new ie.BH;return hH(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Qd("OnDisconnect.setWithPriority",this._path),tp("OnDisconnect.setWithPriority",t,this._path,!1),VL("OnDisconnect.setWithPriority",e,!1);const i=new ie.BH;return function Rae(n,t,e,i,r){const s=gs(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(l,m)=>{"ok"===l&&xC(n.onDisconnect_,t,s),r_(0,r,l,m)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Qd("OnDisconnect.update",this._path),rH("OnDisconnect.update",t,this._path,!1);const e=new ie.BH;return function Nae(n,t,e,i){if((0,ie.xb)(e))return oc("onDisconnect().update() called with empty data.  Don't do anything."),void r_(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&sc(e,(l,m)=>{const v=gs(m);xC(n.onDisconnect_,ns(t,l),v)}),r_(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class wu{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Di(this._path)?null:eL(this._path)}get ref(){return new Jd(this._repo,this._path)}get _queryIdentifier(){const t=Mj(this._queryParams),e=$F(t);return"{}"===e?"default":e}get _queryObject(){return Mj(this._queryParams)}isEqual(t){if(!((t=(0,ie.m9)(t))instanceof wu))return!1;const e=this._repo===t._repo,i=tL(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Noe(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function qD(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function o_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Kg)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Cm)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===yo){if(null!=t&&!xE(t)||null!=e&&!xE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ie.hu)(n.getIndex()instanceof sL||n.getIndex()===aL,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ZD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Jd extends wu{constructor(t,e){super(t,e,new bD,!1)}get parent(){const t=hj(this._path);return null===t?null:new Jd(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ky{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Rr(t),i=Ry(this.ref,t);return new ky(this._node.getChild(e),i,yo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new ky(r,Ry(this.ref,i),yo)))}hasChild(t){const e=new Rr(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function CH(n,t){return(n=(0,ie.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ry(n._root,t):n._root}function wH(n,t){(n=(0,ie.m9)(n))._checkNotDeleted("refFromURL");const e=$L(t,n._repo.repoInfo_.nodeAdmin);oH("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Jf("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),CH(n,e.path.toString())}function Ry(n,t){return null===Si((n=(0,ie.m9)(n))._path)?xae("child","path",t,!1):OE("child","path",t,!1),new Jd(n._repo,ns(n._path,t))}function WL(n,t){n=(0,ie.m9)(n),Qd("set",n._path),tp("set",t,n._path,!1);const e=new ie.BH;return zL(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Yae(n,t){rH("update",t,n._path,!1);const e=new ie.BH;return function Dae(n,t,e,i){PC(n,"update",{path:t.toString(),value:e});let r=!0;const s=PE(n),l={};if(sc(e,(m,v)=>{r=!1,l[m]=eH(ns(t,m),gs(v),n.serverSyncTree_,s)}),r)oc("update() called with empty data.  Don't do anything."),r_(0,i,"ok",void 0);else{const m=zD(n),v=function iae(n,t,e,i){!function bse(n,t,e,i){(0,ie.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=_L(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=bo.fromObject(e);return OC(n,new MC({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,l,m);BD(n.eventQueue_,v),n.server_.merge(t.toString(),e,(x,S)=>{const L="ok"===x;L||cl("update at "+t+" failed: "+x);const Z=i_(n.serverSyncTree_,m,!L),te=Z.length>0?IC(n,t):t;nd(n.eventQueue_,te,Z),r_(0,i,x,S)}),sc(e,x=>{const S=qL(n,ns(t,x));IC(n,S)}),nd(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Kae(n){n=(0,ie.m9)(n);const t=new GL(()=>{}),e=new IE(t);return function Sae(n,t,e){const i=function cae(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(x,S)=>{const L=jl(x,e);i=i||t_(S,L)});let r=n.syncPointTree_.get(e);r?i=i||t_(r,lr()):(r=new Hj,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,l=s?new Xg(i,!0,!1):null;return function Zse(n){return OD(n.viewCache_)}(qj(r,t,PD(n.pendingWriteTree_,t._path),s?l.getNode():mi.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=gs(r).withIndex(t._queryParams.getIndex());let l;if(PL(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=yE(n.serverSyncTree_,t._path,s);else{const m=bE(n.serverSyncTree_,t);l=Yj(n.serverSyncTree_,t._path,s,m)}return nd(n.eventQueue_,t._path,l),RD(n.serverSyncTree_,t,e,null,!0),s},r=>(PC(n,"get for query "+(0,ie.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new ky(i,new Jd(n._repo,n._path),n._queryParams.getIndex()))}class IE{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new vH("value",this,new ky(t.snapshotNode,new Jd(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new yH(this,t,e):null}matches(t){return t instanceof IE&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $D{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new yH(this,t,e):null}createEvent(t,e){(0,ie.hu)(null!=t.childName,"Child events should have a childName.");const i=Ry(new Jd(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new vH(t.type,this,new ky(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof $D&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function TE(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const v=e,x=(S,L)=>{jL(n._repo,n,m),v(S,L)};x.userCallback=e.userCallback,x.context=e.context,e=x}const l=new GL(e,s||void 0),m="value"===t?new IE(l):new $D(t,l);return function Fae(n,t,e){let i;i=".info"===Si(t._path)?PL(n.infoSyncTree_,t,e):PL(n.serverSyncTree_,t,e),sH(n.eventQueue_,t._path,i)}(n._repo,n,m),()=>jL(n._repo,n,m)}function YL(n,t,e,i){return TE(n,"value",t,e,i)}function xH(n,t,e,i){return TE(n,"child_added",t,e,i)}function MH(n,t,e,i){return TE(n,"child_changed",t,e,i)}function EH(n,t,e,i){return TE(n,"child_moved",t,e,i)}function OH(n,t,e,i){return TE(n,"child_removed",t,e,i)}function PH(n,t,e){let i=null;const r=e?new GL(e):null;"value"===t?i=new IE(r):t&&(i=new $D(t,r)),jL(n._repo,n,i)}class qh{}class IH extends qh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tp("endAt",this._value,t._path,!0);const e=uL(t._queryParams,this._value,this._key);if(ZD(e),o_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wu(t._repo,t._path,e,t._orderByCalled)}}class Jae extends qh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tp("endBefore",this._value,t._path,!1);const e=function ase(n,t,e){let i;return i=uL(n,t,n.index_===Xf||e?e:Kg),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(ZD(e),o_(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wu(t._repo,t._path,e,t._orderByCalled)}}class TH extends qh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tp("startAt",this._value,t._path,!0);const e=lL(t._queryParams,this._value,this._key);if(ZD(e),o_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wu(t._repo,t._path,e,t._orderByCalled)}}class tce extends qh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){tp("startAfter",this._value,t._path,!1);const e=function sse(n,t,e){let i;return i=lL(n,t,n.index_===Xf||e?e:Cm),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(ZD(e),o_(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wu(t._repo,t._path,e,t._orderByCalled)}}class ice extends qh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wu(t._repo,t._path,function rse(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class oce extends qh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wu(t._repo,t._path,function ose(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class ace extends qh{constructor(t){super(),this._path=t}_apply(t){qD(t,"orderByChild");const e=new Rr(this._path);if(Di(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new sL(e),r=CD(t._queryParams,i);return o_(r),new wu(t._repo,t._path,r,!0)}}class lce extends qh{_apply(t){qD(t,"orderByKey");const e=CD(t._queryParams,Xf);return o_(e),new wu(t._repo,t._path,e,!0)}}class dce extends qh{_apply(t){qD(t,"orderByPriority");const e=CD(t._queryParams,yo);return o_(e),new wu(t._repo,t._path,e,!0)}}class fce extends qh{_apply(t){qD(t,"orderByValue");const e=CD(t._queryParams,aL);return o_(e),new wu(t._repo,t._path,e,!0)}}class mce extends qh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(tp("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new IH(this._value,this._key)._apply(new TH(this._value,this._key)._apply(t))}}function Zh(n,...t){let e=(0,ie.m9)(n);for(const i of t)e=i._apply(e);return e}(function Yse(n){(0,ie.hu)(!DD,"__referenceConstructor has already been defined"),DD=n})(Jd),function eae(n){(0,ie.hu)(!kD,"__referenceConstructor has already been defined"),kD=n}(Jd);const KL={};function DH(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Jf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),oc("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,x,l=$L(s,r),m=l.repoInfo;typeof process<"u"&&process.env&&(x=process.env.FIREBASE_DATABASE_EMULATOR_HOST),x?(v=!0,s=`http://${x}?ns=${m.namespace}`,l=$L(s,r),m=l.repoInfo):v=!l.repoInfo.secure;const S=r&&v?new aE(aE.OWNER):new uoe(n.name,n.options,t);oH("Invalid Firebase Database URL",l),Di(l.path)||Jf("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function bce(n,t,e,i){let r=KL[t.name];r||(r={},KL[t.name]=r);let s=r[n.toURLString()];return s&&Jf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Pae(n,false,e,i),r[n.toURLString()]=s,s}(m,n,S,new loe(n.name,e));return new wce(L,n)}class wce{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Iae(n,t,e){if(n.stats_=QF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new wD(n.repoInfo_,(i,r,s,l)=>{uH(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dH(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Iy(n.repoInfo_,t,(i,r,s,l)=>{uH(n,i,r,s,l)},i=>{dH(n,i)},i=>{!function Tae(n,t){sc(t,(e,i)=>{BL(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function foe(n,t){const e=n.toString();return KF[e]||(KF[e]=t()),KF[e]}(n.repoInfo_,()=>new fse(n.stats_,n.server_)),n.infoData_=new cse,n.infoSyncTree_=new Wj({startListening:(i,r,s,l)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=yE(n.infoSyncTree_,i._path,v),setTimeout(()=>{l("ok")},0)),m},stopListening:()=>{}}),BL(n,"connected",!1),n.serverSyncTree_=new Wj({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(m,v)=>{const x=l(m,v);nd(n.eventQueue_,i._path,x)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jd(this._repo,lr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function yce(n,t){const e=KL[t];(!e||e[n.key]!==n)&&Jf(`Database ${t}(${n.repoInfo_}) has already been deleted.`),fH(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Jf("Cannot call "+t+" on a deleted database.")}}function AH(){ej.IS_TRANSPORT_INITIALIZED&&cl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xce(){AH(),Qg.forceDisallow()}function Mce(){AH(),yC.forceDisallow(),Qg.forceAllow()}function Pce(n,t){Rz(n,t)}const Tce={".sv":"timestamp"};class Ace{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Iy.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Iy.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ice(n){Tz(Us.SDK_VERSION),(0,Us._registerComponent)(new du.wA("database",(t,{instanceIdentifier:e})=>DH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Us.registerVersion)(Pz,"0.14.4",n),(0,Us.registerVersion)(Pz,"0.14.4","esm2017")}();const Fce=new ju.Yd("@firebase/database-compat"),RH=function(n){Fce.warn("FIREBASE WARNING: "+n)};class Vce{constructor(t){this._delegate=t}cancel(t){(0,ie.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ie.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ie.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ie.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ie.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ie.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,ie.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,RH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ie.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Bce{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ie.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class s_{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ie.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ie.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ie.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ie.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ie.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),OE("DataSnapshot.child","path",t,!1),new s_(this._database,this._delegate.child(t))}hasChild(t){return(0,ie.Dv)("DataSnapshot.hasChild",1,1,arguments.length),OE("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ie.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ie.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ie.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new s_(this._database,e)))}hasChildren(){return(0,ie.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ie.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ie.Dv)("DataSnapshot.ref",0,0,arguments.length),new id(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Tc{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,ie.Dv)("Query.on",2,4,arguments.length),(0,ie.Wj)("Query.on","callback",e,!1);const l=Tc.getCancelAndContextArgs_("Query.on",i,r),m=(x,S)=>{e.call(l.context,new s_(this.database,x),S)};m.userCallback=e,m.context=l.context;const v=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(t){case"value":return YL(this._delegate,m,v),e;case"child_added":return xH(this._delegate,m,v),e;case"child_removed":return OH(this._delegate,m,v),e;case"child_changed":return MH(this._delegate,m,v),e;case"child_moved":return EH(this._delegate,m,v),e;default:throw new Error((0,ie.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ie.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ie.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ie.Wj)("Query.off","callback",e,!0),(0,ie.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,PH(this._delegate,t,r)}else PH(this._delegate,t)}get(){return Kae(this._delegate).then(t=>new s_(this.database,t))}once(t,e,i,r){(0,ie.Dv)("Query.once",1,4,arguments.length),(0,ie.Wj)("Query.once","callback",e,!0);const s=Tc.getCancelAndContextArgs_("Query.once",i,r),l=new ie.BH,m=(x,S)=>{const L=new s_(this.database,x);e&&e.call(s.context,L,S),l.resolve(L)};m.userCallback=e,m.context=s.context;const v=x=>{s.cancel&&s.cancel.call(s.context,x),l.reject(x)};switch(t){case"value":YL(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":xH(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":OH(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":MH(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":EH(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,ie.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,ie.Dv)("Query.limitToFirst",1,1,arguments.length),new Tc(this.database,Zh(this._delegate,function rce(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ice(n)}(t)))}limitToLast(t){return(0,ie.Dv)("Query.limitToLast",1,1,arguments.length),new Tc(this.database,Zh(this._delegate,function sce(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new oce(n)}(t)))}orderByChild(t){return(0,ie.Dv)("Query.orderByChild",1,1,arguments.length),new Tc(this.database,Zh(this._delegate,function cce(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return OE("orderByChild","path",n,!1),new ace(n)}(t)))}orderByKey(){return(0,ie.Dv)("Query.orderByKey",0,0,arguments.length),new Tc(this.database,Zh(this._delegate,function uce(){return new lce}()))}orderByPriority(){return(0,ie.Dv)("Query.orderByPriority",0,0,arguments.length),new Tc(this.database,Zh(this._delegate,function hce(){return new dce}()))}orderByValue(){return(0,ie.Dv)("Query.orderByValue",0,0,arguments.length),new Tc(this.database,Zh(this._delegate,function pce(){return new fce}()))}startAt(t=null,e){return(0,ie.Dv)("Query.startAt",0,2,arguments.length),new Tc(this.database,Zh(this._delegate,function ece(n=null,t){return EE("startAt","key",t,!0),new TH(n,t)}(t,e)))}startAfter(t=null,e){return(0,ie.Dv)("Query.startAfter",0,2,arguments.length),new Tc(this.database,Zh(this._delegate,function nce(n,t){return EE("startAfter","key",t,!0),new tce(n,t)}(t,e)))}endAt(t=null,e){return(0,ie.Dv)("Query.endAt",0,2,arguments.length),new Tc(this.database,Zh(this._delegate,function Qae(n,t){return EE("endAt","key",t,!0),new IH(n,t)}(t,e)))}endBefore(t=null,e){return(0,ie.Dv)("Query.endBefore",0,2,arguments.length),new Tc(this.database,Zh(this._delegate,function Xae(n,t){return EE("endBefore","key",t,!0),new Jae(n,t)}(t,e)))}equalTo(t,e){return(0,ie.Dv)("Query.equalTo",1,2,arguments.length),new Tc(this.database,Zh(this._delegate,function gce(n,t){return EE("equalTo","key",t,!0),new mce(n,t)}(t,e)))}toString(){return(0,ie.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ie.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ie.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Tc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ie.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ie.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ie.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new id(this.database,new Jd(this._delegate._repo,this._delegate._path))}}class id extends Tc{constructor(t,e){super(t,new wu(e._repo,e._path,new bD,!1)),this.database=t,this._delegate=e}getKey(){return(0,ie.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ie.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new id(this.database,Ry(this._delegate,t))}getParent(){(0,ie.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new id(this.database,t):null}getRoot(){return(0,ie.Dv)("Reference.root",0,0,arguments.length),new id(this.database,this._delegate.root)}set(t,e){(0,ie.Dv)("Reference.set",1,2,arguments.length),(0,ie.Wj)("Reference.set","onComplete",e,!0);const i=WL(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ie.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,RH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qd("Reference.update",this._delegate._path),(0,ie.Wj)("Reference.update","onComplete",e,!0);const i=Yae(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ie.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ie.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Wae(n,t,e){if(Qd("setWithPriority",n._path),tp("setWithPriority",t,n._path,!1),VL("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ie.BH;return zL(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,ie.Dv)("Reference.remove",0,1,arguments.length),(0,ie.Wj)("Reference.remove","onComplete",t,!0);const e=function $ae(n){return Qd("remove",n._path),WL(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ie.Dv)("Reference.transaction",1,3,arguments.length),(0,ie.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ie.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ie.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function kce(n,t,e){var i;if(n=(0,ie.m9)(n),Qd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new ie.BH,m=YL(n,()=>{});return function Uae(n,t,e,i,r,s){PC(n,"transaction on "+t);const l={path:t,update:e,onComplete:i,status:null,order:Dz(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=HL(n,t,void 0);l.currentInputSnapshot=m;const v=l.update(m.val());if(void 0===v)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{ME("transaction failed: Data returned ",v,l.path),l.status=0;const x=LD(n.transactionQueueTree_,t),S=Ay(x)||[];let L;S.push(l),FL(x,S),"object"==typeof v&&null!==v&&(0,ie.r3)(v,".priority")?(L=(0,ie.DV)(v,".priority"),(0,ie.hu)(xE(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(ND(n.serverSyncTree_,t)||mi.EMPTY_NODE).getPriority().val();const Z=PE(n),te=gs(v,L),ae=kL(te,m,Z);l.currentOutputSnapshotRaw=te,l.currentOutputSnapshotResolved=ae,l.currentWriteId=zD(n);const ve=OL(n.serverSyncTree_,t,ae,l.currentWriteId,l.applyLocally);nd(n.eventQueue_,t,ve),jD(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,x,S)=>{let L=null;v?s.reject(v):(L=new ky(S,new Jd(n._repo,n._path),yo),s.resolve(new Ace(x,L)))},m,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Bce(s.committed,new s_(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,ie.Dv)("Reference.setPriority",1,2,arguments.length),(0,ie.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Gae(n,t){n=(0,ie.m9)(n),Qd("setPriority",n._path),VL("setPriority",t,!1);const e=new ie.BH;return zL(n._repo,ns(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ie.Dv)("Reference.push",0,2,arguments.length),(0,ie.Wj)("Reference.push","onComplete",e,!0);const i=function Zae(n,t){n=(0,ie.m9)(n),Qd("push",n._path),tp("push",t,n._path,!0);const e=lH(n._repo),i=qae(e),r=Ry(n,i),s=Ry(n,i);let l;return l=null!=t?WL(s,t).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=i.then(l=>new id(this.database,l));e&&r.then(()=>e(null),l=>e(l));const s=new id(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Qd("Reference.onDisconnect",this._delegate._path),new Vce(new bH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class SE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xce,forceLongPolling:Mce}}useEmulator(t,e,i={}){!function kH(n,t,e,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Jf("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Jf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new aE(aE.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);s=new aE(l)}!function vce(n,t,e,i){n.repoInfo_=new WF(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,ie.Dv)("database.ref",0,1,arguments.length),t instanceof id){const e=wH(this._delegate,t.toString());return new id(this,e)}{const e=CH(this._delegate,t);return new id(this,e)}}refFromURL(t){(0,ie.Dv)("database.refFromURL",1,1,arguments.length);const i=wH(this._delegate,t);return new id(this,i)}goOffline(){return(0,ie.Dv)("database.goOffline",0,0,arguments.length),function Ece(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOffline"),fH(n._repo)}(this._delegate)}goOnline(){return(0,ie.Dv)("database.goOnline",0,0,arguments.length),function Oce(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOnline"),function Lae(n){n.persistentConnection_&&n.persistentConnection_.resume(cH)}(n._repo)}(this._delegate)}}SE.ServerValue={TIMESTAMP:function Sce(){return Tce}(),increment:n=>function Dce(n){return{".sv":{increment:n}}}(n)};var jce=Object.freeze({__proto__:null,initStandalone:function zce({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Tz(e);const l=new du.zt("auth-internal",new du.H0("database-standalone"));return l.setComponent(new du.wA("auth-internal",()=>i,"PRIVATE")),{instance:new SE(DH(n,l,void 0,t,s),n),namespace:r}}});const Hce=SE.ServerValue;function NH(n){return null==n}function FH(n){return"function"==typeof n.set}function LH(n,t){return FH(t)?t:n.ref(t)}function UH(n,t){if(function Zce(n){return"string"==typeof n}(n))return t.stringCase();if(FH(n))return t.firebaseCase();if(function $ce(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function DE(n,t,e="on",i=uC.z){return new cr.y(r=>{let s=null;return s=n[e](t,(l,m)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:m})}),"once"===e&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,mn.U)(r=>{const{snapshot:s,prevKey:l}=r;let m=null;return s.exists()&&(m=s.key),{type:t,payload:s,prevKey:l,key:m}}),(0,XN.B)())}function VH(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Yce(n,t){const{payload:e,prevKey:i,key:r}=t,s=VH(n,r),l=function Wce(n,t){if(NH(t))return 0;{const e=VH(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(v=>{const x={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,x],!1})}return n;case"child_added":if(s>-1){const m=n[s-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(l,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(l,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===r?t:m);case"child_moved":if(s>-1){const m=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,m),n}return n;default:return n}}function BH(n){return(NH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function zH(n,t,e){return function Gce(n,t,e){return DE(n,"value","once",e).pipe((0,Bo.w)(i=>{const r=[(0,_n.of)(i)];return t.forEach(s=>r.push(DE(n,s,"on",e))),(0,zh.T)(...r).pipe(Wb(Yce,[]))}),(0,zS.x)())}(n,t=BH(t),e)}function jH(n,t,e){const i=(t=BH(t)).map(r=>DE(n,r,"on",e));return(0,zh.T)(...i)}function HH(n,t){return function(i,r){return UH(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Xce(n){return function(e){return e?UH(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function qH(n,t){return function(){return DE(n,"value","on",t)}}!function qce(n){n.INTERNAL.registerComponent(new du.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new SE(r,i)},"PUBLIC").setServiceProps({Reference:id,Query:Tc,Database:SE,DataSnapshot:s_,enableLogging:Pce,INTERNAL:jce,ServerValue:Hce}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(nz.Z);const nle=new o.OlP("angularfire2.realtimeDatabaseURL"),ile=new o.OlP("angularfire2.database.use-emulator");let rle=(()=>{class n{constructor(e,i,r,s,l,m,v,x,S,L,Z,te,ae,ve,Be){this.schedulers=m;const vt=v,Dt=(0,Vl.on)(e,l,i);x&&UF(Dt,l,S,Z,te,ae,L,ve),this.database=(0,Vl.cc)(`${Dt.name}.database.${r}`,"AngularFireDatabase",Dt.name,()=>{const St=l.runOutsideAngular(()=>Dt.database(r||void 0));return vt&&St.useEmulator(...vt),St},[vt])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>LH(this.database,e));let s=r;return i&&(s=i(r)),function ele(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:HH(i,"update"),set:HH(i,"set"),push:r=>i.push(r),remove:Xce(i),snapshotChanges:r=>zH(n,r,e).pipe(bn.iC),stateChanges:r=>jH(n,r,e).pipe(bn.iC),auditTrail:r=>function Kce(n,t,e){return function Jce(n,t,e){return function Qce(n,t){return DE(n,"value","on",t).pipe((0,mn.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Yre(...n){const t=(0,$b.jO)(n);return(0,Tr.e)((e,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),m=!1;for(let v=0;v<r;v++)(0,Ro.Xf)(n[v]).subscribe((0,li.x)(i,x=>{s[v]=x,!m&&!l[v]&&(l[v]=!0,(m=l.every(a1.y))&&(l=null))},Y2.Z));e.subscribe((0,li.x)(i,v=>{if(m){const x=[v,...s];i.next(t?t(...x):x)}}))})}(t),(0,mn.U)(([r,s])=>{const l=r.lastKeyToLoad,m=s.map(v=>v.key);return{actions:s,lastKeyToLoad:l,loadedKeys:m}}),function Kre(n){return(0,Tr.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,li.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,mn.U)(r=>r.actions))}(n,jH(n,t).pipe(Wb((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(bn.iC),valueChanges:(r,s)=>zH(n,r,e).pipe((0,mn.U)(m=>m.map(v=>s&&s.idField?Object.assign(Object.assign({},v.payload.val()),{[s.idField]:v.key}):v.payload.val())),bn.iC)}}(s,this)}object(e){return function tle(n,t){return{query:n,snapshotChanges:()=>qH(n,t.schedulers.outsideAngular)().pipe(bn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>qH(n,t.schedulers.outsideAngular)().pipe(bn.iC,(0,mn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>LH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vl.Dh),o.LFG(Vl.xv,8),o.LFG(nle,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bn.HU),o.LFG(ile,8),o.LFG(VF,8),o.LFG(AF,8),o.LFG(kF,8),o.LFG(RF,8),o.LFG(NF,8),o.LFG(FF,8),o.LFG(LF,8),o.LFG(Ep,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZH=(()=>{class n{constructor(){dz.Z.registerVersion("angularfire",bn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[rle]}),n})(),ole=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[vi,CN]})}return n})();const $H={apiKey:"AIzaSyBUhtsLE6mKhnLFA4hrTdgtPRvT9DFPews",authDomain:"pelda-4422f.firebaseapp.com",projectId:"pelda-4422f",storageBucket:"pelda-4422f.appspot.com",messagingSenderId:"999999888137",appId:"1:999999888137:web:c55fe757b0ce70c8fcd1d8",useEmulator:!0,experimentalForceLongPolling:!0};let sle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n,bootstrap:[$re]});static#n=this.\u0275inj=o.cJS({providers:[es,jF],imports:[gA(()=>rO($H)),ZZ(()=>WZ()),SG(()=>AG()),fh.forRoot(),Yc,Mh,vre,Gre,PK,pC,ZU,CN,vi,Wre,ole,ZH,rie,Vl.hO.initializeApp($H),ZH,FB,NA(()=>VA())]})}return n})();qr().bootstrapModule(sle).catch(n=>console.error(n))},3219:(en,Te,Q)=>{Object.defineProperty(Te,"__esModule",{value:!0});var ce,xe,o=Q(8005),U=Q(3661),Y=Q(6553),pe=Q(8836),Ae=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),De=new U.ErrorFactory("app","Firebase",Ae),ut="@firebase/app",nt="[DEFAULT]",Ze=((xe={})[ut]="fire-core",xe["@firebase/analytics"]="fire-analytics",xe["@firebase/auth"]="fire-auth",xe["@firebase/database"]="fire-rtdb",xe["@firebase/functions"]="fire-fn",xe["@firebase/installations"]="fire-iid",xe["@firebase/messaging"]="fire-fcm",xe["@firebase/performance"]="fire-perf",xe["@firebase/remote-config"]="fire-rc",xe["@firebase/storage"]="fire-gcs",xe["@firebase/firestore"]="fire-fst",xe["fire-js"]="fire-js",xe["firebase-wrapper"]="fire-js-all",xe),it=new pe.Logger("@firebase/app"),he=function(){function Pe(we,qe,je){var ct,gt,Tt=this;this.firebase_=je,this.isDeleted_=!1,this.name_=qe.name,this.automaticDataCollectionEnabled_=qe.automaticDataCollectionEnabled||!1,this.options_=U.deepCopy(we),this.container=new Y.ComponentContainer(qe.name),this._addComponent(new Y.Component("app",function(){return Tt},"PUBLIC"));try{for(var Ct=o.__values(this.firebase_.INTERNAL.components.values()),In=Ct.next();!In.done;In=Ct.next())this._addComponent(In.value)}catch(Ln){ct={error:Ln}}finally{try{In&&!In.done&&(gt=Ct.return)&&gt.call(Ct)}finally{if(ct)throw ct.error}}}return Object.defineProperty(Pe.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(we){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=we},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Pe.prototype.delete=function(){var we=this;return new Promise(function(qe){we.checkDestroyed_(),qe()}).then(function(){return we.firebase_.INTERNAL.removeApp(we.name_),Promise.all(we.container.getProviders().map(function(qe){return qe.delete()}))}).then(function(){we.isDeleted_=!0})},Pe.prototype._getService=function(we,qe){return void 0===qe&&(qe=nt),this.checkDestroyed_(),this.container.getProvider(we).getImmediate({identifier:qe})},Pe.prototype._removeServiceInstance=function(we,qe){void 0===qe&&(qe=nt),this.container.getProvider(we).clearInstance(qe)},Pe.prototype._addComponent=function(we){try{this.container.addComponent(we)}catch(qe){it.debug("Component "+we.name+" failed to register with FirebaseApp "+this.name,qe)}},Pe.prototype._addOrOverwriteComponent=function(we){this.container.addOrOverwriteComponent(we)},Pe.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw De.create("app-deleted",{appName:this.name_})},Pe}();he.prototype.name&&he.prototype.options||he.prototype.delete||console.log("dc");var wt=function Le(){var Pe=function Ge(Pe){var we={},qe=new Map,je={__esModule:!0,initializeApp:function Tt(tn,Tn){void 0===Tn&&(Tn={}),("object"!=typeof Tn||null===Tn)&&(Tn={name:Tn});var cn=Tn;void 0===cn.name&&(cn.name=nt);var Un=cn.name;if("string"!=typeof Un||!Un)throw De.create("bad-app-name",{appName:String(Un)});if(U.contains(we,Un))throw De.create("duplicate-app",{appName:Un});var zn=new Pe(tn,cn,je);return we[Un]=zn,zn},app:gt,registerVersion:function dn(tn,Tn,Ut){var cn,Un=null!==(cn=Ze[tn])&&void 0!==cn?cn:tn;Ut&&(Un+="-"+Ut);var zn=Un.match(/\s|\//),Ei=Tn.match(/\s|\//);if(zn||Ei){var Ai=['Unable to register library "'+Un+'" with version "'+Tn+'":'];return zn&&Ai.push('library name "'+Un+'" contains illegal characters (whitespace or "/")'),zn&&Ei&&Ai.push("and"),Ei&&Ai.push('version name "'+Tn+'" contains illegal characters (whitespace or "/")'),void it.warn(Ai.join(" "))}In(new Y.Component(Un+"-version",function(){return{library:Un,version:Tn}},"VERSION"))},setLogLevel:pe.setLogLevel,onLog:function Ln(tn,Tn){if(null!==tn&&"function"!=typeof tn)throw De.create("invalid-log-argument",{appName:name});pe.setUserLogHandler(tn,Tn)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:In,removeApp:function ct(tn){delete we[tn]},components:qe,useAsService:function fn(tn,Tn){return"serverAuth"===Tn?null:Tn}}};function gt(tn){if(!U.contains(we,tn=tn||nt))throw De.create("no-app",{appName:tn});return we[tn]}function In(tn){var Tn,Ut,cn=tn.name;if(qe.has(cn))return it.debug("There were multiple attempts to register component "+cn+"."),"PUBLIC"===tn.type?je[cn]:null;if(qe.set(cn,tn),"PUBLIC"===tn.type){var Un=function(ri){if(void 0===ri&&(ri=gt()),"function"!=typeof ri[cn])throw De.create("invalid-app-argument",{appName:cn});return ri[cn]()};void 0!==tn.serviceProps&&U.deepExtend(Un,tn.serviceProps),je[cn]=Un,Pe.prototype[cn]=function(){for(var ri=[],Hi=0;Hi<arguments.length;Hi++)ri[Hi]=arguments[Hi];return this._getService.bind(this,cn).apply(this,tn.multipleInstances?ri:[])}}try{for(var zn=o.__values(Object.keys(we)),Ei=zn.next();!Ei.done;Ei=zn.next())we[Ei.value]._addComponent(tn)}catch(ri){Tn={error:ri}}finally{try{Ei&&!Ei.done&&(Ut=zn.return)&&Ut.call(zn)}finally{if(Tn)throw Tn.error}}return"PUBLIC"===tn.type?je[cn]:null}return je.default=je,Object.defineProperty(je,"apps",{get:function Ct(){return Object.keys(we).map(function(tn){return we[tn]})}}),gt.App=Pe,je}(he);return Pe.INTERNAL=o.__assign(o.__assign({},Pe.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function we(qe){U.deepExtend(Pe,qe)},createSubscribe:U.createSubscribe,ErrorFactory:U.ErrorFactory,deepExtend:U.deepExtend}),Pe}(),ot=function(){function Pe(we){this.container=we}return Pe.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(qe){if(function Yt(Pe){var we=Pe.getComponent();return"VERSION"===we?.type}(qe)){var je=qe.getImmediate();return je.library+"/"+je.version}return null}).filter(function(qe){return qe}).join(" ")},Pe}();if(U.isBrowser()&&void 0!==self.firebase){it.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var un=self.firebase.SDK_VERSION;un&&un.indexOf("LITE")>=0&&it.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rn=wt.initializeApp;wt.initializeApp=function(){for(var Pe=[],we=0;we<arguments.length;we++)Pe[we]=arguments[we];return U.isNode()&&it.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),rn.apply(void 0,Pe)};var gi=wt;(function nn(Pe,we){Pe.INTERNAL.registerComponent(new Y.Component("platform-logger",function(qe){return new ot(qe)},"PRIVATE")),Pe.registerVersion(ut,"0.6.11",we),Pe.registerVersion("fire-js","")})(gi),Te.default=gi,Te.firebase=gi},6553:(en,Te,Q)=>{Object.defineProperty(Te,"__esModule",{value:!0});var o=Q(8005),U=Q(3661),Y=function(){function Ve(j,$,de){this.name=j,this.instanceFactory=$,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Ve.prototype.setInstantiationMode=function(j){return this.instantiationMode=j,this},Ve.prototype.setMultipleInstances=function(j){return this.multipleInstances=j,this},Ve.prototype.setServiceProps=function(j){return this.serviceProps=j,this},Ve}(),pe="[DEFAULT]",ce=function(){function Ve(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Ve.prototype.get=function(j){void 0===j&&(j=pe);var $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){var de=new U.Deferred;this.instancesDeferred.set($,de);try{var Ne=this.getOrInitializeService($);Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get($).promise},Ve.prototype.getImmediate=function(j){var $=o.__assign({identifier:pe,optional:!1},j),Ne=$.optional,me=this.normalizeInstanceIdentifier($.identifier);try{var lt=this.getOrInitializeService(me);if(!lt){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return lt}catch(st){if(Ne)return null;throw st}},Ve.prototype.getComponent=function(){return this.component},Ve.prototype.setComponent=function(j){var $,de;if(j.name!==this.name)throw Error("Mismatching Component "+j.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=j,function De(Ve){return"EAGER"===Ve.instantiationMode}(j))try{this.getOrInitializeService(pe)}catch{}try{for(var Ne=o.__values(this.instancesDeferred.entries()),me=Ne.next();!me.done;me=Ne.next()){var lt=o.__read(me.value,2),mt=lt[1],Re=this.normalizeInstanceIdentifier(lt[0]);try{var at=this.getOrInitializeService(Re);mt.resolve(at)}catch{}}}catch(We){$={error:We}}finally{try{me&&!me.done&&(de=Ne.return)&&de.call(Ne)}finally{if($)throw $.error}}},Ve.prototype.clearInstance=function(j){void 0===j&&(j=pe),this.instancesDeferred.delete(j),this.instances.delete(j)},Ve.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,function(){var j;return o.__generator(this,function($){switch($.label){case 0:return j=Array.from(this.instances.values()),[4,Promise.all(o.__spread(j.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}),j.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()})))];case 1:return $.sent(),[2]}})})},Ve.prototype.isComponentSet=function(){return null!=this.component},Ve.prototype.getOrInitializeService=function(j){var $=this.instances.get(j);return!$&&this.component&&($=this.component.instanceFactory(this.container,function Ae(Ve){return Ve===pe?void 0:Ve}(j)),this.instances.set(j,$)),$||null},Ve.prototype.normalizeInstanceIdentifier=function(j){return this.component?this.component.multipleInstances?j:pe:j},Ve}(),ut=function(){function Ve(j){this.name=j,this.providers=new Map}return Ve.prototype.addComponent=function(j){var $=this.getProvider(j.name);if($.isComponentSet())throw new Error("Component "+j.name+" has already been registered with "+this.name);$.setComponent(j)},Ve.prototype.addOrOverwriteComponent=function(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)},Ve.prototype.getProvider=function(j){if(this.providers.has(j))return this.providers.get(j);var $=new ce(j,this);return this.providers.set(j,$),$},Ve.prototype.getProviders=function(){return Array.from(this.providers.values())},Ve}();Te.Component=Y,Te.ComponentContainer=ut,Te.Provider=ce},4467:(en,Te,Q)=>{var U=Q(8005),Y=Q(3219),pe=Q(8836),ce=Q(3661),Ae=Q(8602),De=Q(6553),Ve=function ut(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(Y),j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=function(f){function u(h,g){var y=this;return(y=f.call(this,g)||this).code=h,y.message=g,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return U.__extends(u,f),u}(Error),de=new pe.Logger("@firebase/firestore");function Ne(){return de.logLevel}function me(f){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.DEBUG){var g=u.map(mt);de.debug.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function lt(f){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.ERROR){var g=u.map(mt);de.error.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function st(f){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.WARN){var g=u.map(mt);de.warn.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function mt(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch{return f}}function Re(f){void 0===f&&(f="Unexpected state");var u="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+f;throw lt(u),new Error(u)}function at(f,u){f||Re()}function We(f,u){return f}function xe(f){var u=0;for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&u++;return u}function nt(f,u){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&u(h,f[h])}function Ze(f){for(var u in f)if(Object.prototype.hasOwnProperty.call(f,u))return!1;return!0}var it=function(){function f(u,h,g){void 0===h?h=0:h>u.length&&Re(),void 0===g?g=u.length-h:g>u.length-h&&Re(),this.segments=u,this.offset=h,this.t=g}return Object.defineProperty(f.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(u){return 0===f.i(this,u)},f.prototype.child=function(u){var h=this.segments.slice(this.offset,this.limit());return u instanceof f?u.forEach(function(g){h.push(g)}):h.push(u),this.o(h)},f.prototype.limit=function(){return this.offset+this.length},f.prototype.u=function(u){return this.o(this.segments,this.offset+(u=void 0===u?1:u),this.length-u)},f.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},f.prototype.l=function(){return this.segments[this.offset]},f.prototype._=function(){return this.get(this.length-1)},f.prototype.get=function(u){return this.segments[this.offset+u]},f.prototype.m=function(){return 0===this.length},f.prototype.T=function(u){if(u.length<this.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==u.get(h))return!1;return!0},f.prototype.I=function(u){if(this.length+1!==u.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==u.get(h))return!1;return!0},f.prototype.forEach=function(u){for(var h=this.offset,g=this.limit();h<g;h++)u(this.segments[h])},f.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},f.i=function(u,h){for(var g=Math.min(u.length,h.length),y=0;y<g;y++){var M=u.get(y),P=h.get(y);if(M<P)return-1;if(M>P)return 1}return u.length<h.length?-1:u.length>h.length?1:0},f}(),he=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.prototype.o=function(h,g,y){return new u(h,g,y)},u.prototype.R=function(){return this.A().join("/")},u.prototype.toString=function(){return this.R()},u.g=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];for(var y=[],M=0,P=h;M<P.length;M++){var R=P[M];if(R.indexOf("//")>=0)throw new $(j.INVALID_ARGUMENT,"Invalid segment ("+R+"). Paths must not contain // in them.");y.push.apply(y,R.split("/").filter(function(V){return V.length>0}))}return new u(y)},u.P=function(){return new u([])},u}(it),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ge=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.prototype.o=function(h,g,y){return new u(h,g,y)},u.V=function(h){return ue.test(h)},u.prototype.R=function(){return this.A().map(function(h){return h=h.replace("\\","\\\\").replace("`","\\`"),u.V(h)||(h="`"+h+"`"),h}).join(".")},u.prototype.toString=function(){return this.R()},u.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},u.v=function(){return new u(["__name__"])},u.S=function(h){for(var g=[],y="",M=0,P=function(){if(0===y.length)throw new $(j.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");g.push(y),y=""},R=!1;M<h.length;){var V=h[M];if("\\"===V){if(M+1===h.length)throw new $(j.INVALID_ARGUMENT,"Path has trailing escape character: "+h);var W=h[M+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new $(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+h);y+=W,M+=2}else"`"===V?(R=!R,M++):"."!==V||R?(y+=V,M++):(P(),M++)}if(P(),R)throw new $(j.INVALID_ARGUMENT,"Unterminated ` in path: "+h);return new u(g)},u.P=function(){return new u([])},u}(it),Le=function(){function f(u){this.path=u}return f.D=function(u){return new f(he.g(u))},f.C=function(u){return new f(he.g(u).u(5))},f.prototype.N=function(u){return this.path.length>=2&&this.path.get(this.path.length-2)===u},f.prototype.isEqual=function(u){return null!==u&&0===he.i(this.path,u.path)},f.prototype.toString=function(){return this.path.toString()},f.i=function(u,h){return he.i(u.path,h.path)},f.F=function(u){return u.length%2==0},f.$=function(u){return new f(new he(u.slice()))},f}();function wt(f,u){if(0!==u.length)throw new $(j.INVALID_ARGUMENT,"Function "+f+"() does not support arguments, but was called with "+fn(u.length,"argument")+".")}function ot(f,u,h){if(u.length!==h)throw new $(j.INVALID_ARGUMENT,"Function "+f+"() requires "+fn(h,"argument")+", but was called with "+fn(u.length,"argument")+".")}function Yt(f,u,h){if(u.length<h)throw new $(j.INVALID_ARGUMENT,"Function "+f+"() requires at least "+fn(h,"argument")+", but was called with "+fn(u.length,"argument")+".")}function nn(f,u,h,g){if(u.length<h||u.length>g)throw new $(j.INVALID_ARGUMENT,"Function "+f+"() requires between "+h+" and "+g+" arguments, but was called with "+fn(u.length,"argument")+".")}function un(f,u,h,g){je(f,u,Ln(h)+" argument",g)}function rn(f,u,h,g){void 0!==g&&un(f,u,h,g)}function gi(f,u,h,g){je(f,u,h+" option",g)}function Pe(f,u,h,g){void 0!==g&&gi(f,u,h,g)}function we(f,u,h,g,y){void 0!==g&&function(M,P,R,V,W){for(var re=[],ge=0,_e=W;ge<_e.length;ge++){var ke=_e[ge];if(ke===V)return;re.push(gt(ke))}var et=gt(V);throw new $(j.INVALID_ARGUMENT,"Invalid value "+et+" provided to function "+M+'() for option "'+R+'". Acceptable values: '+re.join(", "))}(f,0,h,g,y)}function qe(f,u,h,g){if(!u.some(function(y){return y===g}))throw new $(j.INVALID_ARGUMENT,"Invalid value "+gt(g)+" provided to function "+f+"() for its "+Ln(h)+" argument. Acceptable values: "+u.join(", "));return g}function je(f,u,h,g){if(!("object"===u?ct(g):"non-empty string"===u?"string"==typeof g&&""!==g:typeof g===u)){var y=gt(g);throw new $(j.INVALID_ARGUMENT,"Function "+f+"() requires its "+h+" to be of type "+u+", but it was: "+y)}}function ct(f){return"object"==typeof f&&null!==f&&(Object.getPrototypeOf(f)===Object.prototype||null===Object.getPrototypeOf(f))}function gt(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=f.substring(0,20)+"..."),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";var u=function(h){if(h.constructor){var g=/function\s+([^\s(]+)\s*\(/.exec(h.constructor.toString());if(g&&g.length>1)return g[1]}return null}(f);return u?"a custom "+u+" object":"an object"}return"function"==typeof f?"a function":Re()}function Tt(f,u,h){if(void 0===h)throw new $(j.INVALID_ARGUMENT,"Function "+f+"() requires a valid "+Ln(u)+" argument, but it was undefined.")}function Ct(f,u,h){nt(u,function(g,y){if(h.indexOf(g)<0)throw new $(j.INVALID_ARGUMENT,"Unknown option '"+g+"' passed to function "+f+"(). Available options: "+h.join(", "))})}function In(f,u,h,g){var y=gt(g);return new $(j.INVALID_ARGUMENT,"Function "+f+"() requires its "+Ln(h)+" argument to be a "+u+", but it was: "+y)}function dn(f,u,h){if(h<=0)throw new $(j.INVALID_ARGUMENT,"Function "+f+"() requires its "+Ln(u)+" argument to be a positive number, but it was: "+h+".")}function Ln(f){switch(f){case 1:return"first";case 2:return"second";case 3:return"third";default:return f+"th"}}function fn(f,u){return f+" "+u+(1===f?"":"s")}function tn(f){var u=typeof self<"u"&&(self.crypto||self.msCrypto),h=new Uint8Array(f);if(u&&"function"==typeof u.getRandomValues)u.getRandomValues(h);else for(var g=0;g<f;g++)h[g]=Math.floor(256*Math.random());return h}var Tn=function(){function f(){}return f.k=function(){for(var h=62*Math.floor(256/62),g="";g.length<20;)for(var y=tn(40),M=0;M<y.length;++M)g.length<20&&y[M]<h&&(g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(y[M]%62));return g},f}();function Ut(f,u){return f<u?-1:f>u?1:0}function cn(f,u,h){return f.length===u.length&&f.every(function(g,y){return h(g,u[y])})}function Un(f){return f+"\0"}var zn=function(){function f(u){this.M=u}return f.fromBase64String=function(u){return new f(atob(u))},f.fromUint8Array=function(u){return new f(function(h){for(var g="",y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(u))},f.prototype.toBase64=function(){return btoa(this.M)},f.prototype.toUint8Array=function(){return function(u){for(var h=new Uint8Array(u.length),g=0;g<u.length;g++)h[g]=u.charCodeAt(g);return h}(this.M)},f.prototype.O=function(){return 2*this.M.length},f.prototype.L=function(u){return Ut(this.M,u.M)},f.prototype.isEqual=function(u){return this.M===u.M},f}();zn.B=new zn("");var Ei=function(){function f(u){this.q=u}return f.fromBase64String=function(u){try{return new f(zn.fromBase64String(u))}catch(h){throw new $(j.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+h)}},f.fromUint8Array=function(u){return new f(zn.fromUint8Array(u))},f.prototype.toBase64=function(){return this.q.toBase64()},f.prototype.toUint8Array=function(){return this.q.toUint8Array()},f.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},f.prototype.isEqual=function(u){return this.q.isEqual(u.q)},f}();function Ai(){if(typeof Uint8Array>"u")throw new $(j.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ri(){if(typeof atob>"u")throw new $(j.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Hi=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.fromBase64String=function(h){ot("Blob.fromBase64String",arguments,1),un("Blob.fromBase64String","string",1,h),ri();try{return new u(zn.fromBase64String(h))}catch(g){throw new $(j.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+g)}},u.fromUint8Array=function(h){if(ot("Blob.fromUint8Array",arguments,1),Ai(),!(h instanceof Uint8Array))throw In("Blob.fromUint8Array","Uint8Array",1,h);return new u(zn.fromUint8Array(h))},u.prototype.toBase64=function(){return ot("Blob.toBase64",arguments,0),ri(),f.prototype.toBase64.call(this)},u.prototype.toUint8Array=function(){return ot("Blob.toUint8Array",arguments,0),Ai(),f.prototype.toUint8Array.call(this)},u.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},u}(Ei),zo=function(f,u,h,g,y,M){this.U=f,this.persistenceKey=u,this.host=h,this.ssl=g,this.forceLongPolling=y,this.W=M},sn=function(){function f(u,h){this.projectId=u,this.database=h||"(default)"}return Object.defineProperty(f.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(u){return u instanceof f&&u.projectId===this.projectId&&u.database===this.database},f.prototype.L=function(u){return Ut(this.projectId,u.projectId)||Ut(this.database,u.database)},f}(),Kt=function(){function f(u,h){this.K=u,this.G=h,this.H={}}return f.prototype.get=function(u){var h=this.K(u),g=this.H[h];if(void 0!==g)for(var y=0,M=g;y<M.length;y++){var P=M[y],V=P[1];if(this.G(P[0],u))return V}},f.prototype.has=function(u){return void 0!==this.get(u)},f.prototype.set=function(u,h){var g=this.K(u),y=this.H[g];if(void 0!==y){for(var M=0;M<y.length;M++)if(this.G(y[M][0],u))return void(y[M]=[u,h]);y.push([u,h])}else this.H[g]=[[u,h]]},f.prototype.delete=function(u){var h=this.K(u),g=this.H[h];if(void 0===g)return!1;for(var y=0;y<g.length;y++)if(this.G(g[y][0],u))return 1===g.length?delete this.H[h]:g.splice(y,1),!0;return!1},f.prototype.forEach=function(u){nt(this.H,function(h,g){for(var y=0,M=g;y<M.length;y++){var P=M[y];u(P[0],P[1])}})},f.prototype.m=function(){return Ze(this.H)},f}(),Qt=function(){function f(u,h){if(this.seconds=u,this.nanoseconds=h,h<0)throw new $(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(h>=1e9)throw new $(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(u<-62135596800)throw new $(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+u);if(u>=253402300800)throw new $(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+u)}return f.now=function(){return f.fromMillis(Date.now())},f.fromDate=function(u){return f.fromMillis(u.getTime())},f.fromMillis=function(u){var h=Math.floor(u/1e3);return new f(h,1e6*(u-1e3*h))},f.prototype.toDate=function(){return new Date(this.toMillis())},f.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},f.prototype.Y=function(u){return this.seconds===u.seconds?Ut(this.nanoseconds,u.nanoseconds):Ut(this.seconds,u.seconds)},f.prototype.isEqual=function(u){return u.seconds===this.seconds&&u.nanoseconds===this.nanoseconds},f.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},f.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},f.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},f}(),jt=function(){function f(u){this.timestamp=u}return f.J=function(u){return new f(u)},f.min=function(){return new f(new Qt(0,0))},f.prototype.L=function(u){return this.timestamp.Y(u.timestamp)},f.prototype.isEqual=function(u){return this.timestamp.isEqual(u.timestamp)},f.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},f.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},f.prototype.Z=function(){return this.timestamp},f}();function Oe(f){return null==f}function Ce(f){return 0===f&&1/f==-1/0}function Me(f){return"number"==typeof f&&Number.isInteger(f)&&!Ce(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}var $e=function(f,u,h,g,y,M,P){void 0===u&&(u=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===M&&(M=null),void 0===P&&(P=null),this.path=f,this.collectionGroup=u,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=M,this.endAt=P,this.tt=null};function Fe(f,u,h,g,y,M,P){return void 0===u&&(u=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===M&&(M=null),void 0===P&&(P=null),new $e(f,u,h,g,y,M,P)}function xt(f){var u=We(f);if(null===u.tt){var h=u.path.R();null!==u.collectionGroup&&(h+="|cg:"+u.collectionGroup),h+="|f:",h+=u.filters.map(function(g){return(y=g).field.R()+y.op.toString()+vs(y.value);var y}).join(","),h+="|ob:",h+=u.orderBy.map(function(g){return(y=g).field.R()+y.dir;var y}).join(","),Oe(u.limit)||(h+="|l:",h+=u.limit),u.startAt&&(h+="|lb:",h+=pc(u.startAt)),u.endAt&&(h+="|ub:",h+=pc(u.endAt)),u.tt=h}return u.tt}function gn(f,u){if(f.limit!==u.limit||f.orderBy.length!==u.orderBy.length)return!1;for(var h=0;h<f.orderBy.length;h++)if(!xi(f.orderBy[h],u.orderBy[h]))return!1;if(f.filters.length!==u.filters.length)return!1;for(var g=0;g<f.filters.length;g++)if((y=f.filters[g]).op!==(M=u.filters[g]).op||!y.field.isEqual(M.field)||!jr(y.value,M.value))return!1;var y,M;return f.collectionGroup===u.collectionGroup&&!!f.path.isEqual(u.path)&&!!Ys(f.startAt,u.startAt)&&Ys(f.endAt,u.endAt)}function zt(f){return Le.F(f.path)&&null===f.collectionGroup&&0===f.filters.length}var Xt,Ht,Oi=function(){function f(u,h,g,y,M,P,R){void 0===M&&(M=jt.min()),void 0===P&&(P=jt.min()),void 0===R&&(R=zn.B),this.target=u,this.targetId=h,this.et=g,this.sequenceNumber=y,this.nt=M,this.lastLimboFreeSnapshotVersion=P,this.resumeToken=R}return f.prototype.st=function(u){return new f(this.target,this.targetId,this.et,u,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},f.prototype.it=function(u,h){return new f(this.target,this.targetId,this.et,this.sequenceNumber,h,this.lastLimboFreeSnapshotVersion,u)},f.prototype.rt=function(u){return new f(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,u,this.resumeToken)},f}(),wi=function(f){this.count=f};function Zn(f){switch(f){case j.OK:return Re();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Re()}}function Li(f){if(void 0===f)return lt("GRPC error has no .code"),j.UNKNOWN;switch(f){case Xt.OK:return j.OK;case Xt.CANCELLED:return j.CANCELLED;case Xt.UNKNOWN:return j.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return j.INTERNAL;case Xt.UNAVAILABLE:return j.UNAVAILABLE;case Xt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Xt.NOT_FOUND:return j.NOT_FOUND;case Xt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Xt.ABORTED:return j.ABORTED;case Xt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Xt.DATA_LOSS:return j.DATA_LOSS;default:return Re()}}(Ht=Xt||(Xt={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var $n=function(){function f(u,h){this.i=u,this.root=h||_i.EMPTY}return f.prototype.ot=function(u,h){return new f(this.i,this.root.ot(u,h,this.i).copy(null,null,_i.at,null,null))},f.prototype.remove=function(u){return new f(this.i,this.root.remove(u,this.i).copy(null,null,_i.at,null,null))},f.prototype.get=function(u){for(var h=this.root;!h.m();){var g=this.i(u,h.key);if(0===g)return h.value;g<0?h=h.left:g>0&&(h=h.right)}return null},f.prototype.indexOf=function(u){for(var h=0,g=this.root;!g.m();){var y=this.i(u,g.key);if(0===y)return h+g.left.size;y<0?g=g.left:(h+=g.left.size+1,g=g.right)}return-1},f.prototype.m=function(){return this.root.m()},Object.defineProperty(f.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),f.prototype.ct=function(){return this.root.ct()},f.prototype.ut=function(){return this.root.ut()},f.prototype.ht=function(u){return this.root.ht(u)},f.prototype.forEach=function(u){this.ht(function(h,g){return u(h,g),!1})},f.prototype.toString=function(){var u=[];return this.ht(function(h,g){return u.push(h+":"+g),!1}),"{"+u.join(", ")+"}"},f.prototype.lt=function(u){return this.root.lt(u)},f.prototype._t=function(){return new vr(this.root,null,this.i,!1)},f.prototype.ft=function(u){return new vr(this.root,u,this.i,!1)},f.prototype.dt=function(){return new vr(this.root,null,this.i,!0)},f.prototype.wt=function(u){return new vr(this.root,u,this.i,!0)},f}(),vr=function(){function f(u,h,g,y){this.Tt=y,this.Et=[];for(var M=1;!u.m();)if(M=h?g(u.key,h):1,y&&(M*=-1),M<0)u=this.Tt?u.left:u.right;else{if(0===M){this.Et.push(u);break}this.Et.push(u),u=this.Tt?u.right:u.left}}return f.prototype.It=function(){var u=this.Et.pop(),h={key:u.key,value:u.value};if(this.Tt)for(u=u.left;!u.m();)this.Et.push(u),u=u.right;else for(u=u.right;!u.m();)this.Et.push(u),u=u.left;return h},f.prototype.At=function(){return this.Et.length>0},f.prototype.Rt=function(){if(0===this.Et.length)return null;var u=this.Et[this.Et.length-1];return{key:u.key,value:u.value}},f}(),_i=function(){function f(u,h,g,y,M){this.key=u,this.value=h,this.color=g??f.RED,this.left=y??f.EMPTY,this.right=M??f.EMPTY,this.size=this.left.size+1+this.right.size}return f.prototype.copy=function(u,h,g,y,M){return new f(u??this.key,h??this.value,g??this.color,y??this.left,M??this.right)},f.prototype.m=function(){return!1},f.prototype.ht=function(u){return this.left.ht(u)||u(this.key,this.value)||this.right.ht(u)},f.prototype.lt=function(u){return this.right.lt(u)||u(this.key,this.value)||this.left.lt(u)},f.prototype.min=function(){return this.left.m()?this:this.left.min()},f.prototype.ct=function(){return this.min().key},f.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},f.prototype.ot=function(u,h,g){var y=this,M=g(u,y.key);return(y=M<0?y.copy(null,null,null,y.left.ot(u,h,g),null):0===M?y.copy(null,h,null,null,null):y.copy(null,null,null,null,y.right.ot(u,h,g))).gt()},f.prototype.Pt=function(){if(this.left.m())return f.EMPTY;var u=this;return u.left.yt()||u.left.left.yt()||(u=u.Vt()),(u=u.copy(null,null,null,u.left.Pt(),null)).gt()},f.prototype.remove=function(u,h){var g,y=this;if(h(u,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(u,h),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===h(u,y.key)){if(y.right.m())return f.EMPTY;g=y.right.min(),y=y.copy(g.key,g.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(u,h))}return y.gt()},f.prototype.yt=function(){return this.color},f.prototype.gt=function(){var u=this;return u.right.yt()&&!u.left.yt()&&(u=u.St()),u.left.yt()&&u.left.left.yt()&&(u=u.bt()),u.left.yt()&&u.right.yt()&&(u=u.Dt()),u},f.prototype.Vt=function(){var u=this.Dt();return u.right.left.yt()&&(u=(u=(u=u.copy(null,null,null,null,u.right.bt())).St()).Dt()),u},f.prototype.vt=function(){var u=this.Dt();return u.left.left.yt()&&(u=(u=u.bt()).Dt()),u},f.prototype.St=function(){var u=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,u,null)},f.prototype.bt=function(){var u=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,u)},f.prototype.Dt=function(){var u=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,u,h)},f.prototype.Ct=function(){var u=this.Nt();return Math.pow(2,u)<=this.size+1},f.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Re();var u=this.left.Nt();if(u!==this.right.Nt())throw Re();return u+(this.yt()?0:1)},f}();_i.EMPTY=null,_i.RED=!0,_i.at=!1,_i.EMPTY=new(function(){function f(){this.size=0}return Object.defineProperty(f.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),f.prototype.copy=function(u,h,g,y,M){return this},f.prototype.ot=function(u,h,g){return new _i(u,h)},f.prototype.remove=function(u,h){return this},f.prototype.m=function(){return!0},f.prototype.ht=function(u){return!1},f.prototype.lt=function(u){return!1},f.prototype.ct=function(){return null},f.prototype.ut=function(){return null},f.prototype.yt=function(){return!1},f.prototype.Ct=function(){return!0},f.prototype.Nt=function(){return 0},f}());var Pi=function(){function f(u){this.i=u,this.data=new $n(this.i)}return f.prototype.has=function(u){return null!==this.data.get(u)},f.prototype.first=function(){return this.data.ct()},f.prototype.last=function(){return this.data.ut()},Object.defineProperty(f.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),f.prototype.indexOf=function(u){return this.data.indexOf(u)},f.prototype.forEach=function(u){this.data.ht(function(h,g){return u(h),!1})},f.prototype.Ft=function(u,h){for(var g=this.data.ft(u[0]);g.At();){var y=g.It();if(this.i(y.key,u[1])>=0)return;h(y.key)}},f.prototype.xt=function(u,h){var g;for(g=void 0!==h?this.data.ft(h):this.data._t();g.At();)if(!u(g.It().key))return},f.prototype.$t=function(u){var h=this.data.ft(u);return h.At()?h.It().key:null},f.prototype._t=function(){return new yr(this.data._t())},f.prototype.ft=function(u){return new yr(this.data.ft(u))},f.prototype.add=function(u){return this.copy(this.data.remove(u).ot(u,!0))},f.prototype.delete=function(u){return this.has(u)?this.copy(this.data.remove(u)):this},f.prototype.m=function(){return this.data.m()},f.prototype.kt=function(u){var h=this;return h.size<u.size&&(h=u,u=this),u.forEach(function(g){h=h.add(g)}),h},f.prototype.isEqual=function(u){if(!(u instanceof f)||this.size!==u.size)return!1;for(var h=this.data._t(),g=u.data._t();h.At();){var y=h.It().key,M=g.It().key;if(0!==this.i(y,M))return!1}return!0},f.prototype.A=function(){var u=[];return this.forEach(function(h){u.push(h)}),u},f.prototype.toString=function(){var u=[];return this.forEach(function(h){return u.push(h)}),"SortedSet("+u.toString()+")"},f.prototype.copy=function(u){var h=new f(this.i);return h.data=u,h},f}(),yr=function(){function f(u){this.Mt=u}return f.prototype.It=function(){return this.Mt.It().key},f.prototype.At=function(){return this.Mt.At()},f}(),Co=new $n(Le.i);function fe(){return Co}function le(){return fe()}var X=new $n(Le.i);function ne(){return X}var K=new $n(Le.i),Se=new Pi(Le.i);function Qe(){for(var f=[],u=0;u<arguments.length;u++)f[u]=arguments[u];for(var h=Se,g=0,y=f;g<y.length;g++)h=h.add(y[g]);return h}var It=new Pi(Ut);function yn(){return It}var Vt=function(){function f(u){this.i=u?function(h,g){return u(h,g)||Le.i(h.key,g.key)}:function(h,g){return Le.i(h.key,g.key)},this.Ot=ne(),this.Lt=new $n(this.i)}return f.Bt=function(u){return new f(u.i)},f.prototype.has=function(u){return null!=this.Ot.get(u)},f.prototype.get=function(u){return this.Ot.get(u)},f.prototype.first=function(){return this.Lt.ct()},f.prototype.last=function(){return this.Lt.ut()},f.prototype.m=function(){return this.Lt.m()},f.prototype.indexOf=function(u){var h=this.Ot.get(u);return h?this.Lt.indexOf(h):-1},Object.defineProperty(f.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(u){this.Lt.ht(function(h,g){return u(h),!1})},f.prototype.add=function(u){var h=this.delete(u.key);return h.copy(h.Ot.ot(u.key,u),h.Lt.ot(u,null))},f.prototype.delete=function(u){var h=this.get(u);return h?this.copy(this.Ot.remove(u),this.Lt.remove(h)):this},f.prototype.isEqual=function(u){if(!(u instanceof f)||this.size!==u.size)return!1;for(var h=this.Lt._t(),g=u.Lt._t();h.At();){var y=h.It().key,M=g.It().key;if(!y.isEqual(M))return!1}return!0},f.prototype.toString=function(){var u=[];return this.forEach(function(h){u.push(h.toString())}),0===u.length?"DocumentSet ()":"DocumentSet (\n  "+u.join("  \n")+"\n)"},f.prototype.copy=function(u,h){var g=new f;return g.i=this.i,g.Ot=u,g.Lt=h,g},f}(),ti=function(){function f(){this.qt=new $n(Le.i)}return f.prototype.track=function(u){var h=u.doc.key,g=this.qt.get(h);g?0!==u.type&&3===g.type?this.qt=this.qt.ot(h,u):3===u.type&&1!==g.type?this.qt=this.qt.ot(h,{type:g.type,doc:u.doc}):2===u.type&&2===g.type?this.qt=this.qt.ot(h,{type:2,doc:u.doc}):2===u.type&&0===g.type?this.qt=this.qt.ot(h,{type:0,doc:u.doc}):1===u.type&&0===g.type?this.qt=this.qt.remove(h):1===u.type&&2===g.type?this.qt=this.qt.ot(h,{type:1,doc:g.doc}):0===u.type&&1===g.type?this.qt=this.qt.ot(h,{type:2,doc:u.doc}):Re():this.qt=this.qt.ot(h,u)},f.prototype.Ut=function(){var u=[];return this.qt.ht(function(h,g){u.push(g)}),u},f}(),xn=function(){function f(u,h,g,y,M,P,R,V){this.query=u,this.docs=h,this.Qt=g,this.docChanges=y,this.Wt=M,this.fromCache=P,this.jt=R,this.Kt=V}return f.Gt=function(u,h,g,y){var M=[];return h.forEach(function(P){M.push({type:0,doc:P})}),new f(u,h,Vt.Bt(h),M,g,y,!0,!1)},Object.defineProperty(f.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(u){if(!(this.fromCache===u.fromCache&&this.jt===u.jt&&this.Wt.isEqual(u.Wt)&&fc(this.query,u.query)&&this.docs.isEqual(u.docs)&&this.Qt.isEqual(u.Qt)))return!1;var h=this.docChanges,g=u.docChanges;if(h.length!==g.length)return!1;for(var y=0;y<h.length;y++)if(h[y].type!==g[y].type||!h[y].doc.isEqual(g[y].doc))return!1;return!0},f}(),di=function(){function f(u,h,g,y,M){this.nt=u,this.zt=h,this.Ht=g,this.Yt=y,this.Jt=M}return f.Xt=function(u,h){var g=new Map;return g.set(u,Nn.Zt(u,h)),new f(jt.min(),g,yn(),fe(),Qe())},f}(),Nn=function(){function f(u,h,g,y,M){this.resumeToken=u,this.te=h,this.ee=g,this.ne=y,this.se=M}return f.Zt=function(u,h){return new f(zn.B,h,Qe(),Qe(),Qe())},f}(),br=function(f,u,h,g){this.ie=f,this.removedTargetIds=u,this.key=h,this.re=g},rs=function(f,u){this.targetId=f,this.oe=u},Je=function(f,u,h,g){void 0===h&&(h=zn.B),void 0===g&&(g=null),this.state=f,this.targetIds=u,this.resumeToken=h,this.cause=g},He=function(){function f(){this.ae=0,this.ce=kt(),this.ue=zn.B,this.he=!1,this.le=!0}return Object.defineProperty(f.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),f.prototype.de=function(u){u.O()>0&&(this.le=!0,this.ue=u)},f.prototype.we=function(){var u=Qe(),h=Qe(),g=Qe();return this.ce.forEach(function(y,M){switch(M){case 0:u=u.add(y);break;case 2:h=h.add(y);break;case 1:g=g.add(y);break;default:Re()}}),new Nn(this.ue,this.he,u,h,g)},f.prototype.me=function(){this.le=!1,this.ce=kt()},f.prototype.Te=function(u,h){this.le=!0,this.ce=this.ce.ot(u,h)},f.prototype.Ee=function(u){this.le=!0,this.ce=this.ce.remove(u)},f.prototype.Ie=function(){this.ae+=1},f.prototype.Ae=function(){this.ae-=1},f.prototype.Re=function(){this.le=!0,this.he=!0},f}(),_t=function(){function f(u){this.ge=u,this.Pe=new Map,this.ye=fe(),this.Ve=Wt(),this.pe=new Pi(Ut)}return f.prototype.be=function(u){for(var h=0,g=u.ie;h<g.length;h++){var y=g[h];u.re instanceof ci?this.ve(y,u.re):u.re instanceof Lr&&this.Se(y,u.key,u.re)}for(var M=0,P=u.removedTargetIds;M<P.length;M++)this.Se(P[M],u.key,u.re)},f.prototype.De=function(u){var h=this;this.Ce(u,function(g){var y=h.Ne(g);switch(u.state){case 0:h.Fe(g)&&y.de(u.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(u.resumeToken);break;case 2:y.Ae(),y._e||h.removeTarget(g);break;case 3:h.Fe(g)&&(y.Re(),y.de(u.resumeToken));break;case 4:h.Fe(g)&&(h.xe(g),y.de(u.resumeToken));break;default:Re()}})},f.prototype.Ce=function(u,h){var g=this;u.targetIds.length>0?u.targetIds.forEach(h):this.Pe.forEach(function(y,M){g.Fe(M)&&h(M)})},f.prototype.$e=function(u){var h=u.targetId,g=u.oe.count,y=this.ke(h);if(y){var M=y.target;if(zt(M))if(0===g){var P=new Le(M.path);this.Se(h,P,new Lr(P,jt.min()))}else at(1===g);else this.Me(h)!==g&&(this.xe(h),this.pe=this.pe.add(h))}},f.prototype.Oe=function(u){var h=this,g=new Map;this.Pe.forEach(function(P,R){var V=h.ke(R);if(V){if(P.te&&zt(V.target)){var W=new Le(V.target.path);null!==h.ye.get(W)||h.Le(R,W)||h.Se(R,W,new Lr(W,u))}P.fe&&(g.set(R,P.we()),P.me())}});var y=Qe();this.Ve.forEach(function(P,R){var V=!0;R.xt(function(W){var re=h.ke(W);return!re||2===re.et||(V=!1,!1)}),V&&(y=y.add(P))});var M=new di(u,g,this.pe,this.ye,y);return this.ye=fe(),this.Ve=Wt(),this.pe=new Pi(Ut),M},f.prototype.ve=function(u,h){if(this.Fe(u)){var g=this.Le(u,h.key)?2:0;this.Ne(u).Te(h.key,g),this.ye=this.ye.ot(h.key,h),this.Ve=this.Ve.ot(h.key,this.Be(h.key).add(u))}},f.prototype.Se=function(u,h,g){if(this.Fe(u)){var y=this.Ne(u);this.Le(u,h)?y.Te(h,1):y.Ee(h),this.Ve=this.Ve.ot(h,this.Be(h).delete(u)),g&&(this.ye=this.ye.ot(h,g))}},f.prototype.removeTarget=function(u){this.Pe.delete(u)},f.prototype.Me=function(u){var h=this.Ne(u).we();return this.ge.qe(u).size+h.ee.size-h.se.size},f.prototype.Ie=function(u){this.Ne(u).Ie()},f.prototype.Ne=function(u){var h=this.Pe.get(u);return h||(h=new He,this.Pe.set(u,h)),h},f.prototype.Be=function(u){var h=this.Ve.get(u);return h||(h=new Pi(Ut),this.Ve=this.Ve.ot(u,h)),h},f.prototype.Fe=function(u){var h=null!==this.ke(u);return h||me("WatchChangeAggregator","Detected inactive target",u),h},f.prototype.ke=function(u){var h=this.Pe.get(u);return h&&h._e?null:this.ge.Ue(u)},f.prototype.xe=function(u){var h=this;this.Pe.set(u,new He),this.ge.qe(u).forEach(function(g){h.Se(u,g,null)})},f.prototype.Le=function(u,h){return this.ge.qe(u).has(h)},f}();function Wt(){return new $n(Le.i)}function kt(){return new $n(Le.i)}function An(f){var u,h;return"server_timestamp"===(null===(h=((null===(u=f?.mapValue)||void 0===u?void 0:u.fields)||{}).__type__)||void 0===h?void 0:h.stringValue)}function ai(f){var u=f.mapValue.fields.__previous_value__;return An(u)?ai(u):u}function Gi(f){var u=os(f.mapValue.fields.__local_write_time__.timestampValue);return new Qt(u.seconds,u.nanos)}var Yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?An(f)?4:10:Re()}function jr(f,u){var y,h=tr(f);if(h!==tr(u))return!1;switch(h){case 0:return!0;case 1:return f.booleanValue===u.booleanValue;case 4:return Gi(f).isEqual(Gi(u));case 3:return function(g,y){if("string"==typeof g.timestampValue&&"string"==typeof y.timestampValue&&g.timestampValue.length===y.timestampValue.length)return g.timestampValue===y.timestampValue;var M=os(g.timestampValue),P=os(y.timestampValue);return M.seconds===P.seconds&&M.nanos===P.nanos}(f,u);case 5:return f.stringValue===u.stringValue;case 6:return y=u,ki(f.bytesValue).isEqual(ki(y.bytesValue));case 7:return f.referenceValue===u.referenceValue;case 8:return function(g,y){return Mn(g.geoPointValue.latitude)===Mn(y.geoPointValue.latitude)&&Mn(g.geoPointValue.longitude)===Mn(y.geoPointValue.longitude)}(f,u);case 2:return function(g,y){if("integerValue"in g&&"integerValue"in y)return Mn(g.integerValue)===Mn(y.integerValue);if("doubleValue"in g&&"doubleValue"in y){var M=Mn(g.doubleValue),P=Mn(y.doubleValue);return M===P?Ce(M)===Ce(P):isNaN(M)&&isNaN(P)}return!1}(f,u);case 9:return cn(f.arrayValue.values||[],u.arrayValue.values||[],jr);case 10:return function(g,y){var M=g.mapValue.fields||{},P=y.mapValue.fields||{};if(xe(M)!==xe(P))return!1;for(var R in M)if(M.hasOwnProperty(R)&&(void 0===P[R]||!jr(M[R],P[R])))return!1;return!0}(f,u);default:return Re()}}function wo(f,u){return void 0!==(f.values||[]).find(function(h){return jr(h,u)})}function Na(f,u){var y,M,P,R,h=tr(f),g=tr(u);if(h!==g)return Ut(h,g);switch(h){case 0:return 0;case 1:return Ut(f.booleanValue,u.booleanValue);case 2:return M=u,(P=Mn((y=f).integerValue||y.doubleValue))<(R=Mn(M.integerValue||M.doubleValue))?-1:P>R?1:P===R?0:isNaN(P)?isNaN(R)?0:-1:1;case 3:return Cr(f.timestampValue,u.timestampValue);case 4:return Cr(Gi(f),Gi(u));case 5:return Ut(f.stringValue,u.stringValue);case 6:return function(y,M){var P=ki(y),R=ki(M);return P.L(R)}(f.bytesValue,u.bytesValue);case 7:return function(y,M){for(var P=y.split("/"),R=M.split("/"),V=0;V<P.length&&V<R.length;V++){var W=Ut(P[V],R[V]);if(0!==W)return W}return Ut(P.length,R.length)}(f.referenceValue,u.referenceValue);case 8:return function(y,M){var P=Ut(Mn(y.latitude),Mn(M.latitude));return 0!==P?P:Ut(Mn(y.longitude),Mn(M.longitude))}(f.geoPointValue,u.geoPointValue);case 9:return function(y,M){for(var P=y.values||[],R=M.values||[],V=0;V<P.length&&V<R.length;++V){var W=Na(P[V],R[V]);if(W)return W}return Ut(P.length,R.length)}(f.arrayValue,u.arrayValue);case 10:return function(y,M){var P=y.fields||{},R=Object.keys(P),V=M.fields||{},W=Object.keys(V);R.sort(),W.sort();for(var re=0;re<R.length&&re<W.length;++re){var ge=Ut(R[re],W[re]);if(0!==ge)return ge;var _e=Na(P[R[re]],V[W[re]]);if(0!==_e)return _e}return Ut(R.length,W.length)}(f.mapValue,u.mapValue);default:throw Re()}}function Cr(f,u){if("string"==typeof f&&"string"==typeof u&&f.length===u.length)return Ut(f,u);var h=os(f),g=os(u),y=Ut(h.seconds,g.seconds);return 0!==y?y:Ut(h.nanos,g.nanos)}function vs(f){return Os(f)}function Os(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?"time("+(y=os(f.timestampValue)).seconds+","+y.nanos+")":"stringValue"in f?f.stringValue:"bytesValue"in f?ki(f.bytesValue).toBase64():"referenceValue"in f?Le.C(f.referenceValue).toString():"geoPointValue"in f?"geo("+(u=f.geoPointValue).latitude+","+u.longitude+")":"arrayValue"in f?function(g){for(var y="[",M=!0,P=0,R=g.values||[];P<R.length;P++)M?M=!1:y+=",",y+=Os(R[P]);return y+"]"}(f.arrayValue):"mapValue"in f?function(g){for(var y="{",M=!0,P=0,R=Object.keys(g.fields||{}).sort();P<R.length;P++){var V=R[P];M?M=!1:y+=",",y+=V+":"+Os(g.fields[V])}return y+"}"}(f.mapValue):Re();var y,u}function os(f){if(at(!!f),"string"==typeof f){var u=0,h=Yi.exec(f);if(at(!!h),h[1]){var g=h[1];g=(g+"000000000").substr(0,9),u=Number(g)}var y=new Date(f);return{seconds:Math.floor(y.getTime()/1e3),nanos:u}}return{seconds:Mn(f.seconds),nanos:Mn(f.nanos)}}function Mn(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function ki(f){return"string"==typeof f?zn.fromBase64String(f):zn.fromUint8Array(f)}function xo(f,u){return{referenceValue:"projects/"+f.projectId+"/databases/"+f.database+"/documents/"+u.path.R()}}function Hn(f){return!!f&&"integerValue"in f}function Sc(f){return!!f&&"arrayValue"in f}function cc(f){return!!f&&"nullValue"in f}function Wr(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function Ps(f){return!!f&&"mapValue"in f}var Fa={asc:"ASCENDING",desc:"DESCENDING"},xu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},da=function(f,u){this.U=f,this.Qe=u};function Dc(f){return{integerValue:""+f}}function Ac(f,u){if(f.Qe){if(isNaN(u))return{doubleValue:"NaN"};if(u===1/0)return{doubleValue:"Infinity"};if(u===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ce(u)?"-0":u}}function ho(f,u){return Me(u)?Dc(u):Ac(f,u)}function ha(f,u){return f.Qe?new Date(1e3*u.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+u.nanoseconds).slice(-9)+"Z":{seconds:""+u.seconds,nanos:u.nanoseconds}}function dl(f,u){return f.Qe?u.toBase64():u.toUint8Array()}function jo(f,u){return ha(f,u.Z())}function Mo(f){return at(!!f),jt.J((h=os(f),new Qt(h.seconds,h.nanos)));var h}function wr(f,u){return(h=f,new he(["projects",h.projectId,"databases",h.database])).child("documents").child(u).R();var h}function lc(f){var u=he.g(f);return at(Gn(u)),u}function fa(f,u){return wr(f.U,u.path)}function Ui(f,u){var h=lc(u);return at(h.get(1)===f.U.projectId),at(!h.get(3)&&!f.U.database||h.get(3)===f.U.database),new Le(uc(h))}function kc(f,u){return wr(f.U,u)}function pa(f){var u=lc(f);return 4===u.length?he.P():uc(u)}function Is(f){return new he(["projects",f.U.projectId,"databases",f.U.database]).R()}function uc(f){return at(f.length>4&&"documents"===f.get(4)),f.u(5)}function qn(f,u,h){return{name:fa(f,u),fields:h.proto.mapValue.fields}}function Vi(f,u){var h,y;if(u instanceof or)h={update:qn(f,u.key,u.value)};else if(u instanceof Ir)h={delete:fa(f,u.key)};else if(u instanceof Qr)h={update:qn(f,u.key,u.data),updateMask:Gs(u.We)};else if(u instanceof qi)h={transform:{document:fa(f,u.key),fieldTransforms:u.fieldTransforms.map(function(g){return function(y,M){var P=M.transform;if(P instanceof on)return{fieldPath:M.field.R(),setToServerValue:"REQUEST_TIME"};if(P instanceof Yr)return{fieldPath:M.field.R(),appendMissingElements:{values:P.elements}};if(P instanceof Er)return{fieldPath:M.field.R(),removeAllFromArray:{values:P.elements}};if(P instanceof Ts)return{fieldPath:M.field.R(),increment:P.je};throw Re()}(0,g)})}};else{if(!(u instanceof fl))return Re();h={verify:fa(f,u.key)}}return u.Ge.Ke||(h.currentDocument=void 0!==(y=u.Ge).updateTime?{updateTime:jo(f,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Re()),h}function xr(f,u){var re,h=u.currentDocument?void 0!==(re=u.currentDocument).updateTime?Bi.updateTime(Mo(re.updateTime)):void 0!==re.exists?Bi.exists(re.exists):Bi.ze():Bi.ze();if(u.update){var g=Ui(f,u.update.name),y=new Fr({mapValue:{fields:u.update.fields}});if(u.updateMask){var M=function(re){return new Pr((re.fieldPaths||[]).map(function(_e){return Ge.S(_e)}))}(u.updateMask);return new Qr(g,y,M,h)}return new or(g,y,h)}if(u.delete){var P=Ui(f,u.delete);return new Ir(P,h)}if(u.transform){var R=Ui(f,u.transform.document),V=u.transform.fieldTransforms.map(function(re){return function(ge,_e){var ke=null;"setToServerValue"in _e?(at("REQUEST_TIME"===_e.setToServerValue),ke=new on):"appendMissingElements"in _e?ke=new Yr(_e.appendMissingElements.values||[]):"removeAllFromArray"in _e?ke=new Er(_e.removeAllFromArray.values||[]):"increment"in _e?ke=new Ts(ge,_e.increment):Re();var an=Ge.S(_e.fieldPath);return new ga(an,ke)}(f,re)});return at(!0===h.exists),new qi(R,V)}if(u.verify){var W=Ui(f,u.verify);return new fl(W,h)}return Re()}function La(f,u){return{documents:[kc(f,u.path)]}}function Mr(f,u){var h={structuredQuery:{}},g=u.path;null!==u.collectionGroup?(h.parent=kc(f,g),h.structuredQuery.from=[{collectionId:u.collectionGroup,allDescendants:!0}]):(h.parent=kc(f,g.h()),h.structuredQuery.from=[{collectionId:g._()}]);var y=function(R){if(0!==R.length){var V=R.map(function(W){return function(re){if("=="===re.op){if(Wr(re.value))return{unaryFilter:{field:Mt(re.field),op:"IS_NAN"}};if(cc(re.value))return{unaryFilter:{field:Mt(re.field),op:"IS_NULL"}}}else if("!="===re.op){if(Wr(re.value))return{unaryFilter:{field:Mt(re.field),op:"IS_NOT_NAN"}};if(cc(re.value))return{unaryFilter:{field:Mt(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mt(re.field),op:Ri(re.op),value:re.value}}}(W)});return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}}(u.filters);y&&(h.structuredQuery.where=y);var M=function(R){if(0!==R.length)return R.map(function(V){return{field:Mt((W=V).field),direction:Fc(W.dir)};var W})}(u.orderBy);M&&(h.structuredQuery.orderBy=M);var V,P=(V=u.limit,f.Qe||Oe(V)?V:{value:V});return null!==P&&(h.structuredQuery.limit=P),u.startAt&&(h.structuredQuery.startAt=Ho(u.startAt)),u.endAt&&(h.structuredQuery.endAt=Ho(u.endAt)),h}function Rc(f){var u=pa(f.parent),h=f.structuredQuery,g=h.from?h.from.length:0,y=null;if(g>0){at(1===g);var M=h.from[0];M.allDescendants?y=M.collectionId:u=u.child(M.collectionId)}var P=[];h.where&&(P=Nc(h.where));var R=[];h.orderBy&&(R=h.orderBy.map(function(ge){return new Ca(En((_e=ge).field),function(ke){switch(ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));var ge,_e,V=null;h.limit&&(V=Oe(_e="object"==typeof(ge=h.limit)?ge.value:ge)?null:_e);var W=null;h.startAt&&(W=$s(h.startAt));var re=null;return h.endAt&&(re=$s(h.endAt)),$o(Uc(u,y,R,P,V,"F",W,re))}function Nc(f){return f?void 0!==f.unaryFilter?[fo(f)]:void 0!==f.fieldFilter?[Ii(f)]:void 0!==f.compositeFilter?f.compositeFilter.filters.map(function(u){return Nc(u)}).reduce(function(u,h){return u.concat(h)}):Re():[]}function Ho(f){return{before:f.before,values:f.position}}function $s(f){return new Oo(f.values||[],!!f.before)}function Fc(f){return Fa[f]}function Ri(f){return xu[f]}function Mt(f){return{fieldPath:f.R()}}function En(f){return Ge.S(f.fieldPath)}function Ii(f){return Ur.create(En(f.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(f.fieldFilter.op),f.fieldFilter.value)}function fo(f){switch(f.unaryFilter.op){case"IS_NAN":var u=En(f.unaryFilter.field);return Ur.create(u,"==",{doubleValue:NaN});case"IS_NULL":var h=En(f.unaryFilter.field);return Ur.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var g=En(f.unaryFilter.field);return Ur.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=En(f.unaryFilter.field);return Ur.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}function Gs(f){var u=[];return f.fields.forEach(function(h){return u.push(h.R())}),{fieldPaths:u}}function Gn(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}var ss=function(){this.He=void 0};function vi(f,u,h){return f instanceof on?(M={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(g=h).seconds,nanos:g.nanoseconds}}}},(y=u)&&(M.fields.__previous_value__=y),{mapValue:M}):f instanceof Yr?Hl(f,u):f instanceof Er?Or(f,u):function(g,y){var M=as(g,y),P=qo(M)+qo(g.je);return Hn(M)&&Hn(g.je)?Dc(P):Ac(g.serializer,P)}(f,u);var g,y,M}function ma(f,u,h){return f instanceof Yr?Hl(f,u):f instanceof Er?Or(f,u):h}function as(f,u){return f instanceof Ts?Hn(h=u)||(g=h)&&"doubleValue"in g?u:{integerValue:0}:null;var g,h}var on=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u}(ss),Yr=function(f){function u(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(u,f),u}(ss);function Hl(f,u){for(var h=ur(u),g=function(P){h.some(function(R){return jr(R,P)})||h.push(P)},y=0,M=f.elements;y<M.length;y++)g(M[y]);return{arrayValue:{values:h}}}var Er=function(f){function u(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(u,f),u}(ss);function Or(f,u){for(var h=ur(u),g=function(P){h=h.filter(function(R){return!jr(R,P)})},y=0,M=f.elements;y<M.length;y++)g(M[y]);return{arrayValue:{values:h}}}var Ts=function(f){function u(h,g){var y=this;return(y=f.call(this)||this).serializer=h,y.je=g,y}return U.__extends(u,f),u}(ss);function qo(f){return Mn(f.integerValue||f.doubleValue)}function ur(f){return Sc(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}var Pr=function(){function f(u){this.fields=u,u.sort(Ge.i)}return f.prototype.Ye=function(u){for(var h=0,g=this.fields;h<g.length;h++)if(g[h].T(u))return!0;return!1},f.prototype.isEqual=function(u){return cn(this.fields,u.fields,function(h,g){return h.isEqual(g)})},f}(),ga=function(f,u){this.field=f,this.transform=u},Ua=function(f,u){this.version=f,this.transformResults=u},Bi=function(){function f(u,h){this.updateTime=u,this.exists=h}return f.ze=function(){return new f},f.exists=function(u){return new f(void 0,u)},f.updateTime=function(u){return new f(u)},Object.defineProperty(f.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(u){return this.exists===u.exists&&(this.updateTime?!!u.updateTime&&this.updateTime.isEqual(u.updateTime):!u.updateTime)},f}();function Zo(f,u){return void 0!==f.updateTime?u instanceof ci&&u.version.isEqual(f.updateTime):void 0===f.exists||f.exists===u instanceof ci}var Kr=function(){};function ni(f,u,h){return f instanceof or?new ci((g=f).key,h.version,g.value,{hasCommittedMutations:!0}):f instanceof Qr?function(g,y,M){if(!Zo(g.Ge,y))return new ql(g.key,M.version);var P=_a(g,y);return new ci(g.key,M.version,P,{hasCommittedMutations:!0})}(f,u,h):f instanceof qi?function(g,y,M){if(at(null!=M.transformResults),!Zo(g.Ge,y))return new ql(g.key,M.version);var P=hl(0,y),R=function(re,ge,_e){var ke=[];at(re.length===_e.length);for(var et=0;et<_e.length;et++){var ht=re[et],an=ht.transform,Jt=null;ge instanceof ci&&(Jt=ge.field(ht.field)),ke.push(ma(an,Jt,_e[et]))}return ke}(g.fieldTransforms,y,M.transformResults),V=M.version,W=Jr(g,P.data(),R);return new ci(g.key,V,W,{hasCommittedMutations:!0})}(f,u,h):function(g,y,M){return new Lr(g.key,M.version,{hasCommittedMutations:!0})}(f,0,h);var g}function Lc(f,u,h,g){return f instanceof or?function(y,M){if(!Zo(y.Ge,M))return M;var P=Nr(M);return new ci(y.key,P,y.value,{Je:!0})}(f,u):f instanceof Qr?function(y,M){if(!Zo(y.Ge,M))return M;var P=Nr(M),R=_a(y,M);return new ci(y.key,P,R,{Je:!0})}(f,u):f instanceof qi?function(y,M,P,R){if(!Zo(y.Ge,M))return M;var V=hl(0,M),W=function(ge,_e,ke,et){for(var ht=[],an=0,Jt=ge;an<Jt.length;an++){var kn=Jt[an],ei=kn.transform,bi=null;ke instanceof ci&&(bi=ke.field(kn.field)),null===bi&&et instanceof ci&&(bi=et.field(kn.field)),ht.push(vi(ei,bi,_e))}return ht}(y.fieldTransforms,P,M,R),re=Jr(y,V.data(),W);return new ci(y.key,V.version,re,{Je:!0})}(f,u,g,h):Zo((y=f).Ge,M=u)?new Lr(y.key,jt.min()):M;var y,M}function Mu(f,u){return f instanceof qi?function(h,g){for(var y=null,M=0,P=h.fieldTransforms;M<P.length;M++){var R=P[M],V=g instanceof ci?g.field(R.field):void 0,W=as(R.transform,V||null);null!=W&&(y=null==y?(new Xr).set(R.field,W):y.set(R.field,W))}return y?y.Xe():null}(f,u):null}function Va(f,u){return f.type===u.type&&!!f.key.isEqual(u.key)&&!!f.Ge.isEqual(u.Ge)&&(0===f.type?f.value.isEqual(u.value):1===f.type?f.data.isEqual(u.data)&&f.We.isEqual(u.We):2!==f.type||cn(f.fieldTransforms,f.fieldTransforms,function(h,g){return(y=h).field.isEqual((M=g).field)&&(R=M.transform,(P=y.transform)instanceof Yr&&R instanceof Yr||P instanceof Er&&R instanceof Er?cn(P.elements,R.elements,jr):P instanceof Ts&&R instanceof Ts?jr(P.je,R.je):P instanceof on&&R instanceof on);var y,M,P,R}))}function Nr(f){return f instanceof ci?f.version:jt.min()}var or=function(f){function u(h,g,y){var M=this;return(M=f.call(this)||this).key=h,M.value=g,M.Ge=y,M.type=0,M}return U.__extends(u,f),u}(Kr),Qr=function(f){function u(h,g,y,M){var P=this;return(P=f.call(this)||this).key=h,P.data=g,P.We=y,P.Ge=M,P.type=1,P}return U.__extends(u,f),u}(Kr);function _a(f,u){return h=f,g=u instanceof ci?u.data():Fr.empty(),y=new Xr(g),h.We.fields.forEach(function(M){if(!M.m()){var P=h.data.field(M);null!==P?y.set(M,P):y.delete(M)}}),y.Xe();var h,g,y}var qi=function(f){function u(h,g){var y=this;return(y=f.call(this)||this).key=h,y.fieldTransforms=g,y.type=2,y.Ge=Bi.exists(!0),y}return U.__extends(u,f),u}(Kr);function hl(f,u){return u}function Jr(f,u,h){for(var g=new Xr(u),y=0;y<f.fieldTransforms.length;y++)g.set(f.fieldTransforms[y].field,h[y]);return g.Xe()}var Ir=function(f){function u(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=3,y}return U.__extends(u,f),u}(Kr),fl=function(f){function u(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=4,y}return U.__extends(u,f),u}(Kr),Fr=function(){function f(u){this.proto=u}return f.empty=function(){return new f({mapValue:{}})},f.prototype.field=function(u){if(u.m())return this.proto;for(var h=this.proto,g=0;g<u.length-1;++g)if(!h.mapValue.fields||!Ps(h=h.mapValue.fields[u.get(g)]))return null;return(h=(h.mapValue.fields||{})[u._()])||null},f.prototype.isEqual=function(u){return jr(this.proto,u.proto)},f}(),Xr=function(){function f(u){void 0===u&&(u=Fr.empty()),this.Ze=u,this.tn=new Map}return f.prototype.set=function(u,h){return this.en(u,h),this},f.prototype.delete=function(u){return this.en(u,null),this},f.prototype.en=function(u,h){for(var g=this.tn,y=0;y<u.length-1;++y){var M=u.get(y),P=g.get(M);P instanceof Map?g=P:P&&10===tr(P)?(P=new Map(Object.entries(P.mapValue.fields||{})),g.set(M,P),g=P):(g.set(M,P=new Map),g=P)}g.set(u._(),h)},f.prototype.Xe=function(){var u=this.nn(Ge.P(),this.tn);return null!=u?new Fr(u):this.Ze},f.prototype.nn=function(u,h){var g=this,y=!1,M=this.Ze.field(u),P=Ps(M)?Object.assign({},M.mapValue.fields):{};return h.forEach(function(R,V){if(R instanceof Map){var W=g.nn(u.child(V),R);null!=W&&(P[V]=W,y=!0)}else null!==R?(P[V]=R,y=!0):P.hasOwnProperty(V)&&(delete P[V],y=!0)}),y?{mapValue:{fields:P}}:null},f}();function pi(f){var u=[];return nt(f.fields||{},function(h,g){var y=new Ge([h]);if(Ps(g)){var M=pi(g.mapValue).fields;if(0===M.length)u.push(y);else for(var P=0,R=M;P<R.length;P++)u.push(y.child(R[P]))}else u.push(y)}),new Pr(u)}var va=function(f,u){this.key=f,this.version=u},ci=function(f){function u(h,g,y,M){var P=this;return(P=f.call(this,h,g)||this).sn=y,P.Je=!!M.Je,P.hasCommittedMutations=!!M.hasCommittedMutations,P}return U.__extends(u,f),u.prototype.field=function(h){return this.sn.field(h)},u.prototype.data=function(){return this.sn},u.prototype.rn=function(){return this.sn.proto},u.prototype.isEqual=function(h){return h instanceof u&&this.key.isEqual(h.key)&&this.version.isEqual(h.version)&&this.Je===h.Je&&this.hasCommittedMutations===h.hasCommittedMutations&&this.sn.isEqual(h.sn)},u.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(u.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),u}(va),Lr=function(f){function u(h,g,y){var M=this;return(M=f.call(this,h,g)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),M}return U.__extends(u,f),u.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(u.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(h){return h instanceof u&&h.hasCommittedMutations===this.hasCommittedMutations&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},u}(va),ql=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(u.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(h){return h instanceof u&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},u}(va),Ss=function(f,u,h,g,y,M,P,R){void 0===u&&(u=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===M&&(M="F"),void 0===P&&(P=null),void 0===R&&(R=null),this.path=f,this.collectionGroup=u,this.on=h,this.filters=g,this.limit=y,this.an=M,this.startAt=P,this.endAt=R,this.cn=null,this.un=null};function Uc(f,u,h,g,y,M,P,R){return new Ss(f,u,h,g,y,M,P,R)}function Ba(f){return new Ss(f)}function Vc(f){return!Oe(f.limit)&&"F"===f.an}function dc(f){return!Oe(f.limit)&&"L"===f.an}function Zl(f){return f.on.length>0?f.on[0].field:null}function yi(f){for(var u=0,h=f.filters;u<h.length;u++){var g=h[u];if(g.hn())return g.field}return null}function Eu(f){return null!==f.collectionGroup}function Bc(f){var u=We(f);if(null===u.cn){u.cn=[];var h=yi(u),g=Zl(u);if(null!==h&&null===g)h.p()||u.cn.push(new Ca(h)),u.cn.push(new Ca(Ge.v(),"asc"));else{for(var y=!1,M=0,P=u.on;M<P.length;M++){var R=P[M];u.cn.push(R),R.field.p()&&(y=!0)}if(!y){var V=u.on.length>0?u.on[u.on.length-1].dir:"asc";u.cn.push(new Ca(Ge.v(),V))}}}return u.cn}function $o(f){var u=We(f);if(!u.un)if("F"===u.an)u.un=Fe(u.path,u.collectionGroup,Bc(u),u.filters,u.limit,u.startAt,u.endAt);else{for(var h=[],g=0,y=Bc(u);g<y.length;g++){var M=y[g];h.push(new Ca(M.field,"desc"===M.dir?"asc":"desc"))}var R=u.endAt?new Oo(u.endAt.position,!u.endAt.before):null,V=u.startAt?new Oo(u.startAt.position,!u.startAt.before):null;u.un=Fe(u.path,u.collectionGroup,h,u.filters,u.limit,R,V)}return u.un}function eh(f,u,h){return new Ss(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),u,h,f.startAt,f.endAt)}function hc(f,u){return new Ss(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,u,f.endAt)}function Eo(f,u){return new Ss(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,f.startAt,u)}function fc(f,u){return gn($o(f),$o(u))&&f.an===u.an}function ya(f){return xt($o(f))+"|lt:"+f.an}function Ds(f){return"Query(target="+(h=(u=$o(f)).path.R(),null!==u.collectionGroup&&(h+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(h+=", filters: ["+u.filters.map(function(g){return(y=g).field.R()+" "+y.op+" "+vs(y.value);var y}).join(", ")+"]"),Oe(u.limit)||(h+=", limit: "+u.limit),u.orderBy.length>0&&(h+=", orderBy: ["+u.orderBy.map(function(g){return(y=g).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),u.startAt&&(h+=", startAt: "+pc(u.startAt)),u.endAt&&(h+=", endAt: "+pc(u.endAt)),"Target("+h+"); limitType=")+f.an+")";var u,h}function $l(f,u){return y=(g=u).key.path,(null!==(h=f).collectionGroup?g.key.N(h.collectionGroup)&&h.path.T(y):Le.F(h.path)?h.path.isEqual(y):h.path.I(y))&&function(h,g){for(var y=0,M=h.on;y<M.length;y++){var P=M[y];if(!P.field.p()&&null===g.field(P.field))return!1}return!0}(f,u)&&function(h,g){for(var y=0,M=h.filters;y<M.length;y++)if(!M[y].matches(g))return!1;return!0}(f,u)&&function(h,g){return!(h.startAt&&!Gl(h.startAt,Bc(h),g)||h.endAt&&Gl(h.endAt,Bc(h),g))}(f,u);var h,g,y}function Ou(f){return function(u,h){for(var g=!1,y=0,M=Bc(f);y<M.length;y++){var P=M[y],R=pl(P,u,h);if(0!==R)return R;g=g||P.field.p()}return 0}}var Ur=function(f){function u(h,g,y){var M=this;return(M=f.call(this)||this).field=h,M.op=g,M.value=y,M}return U.__extends(u,f),u.create=function(h,g,y){if(h.p())return"in"===g||"not-in"===g?this.ln(h,g,y):new Ws(h,g,y);if(cc(y)){if("=="!==g&&"!="!==g)throw new $(j.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new u(h,g,y)}if(Wr(y)){if("=="!==g&&"!="!==g)throw new $(j.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new u(h,g,y)}return"array-contains"===g?new dr(h,y):"in"===g?new za(h,y):"not-in"===g?new eo(h,y):"array-contains-any"===g?new jc(h,y):new u(h,g,y)},u.ln=function(h,g,y){return"in"===g?new ba(h,y):new zc(h,y)},u.prototype.matches=function(h){var g=h.field(this.field);return"!="===this.op?null!==g&&this._n(Na(g,this.value)):null!==g&&tr(this.value)===tr(g)&&this._n(Na(g,this.value))},u.prototype._n=function(h){switch(this.op){case"<":return h<0;case"<=":return h<=0;case"==":return 0===h;case"!=":return 0!==h;case">":return h>0;case">=":return h>=0;default:return Re()}},u.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},u}(function(){}),Ws=function(f){function u(h,g,y){var M=this;return(M=f.call(this,h,g,y)||this).key=Le.C(y.referenceValue),M}return U.__extends(u,f),u.prototype.matches=function(h){var g=Le.i(h.key,this.key);return this._n(g)},u}(Ur),ba=function(f){function u(h,g){var y=this;return(y=f.call(this,h,"in",g)||this).keys=Go(0,g),y}return U.__extends(u,f),u.prototype.matches=function(h){return this.keys.some(function(g){return g.isEqual(h.key)})},u}(Ur),zc=function(f){function u(h,g){var y=this;return(y=f.call(this,h,"not-in",g)||this).keys=Go(0,g),y}return U.__extends(u,f),u.prototype.matches=function(h){return!this.keys.some(function(g){return g.isEqual(h.key)})},u}(Ur);function Go(f,u){var h;return((null===(h=u.arrayValue)||void 0===h?void 0:h.values)||[]).map(function(g){return Le.C(g.referenceValue)})}var dr=function(f){function u(h,g){return f.call(this,h,"array-contains",g)||this}return U.__extends(u,f),u.prototype.matches=function(h){var g=h.field(this.field);return Sc(g)&&wo(g.arrayValue,this.value)},u}(Ur),za=function(f){function u(h,g){return f.call(this,h,"in",g)||this}return U.__extends(u,f),u.prototype.matches=function(h){var g=h.field(this.field);return null!==g&&wo(this.value.arrayValue,g)},u}(Ur),eo=function(f){function u(h,g){return f.call(this,h,"not-in",g)||this}return U.__extends(u,f),u.prototype.matches=function(h){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var g=h.field(this.field);return null!==g&&!wo(this.value.arrayValue,g)},u}(Ur),jc=function(f){function u(h,g){return f.call(this,h,"array-contains-any",g)||this}return U.__extends(u,f),u.prototype.matches=function(h){var g=this,y=h.field(this.field);return!(!Sc(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(M){return wo(g.value.arrayValue,M)})},u}(Ur),Oo=function(f,u){this.position=f,this.before=u};function pc(f){return(f.before?"b":"a")+":"+f.position.map(function(u){return vs(u)}).join(",")}function Gl(f,u,h){for(var g=0,y=0;y<f.position.length;y++){var M=u[y],P=f.position[y];if(g=M.field.p()?Le.i(Le.C(P.referenceValue),h.key):Na(P,h.field(M.field)),"desc"===M.dir&&(g*=-1),0!==g)break}return f.before?g<=0:g<0}function Ys(f,u){if(null===f)return null===u;if(null===u||f.before!==u.before||f.position.length!==u.position.length)return!1;for(var h=0;h<f.position.length;h++)if(!jr(f.position[h],u.position[h]))return!1;return!0}var Ca=function(f,u){void 0===u&&(u="asc"),this.field=f,this.dir=u};function pl(f,u,h){var y,P,R,V,g=f.field.p()?Le.i(u.key,h.key):(P=h,R=u.field(y=f.field),V=P.field(y),null!==R&&null!==V?Na(R,V):Re());switch(f.dir){case"asc":return g;case"desc":return-1*g;default:return Re()}}function xi(f,u){return f.dir===u.dir&&f.field.isEqual(u.field)}var Wo=function(){var f=this;this.promise=new Promise(function(u,h){f.resolve=u,f.reject=h})},ja=function(){function f(u,h,g,y,M){void 0===g&&(g=1e3),void 0===y&&(y=1.5),void 0===M&&(M=6e4),this.fn=u,this.dn=h,this.wn=g,this.mn=y,this.Tn=M,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return f.prototype.reset=function(){this.En=0},f.prototype.Rn=function(){this.En=this.Tn},f.prototype.gn=function(u){var h=this;this.cancel();var g=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),M=Math.max(0,g-y);M>0&&me("ExponentialBackoff","Backing off for "+M+" ms (base delay: "+this.En+" ms, delay with jitter: "+g+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,M,function(){return h.An=Date.now(),u()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},f.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},f.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},f.prototype.Pn=function(){return(Math.random()-.5)*this.En},f}(),Et=function(){function f(u){var h=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,u(function(g){h.Sn=!0,h.result=g,h.bn&&h.bn(g)},function(g){h.Sn=!0,h.error=g,h.vn&&h.vn(g)})}return f.prototype.catch=function(u){return this.next(void 0,u)},f.prototype.next=function(u,h){var g=this;return this.Dn&&Re(),this.Dn=!0,this.Sn?this.error?this.Cn(h,this.error):this.Nn(u,this.result):new f(function(y,M){g.bn=function(P){g.Nn(u,P).next(y,M)},g.vn=function(P){g.Cn(h,P).next(y,M)}})},f.prototype.Fn=function(){var u=this;return new Promise(function(h,g){u.next(h,g)})},f.prototype.xn=function(u){try{var h=u();return h instanceof f?h:f.resolve(h)}catch(g){return f.reject(g)}},f.prototype.Nn=function(u,h){return u?this.xn(function(){return u(h)}):f.resolve(h)},f.prototype.Cn=function(u,h){return u?this.xn(function(){return u(h)}):f.reject(h)},f.resolve=function(u){return new f(function(h,g){h(u)})},f.reject=function(u){return new f(function(h,g){g(u)})},f.$n=function(u){return new f(function(h,g){var y=0,M=0,P=!1;u.forEach(function(R){++y,R.next(function(){++M,P&&M===y&&h()},function(V){return g(V)})}),P=!0,M===y&&h()})},f.kn=function(u){for(var h=f.resolve(!1),g=function(P){h=h.next(function(R){return R?f.resolve(R):P()})},y=0,M=u;y<M.length;y++)g(M[y]);return h},f.forEach=function(u,h){var g=this,y=[];return u.forEach(function(M,P){y.push(h.call(g,M,P))}),this.$n(y)},f}(),cs=function(){function f(u,h,g){this.name=u,this.version=h,this.Mn=g,12.2===f.On(ce.getUA())&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f.delete=function(u){return me("SimpleDb","Removing database:",u),Ha(window.indexedDB.deleteDatabase(u)).Fn()},f.Ln=function(){if(typeof indexedDB>"u")return!1;if(f.Bn())return!0;var u=ce.getUA(),h=f.On(u),g=0<h&&h<10,y=f.qn(u),M=0<y&&y<4.5;return!(u.indexOf("MSIE ")>0||u.indexOf("Trident/")>0||u.indexOf("Edge/")>0||g||M)},f.Bn=function(){var u;return typeof process<"u"&&"YES"===(null===(u=process.env)||void 0===u?void 0:u.Un)},f.Qn=function(u,h){return u.store(h)},f.On=function(u){var h=u.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=h?h[1].split("_").slice(0,2).join("."):"-1";return Number(g)},f.qn=function(u){var h=u.match(/Android ([\d.]+)/i),g=h?h[1].split(".").slice(0,2).join("."):"-1";return Number(g)},f.prototype.Wn=function(u){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(me("SimpleDb","Opening database:",this.name),h=this,[4,new Promise(function(M,P){var R=indexedDB.open(g.name,g.version);R.onsuccess=function(V){M(V.target.result)},R.onblocked=function(){P(new Po(u,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},R.onerror=function(V){var W=V.target.error;P("VersionError"===W.name?new $(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Po(u,W))},R.onupgradeneeded=function(V){me("SimpleDb",'Database "'+g.name+'" requires upgrade from version:',V.oldVersion),g.Mn.createOrUpgrade(V.target.result,R.transaction,V.oldVersion,g.version).next(function(){me("SimpleDb","Database upgrade to version "+g.version+" complete")})}})]);case 1:h.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(M){return g.jn(M)}),this.db)]}})})},f.prototype.Kn=function(u){this.jn=u,this.db&&(this.db.onversionchange=function(h){return u(h)})},f.prototype.runTransaction=function(u,h,g,y){return U.__awaiter(this,void 0,void 0,function(){var M,P,R,V,W;return U.__generator(this,function(re){switch(re.label){case 0:M="readonly"===h,P=0,R=function(){var ge,_e,ke,et,ht;return U.__generator(this,function(an){switch(an.label){case 0:++P,an.label=1;case 1:return an.trys.push([1,4,,5]),[4,V.Wn(u)];case 2:return V.db=an.sent(),ge=qc.open(V.db,u,M?"readonly":"readwrite",g),_e=y(ge).catch(function(Jt){return ge.abort(Jt),Et.reject(Jt)}).Fn(),ke={},_e.catch(function(){}),[4,ge.Gn];case 3:return[2,(ke.value=(an.sent(),_e),ke)];case 4:return me("SimpleDb","Transaction failed with error:",(et=an.sent()).message,"Retrying:",ht="FirebaseError"!==et.name&&P<3),V.close(),ht?[3,5]:[2,{value:Promise.reject(et)}];case 5:return[2]}})},V=this,re.label=1;case 1:return[5,R()];case 2:if("object"==typeof(W=re.sent()))return[2,W.value];re.label=3;case 3:return[3,1];case 4:return[2]}})})},f.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},f}(),Hc=function(){function f(u){this.zn=u,this.Hn=!1,this.Yn=null}return Object.defineProperty(f.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursor",{set:function(u){this.zn=u},enumerable:!1,configurable:!0}),f.prototype.done=function(){this.Hn=!0},f.prototype.Xn=function(u){this.Yn=u},f.prototype.delete=function(){return Ha(this.zn.delete())},f}(),Po=function(f){function u(h,g){var y=this;return(y=f.call(this,j.UNAVAILABLE,"IndexedDB transaction '"+h+"' failed: "+g)||this).name="IndexedDbTransactionError",y}return U.__extends(u,f),u}($);function Ks(f){return"IndexedDbTransactionError"===f.name}var qc=function(){function f(u,h){var g=this;this.action=u,this.transaction=h,this.aborted=!1,this.Zn=new Wo,this.transaction.oncomplete=function(){g.Zn.resolve()},this.transaction.onabort=function(){h.error?g.Zn.reject(new Po(u,h.error)):g.Zn.resolve()},this.transaction.onerror=function(y){var M=N(y.target.error);g.Zn.reject(new Po(u,M))}}return f.open=function(u,h,g,y){try{return new f(h,u.transaction(y,g))}catch(M){throw new Po(h,M)}},Object.defineProperty(f.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),f.prototype.abort=function(u){u&&this.Zn.reject(u),this.aborted||(me("SimpleDb","Aborting transaction:",u?u.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},f.prototype.store=function(u){var h=this.transaction.objectStore(u);return new od(h)},f}(),od=function(){function f(u){this.store=u}return f.prototype.put=function(u,h){var g;return void 0!==h?(me("SimpleDb","PUT",this.store.name,u,h),g=this.store.put(h,u)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",u),g=this.store.put(u)),Ha(g)},f.prototype.add=function(u){return me("SimpleDb","ADD",this.store.name,u,u),Ha(this.store.add(u))},f.prototype.get=function(u){var h=this;return Ha(this.store.get(u)).next(function(g){return void 0===g&&(g=null),me("SimpleDb","GET",h.store.name,u,g),g})},f.prototype.delete=function(u){return me("SimpleDb","DELETE",this.store.name,u),Ha(this.store.delete(u))},f.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),Ha(this.store.count())},f.prototype.ts=function(u,h){var g=this.cursor(this.options(u,h)),y=[];return this.es(g,function(M,P){y.push(P)}).next(function(){return y})},f.prototype.ns=function(u,h){me("SimpleDb","DELETE ALL",this.store.name);var g=this.options(u,h);g.ss=!1;var y=this.cursor(g);return this.es(y,function(M,P,R){return R.delete()})},f.prototype.rs=function(u,h){var g;h?g=u:(g={},h=u);var y=this.cursor(g);return this.es(y,h)},f.prototype.os=function(u){var h=this.cursor({});return new Et(function(g,y){h.onerror=function(M){var P=N(M.target.error);y(P)},h.onsuccess=function(M){var P=M.target.result;P?u(P.primaryKey,P.value).next(function(R){R?P.continue():g()}):g()}})},f.prototype.es=function(u,h){var g=[];return new Et(function(y,M){u.onerror=function(P){M(P.target.error)},u.onsuccess=function(P){var R=P.target.result;if(R){var V=new Hc(R),W=h(R.primaryKey,R.value,V);if(W instanceof Et){var re=W.catch(function(ge){return V.done(),Et.reject(ge)});g.push(re)}V.Sn?y():null===V.Jn?R.continue():R.continue(V.Jn)}else y()}}).next(function(){return Et.$n(g)})},f.prototype.options=function(u,h){var g=void 0;return void 0!==u&&("string"==typeof u?g=u:h=u),{index:g,range:h}},f.prototype.cursor=function(u){var h="next";if(u.reverse&&(h="prev"),u.index){var g=this.store.index(u.index);return u.ss?g.openKeyCursor(u.range,h):g.openCursor(u.range,h)}return this.store.openCursor(u.range,h)},f}();function Ha(f){return new Et(function(u,h){f.onsuccess=function(g){u(g.target.result)},f.onerror=function(g){var y=N(g.target.error);h(y)}})}var w=!1;function N(f){var u=cs.On(ce.getUA());if(u>=12.2&&u<13){var h="An internal error was encountered in the Indexed Database server";if(f.message.indexOf(h)>=0){var g=new $("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+h+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return w||(w=!0,setTimeout(function(){throw g},0)),g}}return f}function z(){return typeof window<"u"?window:null}function ee(){return typeof document<"u"?document:null}var ye=function(){function f(u,h,g,y,M){this.cs=u,this.dn=h,this.us=g,this.op=y,this.hs=M,this.ls=new Wo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(P){})}return f._s=function(u,h,g,y,M){var P=new f(u,h,Date.now()+g,y,M);return P.start(g),P},f.prototype.start=function(u){var h=this;this.fs=setTimeout(function(){return h.ds()},u)},f.prototype.pn=function(){return this.ds()},f.prototype.cancel=function(u){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new $(j.CANCELLED,"Operation cancelled"+(u?": "+u:""))))},f.prototype.ds=function(){var u=this;this.cs.ws(function(){return null!==u.fs?(u.clearTimeout(),u.op().then(function(h){return u.ls.resolve(h)})):Promise.resolve()})},f.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},f}(),Ke=function(){function f(){var u=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new ja(this,"async_queue_retry"),this.Vs=function(){var g=ee();g&&me("AsyncQueue","Visibility state changed to  ",g.visibilityState),u.ys.Vn()};var h=ee();h&&"function"==typeof h.addEventListener&&h.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(f.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),f.prototype.ws=function(u){this.enqueue(u)},f.prototype.bs=function(u){this.vs(),this.Ss(u)},f.prototype.Ds=function(){if(!this.Is){this.Is=!0;var u=ee();u&&"function"==typeof u.removeEventListener&&u.removeEventListener("visibilitychange",this.Vs)}},f.prototype.enqueue=function(u){return this.vs(),this.Is?new Promise(function(h){}):this.Ss(u)},f.prototype.Cs=function(u){var h=this;this.ws(function(){return h.Es.push(u),h.Ns()})},f.prototype.Ns=function(){return U.__awaiter(this,void 0,void 0,function(){var u,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(0===this.Es.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return g.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Ks(u=g.sent()))throw u;return me("AsyncQueue","Operation failed with retryable error: "+u),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return h.Ns()}),g.label=5;case 5:return[2]}})})},f.prototype.Ss=function(u){var h=this,g=this.Ts.then(function(){return h.gs=!0,u().catch(function(y){throw h.Rs=y,h.gs=!1,lt("INTERNAL UNHANDLED ERROR: ",(P=(M=y).message||"",M.stack&&(P=M.stack.includes(M.message)?M.stack:M.message+"\n"+M.stack),P)),y;var M,P}).then(function(y){return h.gs=!1,y})});return this.Ts=g,g},f.prototype.yn=function(u,h,g){var y=this;this.vs(),this.Ps.indexOf(u)>-1&&(h=0);var M=ye._s(this,u,h,g,function(P){return y.Fs(P)});return this.As.push(M),M},f.prototype.vs=function(){this.Rs&&Re()},f.prototype.xs=function(){},f.prototype.$s=function(){return U.__awaiter(this,void 0,void 0,function(){var u;return U.__generator(this,function(h){switch(h.label){case 0:return[4,u=this.Ts];case 1:h.sent(),h.label=2;case 2:if(u!==this.Ts)return[3,0];h.label=3;case 3:return[2]}})})},f.prototype.ks=function(u){for(var h=0,g=this.As;h<g.length;h++)if(g[h].dn===u)return!0;return!1},f.prototype.Ms=function(u){var h=this;return this.$s().then(function(){h.As.sort(function(P,R){return P.us-R.us});for(var g=0,y=h.As;g<y.length;g++){var M=y[g];if(M.pn(),"all"!==u&&M.dn===u)break}return h.$s()})},f.prototype.Os=function(u){this.Ps.push(u)},f.prototype.Fs=function(u){var h=this.As.indexOf(u);this.As.splice(h,1)},f}();function Rt(f,u){if(lt("AsyncQueue",u+": "+f),Ks(f))return new $(j.UNAVAILABLE,u+": "+f);throw f}var Wn=function(){this.Ls=void 0,this.listeners=[]},ii=function(){this.Bs=new Kt(function(f){return ya(f)},fc),this.onlineState="Unknown",this.qs=new Set};function hr(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,M,P,R,V;return U.__generator(this,function(W){switch(W.label){case 0:if(h=We(f),y=!1,(M=h.Bs.get(g=u.query))||(y=!0,M=new Wn),!y)return[3,4];W.label=1;case 1:return W.trys.push([1,3,,4]),P=M,[4,h.Us(g)];case 2:return P.Ls=W.sent(),[3,4];case 3:return R=W.sent(),V=Rt(R,"Initialization of query '"+Ds(u.query)+"' failed"),[2,void u.onError(V)];case 4:return h.Bs.set(g,M),M.listeners.push(u),u.Qs(h.onlineState),M.Ls&&u.Ws(M.Ls)&&Qs(h),[2]}})})}function Io(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,M,P;return U.__generator(this,function(R){return h=We(f),y=!1,(M=h.Bs.get(g=u.query))&&(P=M.listeners.indexOf(u))>=0&&(M.listeners.splice(P,1),y=0===M.listeners.length),y?[2,(h.Bs.delete(g),h.js(g))]:[2]})})}function ls(f,u){for(var h=We(f),g=!1,y=0,M=u;y<M.length;y++){var P=M[y],V=h.Bs.get(P.query);if(V){for(var W=0,re=V.listeners;W<re.length;W++)re[W].Ws(P)&&(g=!0);V.Ls=P}}g&&Qs(h)}function Zc(f,u,h){var g=We(f),y=g.Bs.get(u);if(y)for(var M=0,P=y.listeners;M<P.length;M++)P[M].onError(h);g.Bs.delete(u)}function Qs(f){f.qs.forEach(function(u){u.next()})}var ml=function(){function f(u,h,g){this.query=u,this.Ks=h,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=g||{}}return f.prototype.Ws=function(u){if(!this.options.includeMetadataChanges){for(var h=[],g=0,y=u.docChanges;g<y.length;g++){var M=y[g];3!==M.type&&h.push(M)}u=new xn(u.query,u.docs,u.Qt,h,u.Wt,u.fromCache,u.jt,!0)}var P=!1;return this.Gs?this.Hs(u)&&(this.Ks.next(u),P=!0):this.Ys(u,this.onlineState)&&(this.Js(u),P=!0),this.zs=u,P},f.prototype.onError=function(u){this.Ks.error(u)},f.prototype.Qs=function(u){this.onlineState=u;var h=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,u)&&(this.Js(this.zs),h=!0),h},f.prototype.Ys=function(u,h){return!u.fromCache||!(this.options.Xs&&"Offline"!==h||u.docs.m()&&"Offline"!==h)},f.prototype.Hs=function(u){return u.docChanges.length>0||!!(u.jt||this.zs&&this.zs.hasPendingWrites!==u.hasPendingWrites)&&!0===this.options.includeMetadataChanges},f.prototype.Js=function(u){u=xn.Gt(u.query,u.docs,u.Wt,u.fromCache),this.Gs=!0,this.Ks.next(u)},f}(),To=function(){function f(u){this.uid=u}return f.prototype.Zs=function(){return null!=this.uid},f.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},f.prototype.isEqual=function(u){return u.uid===this.uid},f}();To.UNAUTHENTICATED=new To(null),To.ei=new To("google-credentials-uid"),To.ni=new To("first-party-uid");var So=function(){function f(u,h){var g=this;this.previousValue=u,h&&(h.si=function(y){return g.ii(y)},this.ri=function(y){return h.oi(y)})}return f.prototype.ii=function(u){return this.previousValue=Math.max(u,this.previousValue),this.previousValue},f.prototype.next=function(){var u=++this.previousValue;return this.ri&&this.ri(u),u},f}();function sd(f,u){return"firestore_clients_"+f+"_"+u}function $h(f,u,h){var g="firestore_mutations_"+f+"_"+h;return u.Zs()&&(g+="_"+u.uid),g}function Pu(f,u){return"firestore_targets_"+f+"_"+u}So.ai=-1;var Gh=function(){function f(u,h,g,y){this.user=u,this.batchId=h,this.state=g,this.error=y}return f.ci=function(u,h,g){var y=JSON.parse(g),M="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),P=void 0;return M&&y.error&&(M="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(P=new $(y.error.code,y.error.message)),M?new f(u,h,y.state,P):(lt("SharedClientState","Failed to parse mutation state for ID '"+h+"': "+g),null)},f.prototype.ui=function(){var u={state:this.state,updateTimeMs:Date.now()};return this.error&&(u.error={code:this.error.code,message:this.error.message}),JSON.stringify(u)},f}(),Wl=function(){function f(u,h,g){this.targetId=u,this.state=h,this.error=g}return f.ci=function(u,h){var g=JSON.parse(h),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error),M=void 0;return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(M=new $(g.error.code,g.error.message)),y?new f(u,g.state,M):(lt("SharedClientState","Failed to parse target state for ID '"+u+"': "+h),null)},f.prototype.ui=function(){var u={state:this.state,updateTimeMs:Date.now()};return this.error&&(u.error={code:this.error.code,message:this.error.message}),JSON.stringify(u)},f}(),Yl=function(){function f(u,h){this.clientId=u,this.activeTargetIds=h}return f.ci=function(u,h){for(var g=JSON.parse(h),y="object"==typeof g&&g.activeTargetIds instanceof Array,M=yn(),P=0;y&&P<g.activeTargetIds.length;++P)y=Me(g.activeTargetIds[P]),M=M.add(g.activeTargetIds[P]);return y?new f(u,M):(lt("SharedClientState","Failed to parse client data for instance '"+u+"': "+h),null)},f}(),ad=function(){function f(u,h){this.clientId=u,this.onlineState=h}return f.ci=function(u){var h=JSON.parse(u);return"object"==typeof h&&-1!==["Unknown","Online","Offline"].indexOf(h.onlineState)&&"string"==typeof h.clientId?new f(h.clientId,h.onlineState):(lt("SharedClientState","Failed to parse online state: "+u),null)},f}(),As=function(){function f(){this.activeTargetIds=yn()}return f.prototype.hi=function(u){this.activeTargetIds=this.activeTargetIds.add(u)},f.prototype.li=function(u){this.activeTargetIds=this.activeTargetIds.delete(u)},f.prototype.ui=function(){var u={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(u)},f}(),$c=function(){function f(u,h,g,y,M){this.window=u,this.fn=h,this.persistenceKey=g,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new $n(Ut),this.Ei=!1,this.Ii=[];var P=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=M,this.Ai=sd(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new As),this.gi=new RegExp("^firestore_clients_"+P+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+P+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+P+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return f.Ln=function(u){return!(!u||!u.localStorage)},f.prototype.start=function(){return U.__awaiter(this,void 0,void 0,function(){var u,h,g,y,M,P,R,V,W,re,_e=this;return U.__generator(this,function(ke){switch(ke.label){case 0:return[4,this.fi.pi()];case 1:for(u=ke.sent(),h=0,g=u;h<g.length;h++)(y=g[h])!==this._i&&(M=this.getItem(sd(this.persistenceKey,y)))&&(P=Yl.ci(y,M))&&(this.Ti=this.Ti.ot(P.clientId,P));for(this.bi(),(R=this.storage.getItem(this.Vi))&&(V=this.vi(R))&&this.Si(V),W=0,re=this.Ii;W<re.length;W++)this.mi(re[W]);return this.Ii=[],this.window.addEventListener("unload",function(){return _e.Di()}),this.Ei=!0,[2]}})})},f.prototype.oi=function(u){this.setItem(this.Ri,JSON.stringify(u))},f.prototype.Ci=function(){return this.Ni(this.Ti)},f.prototype.Fi=function(u){var h=!1;return this.Ti.forEach(function(g,y){y.activeTargetIds.has(u)&&(h=!0)}),h},f.prototype.xi=function(u){this.$i(u,"pending")},f.prototype.ki=function(u,h,g){this.$i(u,h,g),this.Mi(u)},f.prototype.Oi=function(u){var h="not-current";if(this.Fi(u)){var g=this.storage.getItem(Pu(this.persistenceKey,u));if(g){var y=Wl.ci(u,g);y&&(h=y.state)}}return this.Li.hi(u),this.bi(),h},f.prototype.Bi=function(u){this.Li.li(u),this.bi()},f.prototype.qi=function(u){return this.Li.activeTargetIds.has(u)},f.prototype.Ui=function(u){this.removeItem(Pu(this.persistenceKey,u))},f.prototype.Qi=function(u,h,g){this.Wi(u,h,g)},f.prototype.ji=function(u,h,g){var y=this;h.forEach(function(M){y.Mi(M)}),this.currentUser=u,g.forEach(function(M){y.xi(M)})},f.prototype.Ki=function(u){this.Gi(u)},f.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},f.prototype.getItem=function(u){var h=this.storage.getItem(u);return me("SharedClientState","READ",u,h),h},f.prototype.setItem=function(u,h){me("SharedClientState","SET",u,h),this.storage.setItem(u,h)},f.prototype.removeItem=function(u){me("SharedClientState","REMOVE",u),this.storage.removeItem(u)},f.prototype.mi=function(u){var h=this,g=u;if(g.storageArea===this.storage){if(me("SharedClientState","EVENT",g.key,g.newValue),g.key===this.Ai)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return U.__awaiter(h,void 0,void 0,function(){var y,M,P,R,V,W;return U.__generator(this,function(re){if(this.Ei){if(null!==g.key)if(this.gi.test(g.key)){if(null==g.newValue)return y=this.zi(g.key),[2,this.Hi(y,null)];if(M=this.Yi(g.key,g.newValue))return[2,this.Hi(M.clientId,M)]}else if(this.Pi.test(g.key)){if(null!==g.newValue&&(P=this.Ji(g.key,g.newValue)))return[2,this.Xi(P)]}else if(this.yi.test(g.key)){if(null!==g.newValue&&(R=this.Zi(g.key,g.newValue)))return[2,this.tr(R)]}else if(g.key===this.Vi){if(null!==g.newValue&&(V=this.vi(g.newValue)))return[2,this.Si(V)]}else g.key===this.Ri&&(W=function(ge){var _e=So.ai;if(null!=ge)try{var ke=JSON.parse(ge);at("number"==typeof ke),_e=ke}catch(et){lt("SharedClientState","Failed to read sequence number from WebStorage",et)}return _e}(g.newValue))!==So.ai&&this.si(W)}else this.Ii.push(g);return[2]})})})}},Object.defineProperty(f.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),f.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},f.prototype.$i=function(u,h,g){var y=new Gh(this.currentUser,u,h,g),M=$h(this.persistenceKey,this.currentUser,u);this.setItem(M,y.ui())},f.prototype.Mi=function(u){var h=$h(this.persistenceKey,this.currentUser,u);this.removeItem(h)},f.prototype.Gi=function(u){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:u}))},f.prototype.Wi=function(u,h,g){var y=Pu(this.persistenceKey,u),M=new Wl(u,h,g);this.setItem(y,M.ui())},f.prototype.zi=function(u){var h=this.gi.exec(u);return h?h[1]:null},f.prototype.Yi=function(u,h){var g=this.zi(u);return Yl.ci(g,h)},f.prototype.Ji=function(u,h){var g=this.Pi.exec(u),y=Number(g[1]);return Gh.ci(new To(void 0!==g[2]?g[2]:null),y,h)},f.prototype.Zi=function(u,h){var g=this.yi.exec(u),y=Number(g[1]);return Wl.ci(y,h)},f.prototype.vi=function(u){return ad.ci(u)},f.prototype.Xi=function(u){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return u.user.uid===this.currentUser.uid?[2,this.fi.er(u.batchId,u.state,u.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+u.user.uid),[2])})})},f.prototype.tr=function(u){return this.fi.nr(u.targetId,u.state,u.error)},f.prototype.Hi=function(u,h){var g=this,y=h?this.Ti.ot(u,h):this.Ti.remove(u),M=this.Ni(this.Ti),P=this.Ni(y),R=[],V=[];return P.forEach(function(W){M.has(W)||R.push(W)}),M.forEach(function(W){P.has(W)||V.push(W)}),this.fi.sr(R,V).then(function(){g.Ti=y})},f.prototype.Si=function(u){this.Ti.get(u.clientId)&&this.di(u.onlineState)},f.prototype.Ni=function(u){var h=yn();return u.forEach(function(g,y){h=h.kt(y.activeTargetIds)}),h},f}(),gl=function(){function f(){this.ir=new As,this.rr={},this.di=null,this.si=null}return f.prototype.xi=function(u){},f.prototype.ki=function(u,h,g){},f.prototype.Oi=function(u){return this.ir.hi(u),this.rr[u]||"not-current"},f.prototype.Qi=function(u,h,g){this.rr[u]=h},f.prototype.Bi=function(u){this.ir.li(u)},f.prototype.qi=function(u){return this.ir.activeTargetIds.has(u)},f.prototype.Ui=function(u){delete this.rr[u]},f.prototype.Ci=function(){return this.ir.activeTargetIds},f.prototype.Fi=function(u){return this.ir.activeTargetIds.has(u)},f.prototype.start=function(){return this.ir=new As,Promise.resolve()},f.prototype.ji=function(u,h,g){},f.prototype.Ki=function(u){},f.prototype.Di=function(){},f.prototype.oi=function(u){},f}(),cd=function(){function f(u,h,g,y){this.batchId=u,this.ar=h,this.baseMutations=g,this.mutations=y}return f.prototype.cr=function(u,h,g){for(var y=g.ur,M=0;M<this.mutations.length;M++){var P=this.mutations[M];P.key.isEqual(u)&&(h=ni(P,h,y[M]))}return h},f.prototype.hr=function(u,h){for(var g=0,y=this.baseMutations;g<y.length;g++){var M=y[g];M.key.isEqual(u)&&(h=Lc(M,h,h,this.ar))}for(var P=h,R=0,V=this.mutations;R<V.length;R++){var W=V[R];W.key.isEqual(u)&&(h=Lc(W,h,P,this.ar))}return h},f.prototype.lr=function(u){var h=this,g=u;return this.mutations.forEach(function(y){var M=h.hr(y.key,u.get(y.key));M&&(g=g.ot(y.key,M))}),g},f.prototype.keys=function(){return this.mutations.reduce(function(u,h){return u.add(h.key)},Qe())},f.prototype.isEqual=function(u){return this.batchId===u.batchId&&cn(this.mutations,u.mutations,function(h,g){return Va(h,g)})&&cn(this.baseMutations,u.baseMutations,function(h,g){return Va(h,g)})},f}(),Iu=function(){function f(u,h,g,y){this.batch=u,this._r=h,this.ur=g,this.dr=y}return f.from=function(u,h,g){at(u.mutations.length===g.length);for(var y=K,M=u.mutations,P=0;P<M.length;P++)y=y.ot(M[P].key,g[P].version);return new f(u,h,g,y)},f}(),ip=function(){function f(){this.wr=new Kt(function(u){return u.toString()},function(u,h){return u.isEqual(h)}),this.mr=!1}return Object.defineProperty(f.prototype,"readTime",{get:function(){return this.Tr},set:function(u){this.Tr=u},enumerable:!1,configurable:!0}),f.prototype.Er=function(u,h){this.Ir(),this.readTime=h,this.wr.set(u.key,u)},f.prototype.Ar=function(u,h){this.Ir(),h&&(this.readTime=h),this.wr.set(u,null)},f.prototype.Rr=function(u,h){this.Ir();var g=this.wr.get(h);return void 0!==g?Et.resolve(g):this.gr(u,h)},f.prototype.getEntries=function(u,h){return this.Pr(u,h)},f.prototype.apply=function(u){return this.Ir(),this.mr=!0,this.yr(u)},f.prototype.Ir=function(){},f}(),ks="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",th=function(){function f(){this.Vr=[]}return f.prototype.pr=function(u){this.Vr.push(u)},f.prototype.br=function(){this.Vr.forEach(function(u){return u()})},f}(),Tu=function(){function f(u,h,g){this.vr=u,this.Sr=h,this.Dr=g}return f.prototype.Cr=function(u,h){var g=this;return this.Sr.Nr(u,h).next(function(y){return g.Fr(u,h,y)})},f.prototype.Fr=function(u,h,g){return this.vr.Rr(u,h).next(function(y){for(var M=0,P=g;M<P.length;M++)y=P[M].hr(h,y);return y})},f.prototype.$r=function(u,h,g){var y=le();return h.forEach(function(M,P){for(var R=0,V=g;R<V.length;R++)P=V[R].hr(M,P);y=y.ot(M,P)}),y},f.prototype.kr=function(u,h){var g=this;return this.vr.getEntries(u,h).next(function(y){return g.Mr(u,y)})},f.prototype.Mr=function(u,h){var g=this;return this.Sr.Or(u,h).next(function(y){var M=g.$r(u,h,y),P=fe();return M.forEach(function(R,V){V||(V=new Lr(R,jt.min())),P=P.ot(R,V)}),P})},f.prototype.Lr=function(u,h,g){return Le.F((y=h).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(u,h.path):Eu(h)?this.qr(u,h,g):this.Ur(u,h,g);var y},f.prototype.Br=function(u,h){return this.Cr(u,new Le(h)).next(function(g){var y=ne();return g instanceof ci&&(y=y.ot(g.key,g)),y})},f.prototype.qr=function(u,h,g){var y=this,M=h.collectionGroup,P=ne();return this.Dr.Qr(u,M).next(function(R){return Et.forEach(R,function(V){var re,ge,W=(re=h,ge=V.child(M),new Ss(ge,null,re.on.slice(),re.filters.slice(),re.limit,re.an,re.startAt,re.endAt));return y.Ur(u,W,g).next(function(re){re.forEach(function(ge,_e){P=P.ot(ge,_e)})})}).next(function(){return P})})},f.prototype.Ur=function(u,h,g){var y,M,P=this;return this.vr.Lr(u,h,g).next(function(R){return y=R,P.Sr.Wr(u,h)}).next(function(R){return P.jr(u,M=R,y).next(function(V){y=V;for(var W=0,re=M;W<re.length;W++)for(var ge=re[W],_e=0,ke=ge.mutations;_e<ke.length;_e++){var et=ke[_e],ht=et.key,an=y.get(ht),Jt=Lc(et,an,an,ge.ar);y=Jt instanceof ci?y.ot(ht,Jt):y.remove(ht)}})}).next(function(){return y.forEach(function(R,V){$l(h,V)||(y=y.remove(R))}),y})},f.prototype.jr=function(u,h,g){for(var y=Qe(),M=0,P=h;M<P.length;M++)for(var R=0,V=P[M].mutations;R<V.length;R++){var W=V[R];W instanceof Qr&&null===g.get(W.key)&&(y=y.add(W.key))}var re=g;return this.vr.getEntries(u,y).next(function(ge){return ge.forEach(function(_e,ke){null!==ke&&ke instanceof ci&&(re=re.ot(_e,ke))}),re})},f}(),Ti=function(){function f(u,h,g,y){this.targetId=u,this.fromCache=h,this.Kr=g,this.Gr=y}return f.zr=function(u,h){for(var g=Qe(),y=Qe(),M=0,P=h.docChanges;M<P.length;M++){var R=P[M];switch(R.type){case 0:g=g.add(R.doc.key);break;case 1:y=y.add(R.doc.key)}}return new f(u,h.fromCache,g,y)},f}();function _l(f,u){var g=f[1],M=u[1],P=Ut(f[0],u[0]);return 0===P?Ut(g,M):P}var qa=function(){function f(u){this.Hr=u,this.buffer=new Pi(_l),this.Yr=0}return f.prototype.Jr=function(){return++this.Yr},f.prototype.Xr=function(u){var h=[u,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(h);else{var g=this.buffer.last();_l(h,g)<0&&(this.buffer=this.buffer.delete(g).add(h))}},Object.defineProperty(f.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),f}(),Yo={Zr:!1,eo:0,no:0,so:0},to=function(){function f(u,h,g){this.io=u,this.ro=h,this.oo=g}return f.ao=function(u){return new f(u,f.co,f.uo)},f}();to.ho=-1,to.lo=1048576,to._o=41943040,to.co=10,to.uo=1e3,to.fo=new to(to._o,to.co,to.uo),to.do=new to(to.ho,0,0);var nh=function(){function f(u,h){this.wo=u,this.cs=h,this.mo=!1,this.To=null}return f.prototype.start=function(u){this.wo.params.io!==to.ho&&this.Eo(u)},f.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(f.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),f.prototype.Eo=function(u){var h=this,g=this.mo?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+g+"ms"),this.To=this.cs.yn("lru_garbage_collection",g,function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(M){switch(M.label){case 0:this.To=null,this.mo=!0,M.label=1;case 1:return M.trys.push([1,3,,7]),[4,u.Io(this.wo)];case 2:return M.sent(),[3,7];case 3:return Ks(y=M.sent())?(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,li(y)];case 5:M.sent(),M.label=6;case 6:return[3,7];case 7:return[4,this.Eo(u)];case 8:return M.sent(),[2]}})})})},f}(),vl=function(){function f(u,h){this.Ao=u,this.params=h}return f.prototype.Ro=function(u,h){return this.Ao.Po(u).next(function(g){return Math.floor(h/100*g)})},f.prototype.yo=function(u,h){var g=this;if(0===h)return Et.resolve(So.ai);var y=new qa(h);return this.Ao.Ce(u,function(M){return y.Xr(M.sequenceNumber)}).next(function(){return g.Ao.Vo(u,function(M){return y.Xr(M)})}).next(function(){return y.maxValue})},f.prototype.po=function(u,h,g){return this.Ao.po(u,h,g)},f.prototype.bo=function(u,h){return this.Ao.bo(u,h)},f.prototype.vo=function(u,h){var g=this;return this.params.io===to.ho?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(Yo)):this.So(u).next(function(y){return y<g.params.io?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+g.params.io),Yo):g.Do(u,h)})},f.prototype.So=function(u){return this.Ao.So(u)},f.prototype.Do=function(u,h){var g,y,M,P,R,V,W,re=this,ge=Date.now();return this.Ro(u,this.params.ro).next(function(_e){return _e>re.params.oo?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+re.params.oo+" from "+_e),y=re.params.oo):y=_e,P=Date.now(),re.yo(u,y)}).next(function(_e){return g=_e,R=Date.now(),re.po(u,g,h)}).next(function(_e){return M=_e,V=Date.now(),re.bo(u,g)}).next(function(_e){return W=Date.now(),Ne()<=pe.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(P-ge)+"ms\n\tDetermined least recently used "+y+" in "+(R-P)+"ms\n\tRemoved "+M+" targets in "+(V-R)+"ms\n\tRemoved "+_e+" documents in "+(W-V)+"ms\nTotal Duration: "+(W-ge)+"ms"),Et.resolve({Zr:!0,eo:y,no:M,so:_e})})},f}();function Ki(f){for(var u="",h=0;h<f.length;h++)u.length>0&&(u=rh(u)),u=ih(f.get(h),u);return rh(u)}function ih(f,u){for(var h=u,g=f.length,y=0;y<g;y++){var M=f.charAt(y);switch(M){case"\0":h+="\x01\x10";break;case"\x01":h+="\x01\x11";break;default:h+=M}}return h}function rh(f){return f+"\x01\x01"}function Js(f){var u=f.length;if(at(u>=2),2===u)return at("\x01"===f.charAt(0)&&"\x01"===f.charAt(1)),he.P();for(var h=u-2,g=[],y="",M=0;M<u;){var P=f.indexOf("\x01",M);switch((P<0||P>h)&&Re(),f.charAt(P+1)){case"\x01":var R=f.substring(M,P),V=void 0;0===y.length?V=R:(V=y+=R,y=""),g.push(V);break;case"\x10":y+=f.substring(M,P),y+="\0";break;case"\x11":y+=f.substring(M,P+1);break;default:Re()}M=P+2}return new he(g)}var yl=function(f){this.Co=f};function oh(f,u){if(u.document)return V=!!u.hasCommittedMutations,W=Ui(f.Co,(R=u.document).name),re=Mo(R.updateTime),ge=new Fr({mapValue:{fields:R.fields}}),new ci(W,re,ge,{hasCommittedMutations:!!V});var R,V,W,re,ge;if(u.noDocument){var h=Le.$(u.noDocument.path),g=Su(u.noDocument.readTime);return new Lr(h,g,{hasCommittedMutations:!!u.hasCommittedMutations})}if(u.unknownDocument){var y=Le.$(u.unknownDocument.path),M=Su(u.unknownDocument.version);return new ql(y,M)}return Re()}function Gc(f,u,h){var _e,ke,g=Wh(h),y=u.key.path.h().A();if(u instanceof ci){var M={name:fa(_e=f.Co,(ke=u).key),fields:ke.rn().mapValue.fields,updateTime:ha(_e,ke.version.Z())};return new sr(null,null,M,u.hasCommittedMutations,g,y)}if(u instanceof Lr){var R=u.key.path.A(),V=mc(u.version),W=u.hasCommittedMutations;return new sr(null,new sp(R,V),null,W,g,y)}if(u instanceof ql){var re=u.key.path.A(),ge=mc(u.version);return new sr(new c_(re,ge),null,null,!0,g,y)}return Re()}function Wh(f){var u=f.Z();return[u.seconds,u.nanoseconds]}function Hr(f){var u=new Qt(f[0],f[1]);return jt.J(u)}function mc(f){var u=f.Z();return new ud(u.seconds,u.nanoseconds)}function Su(f){var u=new Qt(f.seconds,f.nanoseconds);return jt.J(u)}function On(f,u){var h=(u.baseMutations||[]).map(function(M){return xr(f.Co,M)}),g=u.mutations.map(function(M){return xr(f.Co,M)}),y=Qt.fromMillis(u.localWriteTimeMs);return new cd(u.batchId,y,h,g)}function Wc(f){var u,h,g=Su(f.readTime),y=void 0!==f.lastLimboFreeSnapshotVersion?Su(f.lastLimboFreeSnapshotVersion):jt.min();return void 0!==f.query.documents?(at(1===(h=f.query).documents.length),u=$o(Ba(pa(h.documents[0])))):u=Rc(f.query),new Oi(u,f.targetId,0,f.lastListenSequenceNumber,g,y,zn.fromBase64String(f.resumeToken))}function rp(f,u){var h,g=mc(u.nt),y=mc(u.lastLimboFreeSnapshotVersion);h=zt(u.target)?La(f.Co,u.target):Mr(f.Co,u.target);var M=u.resumeToken.toBase64();return new fr(u.targetId,xt(u.target),g,M,u.sequenceNumber,y,h)}var ld=function(){function f(u,h,g,y){this.userId=u,this.serializer=h,this.Dr=g,this.No=y,this.Fo={}}return f.xo=function(u,h,g,y){return at(""!==u.uid),new f(u.Zs()?u.uid:"",h,g,y)},f.prototype.$o=function(u){var h=!0,g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(u).rs({index:Qi.userMutationsIndex,range:g},function(y,M,P){h=!1,P.done()}).next(function(){return h})},f.prototype.ko=function(u,h,g,y){var M=this,P=Rs(u),R=Wi(u);return R.add({}).next(function(V){at("number"==typeof V);for(var W=new cd(V,h,g,y),re=function(Jt,kn,ei){var bi=ei.baseMutations.map(function(mr){return Vi(Jt.Co,mr)}),Mi=ei.mutations.map(function(mr){return Vi(Jt.Co,mr)});return new Qi(kn,ei.batchId,ei.ar.toMillis(),bi,Mi)}(M.serializer,M.userId,W),ge=[],_e=new Pi(function(Jt,kn){return Ut(Jt.R(),kn.R())}),ke=0,et=y;ke<et.length;ke++){var ht=et[ke],an=po.key(M.userId,ht.key.path,V);_e=_e.add(ht.key.path.h()),ge.push(R.put(re)),ge.push(P.put(an,po.PLACEHOLDER))}return _e.forEach(function(Jt){ge.push(M.Dr.Mo(u,Jt))}),u.pr(function(){M.Fo[V]=W.keys()}),Et.$n(ge).next(function(){return W})})},f.prototype.Oo=function(u,h){var g=this;return Wi(u).get(h).next(function(y){return y?(at(y.userId===g.userId),On(g.serializer,y)):null})},f.prototype.Lo=function(u,h){var g=this;return this.Fo[h]?Et.resolve(this.Fo[h]):this.Oo(u,h).next(function(y){if(y){var M=y.keys();return g.Fo[h]=M,M}return null})},f.prototype.Bo=function(u,h){var g=this,y=h+1,M=IDBKeyRange.lowerBound([this.userId,y]),P=null;return Wi(u).rs({index:Qi.userMutationsIndex,range:M},function(R,V,W){V.userId===g.userId&&(at(V.batchId>=y),P=On(g.serializer,V)),W.done()}).next(function(){return P})},f.prototype.qo=function(u){var h=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),g=-1;return Wi(u).rs({index:Qi.userMutationsIndex,range:h,reverse:!0},function(y,M,P){g=M.batchId,P.done()}).next(function(){return g})},f.prototype.Uo=function(u){var h=this,g=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(u).ts(Qi.userMutationsIndex,g).next(function(y){return y.map(function(M){return On(h.serializer,M)})})},f.prototype.Nr=function(u,h){var g=this,y=po.prefixForPath(this.userId,h.path),M=IDBKeyRange.lowerBound(y),P=[];return Rs(u).rs({range:M},function(R,V,W){var re=R[0],_e=R[2],ke=Js(R[1]);if(re===g.userId&&h.path.isEqual(ke))return Wi(u).get(_e).next(function(et){if(!et)throw Re();at(et.userId===g.userId),P.push(On(g.serializer,et))});W.done()}).next(function(){return P})},f.prototype.Or=function(u,h){var g=this,y=new Pi(Ut),M=[];return h.forEach(function(P){var R=po.prefixForPath(g.userId,P.path),V=IDBKeyRange.lowerBound(R),W=Rs(u).rs({range:V},function(re,ge,_e){var ke=re[0],ht=re[2],an=Js(re[1]);ke===g.userId&&P.path.isEqual(an)?y=y.add(ht):_e.done()});M.push(W)}),Et.$n(M).next(function(){return g.Qo(u,y)})},f.prototype.Wr=function(u,h){var g=this,y=h.path,M=y.length+1,P=po.prefixForPath(this.userId,y),R=IDBKeyRange.lowerBound(P),V=new Pi(Ut);return Rs(u).rs({range:R},function(W,re,ge){var _e=W[0],et=W[2],ht=Js(W[1]);_e===g.userId&&y.T(ht)?ht.length===M&&(V=V.add(et)):ge.done()}).next(function(){return g.Qo(u,V)})},f.prototype.Qo=function(u,h){var g=this,y=[],M=[];return h.forEach(function(P){M.push(Wi(u).get(P).next(function(R){if(null===R)throw Re();at(R.userId===g.userId),y.push(On(g.serializer,R))}))}),Et.$n(M).next(function(){return y})},f.prototype.Wo=function(u,h){var g=this;return Yh(u.jo,this.userId,h).next(function(y){return u.pr(function(){g.Ko(h.batchId)}),Et.forEach(y,function(M){return g.No.Go(u,M)})})},f.prototype.Ko=function(u){delete this.Fo[u]},f.prototype.zo=function(u){var h=this;return this.$o(u).next(function(g){if(!g)return Et.resolve();var y=IDBKeyRange.lowerBound(po.prefixForUser(h.userId)),M=[];return Rs(u).rs({range:y},function(P,R,V){if(P[0]===h.userId){var W=Js(P[1]);M.push(W)}else V.done()}).next(function(){at(0===M.length)})})},f.prototype.Ho=function(u,h){return qr(u,this.userId,h)},f.prototype.Yo=function(u){var h=this;return Yc(u).get(this.userId).next(function(g){return g||new ko(h.userId,-1,"")})},f}();function qr(f,u,h){var g=po.prefixForPath(u,h.path),y=g[1],M=IDBKeyRange.lowerBound(g),P=!1;return Rs(f).rs({range:M,ss:!0},function(R,V,W){R[0]===u&&R[1]===y&&(P=!0),W.done()}).next(function(){return P})}function Yh(f,u,h){var g=f.store(Qi.store),y=f.store(po.store),M=[],P=IDBKeyRange.only(h.batchId),R=0,V=g.rs({range:P},function(et,ht,an){return R++,an.delete()});M.push(V.next(function(){at(1===R)}));for(var W=[],re=0,ge=h.mutations;re<ge.length;re++){var _e=ge[re],ke=po.key(u,_e.key.path,h.batchId);M.push(y.delete(ke)),W.push(_e.key)}return Et.$n(M).next(function(){return W})}function Wi(f){return ys.Qn(f,Qi.store)}function Rs(f){return ys.Qn(f,po.store)}function Yc(f){return ys.Qn(f,ko.store)}var sh=function(){function f(u,h){this.serializer=u,this.Dr=h}return f.prototype.Er=function(u,h,g){return gc(u).put(pt(h),g)},f.prototype.Ar=function(u,h){var g=gc(u),y=pt(h);return g.delete(y)},f.prototype.updateMetadata=function(u,h){var g=this;return this.getMetadata(u).next(function(y){return y.byteSize+=h,g.Jo(u,y)})},f.prototype.Rr=function(u,h){var g=this;return gc(u).get(pt(h)).next(function(y){return g.Xo(y)})},f.prototype.Zo=function(u,h){var g=this;return gc(u).get(pt(h)).next(function(y){var M=g.Xo(y);return M?{ta:M,size:oi(y)}:null})},f.prototype.getEntries=function(u,h){var g=this,y=le();return this.ea(u,h,function(M,P){var R=g.Xo(P);y=y.ot(M,R)}).next(function(){return y})},f.prototype.na=function(u,h){var g=this,y=le(),M=new $n(Le.i);return this.ea(u,h,function(P,R){var V=g.Xo(R);V?(y=y.ot(P,V),M=M.ot(P,oi(R))):(y=y.ot(P,null),M=M.ot(P,0))}).next(function(){return{sa:y,ia:M}})},f.prototype.ea=function(u,h,g){if(h.m())return Et.resolve();var y=IDBKeyRange.bound(h.first().path.A(),h.last().path.A()),M=h._t(),P=M.It();return gc(u).rs({range:y},function(R,V,W){for(var re=Le.$(R);P&&Le.i(P,re)<0;)g(P,null),P=M.It();P&&P.isEqual(re)&&(g(P,V),P=M.At()?M.It():null),P?W.Xn(P.path.A()):W.done()}).next(function(){for(;P;)g(P,null),P=M.At()?M.It():null})},f.prototype.Lr=function(u,h,g){var y=this,M=ne(),P=h.path.length+1,R={};if(g.isEqual(jt.min())){var V=h.path.A();R.range=IDBKeyRange.lowerBound(V)}else{var W=h.path.A(),re=Wh(g);R.range=IDBKeyRange.lowerBound([W,re],!0),R.index=sr.collectionReadTimeIndex}return gc(u).rs(R,function(ge,_e,ke){if(ge.length===P){var et=oh(y.serializer,_e);h.path.T(et.key.path)?et instanceof ci&&$l(h,et)&&(M=M.ot(et.key,et)):ke.done()}}).next(function(){return M})},f.prototype.ra=function(u){return new op(this,!!u&&u.oa)},f.prototype.aa=function(u){return this.getMetadata(u).next(function(h){return h.byteSize})},f.prototype.getMetadata=function(u){return ah(u).get(Ji.key).next(function(h){return at(!!h),h})},f.prototype.Jo=function(u,h){return ah(u).put(Ji.key,h)},f.prototype.Xo=function(u){if(u){var h=oh(this.serializer,u);return h instanceof Lr&&h.version.isEqual(jt.min())?null:h}return null},f}(),op=function(f){function u(h,g){var y=this;return(y=f.call(this)||this).ca=h,y.oa=g,y.ua=new Kt(function(M){return M.toString()},function(M,P){return M.isEqual(P)}),y}return U.__extends(u,f),u.prototype.yr=function(h){var g=this,y=[],M=0,P=new Pi(function(R,V){return Ut(R.R(),V.R())});return this.wr.forEach(function(R,V){var W=g.ua.get(R);if(V){var re=Gc(g.ca.serializer,V,g.readTime);P=P.add(R.path.h());var ge=oi(re);M+=ge-W,y.push(g.ca.Er(h,R,re))}else if(M-=W,g.oa){var _e=Gc(g.ca.serializer,new Lr(R,jt.min()),g.readTime);y.push(g.ca.Er(h,R,_e))}else y.push(g.ca.Ar(h,R))}),P.forEach(function(R){y.push(g.ca.Dr.Mo(h,R))}),y.push(this.ca.updateMetadata(h,M)),Et.$n(y)},u.prototype.gr=function(h,g){var y=this;return this.ca.Zo(h,g).next(function(M){return null===M?(y.ua.set(g,0),null):(y.ua.set(g,M.size),M.ta)})},u.prototype.Pr=function(h,g){var y=this;return this.ca.na(h,g).next(function(M){var P=M.sa;return M.ia.forEach(function(R,V){y.ua.set(R,V)}),P})},u}(ip);function ah(f){return ys.Qn(f,Ji.store)}function gc(f){return ys.Qn(f,sr.store)}function pt(f){return f.path.A()}function oi(f){var u;if(f.document)u=f.document;else if(f.unknownDocument)u=f.unknownDocument;else{if(!f.noDocument)throw Re();u=f.noDocument}return JSON.stringify(u).length}var Ns=function(){function f(){this.ha=new Du}return f.prototype.Mo=function(u,h){return this.ha.add(h),Et.resolve()},f.prototype.Qr=function(u,h){return Et.resolve(this.ha.getEntries(h))},f}(),Du=function(){function f(){this.index={}}return f.prototype.add=function(u){var h=u._(),g=u.h(),y=this.index[h]||new Pi(he.i),M=!y.has(g);return this.index[h]=y.add(g),M},f.prototype.has=function(u){var h=u._(),g=u.h(),y=this.index[h];return y&&y.has(g)},f.prototype.getEntries=function(u){return(this.index[u]||new Pi(he.i)).A()},f}(),Do=function(){function f(u){this.serializer=u}return f.prototype.createOrUpgrade=function(u,h,g,y){var M=this;at(g<y&&g>=0&&y<=10);var V,P=new qc("createOrUpgrade",h);g<1&&y>=1&&(u.createObjectStore(Ao.store),(V=u).createObjectStore(ko.store,{keyPath:ko.keyPath}),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0}),V.createObjectStore(po.store),Kh(u),function(V){V.createObjectStore(sr.store)}(u));var R=Et.resolve();return g<3&&y>=3&&(0!==g&&(function(V){V.deleteObjectStore(mo.store),V.deleteObjectStore(fr.store),V.deleteObjectStore(no.store)}(u),Kh(u)),R=R.next(function(){return function(V){var W=V.store(no.store),re=new no(0,0,jt.min().Z(),0);return W.put(no.key,re)}(P)})),g<4&&y>=4&&(0!==g&&(R=R.next(function(){return function(V,W){return W.store(Qi.store).ts().next(function(re){V.deleteObjectStore(Qi.store),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0});var ge=W.store(Qi.store),_e=re.map(function(ke){return ge.put(ke)});return Et.$n(_e)})}(u,P)})),R=R.next(function(){!function(V){V.createObjectStore(wa.store,{keyPath:wa.keyPath})}(u)})),g<5&&y>=5&&(R=R.next(function(){return M.removeAcknowledgedMutations(P)})),g<6&&y>=6&&(R=R.next(function(){return function(V){V.createObjectStore(Ji.store)}(u),M.addDocumentGlobal(P)})),g<7&&y>=7&&(R=R.next(function(){return M.ensureSequenceNumbers(P)})),g<8&&y>=8&&(R=R.next(function(){return M.createCollectionParentIndex(u,P)})),g<9&&y>=9&&(R=R.next(function(){(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(u),function(V){var W=V.objectStore(sr.store);W.createIndex(sr.readTimeIndex,sr.readTimeIndexPath,{unique:!1}),W.createIndex(sr.collectionReadTimeIndex,sr.collectionReadTimeIndexPath,{unique:!1})}(h)})),g<10&&y>=10&&(R=R.next(function(){return M.rewriteCanonicalIds(P)})),R},f.prototype.addDocumentGlobal=function(u){var h=0;return u.store(sr.store).rs(function(g,y){h+=oi(y)}).next(function(){var g=new Ji(h);return u.store(Ji.store).put(Ji.key,g)})},f.prototype.removeAcknowledgedMutations=function(u){var h=this,g=u.store(ko.store),y=u.store(Qi.store);return g.ts().next(function(M){return Et.forEach(M,function(P){var R=IDBKeyRange.bound([P.userId,-1],[P.userId,P.lastAcknowledgedBatchId]);return y.ts(Qi.userMutationsIndex,R).next(function(V){return Et.forEach(V,function(W){at(W.userId===P.userId);var re=On(h.serializer,W);return Yh(u,P.userId,re).next(function(){})})})})})},f.prototype.ensureSequenceNumbers=function(u){var h=u.store(mo.store),g=u.store(sr.store);return u.store(no.store).get(no.key).next(function(y){var M=[];return g.rs(function(P,R){var V=new he(P),W=[0,Ki(V)];M.push(h.get(W).next(function(re){return re?Et.resolve():h.put(new mo(0,Ki(V),y.highestListenSequenceNumber))}))}).next(function(){return Et.$n(M)})})},f.prototype.createCollectionParentIndex=function(u,h){u.createObjectStore(io.store,{keyPath:io.keyPath});var g=h.store(io.store),y=new Du,M=function(P){if(y.add(P)){var R=P._(),V=P.h();return g.put({collectionId:R,parent:Ki(V)})}};return h.store(sr.store).rs({ss:!0},function(P,R){var V=new he(P);return M(V.h())}).next(function(){return h.store(po.store).rs({ss:!0},function(P,R){var W=Js(P[1]);return M(W.h())})})},f.prototype.rewriteCanonicalIds=function(u){var h=this,g=u.store(fr.store);return g.rs(function(y,M){var P=Wc(M),R=rp(h.serializer,P);return g.put(R)})},f}(),ud=function(f,u){this.seconds=f,this.nanoseconds=u},Ao=function(f,u,h){this.ownerId=f,this.allowTabSynchronization=u,this.leaseTimestampMs=h};Ao.store="owner",Ao.key="owner";var ko=function(f,u,h){this.userId=f,this.lastAcknowledgedBatchId=u,this.lastStreamToken=h};ko.store="mutationQueues",ko.keyPath="userId";var Qi=function(f,u,h,g,y){this.userId=f,this.batchId=u,this.localWriteTimeMs=h,this.baseMutations=g,this.mutations=y};Qi.store="mutations",Qi.keyPath="batchId",Qi.userMutationsIndex="userMutationsIndex",Qi.userMutationsKeyPath=["userId","batchId"];var po=function(){function f(){}return f.prefixForUser=function(u){return[u]},f.prefixForPath=function(u,h){return[u,Ki(h)]},f.key=function(u,h,g){return[u,Ki(h),g]},f}();po.store="documentMutations",po.PLACEHOLDER=new po;var sp=function(f,u){this.path=f,this.readTime=u},c_=function(f,u){this.path=f,this.version=u},sr=function(f,u,h,g,y,M){this.unknownDocument=f,this.noDocument=u,this.document=h,this.hasCommittedMutations=g,this.readTime=y,this.parentPath=M};sr.store="remoteDocuments",sr.readTimeIndex="readTimeIndex",sr.readTimeIndexPath="readTime",sr.collectionReadTimeIndex="collectionReadTimeIndex",sr.collectionReadTimeIndexPath=["parentPath","readTime"];var Ji=function(f){this.byteSize=f};Ji.store="remoteDocumentGlobal",Ji.key="remoteDocumentGlobalKey";var fr=function(f,u,h,g,y,M,P){this.targetId=f,this.canonicalId=u,this.readTime=h,this.resumeToken=g,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=M,this.query=P};fr.store="targets",fr.keyPath="targetId",fr.queryTargetsIndexName="queryTargetsIndex",fr.queryTargetsKeyPath=["canonicalId","targetId"];var mo=function(f,u,h){this.targetId=f,this.path=u,this.sequenceNumber=h};mo.store="targetDocuments",mo.keyPath=["targetId","path"],mo.documentTargetsIndex="documentTargetsIndex",mo.documentTargetsKeyPath=["path","targetId"];var no=function(f,u,h,g){this.highestTargetId=f,this.highestListenSequenceNumber=u,this.lastRemoteSnapshotVersion=h,this.targetCount=g};no.key="targetGlobalKey",no.store="targetGlobal";var io=function(f,u){this.collectionId=f,this.parent=u};function Kh(f){f.createObjectStore(mo.store,{keyPath:mo.keyPath}).createIndex(mo.documentTargetsIndex,mo.documentTargetsKeyPath,{unique:!0}),f.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.queryTargetsIndexName,fr.queryTargetsKeyPath,{unique:!0}),f.createObjectStore(no.store)}io.store="collectionParents",io.keyPath=["collectionId","parent"];var wa=function(f,u,h,g){this.clientId=f,this.updateTimeMs=u,this.networkEnabled=h,this.inForeground=g};wa.store="clientMetadata",wa.keyPath="clientId";var dd=U.__spreadArrays(U.__spreadArrays(U.__spreadArrays([ko.store,Qi.store,po.store,sr.store,fr.store,Ao.store,no.store,mo.store],[wa.store]),[Ji.store]),[io.store]),Mm=function(){function f(){this.la=new Du}return f.prototype.Mo=function(u,h){var g=this;if(!this.la.has(h)){var y=h._(),M=h.h();u.pr(function(){g.la.add(h)});var P={collectionId:y,parent:Ki(M)};return Au(u).put(P)}return Et.resolve()},f.prototype.Qr=function(u,h){var g=[],y=IDBKeyRange.bound([h,""],[Un(h),""],!1,!0);return Au(u).ts(y).next(function(M){for(var P=0,R=M;P<R.length;P++){var V=R[P];if(V.collectionId!==h)break;g.push(Js(V.parent))}return g})},f}();function Au(f){return ys.Qn(f,io.store)}var Kl=function(){function f(u){this._a=u}return f.prototype.next=function(){return this._a+=2,this._a},f.fa=function(){return new f(0)},f.da=function(){return new f(-1)},f}(),ch=function(){function f(u,h){this.No=u,this.serializer=h}return f.prototype.wa=function(u){var h=this;return this.ma(u).next(function(g){var y=new Kl(g.highestTargetId);return g.highestTargetId=y.next(),h.Ta(u,g).next(function(){return g.highestTargetId})})},f.prototype.Ea=function(u){return this.ma(u).next(function(h){return jt.J(new Qt(h.lastRemoteSnapshotVersion.seconds,h.lastRemoteSnapshotVersion.nanoseconds))})},f.prototype.Ia=function(u){return this.ma(u).next(function(h){return h.highestListenSequenceNumber})},f.prototype.Aa=function(u,h,g){var y=this;return this.ma(u).next(function(M){return M.highestListenSequenceNumber=h,g&&(M.lastRemoteSnapshotVersion=g.Z()),h>M.highestListenSequenceNumber&&(M.highestListenSequenceNumber=h),y.Ta(u,M)})},f.prototype.Ra=function(u,h){var g=this;return this.ga(u,h).next(function(){return g.ma(u).next(function(y){return y.targetCount+=1,g.Pa(h,y),g.Ta(u,y)})})},f.prototype.ya=function(u,h){return this.ga(u,h)},f.prototype.Va=function(u,h){var g=this;return this.pa(u,h.targetId).next(function(){return bl(u).delete(h.targetId)}).next(function(){return g.ma(u)}).next(function(y){return at(y.targetCount>0),y.targetCount-=1,g.Ta(u,y)})},f.prototype.po=function(u,h,g){var y=this,M=0,P=[];return bl(u).rs(function(R,V){var W=Wc(V);W.sequenceNumber<=h&&null===g.get(W.targetId)&&(M++,P.push(y.Va(u,W)))}).next(function(){return Et.$n(P)}).next(function(){return M})},f.prototype.Ce=function(u,h){return bl(u).rs(function(g,y){var M=Wc(y);h(M)})},f.prototype.ma=function(u){return lh(u).get(no.key).next(function(h){return at(null!==h),h})},f.prototype.Ta=function(u,h){return lh(u).put(no.key,h)},f.prototype.ga=function(u,h){return bl(u).put(rp(this.serializer,h))},f.prototype.Pa=function(u,h){var g=!1;return u.targetId>h.highestTargetId&&(h.highestTargetId=u.targetId,g=!0),u.sequenceNumber>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=u.sequenceNumber,g=!0),g},f.prototype.ba=function(u){return this.ma(u).next(function(h){return h.targetCount})},f.prototype.va=function(u,h){var g=xt(h),y=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]),M=null;return bl(u).rs({range:y,index:fr.queryTargetsIndexName},function(P,R,V){var W=Wc(R);gn(h,W.target)&&(M=W,V.done())}).next(function(){return M})},f.prototype.Sa=function(u,h,g){var y=this,M=[],P=Za(u);return h.forEach(function(R){var V=Ki(R.path);M.push(P.put(new mo(g,V))),M.push(y.No.Da(u,g,R))}),Et.$n(M)},f.prototype.Ca=function(u,h,g){var y=this,M=Za(u);return Et.forEach(h,function(P){var R=Ki(P.path);return Et.$n([M.delete([g,R]),y.No.Na(u,g,P)])})},f.prototype.pa=function(u,h){var g=Za(u),y=IDBKeyRange.bound([h],[h+1],!1,!0);return g.delete(y)},f.prototype.Fa=function(u,h){var g=IDBKeyRange.bound([h],[h+1],!1,!0),y=Za(u),M=Qe();return y.rs({range:g,ss:!0},function(P,R,V){var W=Js(P[1]),re=new Le(W);M=M.add(re)}).next(function(){return M})},f.prototype.Ho=function(u,h){var g=Ki(h.path),y=IDBKeyRange.bound([g],[Un(g)],!1,!0),M=0;return Za(u).rs({index:mo.documentTargetsIndex,ss:!0,range:y},function(P,R,V){0!==P[0]&&(M++,V.done())}).next(function(){return M>0})},f.prototype.Ue=function(u,h){return bl(u).get(h).next(function(g){return g?Wc(g):null})},f}();function bl(f){return ys.Qn(f,fr.store)}function lh(f){return ys.Qn(f,no.store)}function Za(f){return ys.Qn(f,mo.store)}var Ql="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ku=function(f){function u(h,g){var y=this;return(y=f.call(this)||this).jo=h,y.xa=g,y}return U.__extends(u,f),u}(th),ys=function(){function f(u,h,g,y,M,P,R,V,W,re){if(this.allowTabSynchronization=u,this.persistenceKey=h,this.clientId=g,this.fn=M,this.window=P,this.document=R,this.$a=W,this.ka=re,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(ge){return Promise.resolve()},!f.Ln())throw new $(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new vc(this,y),this.Wa=h+"main",this.serializer=new yl(V),this.ja=new cs(this.Wa,10,new Do(this.serializer)),this.Ka=new ch(this.No,this.serializer),this.Dr=new Mm,this.vr=new sh(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===re&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f.Qn=function(u,h){if(u instanceof ku)return cs.Qn(u.jo,h);throw Re()},f.prototype.start=function(){var u=this;return this.za().then(function(){if(!u.isPrimary&&!u.allowTabSynchronization)throw new $(j.FAILED_PRECONDITION,Ql);return u.Ha(),u.Ya(),u.Ja(),u.runTransaction("getHighestListenSequenceNumber","readonly",function(h){return u.Ka.Ia(h)})}).then(function(h){u.Ma=new So(h,u.$a)}).then(function(){u.Oa=!0}).catch(function(h){return u.ja&&u.ja.close(),Promise.reject(h)})},f.prototype.Xa=function(u){var h=this;return this.Qa=function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return this.Ei?[2,u(g)]:[2]})})},u(this.isPrimary)},f.prototype.Za=function(u){var h=this;this.ja.Kn(function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){switch(y.label){case 0:return null===g.newVersion?[4,u()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},f.prototype.tc=function(u){var h=this;this.networkEnabled!==u&&(this.networkEnabled=u,this.fn.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})}))},f.prototype.za=function(){var u=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(h){return _c(h).put(new wa(u.clientId,Date.now(),u.networkEnabled,u.inForeground)).next(function(){if(u.isPrimary)return u.ec(h).next(function(g){g||(u.isPrimary=!1,u.fn.Cs(function(){return u.Qa(!1)}))})}).next(function(){return u.nc(h)}).next(function(g){return u.isPrimary&&!g?u.sc(h).next(function(){return!1}):!!g&&u.ic(h).next(function(){return!0})})}).catch(function(h){if(Ks(h))return me("IndexedDbPersistence","Failed to extend owner lease: ",h),u.isPrimary;if(!u.allowTabSynchronization)throw h;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",h),!1}).then(function(h){u.isPrimary!==h&&u.fn.Cs(function(){return u.Qa(h)}),u.isPrimary=h})},f.prototype.ec=function(u){var h=this;return Cl(u).get(Ao.key).next(function(g){return Et.resolve(h.rc(g))})},f.prototype.oc=function(u){return _c(u).delete(this.clientId)},f.prototype.ac=function(){return U.__awaiter(this,void 0,void 0,function(){var u,h,g,M=this;return U.__generator(this,function(P){switch(P.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(R){var V=f.Qn(R,wa.store);return V.ts().next(function(W){var re=M.uc(W,18e5),ge=W.filter(function(_e){return-1===re.indexOf(_e)});return Et.forEach(ge,function(_e){return V.delete(_e.clientId)}).next(function(){return ge})})}).catch(function(){return[]})]);case 1:if(u=P.sent(),this.Ga)for(h=0,g=u;h<g.length;h++)this.Ga.removeItem(this.hc(g[h].clientId));P.label=2;case 2:return[2]}})})},f.prototype.Ja=function(){var u=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return u.za().then(function(){return u.ac()}).then(function(){return u.Ja()})})},f.prototype.rc=function(u){return!!u&&u.ownerId===this.clientId},f.prototype.nc=function(u){var h=this;return this.ka?Et.resolve(!0):Cl(u).get(Ao.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)){if(h.rc(g)&&h.networkEnabled)return!0;if(!h.rc(g)){if(!g.allowTabSynchronization)throw new $(j.FAILED_PRECONDITION,Ql);return!1}}return!(!h.networkEnabled||!h.inForeground)||_c(u).ts().next(function(y){return void 0===h.uc(y,5e3).find(function(M){return!(h.clientId===M.clientId||!(!h.networkEnabled&&M.networkEnabled||!h.inForeground&&M.inForeground&&h.networkEnabled===M.networkEnabled))})})}).next(function(g){return h.isPrimary!==g&&me("IndexedDbPersistence","Client "+(g?"is":"is not")+" eligible for a primary lease."),g})},f.prototype.Di=function(){return U.__awaiter(this,void 0,void 0,function(){var u=this;return U.__generator(this,function(h){switch(h.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Ao.store,wa.store],function(g){var y=new ku(g,So.ai);return u.sc(y).next(function(){return u.oc(y)})})];case 1:return h.sent(),this.ja.close(),this.wc(),[2]}})})},f.prototype.uc=function(u,h){var g=this;return u.filter(function(y){return g.cc(y.updateTimeMs,h)&&!g.lc(y.clientId)})},f.prototype.pi=function(){var u=this;return this.runTransaction("getActiveClients","readonly",function(h){return _c(h).ts().next(function(g){return u.uc(g,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.mc=function(u){return ld.xo(u,this.serializer,this.Dr,this.No)},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.Ic=function(){return this.Dr},f.prototype.runTransaction=function(u,h,g){var M,y=this;return me("IndexedDbPersistence","Starting transaction:",u),this.ja.runTransaction(u,"readonly"===h?"readonly":"readwrite",dd,function(R){return M=new ku(R,y.Ma?y.Ma.next():So.ai),"readwrite-primary"===h?y.ec(M).next(function(V){return!!V||y.nc(M)}).next(function(V){if(!V)throw lt("Failed to obtain primary lease for action '"+u+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new $(j.FAILED_PRECONDITION,ks);return g(M)}).next(function(V){return y.ic(M).next(function(){return V})}):y.Ac(M).next(function(){return g(M)})}).then(function(R){return M.br(),R})},f.prototype.Ac=function(u){var h=this;return Cl(u).get(Ao.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)&&!h.rc(g)&&!(h.ka||h.allowTabSynchronization&&g.allowTabSynchronization))throw new $(j.FAILED_PRECONDITION,Ql)})},f.prototype.ic=function(u){var h=new Ao(this.clientId,this.allowTabSynchronization,Date.now());return Cl(u).put(Ao.key,h)},f.Ln=function(){return cs.Ln()},f.prototype.sc=function(u){var h=this,g=Cl(u);return g.get(Ao.key).next(function(y){return h.rc(y)?(me("IndexedDbPersistence","Releasing primary lease."),g.delete(Ao.key)):Et.resolve()})},f.prototype.cc=function(u,h){var g=Date.now();return!(u<g-h||u>g&&(lt("Detected an update time that is in the future: "+u+" > "+g),1))},f.prototype.Ha=function(){var u=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){u.fn.ws(function(){return u.inForeground="visible"===u.document.visibilityState,u.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},f.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},f.prototype.Ya=function(){var u,h=this;"function"==typeof(null===(u=this.window)||void 0===u?void 0:u.addEventListener)&&(this.La=function(){h._c(),h.fn.ws(function(){return h.Di()})},this.window.addEventListener("unload",this.La))},f.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},f.prototype.lc=function(u){var h;try{var g=null!==(null===(h=this.Ga)||void 0===h?void 0:h.getItem(this.hc(u)));return me("IndexedDbPersistence","Client '"+u+"' "+(g?"is":"is not")+" zombied in LocalStorage"),g}catch(y){return lt("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},f.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(u){lt("Failed to set zombie client id.",u)}},f.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},f.prototype.hc=function(u){return"firestore_zombie_"+this.persistenceKey+"_"+u},f}();function Cl(f){return ys.Qn(f,Ao.store)}function _c(f){return ys.Qn(f,wa.store)}var vc=function(){function f(u,h){this.db=u,this.wo=new vl(this,h)}return f.prototype.Po=function(u){var h=this.Rc(u);return this.db.Tc().ba(u).next(function(g){return h.next(function(y){return g+y})})},f.prototype.Rc=function(u){var h=0;return this.Vo(u,function(g){h++}).next(function(){return h})},f.prototype.Ce=function(u,h){return this.db.Tc().Ce(u,h)},f.prototype.Vo=function(u,h){return this.gc(u,function(g,y){return h(y)})},f.prototype.Da=function(u,h,g){return yc(u,g)},f.prototype.Na=function(u,h,g){return yc(u,g)},f.prototype.po=function(u,h,g){return this.db.Tc().po(u,h,g)},f.prototype.Go=function(u,h){return yc(u,h)},f.prototype.Pc=function(u,h){return y=h,M=!1,Yc(g=u).os(function(P){return qr(g,P,y).next(function(R){return R&&(M=!0),Et.resolve(!R)})}).next(function(){return M});var g,y,M},f.prototype.bo=function(u,h){var g=this,y=this.db.Ec().ra(),M=[],P=0;return this.gc(u,function(R,V){if(V<=h){var W=g.Pc(u,R).next(function(re){if(!re)return P++,y.Rr(u,R).next(function(){return y.Ar(R),Za(u).delete([0,Ki(R.path)])})});M.push(W)}}).next(function(){return Et.$n(M)}).next(function(){return y.apply(u)}).next(function(){return P})},f.prototype.removeTarget=function(u,h){var g=h.st(u.xa);return this.db.Tc().ya(u,g)},f.prototype.yc=function(u,h){return yc(u,h)},f.prototype.gc=function(u,h){var g,y=Za(u),M=So.ai;return y.rs({index:mo.documentTargetsIndex},function(P,R){var W=R.path,re=R.sequenceNumber;0===P[0]?(M!==So.ai&&h(new Le(Js(g)),M),M=re,g=W):M=So.ai}).next(function(){M!==So.ai&&h(new Le(Js(g)),M)})},f.prototype.So=function(u){return this.db.Ec().aa(u)},f}();function yc(f,u){return Za(f).put((g=f.xa,new mo(0,Ki(u.path),g)));var g}function Jl(f,u){var h=f.projectId;return f.j||(h+="."+f.database),"firestore/"+u+"/"+h+"/"}var us=function(){function f(u,h,g){this.persistence=u,this.Vc=h,this.bc=new $n(Ut),this.vc=new Kt(function(y){return xt(y)},gn),this.Sc=jt.min(),this.Sr=u.mc(g),this.Dc=u.Ec(),this.Ka=u.Tc(),this.Cc=new Tu(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return f.prototype.Io=function(u){var h=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(g){return u.vo(g,h.bc)})},f}();function xa(f,u){var h=We(f);return h.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(g){var P,R,V,W,re,ge,_e,y=u.batch.keys(),M=h.Dc.ra({oa:!0});return(P=h,R=g,V=u,W=M,re=V.batch,ge=re.keys(),_e=Et.resolve(),ge.forEach(function(ke){_e=_e.next(function(){return W.Rr(R,ke)}).next(function(et){var ht=et,an=V.dr.get(ke);at(null!==an),(!ht||ht.version.L(an)<0)&&(ht=re.cr(ke,ht,V))&&W.Er(ht,V._r)})}),_e.next(function(){return P.Sr.Wo(R,re)})).next(function(){return M.apply(g)}).next(function(){return h.Sr.zo(g)}).next(function(){return h.Cc.kr(g,y)})})}function ar(f){var u=We(f);return u.persistence.runTransaction("Get last remote snapshot version","readonly",function(h){return u.Ka.Ea(h)})}function Ma(f,u){var h=We(f),g=u.nt,y=h.bc;return h.persistence.runTransaction("Apply remote event","readwrite-primary",function(M){var P=h.Dc.ra({oa:!0});y=h.bc;var R=[];u.zt.forEach(function(ge,_e){var an,Jt,kn,ke=y.get(_e);if(ke){R.push(h.Ka.Ca(M,ge.se,_e).next(function(){return h.Ka.Sa(M,ge.ee,_e)}));var et=ge.resumeToken;if(et.O()>0){var ht=ke.it(et,g).st(M.xa);y=y.ot(_e,ht),an=ke,kn=ge,at((Jt=ht).resumeToken.O()>0),(0===an.resumeToken.O()||Jt.nt.X()-an.nt.X()>=3e8||kn.ee.size+kn.ne.size+kn.se.size>0)&&R.push(h.Ka.ya(M,ht))}}});var V=fe(),W=Qe();if(u.Yt.forEach(function(ge,_e){W=W.add(ge)}),R.push(P.getEntries(M,W).next(function(ge){u.Yt.forEach(function(_e,ke){var et=ge.get(_e);ke instanceof Lr&&ke.version.isEqual(jt.min())?(P.Ar(_e,g),V=V.ot(_e,ke)):null==et||ke.version.L(et.version)>0||0===ke.version.L(et.version)&&et.hasPendingWrites?(P.Er(ke,g),V=V.ot(_e,ke)):me("LocalStore","Ignoring outdated watch update for ",_e,". Current version:",et.version," Watch version:",ke.version),u.Jt.has(_e)&&R.push(h.persistence.No.yc(M,_e))})})),!g.isEqual(jt.min())){var re=h.Ka.Ea(M).next(function(ge){return h.Ka.Aa(M,M.xa,g)});R.push(re)}return Et.$n(R).next(function(){return P.apply(M)}).next(function(){return h.Cc.Mr(M,V)})}).then(function(M){return h.bc=y,M})}function uh(f,u){var h=We(f);return h.persistence.runTransaction("Get next mutation batch","readonly",function(g){return void 0===u&&(u=-1),h.Sr.Bo(g,u)})}function bs(f,u){var h=We(f);return h.persistence.runTransaction("Allocate target","readwrite",function(g){var y;return h.Ka.va(g,u).next(function(M){return M?Et.resolve(y=M):h.Ka.wa(g).next(function(P){return y=new Oi(u,P,0,g.xa),h.Ka.Ra(g,y).next(function(){return y})})})}).then(function(g){var y=h.bc.get(g.targetId);return(null===y||g.nt.L(y.nt)>0)&&(h.bc=h.bc.ot(g.targetId,g),h.vc.set(u,g.targetId)),g})}function Fn(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,M,P;return U.__generator(this,function(R){switch(R.label){case 0:g=We(f),y=g.bc.get(u),M=h?"readwrite":"readwrite-primary",R.label=1;case 1:return R.trys.push([1,4,,5]),h?[3,3]:[4,g.persistence.runTransaction("Release target",M,function(V){return g.persistence.No.removeTarget(V,y)})];case 2:R.sent(),R.label=3;case 3:return[3,5];case 4:if(!Ks(P=R.sent()))throw P;return me("LocalStore","Failed to update sequence numbers for target "+u+": "+P),[3,5];case 5:return g.bc=g.bc.remove(u),g.vc.delete(y.target),[2]}})})}function cr(f,u,h){var g=We(f),y=jt.min(),M=Qe();return g.persistence.runTransaction("Execute query","readonly",function(P){return(R=g,V=P,W=$o(u),re=We(R),ge=re.vc.get(W),void 0!==ge?Et.resolve(re.bc.get(ge)):re.Ka.va(V,W)).next(function(R){if(R)return y=R.lastLimboFreeSnapshotVersion,g.Ka.Fa(P,R.targetId).next(function(V){M=V})}).next(function(){return g.Vc.Lr(P,u,h?y:jt.min(),h?M:Qe())}).next(function(R){return{documents:R,Fc:M}});var R,V,W,re,ge})}function Ro(f,u){var h=We(f),g=We(h.Ka),y=h.bc.get(u);return y?Promise.resolve(y.target):h.persistence.runTransaction("Get target data","readonly",function(M){return g.Ue(M,u).next(function(P){return P?P.target:null})})}function Xl(f){var u=We(f);return u.persistence.runTransaction("Get new document changes","readonly",function(h){return y=h,M=u.Sc,P=We(u.Dc),R=fe(),V=Wh(M),W=gc(y),re=IDBKeyRange.lowerBound(V,!0),W.rs({index:sr.readTimeIndex,range:re},function(ge,_e){var ke=oh(P.serializer,_e);R=R.ot(ke.key,ke),V=_e.readTime}).next(function(){return{xc:R,readTime:Hr(V)}});var y,M,P,R,V,W,re}).then(function(h){var g=h.xc;return u.Sc=h.readTime,g})}function bc(f){return U.__awaiter(this,void 0,void 0,function(){var u;return U.__generator(this,function(h){return[2,(u=We(f)).persistence.runTransaction("Synchronize last document change read time","readonly",function(g){return M=gc(g),P=jt.min(),M.rs({index:sr.readTimeIndex,reverse:!0},function(R,V,W){V.readTime&&(P=Hr(V.readTime)),W.done()}).next(function(){return P});var M,P}).then(function(g){u.Sc=g})]})})}function li(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(u){if(f.code!==j.FAILED_PRECONDITION||f.message!==ks)throw f;return me("LocalStore","Unexpectedly lost primary lease"),[2]})})}var $a=function(){function f(){this.$c=new Pi(Zr.kc),this.Mc=new Pi(Zr.Oc)}return f.prototype.m=function(){return this.$c.m()},f.prototype.Da=function(u,h){var g=new Zr(u,h);this.$c=this.$c.add(g),this.Mc=this.Mc.add(g)},f.prototype.Lc=function(u,h){var g=this;u.forEach(function(y){return g.Da(y,h)})},f.prototype.Na=function(u,h){this.Bc(new Zr(u,h))},f.prototype.qc=function(u,h){var g=this;u.forEach(function(y){return g.Na(y,h)})},f.prototype.Uc=function(u){var h=this,g=new Le(new he([])),y=new Zr(g,u),M=new Zr(g,u+1),P=[];return this.Mc.Ft([y,M],function(R){h.Bc(R),P.push(R.key)}),P},f.prototype.Qc=function(){var u=this;this.$c.forEach(function(h){return u.Bc(h)})},f.prototype.Bc=function(u){this.$c=this.$c.delete(u),this.Mc=this.Mc.delete(u)},f.prototype.Wc=function(u){var h=new Le(new he([])),g=new Zr(h,u),y=new Zr(h,u+1),M=Qe();return this.Mc.Ft([g,y],function(P){M=M.add(P.key)}),M},f.prototype.Ho=function(u){var h=new Zr(u,0),g=this.$c.$t(h);return null!==g&&u.isEqual(g.key)},f}(),Zr=function(){function f(u,h){this.key=u,this.jc=h}return f.kc=function(u,h){return Le.i(u.key,h.key)||Ut(u.jc,h.jc)},f.Oc=function(u,h){return Ut(u.jc,h.jc)||Le.i(u.key,h.key)},f}(),Cc=function(f,u){this.user=u,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+f},Tr=function(){function f(){this.Gc=null}return f.prototype.getToken=function(){return Promise.resolve(null)},f.prototype.zc=function(){},f.prototype.Hc=function(u){this.Gc=u,u(To.UNAUTHENTICATED)},f.prototype.Yc=function(){this.Gc=null},f}(),Xi=function(){function f(u){var h=this;this.Jc=null,this.currentUser=To.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){h.Zc++,h.currentUser=h.tu(),h.Xc=!0,h.Gc&&h.Gc(h.currentUser)},this.Zc=0,this.auth=u.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),u.get().then(function(g){h.auth=g,h.Jc&&h.auth.addAuthTokenListener(h.Jc)},function(){}))}return f.prototype.getToken=function(){var u=this,h=this.Zc,g=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(g).then(function(y){return u.Zc!==h?(me("FirebaseCredentialsProvider","getToken aborted due to token change."),u.getToken()):y?(at("string"==typeof y.accessToken),new Cc(y.accessToken,u.currentUser)):null}):Promise.resolve(null)},f.prototype.zc=function(){this.forceRefresh=!0},f.prototype.Hc=function(u){this.Gc=u,this.Xc&&u(this.currentUser)},f.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},f.prototype.tu=function(){var u=this.auth&&this.auth.getUid();return at(null===u||"string"==typeof u),new To(u)},f}(),nr=function(){function f(u,h){this.eu=u,this.nu=h,this.type="FirstParty",this.user=To.ni}return Object.defineProperty(f.prototype,"Kc",{get:function(){var u={"X-Goog-AuthUser":this.nu},h=this.eu.auth.getAuthHeaderValueForFirstParty([]);return h&&(u.Authorization=h),u},enumerable:!1,configurable:!0}),f}(),ap=function(){function f(u,h){this.eu=u,this.nu=h}return f.prototype.getToken=function(){return Promise.resolve(new nr(this.eu,this.nu))},f.prototype.Hc=function(u){u(To.ni)},f.prototype.Yc=function(){},f.prototype.zc=function(){},f}(),Fs=function(){function f(u,h,g,y,M,P){this.fn=u,this.su=g,this.iu=y,this.ru=M,this.listener=P,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new ja(u,h)}return f.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},f.prototype.uu=function(){return 2===this.state},f.prototype.start=function(){3!==this.state?this.auth():this.hu()},f.prototype.stop=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(u){switch(u.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},f.prototype.lu=function(){this.state=0,this.ys.reset()},f.prototype._u=function(){var u=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return u.fu()}))},f.prototype.du=function(u){this.wu(),this.stream.send(u)},f.prototype.fu=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(u){return this.uu()?[2,this.close(0)]:[2]})})},f.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},f.prototype.close=function(u,h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==u?this.ys.reset():h&&h.code===j.RESOURCE_EXHAUSTED?(lt(h.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):h&&h.code===j.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=u,[4,this.listener.Tu(h)];case 1:return g.sent(),[2]}})})},f.prototype.mu=function(){},f.prototype.auth=function(){var u=this;this.state=1;var h=this.Eu(this.ou),g=this.ou;this.ru.getToken().then(function(y){u.ou===g&&u.Iu(y)},function(y){h(function(){var M=new $(j.UNKNOWN,"Fetching auth token failed: "+y.message);return u.Au(M)})})},f.prototype.Iu=function(u){var h=this,g=this.Eu(this.ou);this.stream=this.Ru(u),this.stream.gu(function(){g(function(){return h.state=2,h.listener.gu()})}),this.stream.Tu(function(y){g(function(){return h.Au(y)})}),this.stream.onMessage(function(y){g(function(){return h.onMessage(y)})})},f.prototype.hu=function(){var u=this;this.state=4,this.ys.gn(function(){return U.__awaiter(u,void 0,void 0,function(){return U.__generator(this,function(h){return this.state=0,this.start(),[2]})})})},f.prototype.Au=function(u){return me("PersistentStream","close with error: "+u),this.stream=null,this.close(3,u)},f.prototype.Eu=function(u){var h=this;return function(g){h.fn.ws(function(){return h.ou===u?g():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},f}(),hd=function(f){function u(h,g,y,M,P){var R=this;return(R=f.call(this,h,"listen_stream_connection_backoff","listen_stream_idle",g,y,P)||this).serializer=M,R}return U.__extends(u,f),u.prototype.Ru=function(h){return this.iu.Pu("Listen",h)},u.prototype.onMessage=function(h){this.ys.reset();var g=function(M,P){var R,ra;if("targetChange"in P){var V="NO_CHANGE"===(ra=P.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ra?1:"REMOVE"===ra?2:"CURRENT"===ra?3:"RESET"===ra?4:Re(),W=P.targetChange.targetIds||[],re=function(ra,Mc){return ra.Qe?(at(void 0===Mc||"string"==typeof Mc),zn.fromBase64String(Mc||"")):(at(void 0===Mc||Mc instanceof Uint8Array),zn.fromUint8Array(Mc||new Uint8Array))}(M,P.targetChange.resumeToken),ge=P.targetChange.cause,_e=ge&&function(ra){var Mc=void 0===ra.code?j.UNKNOWN:Li(ra.code);return new $(Mc,ra.message||"")}(ge);R=new Je(V,W,re,_e||null)}else if("documentChange"in P){var ke=P.documentChange,et=Ui(M,ke.document.name),ht=Mo(ke.document.updateTime),an=new Fr({mapValue:{fields:ke.document.fields}}),Jt=new ci(et,ht,an,{});R=new br(ke.targetIds||[],ke.removedTargetIds||[],Jt.key,Jt)}else if("documentDelete"in P){var bi=P.documentDelete,Mi=Ui(M,bi.document),mr=bi.readTime?Mo(bi.readTime):jt.min(),ia=new Lr(Mi,mr);R=new br([],bi.removedTargetIds||[],ia.key,ia)}else if("documentRemove"in P){var df=P.documentRemove,mp=Ui(M,df.document);R=new br([],df.removedTargetIds||[],mp,null)}else{if(!("filter"in P))return Re();var Ch=P.filter,Id=new wi(Ch.count||0);R=new rs(Ch.targetId,Id)}return R}(this.serializer,h),y=function(M){if(!("targetChange"in M))return jt.min();var P=M.targetChange;return P.targetIds&&P.targetIds.length?jt.min():P.readTime?Mo(P.readTime):jt.min()}(h);return this.listener.yu(g,y)},u.prototype.Vu=function(h){var M,P,R,V,g={};g.database=Is(this.serializer),g.addTarget=(M=this.serializer,(R=zt(V=(P=h).target)?{documents:La(M,V)}:{query:Mr(M,V)}).targetId=P.targetId,P.resumeToken.O()>0&&(R.resumeToken=dl(M,P.resumeToken)),R);var y=function(M,P){var R=function(V,W){switch(W){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,P.et);return null==R?null:{"goog-listen-tags":R}}(0,h);y&&(g.labels=y),this.du(g)},u.prototype.pu=function(h){var g={};g.database=Is(this.serializer),g.removeTarget=h,this.du(g)},u}(Fs),Em=function(f){function u(h,g,y,M,P){var R=this;return(R=f.call(this,h,"write_stream_connection_backoff","write_stream_idle",g,y,P)||this).serializer=M,R.bu=!1,R}return U.__extends(u,f),Object.defineProperty(u.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),u.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,f.prototype.start.call(this)},u.prototype.mu=function(){this.bu&&this.Su([])},u.prototype.Ru=function(h){return this.iu.Pu("Write",h)},u.prototype.onMessage=function(h){if(at(!!h.streamToken),this.lastStreamToken=h.streamToken,this.bu){this.ys.reset();var g=(P=h.commitTime,(M=h.writeResults)&&M.length>0?(at(void 0!==P),M.map(function(R){return function(V,W){var re=Mo(V.updateTime?V.updateTime:W);re.isEqual(jt.min())&&(re=Mo(W));var ge=null;return V.transformResults&&V.transformResults.length>0&&(ge=V.transformResults),new Ua(re,ge)}(R,P)})):[]),y=Mo(h.commitTime);return this.listener.Du(y,g)}var M,P;return at(!h.writeResults||0===h.writeResults.length),this.bu=!0,this.listener.Cu()},u.prototype.Nu=function(){var h={};h.database=Is(this.serializer),this.du(h)},u.prototype.Su=function(h){var g=this,y={streamToken:this.lastStreamToken,writes:h.map(function(M){return Vi(g.serializer,M)})};this.du(y)},u}(Fs),fd=function(f){function u(h,g,y){var M=this;return(M=f.call(this)||this).credentials=h,M.iu=g,M.serializer=y,M.Fu=!1,M}return U.__extends(u,f),u.prototype.xu=function(){if(this.Fu)throw new $(j.FAILED_PRECONDITION,"The client has already been terminated.")},u.prototype.$u=function(h,g,y){var M=this;return this.xu(),this.credentials.getToken().then(function(P){return M.iu.$u(h,g,y,P)}).catch(function(P){throw P.code===j.UNAUTHENTICATED&&M.credentials.zc(),P})},u.prototype.ku=function(h,g,y){var M=this;return this.xu(),this.credentials.getToken().then(function(P){return M.iu.ku(h,g,y,P)}).catch(function(P){throw P.code===j.UNAUTHENTICATED&&M.credentials.zc(),P})},u.prototype.terminate=function(){this.Fu=!1},u}(function(){}),pd=function(){function f(u,h){this.cs=u,this.di=h,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return f.prototype.Bu=function(){var u=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return u.Ou=null,u.Uu("Backend didn't respond within 10 seconds."),u.qu("Offline"),Promise.resolve()}))},f.prototype.Qu=function(u){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+u.toString()),this.qu("Offline")))},f.prototype.set=function(u){this.Wu(),this.Mu=0,"Online"===u&&(this.Lu=!1),this.qu(u)},f.prototype.qu=function(u){u!==this.state&&(this.state=u,this.di(u))},f.prototype.Uu=function(u){var h="Could not reach Cloud Firestore backend. "+u+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(lt(h),this.Lu=!1):me("OnlineStateTracker",h)},f.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},f}(),cp=function(f,u,h,g,y){var M=this;this.ju=f,this.Ku=u,this.cs=h,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(P){h.ws(function(){return U.__awaiter(M,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return Cs(this)?(me("RemoteStore","Restarting streams for network reachability change."),[4,function(V){return U.__awaiter(this,void 0,void 0,function(){var W;return U.__generator(this,function(re){switch(re.label){case 0:return(W=We(V)).Yu.add(4),[4,eu(W)];case 1:return re.sent(),W.th.set("Unknown"),W.Yu.delete(4),[4,md(W)];case 2:return re.sent(),[2]}})})}(this)]):[3,2];case 1:R.sent(),R.label=2;case 2:return[2]}})})})}),this.th=new pd(h,g)};function md(f){return U.__awaiter(this,void 0,void 0,function(){var u,h;return U.__generator(this,function(g){switch(g.label){case 0:if(!Cs(f))return[3,4];u=0,h=f.Ju,g.label=1;case 1:return u<h.length?[4,(0,h[u])(!0)]:[3,4];case 2:g.sent(),g.label=3;case 3:return u++,[3,1];case 4:return[2]}})})}function eu(f){return U.__awaiter(this,void 0,void 0,function(){var u,h;return U.__generator(this,function(g){switch(g.label){case 0:u=0,h=f.Ju,g.label=1;case 1:return u<h.length?[4,(0,h[u])(!1)]:[3,4];case 2:g.sent(),g.label=3;case 3:return u++,[3,1];case 4:return[2]}})})}function Qh(f){return U.__awaiter(this,void 0,void 0,function(){var u;return U.__generator(this,function(h){switch(h.label){case 0:return u=We(f),me("RemoteStore","RemoteStore shutting down."),u.Yu.add(5),[4,eu(u)];case 1:return h.sent(),u.Xu.Di(),u.th.set("Unknown"),[2]}})})}function dh(f,u){var h=We(f);h.Hu.has(u.targetId)||(h.Hu.set(u.targetId,u),Ru(h)?wl(h):ea(h).uu()&&Qc(h,u))}function Kc(f,u){var h=We(f),g=ea(h);h.Hu.delete(u),g.uu()&&gd(h,u),0===h.Hu.size&&(g.uu()?g._u():Cs(h)&&h.th.set("Unknown"))}function Qc(f,u){f.eh.Ie(u.targetId),ea(f).Vu(u)}function gd(f,u){f.eh.Ie(u),ea(f).pu(u)}function wl(f){f.eh=new _t({qe:function(u){return f.Gu.qe(u)},Ue:function(u){return f.Hu.get(u)||null}}),ea(f).start(),f.th.Bu()}function Ru(f){return Cs(f)&&!ea(f).cu()&&f.Hu.size>0}function Cs(f){return 0===We(f).Yu.size}function Jh(f){f.eh=void 0}function Xh(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(u){return f.Hu.forEach(function(h,g){Qc(f,h)}),[2]})})}function hh(f,u){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return Jh(f),Ru(f)?(f.th.Qu(u),wl(f)):f.th.set("Unknown"),[2]})})}function ef(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,M;return U.__generator(this,function(P){switch(P.label){case 0:if(f.th.set("Online"),!(u instanceof Je&&2===u.state&&u.cause))return[3,6];P.label=1;case 1:return P.trys.push([1,3,,5]),[4,function(R,V){return U.__awaiter(this,void 0,void 0,function(){var W,re,ge,_e;return U.__generator(this,function(ke){switch(ke.label){case 0:W=V.cause,re=0,ge=V.targetIds,ke.label=1;case 1:return re<ge.length?R.Hu.has(_e=ge[re])?[4,R.Gu.nh(_e,W)]:[3,3]:[3,5];case 2:ke.sent(),R.Hu.delete(_e),R.eh.removeTarget(_e),ke.label=3;case 3:ke.label=4;case 4:return re++,[3,1];case 5:return[2]}})})}(f,u)];case 2:return P.sent(),[3,5];case 3:return g=P.sent(),me("RemoteStore","Failed to remove targets %s: %s ",u.targetIds.join(","),g),[4,Ko(f,g)];case 4:return P.sent(),[3,5];case 5:return[3,13];case 6:if(u instanceof br?f.eh.be(u):u instanceof rs?f.eh.$e(u):f.eh.De(u),h.isEqual(jt.min()))return[3,13];P.label=7;case 7:return P.trys.push([7,11,,13]),[4,ar(f.ju)];case 8:return y=P.sent(),h.L(y)>=0?[4,(R=f,V=h,W=R.eh.Oe(V),W.zt.forEach(function(re,ge){if(re.resumeToken.O()>0){var _e=R.Hu.get(ge);_e&&R.Hu.set(ge,_e.it(re.resumeToken,V))}}),W.Ht.forEach(function(re){var ge=R.Hu.get(re);if(ge){R.Hu.set(re,ge.it(zn.B,ge.nt)),gd(R,re);var _e=new Oi(ge.target,re,1,ge.sequenceNumber);Qc(R,_e)}}),R.Gu.sh(W))]:[3,10];case 9:P.sent(),P.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",M=P.sent()),[4,Ko(f,M)];case 12:return P.sent(),[3,13];case 13:return[2]}var R,V,W})})}function Ko(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(!Ks(u))throw u;return f.Yu.add(1),[4,eu(f)];case 1:return y.sent(),f.th.set("Offline"),h||(h=function(){return ar(f.ju)}),f.cs.Cs(function(){return U.__awaiter(g,void 0,void 0,function(){return U.__generator(this,function(M){switch(M.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,h()];case 1:return M.sent(),f.Yu.delete(1),[4,md(f)];case 2:return M.sent(),[2]}})})}),[2]}})})}function _d(f,u){return u().catch(function(h){return Ko(f,h,u)})}function Xs(f){return U.__awaiter(this,void 0,void 0,function(){var u,h,g,y,M;return U.__generator(this,function(P){switch(P.label){case 0:u=We(f),h=Ls(u),g=u.zu.length>0?u.zu[u.zu.length-1].batchId:-1,P.label=1;case 1:if(!(Cs(R=u)&&R.zu.length<10))return[3,7];P.label=2;case 2:return P.trys.push([2,4,,6]),[4,uh(u.ju,g)];case 3:return null===(y=P.sent())?(0===u.zu.length&&h._u(),[3,7]):(g=y.batchId,function(R,V){R.zu.push(V);var W=Ls(R);W.uu()&&W.vu&&W.Su(V.mutations)}(u,y),[3,6]);case 4:return M=P.sent(),[4,Ko(u,M)];case 5:return P.sent(),[3,6];case 6:return[3,1];case 7:return tu(u)&&Nu(u),[2]}var R})})}function tu(f){return Cs(f)&&!Ls(f).cu()&&f.zu.length>0}function Nu(f){Ls(f).start()}function nu(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(u){return Ls(f).Nu(),[2]})})}function iu(f){return U.__awaiter(this,void 0,void 0,function(){var u,h,g;return U.__generator(this,function(M){for(u=Ls(f),h=0,g=f.zu;h<g.length;h++)u.Su(g[h].mutations);return[2]})})}function vd(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(M){switch(M.label){case 0:return g=f.zu.shift(),y=Iu.from(g,u,h),[4,_d(f,function(){return f.Gu.ih(y)})];case 1:return M.sent(),[4,Xs(f)];case 2:return M.sent(),[2]}})})}function ru(f,u){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return u&&Ls(f).vu?[4,function(g,y){return U.__awaiter(this,void 0,void 0,function(){var M,P;return U.__generator(this,function(R){switch(R.label){case 0:return Zn(P=y.code)&&P!==j.ABORTED?(M=g.zu.shift(),Ls(g).lu(),[4,_d(g,function(){return g.Gu.rh(M.batchId,y)})]):[3,3];case 1:return R.sent(),[4,Xs(g)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}(f,u)]:[3,2];case 1:h.sent(),h.label=2;case 2:return tu(f)&&Nu(f),[2]}})})}function ou(f,u){return U.__awaiter(this,void 0,void 0,function(){var h;return U.__generator(this,function(y){switch(y.label){case 0:return h=We(f),u?(h.Yu.delete(2),[4,md(h)]):[3,2];case 1:return y.sent(),[3,5];case 2:return u?[3,4]:(h.Yu.add(2),[4,eu(h)]);case 3:y.sent(),h.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function ea(f){var h,g,y,M,u=this;return f.oh||(f.oh=(h=f.Ku,g=f.cs,y={gu:Xh.bind(null,f),Tu:hh.bind(null,f),yu:ef.bind(null,f)},(M=We(h)).xu(),new hd(g,M.iu,M.credentials,M.serializer,y)),f.Ju.push(function(h){return U.__awaiter(u,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.oh.lu(),Ru(f)?wl(f):f.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,f.oh.stop()];case 2:g.sent(),Jh(f),g.label=3;case 3:return[2]}})})})),f.oh}function Ls(f){var h,g,y,M,u=this;return f.ah||(f.ah=(h=f.Ku,g=f.cs,y={gu:nu.bind(null,f),Tu:ru.bind(null,f),Cu:iu.bind(null,f),Du:vd.bind(null,f)},(M=We(h)).xu(),new Em(g,M.iu,M.credentials,M.serializer,y)),f.Ju.push(function(h){return U.__awaiter(u,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.ah.lu(),[4,Xs(f)]):[3,2];case 1:return g.sent(),[3,4];case 2:return[4,f.ah.stop()];case 3:g.sent(),f.zu.length>0&&(me("RemoteStore","Stopping write stream with "+f.zu.length+" pending writes"),f.zu=[]),g.label=4;case 4:return[2]}})})})),f.ah}var lp=function(f){this.key=f},yd=function(f){this.key=f},Ga=function(){function f(u,h){this.query=u,this.uh=h,this.hh=null,this.te=!1,this.lh=Qe(),this.Wt=Qe(),this._h=Ou(u),this.fh=new Vt(this._h)}return Object.defineProperty(f.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),f.prototype.wh=function(u,h){var g=this,y=h?h.mh:new ti,M=h?h.fh:this.fh,P=h?h.Wt:this.Wt,R=M,V=!1,W=Vc(this.query)&&M.size===this.query.limit?M.last():null,re=dc(this.query)&&M.size===this.query.limit?M.first():null;if(u.ht(function(_e,ke){var et=M.get(_e),ht=ke instanceof ci?ke:null;ht&&(ht=$l(g.query,ht)?ht:null);var an=!!et&&g.Wt.has(et.key),Jt=!!ht&&(ht.Je||g.Wt.has(ht.key)&&ht.hasCommittedMutations),kn=!1;et&&ht?et.data().isEqual(ht.data())?an!==Jt&&(y.track({type:3,doc:ht}),kn=!0):g.Th(et,ht)||(y.track({type:2,doc:ht}),kn=!0,(W&&g._h(ht,W)>0||re&&g._h(ht,re)<0)&&(V=!0)):!et&&ht?(y.track({type:0,doc:ht}),kn=!0):et&&!ht&&(y.track({type:1,doc:et}),kn=!0,(W||re)&&(V=!0)),kn&&(ht?(R=R.add(ht),P=Jt?P.add(_e):P.delete(_e)):(R=R.delete(_e),P=P.delete(_e)))}),Vc(this.query)||dc(this.query))for(;R.size>this.query.limit;){var ge=Vc(this.query)?R.last():R.first();R=R.delete(ge.key),P=P.delete(ge.key),y.track({type:1,doc:ge})}return{fh:R,mh:y,Eh:V,Wt:P}},f.prototype.Th=function(u,h){return u.Je&&h.hasCommittedMutations&&!h.Je},f.prototype.yr=function(u,h,g){var y=this,M=this.fh;this.fh=u.fh,this.Wt=u.Wt;var P=u.mh.Ut();P.sort(function(re,ge){return ke=ge.type,(et=function(ht){switch(ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}})(re.type)-et(ke)||y._h(re.doc,ge.doc);var ke,et}),this.Ih(g);var R=h?this.Ah():[],V=0===this.lh.size&&this.te?1:0,W=V!==this.hh;return this.hh=V,0!==P.length||W?{snapshot:new xn(this.query,u.fh,M,P,u.Wt,0===V,W,!1),Rh:R}:{Rh:R}},f.prototype.Qs=function(u){return this.te&&"Offline"===u?(this.te=!1,this.yr({fh:this.fh,mh:new ti,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},f.prototype.gh=function(u){return!this.uh.has(u)&&!!this.fh.has(u)&&!this.fh.get(u).Je},f.prototype.Ih=function(u){var h=this;u&&(u.ee.forEach(function(g){return h.uh=h.uh.add(g)}),u.ne.forEach(function(g){}),u.se.forEach(function(g){return h.uh=h.uh.delete(g)}),this.te=u.te)},f.prototype.Ah=function(){var u=this;if(!this.te)return[];var h=this.lh;this.lh=Qe(),this.fh.forEach(function(y){u.gh(y.key)&&(u.lh=u.lh.add(y.key))});var g=[];return h.forEach(function(y){u.lh.has(y)||g.push(new yd(y))}),this.lh.forEach(function(y){h.has(y)||g.push(new lp(y))}),g},f.prototype.Ph=function(u){this.uh=u.Fc,this.lh=Qe();var h=this.wh(u.documents);return this.yr(h,!0)},f.prototype.yh=function(){return xn.Gt(this.query,this.fh,this.Wt,0===this.hh)},f}(),fh=function(f,u,h){this.query=f,this.targetId=u,this.view=h},ph=function(f){this.key=f,this.Vh=!1},xl=function(){function f(u,h,g,y,M,P){this.ju=u,this.ph=h,this.bh=g,this.Sh=y,this.currentUser=M,this.Dh=P,this.Ch={},this.Nh=new Kt(function(R){return ya(R)},fc),this.Fh=new Map,this.xh=[],this.$h=new $n(Le.i),this.kh=new Map,this.Mh=new $a,this.Oh={},this.Lh=new Map,this.Bh=Kl.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(f.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),f}();function ds(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,y,M,P,R;return U.__generator(this,function(V){switch(V.label){case 0:return h=er(f),(M=h.Nh.get(u))?(h.Sh.Oi(M.targetId),y=M.view.yh(),[3,4]):[3,1];case 1:return[4,bs(h.ju,$o(u))];case 2:return P=V.sent(),R=h.Sh.Oi(P.targetId),[4,Qo(h,u,P.targetId,"current"===R)];case 3:y=V.sent(),h.Uh&&dh(h.ph,P),V.label=4;case 4:return[2,y]}})})}function Qo(f,u,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,M,P,R,V,W;return U.__generator(this,function(re){switch(re.label){case 0:return f.Qh=function(ge,_e,ke){return function(et,ht,an,Jt){return U.__awaiter(this,void 0,void 0,function(){var kn,ei,bi;return U.__generator(this,function(Mi){switch(Mi.label){case 0:return(kn=ht.view.wh(an)).Eh?[4,cr(et.ju,ht.query,!1).then(function(mr){return ht.view.wh(mr.documents,kn)})]:[3,2];case 1:kn=Mi.sent(),Mi.label=2;case 2:return ei=Jt&&Jt.zt.get(ht.targetId),bi=ht.view.yr(kn,et.Uh,ei),[2,(D(et,ht.targetId,bi.Rh),bi.snapshot)]}})})}(f,ge,_e,ke)},[4,cr(f.ju,u,!0)];case 1:return y=re.sent(),M=new Ga(u,y.Fc),P=M.wh(y.documents),R=Nn.Zt(h,g&&"Offline"!==f.onlineState),V=M.yr(P,f.Uh,R),D(f,h,V.Rh),W=new fh(u,h,M),[2,(f.Nh.set(u,W),f.Fh.has(h)?f.Fh.get(h).push(u):f.Fh.set(h,[u]),V.snapshot)]}})})}function si(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(M){switch(M.label){case 0:return h=We(f),g=h.Nh.get(u),(y=h.Fh.get(g.targetId)).length>1?[2,(h.Fh.set(g.targetId,y.filter(function(P){return!fc(P,u)})),void h.Nh.delete(u))]:h.Uh?(h.Sh.Bi(g.targetId),h.Sh.Fi(g.targetId)?[3,2]:[4,Fn(h.ju,g.targetId,!1).then(function(){h.Sh.Ui(g.targetId),Kc(h.ph,g.targetId),Ea(h,g.targetId)}).catch(li)]):[3,3];case 1:M.sent(),M.label=2;case 2:return[3,5];case 3:return Ea(h,g.targetId),[4,Fn(h.ju,g.targetId,!0)];case 4:M.sent(),M.label=5;case 5:return[2]}})})}function wc(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:h=We(f),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,Ma(h.ju,u)];case 2:return g=y.sent(),u.zt.forEach(function(M,P){var R=h.kh.get(P);R&&(at(M.ee.size+M.ne.size+M.se.size<=1),M.ee.size>0?R.Vh=!0:M.ne.size>0?at(R.Vh):M.se.size>0&&(at(R.Vh),R.Vh=!1))}),[4,oe(h,g,u)];case 3:return y.sent(),[3,6];case 4:return[4,li(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function bd(f,u,h){var g=We(f);if(g.Uh&&0===h||!g.Uh&&1===h){var y=[];g.Nh.forEach(function(M,P){var R=P.view.Qs(u);R.snapshot&&y.push(R.snapshot)}),function(M,P){var R=We(M);R.onlineState=P;var V=!1;R.Bs.forEach(function(W,re){for(var ge=0,_e=re.listeners;ge<_e.length;ge++)_e[ge].Qs(P)&&(V=!0)}),V&&Qs(R)}(g.bh,u),y.length&&g.Ch.yu(y),g.onlineState=u,g.Uh&&g.Sh.Ki(u)}}function Vn(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,M,P,R,V;return U.__generator(this,function(W){switch(W.label){case 0:return(g=We(f)).Sh.Qi(u,"rejected",h),y=g.kh.get(u),(M=y&&y.key)?(P=(P=new $n(Le.i)).ot(M,new Lr(M,jt.min())),R=Qe().add(M),V=new di(jt.min(),new Map,new Pi(Ut),P,R),[4,wc(g,V)]):[3,2];case 1:return W.sent(),g.$h=g.$h.remove(M),g.kh.delete(u),H(g),[3,4];case 2:return[4,Fn(g.ju,u,!1).then(function(){return Ea(g,u,h)}).catch(li)];case 3:W.sent(),W.label=4;case 4:return[2]}})})}function No(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(M){switch(M.label){case 0:h=We(f),g=u.batch.batchId,M.label=1;case 1:return M.trys.push([1,4,,6]),[4,xa(h.ju,u)];case 2:return y=M.sent(),Ml(h,g,null),pr(h,g),h.Sh.ki(g,"acknowledged"),[4,oe(h,y)];case 3:return M.sent(),[3,6];case 4:return[4,li(M.sent())];case 5:return M.sent(),[3,6];case 6:return[2]}})})}function up(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(M){switch(M.label){case 0:g=We(f),M.label=1;case 1:return M.trys.push([1,4,,6]),[4,(P=g.ju,R=u,V=We(P),V.persistence.runTransaction("Reject batch","readwrite-primary",function(W){var re;return V.Sr.Oo(W,R).next(function(ge){return at(null!==ge),re=ge.keys(),V.Sr.Wo(W,ge)}).next(function(){return V.Sr.zo(W)}).next(function(){return V.Cc.kr(W,re)})}))];case 2:return y=M.sent(),Ml(g,u,h),pr(g,u),g.Sh.ki(u,"rejected",h),[4,oe(g,y)];case 3:return M.sent(),[3,6];case 4:return[4,li(M.sent())];case 5:return M.sent(),[3,6];case 6:return[2]}var P,R,V})})}function pr(f,u){(f.Lh.get(u)||[]).forEach(function(h){h.resolve()}),f.Lh.delete(u)}function Ml(f,u,h){var g=We(f),y=g.Oh[g.currentUser.ti()];if(y){var M=y.get(u);M&&(h?M.reject(h):M.resolve(),y=y.remove(u)),g.Oh[g.currentUser.ti()]=y}}function Ea(f,u,h){void 0===h&&(h=null),f.Sh.Bi(u);for(var g=0,y=f.Fh.get(u);g<y.length;g++){var M=y[g];f.Nh.delete(M),h&&f.Ch.Wh(M,h)}f.Fh.delete(u),f.Uh&&f.Mh.Uc(u).forEach(function(P){f.Mh.Ho(P)||Jc(f,P)})}function Jc(f,u){var h=f.$h.get(u);null!==h&&(Kc(f.ph,h),f.$h=f.$h.remove(u),f.kh.delete(h),H(f))}function D(f,u,h){for(var g=0,y=h;g<y.length;g++){var M=y[g];M instanceof lp?(f.Mh.Da(M.key,u),F(f,M)):M instanceof yd?(me("SyncEngine","Document no longer in limbo: "+M.key),f.Mh.Na(M.key,u),f.Mh.Ho(M.key)||Jc(f,M.key)):Re()}}function F(f,u){var h=u.key;f.$h.get(h)||(me("SyncEngine","New document in limbo: "+h),f.xh.push(h),H(f))}function H(f){for(;f.xh.length>0&&f.$h.size<f.Dh;){var u=f.xh.shift(),h=f.Bh.next();f.kh.set(h,new ph(u)),f.$h=f.$h.ot(u,h),dh(f.ph,new Oi($o(Ba(u.path)),h,2,So.ai))}}function oe(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,M,P;return U.__generator(this,function(R){switch(R.label){case 0:return g=We(f),y=[],M=[],P=[],g.Nh.m()?[3,3]:(g.Nh.forEach(function(V,W){P.push(g.Qh(W,u,h).then(function(re){if(re){g.Uh&&g.Sh.Qi(W.targetId,re.fromCache?"not-current":"current"),y.push(re);var ge=Ti.zr(W.targetId,re);M.push(ge)}}))}),[4,Promise.all(P)]);case 1:return R.sent(),g.Ch.yu(y),[4,function(V,W){return U.__awaiter(this,void 0,void 0,function(){var re,ge,_e,ke,et,ht,an,kn;return U.__generator(this,function(ei){switch(ei.label){case 0:re=We(V),ei.label=1;case 1:return ei.trys.push([1,3,,4]),[4,re.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(bi){return Et.forEach(W,function(Mi){return Et.forEach(Mi.Kr,function(mr){return re.persistence.No.Da(bi,Mi.targetId,mr)}).next(function(){return Et.forEach(Mi.Gr,function(mr){return re.persistence.No.Na(bi,Mi.targetId,mr)})})})})];case 2:return ei.sent(),[3,4];case 3:if(!Ks(ge=ei.sent()))throw ge;return me("LocalStore","Failed to update sequence numbers: "+ge),[3,4];case 4:for(_e=0,ke=W;_e<ke.length;_e++)ht=(et=ke[_e]).targetId,et.fromCache||(an=re.bc.get(ht),kn=an.rt(an.nt),re.bc=re.bc.ot(ht,kn));return[2]}})})}(g.ju,M)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}function be(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:return(h=We(f)).currentUser.isEqual(u)?[3,3]:(me("SyncEngine","User change. New user:",u.ti()),[4,function(M,P){return U.__awaiter(this,void 0,void 0,function(){var R,V,W,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return R=We(M),V=R.Sr,W=R.Cc,[4,R.persistence.runTransaction("Handle user change","readonly",function(_e){var ke;return R.Sr.Uo(_e).next(function(et){return ke=et,V=R.persistence.mc(P),W=new Tu(R.Dc,V,R.persistence.Ic()),V.Uo(_e)}).next(function(et){for(var ht=[],an=[],Jt=Qe(),kn=0,ei=ke;kn<ei.length;kn++){var bi=ei[kn];ht.push(bi.batchId);for(var Mi=0,mr=bi.mutations;Mi<mr.length;Mi++)Jt=Jt.add(mr[Mi].key)}for(var el=0,df=et;el<df.length;el++){var mp=df[el];an.push(mp.batchId);for(var hf=0,Ch=mp.mutations;hf<Ch.length;hf++)Jt=Jt.add(Ch[hf].key)}return W.kr(_e,Jt).next(function(Id){return{jh:Id,Kh:ht,Gh:an}})})})];case 1:return re=ge.sent(),[2,(R.Sr=V,R.Cc=W,R.Vc.Nc(R.Cc),re)]}})})}(h.ju,u)]);case 1:return g=y.sent(),h.currentUser=u,(M=h).Lh.forEach(function(R){R.forEach(function(V){V.reject(new $(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),M.Lh.clear(),h.Sh.ji(u,g.Kh,g.Gh),[4,oe(h,g.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var M})})}function Ue(f,u){var h=We(f),g=h.kh.get(u);if(g&&g.Vh)return Qe().add(g.key);var y=Qe(),M=h.Fh.get(u);if(!M)return y;for(var P=0,R=M;P<R.length;P++){var W=h.Nh.get(R[P]);y=y.kt(W.view.dh)}return y}function rt(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(M){switch(M.label){case 0:return[4,cr((h=We(f)).ju,u.query,!0)];case 1:return g=M.sent(),y=u.view.Ph(g),[2,(h.Uh&&D(h,u.targetId,y.Rh),y)]}})})}function Bt(f,u,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,M;return U.__generator(this,function(P){switch(P.label){case 0:return[4,(R=(y=We(f)).ju,V=u,W=We(R),re=We(W.Sr),W.persistence.runTransaction("Lookup mutation documents","readonly",function(ge){return re.Lo(ge,V).next(function(_e){return _e?W.Cc.kr(ge,_e):Et.resolve(null)})}))];case 1:return null===(M=P.sent())?[3,6]:"pending"!==h?[3,3]:[4,Xs(y.ph)];case 2:return P.sent(),[3,4];case 3:"acknowledged"===h||"rejected"===h?(Ml(y,u,g||null),pr(y,u),function(R,V){We(We(R).Sr).Ko(V)}(y.ju,u)):Re(),P.label=4;case 4:return[4,oe(y,M)];case 5:return P.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+u),P.label=7;case 7:return[2]}var R,V,W,re})})}function Ft(f,u){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,M,P,V,W;return U.__generator(this,function(re){switch(re.label){case 0:return er(h=We(f)),Fu(h),!0!==u||!0===h.qh?[3,3]:(g=h.Sh.Ci(),[4,hn(h,g.A())]);case 1:return y=re.sent(),h.qh=!0,[4,ou(h.ph,!0)];case 2:for(re.sent(),M=0,P=y;M<P.length;M++)dh(h.ph,P[M]);return[3,7];case 3:return!1!==u||!1===h.qh?[3,7]:(V=[],W=Promise.resolve(),h.Fh.forEach(function(ge,_e){h.Sh.qi(_e)?V.push(_e):W=W.then(function(){return Ea(h,_e),Fn(h.ju,_e,!0)}),Kc(h.ph,_e)}),[4,W]);case 4:return re.sent(),[4,hn(h,V)];case 5:return re.sent(),(_e=We(h)).kh.forEach(function(ke,et){Kc(_e.ph,et)}),_e.Mh.Qc(),_e.kh=new Map,_e.$h=new $n(Le.i),h.qh=!1,[4,ou(h.ph,!1)];case 6:re.sent(),re.label=7;case 7:return[2]}var _e})})}function hn(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,M,P,R,V,W,re,ge,_e,et,ht,an;return U.__generator(this,function(Jt){switch(Jt.label){case 0:g=We(f),y=[],M=[],P=0,R=u,Jt.label=1;case 1:return P<R.length?(W=void 0,(re=g.Fh.get(V=R[P]))&&0!==re.length?[4,bs(g.ju,$o(re[0]))]:[3,7]):[3,13];case 2:W=Jt.sent(),ge=0,_e=re,Jt.label=3;case 3:return ge<_e.length?(et=g.Nh.get(_e[ge]),[4,rt(g,et)]):[3,6];case 4:(ht=Jt.sent()).snapshot&&M.push(ht.snapshot),Jt.label=5;case 5:return ge++,[3,3];case 6:return[3,11];case 7:return[4,Ro(g.ju,V)];case 8:return an=Jt.sent(),[4,bs(g.ju,an)];case 9:return W=Jt.sent(),[4,Qo(g,Bn(an),V,!1)];case 10:Jt.sent(),Jt.label=11;case 11:y.push(W),Jt.label=12;case 12:return P++,[3,1];case 13:return[2,(g.Ch.yu(M),y)]}})})}function Bn(f){return Uc(f.path,f.collectionGroup,f.orderBy,f.filters,f.limit,"F",f.startAt,f.endAt)}function Sn(f){var u=We(f);return We(We(u.ju).persistence).pi()}function ws(f,u,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,M,P;return U.__generator(this,function(R){switch(R.label){case 0:return(y=We(f)).qh?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(u))return[3,8];switch(h){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xl(y.ju)];case 3:return M=R.sent(),P=di.Xt(u,"current"===h),[4,oe(y,M,P)];case 4:return R.sent(),[3,8];case 5:return[4,Fn(y.ju,u,!0)];case 6:return R.sent(),Ea(y,u,g),[3,8];case 7:Re(),R.label=8;case 8:return[2]}})})}function Fo(f,u,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,M,P,R,V,W,re,ge;return U.__generator(this,function(ke){switch(ke.label){case 0:if(!(g=er(f)).qh)return[3,10];y=0,M=u,ke.label=1;case 1:return y<M.length?g.Fh.has(P=M[y])?(me("SyncEngine","Adding an already active target "+P),[3,5]):[4,Ro(g.ju,P)]:[3,6];case 2:return R=ke.sent(),[4,bs(g.ju,R)];case 3:return V=ke.sent(),[4,Qo(g,Bn(R),V.targetId,!1)];case 4:ke.sent(),dh(g.ph,V),ke.label=5;case 5:return y++,[3,1];case 6:W=function(et){return U.__generator(this,function(ht){switch(ht.label){case 0:return g.Fh.has(et)?[4,Fn(g.ju,et,!1).then(function(){Kc(g.ph,et),Ea(g,et)}).catch(li)]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return[2]}})},re=0,ge=h,ke.label=7;case 7:return re<ge.length?[5,W(ge[re])]:[3,10];case 8:ke.sent(),ke.label=9;case 9:return re++,[3,7];case 10:return[2]}})})}function er(f){var u=We(f);return u.ph.Gu.sh=wc.bind(null,u),u.ph.Gu.qe=Ue.bind(null,u),u.ph.Gu.nh=Vn.bind(null,u),u.Ch.yu=ls.bind(null,u.bh),u.Ch.Wh=Zc.bind(null,u.bh),u}function Fu(f){var u=We(f);return u.ph.Gu.ih=No.bind(null,u),u.ph.Gu.rh=up.bind(null,u),u}var Wa=function(){function f(){}return f.prototype.Nc=function(u){this.zh=u},f.prototype.Lr=function(u,h,g,y){var P,M=this;return 0===(P=h).filters.length&&null===P.limit&&null==P.startAt&&null==P.endAt&&(0===P.on.length||1===P.on.length&&P.on[0].field.p())||g.isEqual(jt.min())?this.Hh(u,h):this.zh.kr(u,y).next(function(P){var R=M.Yh(h,P);return(Vc(h)||dc(h))&&M.Eh(h.an,R,y,g)?M.Hh(u,h):(Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),Ds(h)),M.zh.Lr(u,h,g).next(function(V){return R.forEach(function(W){V=V.ot(W.key,W)}),V}))})},f.prototype.Yh=function(u,h){var g=new Pi(Ou(u));return h.forEach(function(y,M){M instanceof ci&&$l(u,M)&&(g=g.add(M))}),g},f.prototype.Eh=function(u,h,g,y){if(g.size!==h.size)return!0;var M="F"===u?h.last():h.first();return!!M&&(M.hasPendingWrites||M.version.L(y)>0)},f.prototype.Hh=function(u,h){return Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query:",Ds(h)),this.zh.Lr(u,h,jt.min())},f}(),Ya=function(){function f(u,h){this.Dr=u,this.No=h,this.Sr=[],this.Jh=1,this.Xh=new Pi(Zr.kc)}return f.prototype.$o=function(u){return Et.resolve(0===this.Sr.length)},f.prototype.ko=function(u,h,g,y){var M=this.Jh;this.Jh++;var P=new cd(M,h,g,y);this.Sr.push(P);for(var R=0,V=y;R<V.length;R++){var W=V[R];this.Xh=this.Xh.add(new Zr(W.key,M)),this.Dr.Mo(u,W.key.path.h())}return Et.resolve(P)},f.prototype.Oo=function(u,h){return Et.resolve(this.Zh(h))},f.prototype.Bo=function(u,h){var y=this.tl(h+1),M=y<0?0:y;return Et.resolve(this.Sr.length>M?this.Sr[M]:null)},f.prototype.qo=function(){return Et.resolve(0===this.Sr.length?-1:this.Jh-1)},f.prototype.Uo=function(u){return Et.resolve(this.Sr.slice())},f.prototype.Nr=function(u,h){var g=this,y=new Zr(h,0),M=new Zr(h,Number.POSITIVE_INFINITY),P=[];return this.Xh.Ft([y,M],function(R){var V=g.Zh(R.jc);P.push(V)}),Et.resolve(P)},f.prototype.Or=function(u,h){var g=this,y=new Pi(Ut);return h.forEach(function(M){var P=new Zr(M,0),R=new Zr(M,Number.POSITIVE_INFINITY);g.Xh.Ft([P,R],function(V){y=y.add(V.jc)})}),Et.resolve(this.el(y))},f.prototype.Wr=function(u,h){var g=h.path,y=g.length+1,M=g;Le.F(M)||(M=M.child(""));var P=new Zr(new Le(M),0),R=new Pi(Ut);return this.Xh.xt(function(V){var W=V.key.path;return!!g.T(W)&&(W.length===y&&(R=R.add(V.jc)),!0)},P),Et.resolve(this.el(R))},f.prototype.el=function(u){var h=this,g=[];return u.forEach(function(y){var M=h.Zh(y);null!==M&&g.push(M)}),g},f.prototype.Wo=function(u,h){var g=this;at(0===this.nl(h.batchId,"removed")),this.Sr.shift();var y=this.Xh;return Et.forEach(h.mutations,function(M){var P=new Zr(M.key,h.batchId);return y=y.delete(P),g.No.Go(u,M.key)}).next(function(){g.Xh=y})},f.prototype.Ko=function(u){},f.prototype.Ho=function(u,h){var g=new Zr(h,0),y=this.Xh.$t(g);return Et.resolve(h.isEqual(y&&y.key))},f.prototype.zo=function(u){return Et.resolve()},f.prototype.nl=function(u,h){return this.tl(u)},f.prototype.tl=function(u){return 0===this.Sr.length?0:u-this.Sr[0].batchId},f.prototype.Zh=function(u){var h=this.tl(u);return h<0||h>=this.Sr.length?null:this.Sr[h]},f}(),Vr=function(){function f(u,h){this.Dr=u,this.sl=h,this.docs=new $n(Le.i),this.size=0}return f.prototype.Er=function(u,h,g){var y=h.key,M=this.docs.get(y),P=M?M.size:0,R=this.sl(h);return this.docs=this.docs.ot(y,{ta:h,size:R,readTime:g}),this.size+=R-P,this.Dr.Mo(u,y.path.h())},f.prototype.Ar=function(u){var h=this.docs.get(u);h&&(this.docs=this.docs.remove(u),this.size-=h.size)},f.prototype.Rr=function(u,h){var g=this.docs.get(h);return Et.resolve(g?g.ta:null)},f.prototype.getEntries=function(u,h){var g=this,y=le();return h.forEach(function(M){var P=g.docs.get(M);y=y.ot(M,P?P.ta:null)}),Et.resolve(y)},f.prototype.Lr=function(u,h,g){for(var y=ne(),M=new Le(h.path.child("")),P=this.docs.ft(M);P.At();){var R=P.It(),W=R.value,re=W.ta,ge=W.readTime;if(!h.path.T(R.key.path))break;ge.L(g)<=0||re instanceof ci&&$l(h,re)&&(y=y.ot(re.key,re))}return Et.resolve(y)},f.prototype.il=function(u,h){return Et.forEach(this.docs,function(g){return h(g)})},f.prototype.ra=function(u){return new El(this)},f.prototype.aa=function(u){return Et.resolve(this.size)},f}(),El=function(f){function u(h){var g=this;return(g=f.call(this)||this).ca=h,g}return U.__extends(u,f),u.prototype.yr=function(h){var g=this,y=[];return this.wr.forEach(function(M,P){P?y.push(g.ca.Er(h,P,g.readTime)):g.ca.Ar(M)}),Et.$n(y)},u.prototype.gr=function(h,g){return this.ca.Rr(h,g)},u.prototype.Pr=function(h,g){return this.ca.getEntries(h,g)},u}(ip),l_=function(){function f(u){this.persistence=u,this.rl=new Kt(function(h){return xt(h)},gn),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.ol=0,this.al=new $a,this.targetCount=0,this.cl=Kl.fa()}return f.prototype.Ce=function(u,h){return this.rl.forEach(function(g,y){return h(y)}),Et.resolve()},f.prototype.Ea=function(u){return Et.resolve(this.lastRemoteSnapshotVersion)},f.prototype.Ia=function(u){return Et.resolve(this.ol)},f.prototype.wa=function(u){return this.highestTargetId=this.cl.next(),Et.resolve(this.highestTargetId)},f.prototype.Aa=function(u,h,g){return g&&(this.lastRemoteSnapshotVersion=g),h>this.ol&&(this.ol=h),Et.resolve()},f.prototype.ga=function(u){this.rl.set(u.target,u);var h=u.targetId;h>this.highestTargetId&&(this.cl=new Kl(h),this.highestTargetId=h),u.sequenceNumber>this.ol&&(this.ol=u.sequenceNumber)},f.prototype.Ra=function(u,h){return this.ga(h),this.targetCount+=1,Et.resolve()},f.prototype.ya=function(u,h){return this.ga(h),Et.resolve()},f.prototype.Va=function(u,h){return this.rl.delete(h.target),this.al.Uc(h.targetId),this.targetCount-=1,Et.resolve()},f.prototype.po=function(u,h,g){var y=this,M=0,P=[];return this.rl.forEach(function(R,V){V.sequenceNumber<=h&&null===g.get(V.targetId)&&(y.rl.delete(R),P.push(y.pa(u,V.targetId)),M++)}),Et.$n(P).next(function(){return M})},f.prototype.ba=function(u){return Et.resolve(this.targetCount)},f.prototype.va=function(u,h){var g=this.rl.get(h)||null;return Et.resolve(g)},f.prototype.Sa=function(u,h,g){return this.al.Lc(h,g),Et.resolve()},f.prototype.Ca=function(u,h,g){this.al.qc(h,g);var y=this.persistence.No,M=[];return y&&h.forEach(function(P){M.push(y.Go(u,P))}),Et.$n(M)},f.prototype.pa=function(u,h){return this.al.Uc(h),Et.resolve()},f.prototype.Fa=function(u,h){var g=this.al.Wc(h);return Et.resolve(g)},f.prototype.Ho=function(u,h){return Et.resolve(this.al.Ho(h))},f}(),Cd=function(){function f(u){var h=this;this.ul={},this.Ma=new So(0),this.Oa=!1,this.Oa=!0,this.No=u(this),this.Ka=new l_(this),this.Dr=new Ns,this.vr=new Vr(this.Dr,function(M){return h.No.hl(M)})}return f.prototype.start=function(){return Promise.resolve()},f.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.Za=function(){},f.prototype.tc=function(){},f.prototype.Ic=function(){return this.Dr},f.prototype.mc=function(u){var h=this.ul[u.ti()];return h||(h=new Ya(this.Dr,this.No),this.ul[u.ti()]=h),h},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.runTransaction=function(u,h,g){var y=this;me("MemoryPersistence","Starting transaction:",u);var M=new wd(this.Ma.next());return this.No.ll(),g(M).next(function(P){return y.No._l(M).next(function(){return P})}).Fn().then(function(P){return M.br(),P})},f.prototype.fl=function(u,h){return Et.kn(Object.values(this.ul).map(function(g){return function(){return g.Ho(u,h)}}))},f}(),wd=function(f){function u(h){var g=this;return(g=f.call(this)||this).xa=h,g}return U.__extends(u,f),u}(th),tf=function(){function f(u){this.persistence=u,this.dl=new $a,this.wl=null}return f.ml=function(u){return new f(u)},Object.defineProperty(f.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Re()},enumerable:!1,configurable:!0}),f.prototype.Da=function(u,h,g){return this.dl.Da(g,h),this.Tl.delete(g.toString()),Et.resolve()},f.prototype.Na=function(u,h,g){return this.dl.Na(g,h),this.Tl.add(g.toString()),Et.resolve()},f.prototype.Go=function(u,h){return this.Tl.add(h.toString()),Et.resolve()},f.prototype.removeTarget=function(u,h){var g=this;this.dl.Uc(h.targetId).forEach(function(M){return g.Tl.add(M.toString())});var y=this.persistence.Tc();return y.Fa(u,h.targetId).next(function(M){M.forEach(function(P){return g.Tl.add(P.toString())})}).next(function(){return y.Va(u,h)})},f.prototype.ll=function(){this.wl=new Set},f.prototype._l=function(u){var h=this,g=this.persistence.Ec().ra();return Et.forEach(this.Tl,function(y){var M=Le.D(y);return h.El(u,M).next(function(P){P||g.Ar(M)})}).next(function(){return h.wl=null,g.apply(u)})},f.prototype.yc=function(u,h){var g=this;return this.El(u,h).next(function(y){y?g.Tl.delete(h.toString()):g.Tl.add(h.toString())})},f.prototype.hl=function(u){return 0},f.prototype.El=function(u,h){var g=this;return Et.kn([function(){return Et.resolve(g.dl.Ho(h))},function(){return g.persistence.Tc().Ho(u,h)},function(){return g.persistence.fl(u,h)}])},f}(),u_=function(){function f(u){this.Il=u.Il,this.Al=u.Al}return f.prototype.gu=function(u){this.Rl=u},f.prototype.Tu=function(u){this.gl=u},f.prototype.onMessage=function(u){this.Pl=u},f.prototype.close=function(){this.Al()},f.prototype.send=function(u){this.Il(u)},f.prototype.yl=function(){this.Rl()},f.prototype.Vl=function(u){this.gl(u)},f.prototype.pl=function(u){this.Pl(u)},f}(),Om={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ly=function(f){function u(h){var g=this;return(g=f.call(this,h)||this).forceLongPolling=h.forceLongPolling,g.W=h.W,g}return U.__extends(u,f),u.prototype.Nl=function(h,g,y,M){return new Promise(function(P,R){var V=new Ae.XhrIo;V.listenOnce(Ae.EventType.COMPLETE,function(){try{switch(V.getLastErrorCode()){case Ae.ErrorCode.NO_ERROR:var re=V.getResponseJson();me("Connection","XHR received:",JSON.stringify(re)),P(re);break;case Ae.ErrorCode.TIMEOUT:me("Connection",'RPC "'+h+'" timed out'),R(new $(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ae.ErrorCode.HTTP_ERROR:var ge=V.getStatus();if(me("Connection",'RPC "'+h+'" failed with status:',ge,"response text:",V.getResponseText()),ge>0){var _e=V.getResponseJson().error;if(_e&&_e.status&&_e.message){var ke=(ht=_e.status.toLowerCase().replace("_","-"),Object.values(j).indexOf(ht)>=0?ht:j.UNKNOWN);R(new $(ke,_e.message))}else R(new $(j.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new $(j.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{me("Connection",'RPC "'+h+'" completed.')}var ht});var W=JSON.stringify(M);V.send(g,"POST",W,y,15)})},u.prototype.Pu=function(h,g){var y=[this.vl,"/","google.firestore.v1.Firestore","/",h,"/channel"],M=Ae.createWebChannelTransport(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(P.initMessageHeaders,g),ce.isMobileCordova()||ce.isReactNative()||ce.isElectron()||ce.isIE()||ce.isUWP()||ce.isBrowserExtension()||(P.httpHeadersOverwriteParam="$httpHeaders");var R=y.join("");me("Connection","Creating WebChannel: "+R,P);var V=M.createWebChannel(R,P),W=!1,re=!1,ge=new u_({Il:function(ke){re?me("Connection","Not sending because WebChannel is closed:",ke):(W||(me("Connection","Opening WebChannel transport."),V.open(),W=!0),me("Connection","WebChannel sending:",ke),V.send(ke))},Al:function(){return V.close()}}),_e=function(ke,et){V.listen(ke,function(ht){try{et(ht)}catch(an){setTimeout(function(){throw an},0)}})};return _e(Ae.WebChannel.EventType.OPEN,function(){re||me("Connection","WebChannel transport opened.")}),_e(Ae.WebChannel.EventType.CLOSE,function(){re||(re=!0,me("Connection","WebChannel transport closed"),ge.Vl())}),_e(Ae.WebChannel.EventType.ERROR,function(ke){re||(re=!0,st("Connection","WebChannel transport errored:",ke),ge.Vl(new $(j.UNAVAILABLE,"The operation could not be completed")))}),_e(Ae.WebChannel.EventType.MESSAGE,function(ke){var et;if(!re){var ht=ke.data[0];at(!!ht);var Jt=ht.error||(null===(et=ht[0])||void 0===et?void 0:et.error);if(Jt){me("Connection","WebChannel received error:",Jt);var kn=Jt.status,ei=function(Mi){var mr=Xt[Mi];if(void 0!==mr)return Li(mr)}(kn),bi=Jt.message;void 0===ei&&(ei=j.INTERNAL,bi="Unknown error status: "+kn+" with message "+Jt.message),re=!0,ge.Vl(new $(ei,bi)),V.close()}else me("Connection","WebChannel received:",ht),ge.pl(ht)}}),setTimeout(function(){ge.yl()},0),ge},u}(function(){function f(u){this.bl=u,this.U=u.U,this.vl=(u.ssl?"https":"http")+"://"+u.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return f.prototype.$u=function(u,h,g,y){var M=this.Dl(u,h);me("RestConnection","Sending: ",M,g);var P={};return this.Cl(P,y),this.Nl(u,M,P,g).then(function(R){return me("RestConnection","Received: ",R),R},function(R){throw st("RestConnection",u+" failed with error: ",R,"url: ",M,"request:",g),R})},f.prototype.ku=function(u,h,g,y){return this.$u(u,h,g,y)},f.prototype.Cl=function(u,h){if(u["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",u["Content-Type"]="text/plain",h)for(var g in h.Kc)h.Kc.hasOwnProperty(g)&&(u[g]=h.Kc[g])},f.prototype.Dl=function(u,h){return this.vl+"/v1/"+h+":"+Om[u]},f}()),ta=function(){function f(){var u=this;this.Fl=function(){return u.xl()},this.$l=function(){return u.kl()},this.Ml=[],this.Ol()}return f.prototype.Zu=function(u){this.Ml.push(u)},f.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},f.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},f.prototype.xl=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var u=0,h=this.Ml;u<h.length;u++)(0,h[u])(0)},f.prototype.kl=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var u=0,h=this.Ml;u<h.length;u++)(0,h[u])(1)},f.Ln=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},f}(),dp=function(){function f(){}return f.prototype.Zu=function(u){},f.prototype.Di=function(){},f}();function su(f){return new da(f,!0)}var d_="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",xd=function(){function f(){}return f.prototype.initialize=function(u){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return this.Sh=this.Ll(u),this.persistence=this.Bl(u),[4,this.persistence.start()];case 1:return h.sent(),this.ql=this.Ul(u),this.ju=this.Ql(u),[2]}})})},f.prototype.Ul=function(u){return null},f.prototype.Ql=function(u){return h=this.persistence,g=new Wa,new us(h,g,u.Wl);var h,g},f.prototype.Bl=function(u){if(u.persistenceSettings.jl)throw new $(j.FAILED_PRECONDITION,d_);return new Cd(tf.ml)},f.prototype.Ll=function(u){return new gl},f.prototype.terminate=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(u){switch(u.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return u.sent(),[4,this.persistence.Di()];case 2:return u.sent(),[2]}})})},f.prototype.clearPersistence=function(u,h){throw new $(j.FAILED_PRECONDITION,d_)},f}(),h_=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(M){switch(M.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return M.sent(),g=this.Kl.fi,this.Sh instanceof $c?(this.Sh.fi={er:Bt.bind(null,g),nr:ws.bind(null,g),sr:Fo.bind(null,g),pi:Sn.bind(null,g)},[4,this.Sh.start()]):[3,3];case 2:M.sent(),M.label=3;case 3:return[4,this.persistence.Xa(function(P){return U.__awaiter(y,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return[4,Ft(this.Kl.fi,P)];case 1:return R.sent(),this.ql&&(P&&!this.ql.Ei?this.ql.start(this.ju):P||this.ql.stop()),[2]}})})})];case 4:return M.sent(),[2]}})})},u.prototype.Ll=function(h){if(h.persistenceSettings.jl&&h.persistenceSettings.synchronizeTabs){var g=z();if(!$c.Ln(g))throw new $(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=Jl(h.bl.U,h.bl.persistenceKey);return new $c(g,h.cs,y,h.clientId,h.Wl)}return new gl},u}(function(f){function u(h){var g=this;return(g=f.call(this)||this).Kl=h,g}return U.__extends(u,f),u.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return g.sent(),[4,bc(this.ju)];case 2:return g.sent(),[4,this.Kl.initialize(this,h)];case 3:return g.sent(),[4,Fu(this.Kl.fi)];case 4:return g.sent(),[4,Xs(this.Kl.ph)];case 5:return g.sent(),[2]}})})},u.prototype.Ul=function(h){return new nh(this.persistence.No.wo,h.cs)},u.prototype.Bl=function(h){var g=Jl(h.bl.U,h.bl.persistenceKey),y=su(h.bl.U);return new ys(h.persistenceSettings.synchronizeTabs,g,h.clientId,to.ao(h.persistenceSettings.cacheSizeBytes),h.cs,z(),ee(),y,this.Sh,h.persistenceSettings.ka)},u.prototype.Ll=function(h){return new gl},u.prototype.clearPersistence=function(h,g){return function(y){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(P){switch(P.label){case 0:return cs.Ln()?[4,cs.delete(y+"main")]:[2,Promise.resolve()];case 1:return P.sent(),[2]}})})}(Jl(h,g))},u}(xd)),nf=function(){function f(){}return f.prototype.initialize=function(u,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=u.ju,this.Sh=u.Sh,this.Ku=this.Gl(h),this.ph=this.zl(h),this.bh=this.Hl(h),this.fi=this.Yl(h),this.Sh.di=function(M){return bd(g.fi,M,1)},this.ph.Gu.Jl=be.bind(null,this.fi),[4,ou(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},f.prototype.Hl=function(u){return new ii},f.prototype.Gl=function(u){var g=su(u.bl.U),y=new Ly(u.bl);return new fd(u.credentials,y,g)},f.prototype.zl=function(u){var h,g,y,M,P,R=this;return h=this.ju,g=this.Ku,y=u.cs,M=function(V){return bd(R.fi,V,0)},P=ta.Ln()?new ta:new dp,new cp(h,g,y,M,P)},f.prototype.Yl=function(u){return V=!u.persistenceSettings.jl||!u.persistenceSettings.synchronizeTabs,W=new xl(this.ju,this.ph,this.bh,this.Sh,u.Wl,u.Dh),V&&(W.qh=!0),W;var V,W},f.prototype.terminate=function(){return Qh(this.ph)},f}(),T=function(){function f(u){this.observer=u,this.muted=!1}return f.prototype.next=function(u){this.observer.next&&this.Xl(this.observer.next,u)},f.prototype.error=function(u){this.observer.error?this.Xl(this.observer.error,u):console.error("Uncaught Error in snapshot listener:",u)},f.prototype.Zl=function(){this.muted=!0},f.prototype.Xl=function(u,h){var g=this;this.muted||setTimeout(function(){g.muted||u(h)},0)},f}(),C=function(f){!function(h,g,y,M){if(!(g instanceof Array)||g.length<1)throw new $(j.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+fn(1,"element")+".")}(0,f);for(var u=0;u<f.length;++u)if(un("FieldPath","string",u,f[u]),0===f[u].length)throw new $(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new Ge(f)},E=function(f){function u(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return f.call(this,h)||this}return U.__extends(u,f),u.documentId=function(){return new u(Ge.v().R())},u.prototype.isEqual=function(h){if(!(h instanceof u))throw In("isEqual","FieldPath",1,h);return this.t_.isEqual(h.t_)},u}(C),A=new RegExp("[~\\*/\\[\\]]"),q=function(f){this.e_=f},J=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.prototype.n_=function(h){if(2!==h.s_)throw h.i_(1===h.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return h.We.push(h.path),null},u.prototype.isEqual=function(h){return h instanceof u},u}(q);function Ie(f,u,h){return new Lu({s_:3,r_:u.settings.r_,methodName:f.e_,o_:h},u.U,u.serializer,u.ignoreUndefinedProperties)}var Xe=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.prototype.n_=function(h){return new ga(h.path,new on)},u.prototype.isEqual=function(h){return h instanceof u},u}(q),At=function(f){function u(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(u,f),u.prototype.n_=function(h){var g=Ie(this,h,!0),y=this.a_.map(function(P){return au(P,g)}),M=new Yr(y);return new ga(h.path,M)},u.prototype.isEqual=function(h){return this===h},u}(q),Nt=function(f){function u(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(u,f),u.prototype.n_=function(h){var g=Ie(this,h,!0),y=this.a_.map(function(P){return au(P,g)}),M=new Er(y);return new ga(h.path,M)},u.prototype.isEqual=function(h){return this===h},u}(q),pn=function(f){function u(h,g){var y=this;return(y=f.call(this,h)||this).c_=g,y}return U.__extends(u,f),u.prototype.n_=function(h){var g=new Ts(h.serializer,ho(h.serializer,this.c_));return new ga(h.path,g)},u.prototype.isEqual=function(h){return this===h},u}(q),Yn=function(){function f(u,h){if(ot("GeoPoint",arguments,2),un("GeoPoint","number",1,u),un("GeoPoint","number",2,h),!isFinite(u)||u<-90||u>90)throw new $(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+u);if(!isFinite(h)||h<-180||h>180)throw new $(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+h);this.u_=u,this.h_=h}return Object.defineProperty(f.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(u){return this.u_===u.u_&&this.h_===u.h_},f.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},f.prototype.Y=function(u){return Ut(this.u_,u.u_)||Ut(this.h_,u.h_)},f}(),ro=function(f){this.l_=f},Oa=/^__.*__$/,oo=function(f,u,h){this.__=f,this.f_=u,this.d_=h},hp=function(){function f(u,h,g){this.data=u,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(u,h){var g=[];return g.push(null!==this.We?new Qr(u,this.data,this.We,h):new or(u,this.data,h)),this.fieldTransforms.length>0&&g.push(new qi(u,this.fieldTransforms)),g},f}(),rf=function(){function f(u,h,g){this.data=u,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(u,h){var g=[new Qr(u,this.data,this.We,h)];return this.fieldTransforms.length>0&&g.push(new qi(u,this.fieldTransforms)),g},f}();function Xc(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var Lu=function(){function f(u,h,g,y,M,P){this.settings=u,this.U=h,this.serializer=g,this.ignoreUndefinedProperties=y,void 0===M&&this.m_(),this.fieldTransforms=M||[],this.We=P||[]}return Object.defineProperty(f.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),f.prototype.T_=function(u){return new f(Object.assign(Object.assign({},this.settings),u),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},f.prototype.E_=function(u){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(u),y=this.T_({path:g,o_:!1});return y.I_(u),y},f.prototype.A_=function(u){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(u),y=this.T_({path:g,o_:!1});return y.m_(),y},f.prototype.R_=function(u){return this.T_({path:void 0,o_:!0})},f.prototype.i_=function(u){return fp(u,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},f.prototype.contains=function(u){return void 0!==this.We.find(function(h){return u.T(h)})||void 0!==this.fieldTransforms.find(function(h){return u.T(h.field)})},f.prototype.m_=function(){if(this.path)for(var u=0;u<this.path.length;u++)this.I_(this.path.get(u))},f.prototype.I_=function(u){if(0===u.length)throw this.i_("Document fields must not be empty");if(Xc(this.s_)&&Oa.test(u))throw this.i_('Document fields cannot begin and end with "__"')},f}(),Ol=function(){function f(u,h,g){this.U=u,this.ignoreUndefinedProperties=h,this.serializer=g||su(u)}return f.prototype.P_=function(u,h,g,y){return void 0===y&&(y=!1),new Lu({s_:u,methodName:h,r_:g,path:Ge.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},f}();function sf(f,u,h,g,y,M){void 0===M&&(M={});var P=f.P_(M.merge||M.mergeFields?2:0,u,h,y);_h("Data must be an object, but it was:",P,g);var R,V,W=gh(g,P);if(M.merge)R=new Pr(P.We),V=P.fieldTransforms;else if(M.mergeFields){for(var re=[],ge=0,_e=M.mergeFields;ge<_e.length;ge++){var ke=_e[ge],et=void 0;if(ke instanceof C)et=ke.t_;else{if("string"!=typeof ke)throw Re();et=p_(u,ke,h)}if(!P.contains(et))throw new $(j.INVALID_ARGUMENT,"Field '"+et+"' is specified in your field mask but missing from your input data.");TC(re,et)||re.push(et)}R=new Pr(re),V=P.fieldTransforms.filter(function(ht){return R.Ye(ht.field)})}else R=null,V=P.fieldTransforms;return new hp(new Fr(W),R,V)}function mh(f,u,h,g){var y=f.P_(1,u,h);_h("Data must be an object, but it was:",y,g);var M=[],P=new Xr;nt(g,function(V,W){var re=p_(u,V,h),ge=y.A_(re);if(W instanceof J||W instanceof ro&&W.l_ instanceof J)M.push(re);else{var _e=au(W,ge);null!=_e&&(M.push(re),P.set(re,_e))}});var R=new Pr(M);return new rf(P.Xe(),R,y.fieldTransforms)}function af(f,u,h,g,y,M){var P=f.P_(1,u,h),R=[Md(u,g,h)],V=[y];if(M.length%2!=0)throw new $(j.INVALID_ARGUMENT,"Function "+u+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var W=0;W<M.length;W+=2)R.push(Md(u,M[W])),V.push(M[W+1]);for(var re=[],ge=new Xr,_e=R.length-1;_e>=0;--_e)if(!TC(re,R[_e])){var ke=R[_e],et=V[_e],ht=P.A_(ke);if(et instanceof J||et instanceof ro&&et.l_ instanceof J)re.push(ke);else{var an=au(et,ht);null!=an&&(re.push(ke),ge.set(ke,an))}}var Jt=new Pr(re);return new rf(ge.Xe(),Jt,P.fieldTransforms)}function Pm(f,u,h,g){return void 0===g&&(g=!1),au(h,f.P_(g?4:3,u))}function au(f,u){if(f instanceof ro&&(f=f.l_),f_(f))return _h("Unsupported field value:",u,f),gh(f,u);if(f instanceof q)return function(h,g){if(!Xc(g.s_))throw g.i_(h.e_+"() can only be used with update() and set()");if(!g.path)throw g.i_(h.e_+"() is not currently supported inside arrays");var y=h.n_(g);y&&g.fieldTransforms.push(y)}(f,u),null;if(u.path&&u.We.push(u.path),f instanceof Array){if(u.settings.o_&&4!==u.s_)throw u.i_("Nested arrays are not supported");return function(h,g){for(var y=[],M=0,P=0,R=h;P<R.length;P++){var V=au(R[P],g.R_(M));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),M++}return{arrayValue:{values:y}}}(f,u)}return function(h,g){if(null===h)return{nullValue:"NULL_VALUE"};if("number"==typeof h)return ho(g.serializer,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){var y=Qt.fromDate(h);return{timestampValue:ha(g.serializer,y)}}if(h instanceof Qt){var M=new Qt(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:ha(g.serializer,M)}}if(h instanceof Yn)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof Ei)return{bytesValue:dl(g.serializer,h.q)};if(h instanceof oo){var P=g.U,R=h.__;if(!R.isEqual(P))throw g.i_("Document reference is for database "+R.projectId+"/"+R.database+" but should be for database "+P.projectId+"/"+P.database);return{referenceValue:wr(h.__||g.U,h.f_.path)}}if(void 0===h&&g.ignoreUndefinedProperties)return null;throw g.i_("Unsupported field value: "+gt(h))}(f,u)}function gh(f,u){var h={};return Ze(f)?u.path&&u.path.length>0&&u.We.push(u.path):nt(f,function(g,y){var M=au(y,u.E_(g));null!=M&&(h[g]=M)}),{mapValue:{fields:h}}}function f_(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Qt||f instanceof Yn||f instanceof Ei||f instanceof oo||f instanceof q)}function _h(f,u,h){if(!f_(h)||!ct(h)){var g=gt(h);throw u.i_("an object"===g?f+" a custom object":f+" "+g)}}function Md(f,u,h){if(u instanceof C)return u.t_;if("string"==typeof u)return p_(f,u);throw fp("Field path arguments must be of type string or FieldPath.",f,!1,void 0,h)}function p_(f,u,h){try{return function(y){if(y.search(A)>=0)throw new $(j.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(E.bind.apply(E,U.__spreadArrays([void 0],y.split("."))))}catch{throw new $(j.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(u).t_}catch(y){throw fp((g=y)instanceof Error?g.message:g.toString(),f,!1,void 0,h)}var g}function fp(f,u,h,g,y){var M=g&&!g.m(),P=void 0!==y,R="Function "+u+"() called with invalid data";h&&(R+=" (via `toFirestore()`)");var V="";return(M||P)&&(V+=" (found",M&&(V+=" in field "+g),P&&(V+=" in document "+y),V+=")"),new $(j.INVALID_ARGUMENT,(R+=". ")+f+V)}function TC(f,u){return f.some(function(h){return h.isEqual(u)})}var Im=function(){function f(u){this.Ku=u,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return f.prototype.v_=function(u){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new $(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(M,P){return U.__awaiter(this,void 0,void 0,function(){var R,V,W,re,ge,_e;return U.__generator(this,function(ke){switch(ke.label){case 0:return R=We(M),V=Is(R.serializer)+"/documents",W={documents:P.map(function(et){return fa(R.serializer,et)})},[4,R.ku("BatchGetDocuments",V,W)];case 1:return re=ke.sent(),ge=new Map,re.forEach(function(et){var an,Jt,ht=(an=R.serializer,"found"in(Jt=et)?function(kn,ei){at(!!ei.found);var bi=Ui(kn,ei.found.name),Mi=Mo(ei.found.updateTime),mr=new Fr({mapValue:{fields:ei.found.fields}});return new ci(bi,Mi,mr,{})}(an,Jt):"missing"in Jt?function(kn,ei){at(!!ei.missing),at(!!ei.readTime);var bi=Ui(kn,ei.missing),Mi=Mo(ei.readTime);return new Lr(bi,Mi)}(an,Jt):Re());ge.set(ht.key.toString(),ht)}),_e=[],[2,(P.forEach(function(et){var ht=ge.get(et.toString());at(!!ht),_e.push(ht)}),_e)]}})})}(this.Ku,u)];case 1:return[2,((h=y.sent()).forEach(function(M){M instanceof Lr||M instanceof ci?g.D_(M):Re()}),h)]}})})},f.prototype.set=function(u,h){this.write(h.w_(u,this.Ge(u))),this.b_.add(u.toString())},f.prototype.update=function(u,h){try{this.write(h.w_(u,this.C_(u)))}catch(g){this.p_=g}this.b_.add(u.toString())},f.prototype.delete=function(u){this.write([new Ir(u,this.Ge(u))]),this.b_.add(u.toString())},f.prototype.commit=function(){return U.__awaiter(this,void 0,void 0,function(){var u,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(this.S_(),this.p_)throw this.p_;return u=this.y_,this.mutations.forEach(function(y){u.delete(y.key.toString())}),u.forEach(function(y,M){var P=Le.D(M);h.mutations.push(new fl(P,h.Ge(P)))}),[4,function(y,M){return U.__awaiter(this,void 0,void 0,function(){var P,R,V;return U.__generator(this,function(W){switch(W.label){case 0:return P=We(y),R=Is(P.serializer)+"/documents",V={writes:M.map(function(re){return Vi(P.serializer,re)})},[4,P.$u("Commit",R,V)];case 1:return W.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return g.sent(),this.V_=!0,[2]}})})},f.prototype.D_=function(u){var h;if(u instanceof ci)h=u.version;else{if(!(u instanceof Lr))throw Re();h=jt.min()}var g=this.y_.get(u.key.toString());if(g){if(!h.isEqual(g))throw new $(j.ABORTED,"Document version changed between two reads.")}else this.y_.set(u.key.toString(),h)},f.prototype.Ge=function(u){var h=this.y_.get(u.toString());return!this.b_.has(u.toString())&&h?Bi.updateTime(h):Bi.ze()},f.prototype.C_=function(u){var h=this.y_.get(u.toString());if(!this.b_.has(u.toString())&&h){if(h.isEqual(jt.min()))throw new $(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bi.updateTime(h)}return Bi.exists(!0)},f.prototype.write=function(u){this.S_(),this.mutations=this.mutations.concat(u)},f.prototype.S_=function(){},f}(),m_=function(){function f(u,h,g,y){this.cs=u,this.Ku=h,this.updateFunction=g,this.ls=y,this.N_=5,this.ys=new ja(this.cs,"transaction_retry")}return f.prototype.run=function(){this.F_()},f.prototype.F_=function(){var u=this;this.ys.gn(function(){return U.__awaiter(u,void 0,void 0,function(){var h,g,y=this;return U.__generator(this,function(M){return h=new Im(this.Ku),(g=this.x_(h))&&g.then(function(P){y.cs.ws(function(){return h.commit().then(function(){y.ls.resolve(P)}).catch(function(R){y.k_(R)})})}).catch(function(P){y.k_(P)}),[2]})})})},f.prototype.x_=function(u){try{var h=this.updateFunction(u);return!Oe(h)&&h.catch&&h.then?h:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.ls.reject(g),null}},f.prototype.k_=function(u){var h=this;this.N_>0&&this.M_(u)?(this.N_-=1,this.cs.ws(function(){return h.F_(),Promise.resolve()})):this.ls.reject(u)},f.prototype.M_=function(u){if("FirebaseError"===u.name){var h=u.code;return"aborted"===h||"failed-precondition"===h||!Zn(h)}return!1},f}(),Tm=function(){function f(u,h){this.credentials=u,this.cs=h,this.clientId=Tn.k(),this.O_=new Wo}return f.prototype.start=function(u,h,g,y){var M=this;this.L_(),this.bl=u;var P=new Wo,R=!1;return this.credentials.Hc(function(V){if(!R)return R=!0,me("FirestoreClient","Initializing. user=",V.uid),M.B_(h,g,y,V,P).then(M.O_.resolve,M.O_.reject);M.cs.Cs(function(){return function(W,re){return U.__awaiter(this,void 0,void 0,function(){var ge,_e;return U.__generator(this,function(ke){switch(ke.label){case 0:return(ge=We(W)).cs.xs(),me("RemoteStore","RemoteStore received new credentials"),_e=Cs(ge),ge.Yu.add(3),[4,eu(ge)];case 1:return ke.sent(),_e&&ge.th.set("Unknown"),[4,ge.Gu.Jl(re)];case 2:return ke.sent(),ge.Yu.delete(3),[4,md(ge)];case 3:return ke.sent(),[2]}})})}(M.ph,V)})}),this.cs.ws(function(){return M.O_.promise}),P.promise},f.prototype.enableNetwork=function(){var u=this;return this.L_(),this.cs.enqueue(function(){return u.persistence.tc(!0),(g=We(u.ph)).Yu.delete(0),md(g);var g})},f.prototype.B_=function(u,h,g,y,M){return U.__awaiter(this,void 0,void 0,function(){var P,R,V=this;return U.__generator(this,function(W){switch(W.label){case 0:return W.trys.push([0,3,,4]),[4,u.initialize(P={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:g})];case 1:return W.sent(),[4,h.initialize(u,P)];case 2:return W.sent(),this.persistence=u.persistence,this.Sh=u.Sh,this.ju=u.ju,this.ql=u.ql,this.Ku=h.Ku,this.ph=h.ph,this.fi=h.fi,this.q_=h.bh,this.q_.Us=ds.bind(null,this.fi),this.q_.js=si.bind(null,this.fi),this.persistence.Za(function(){return U.__awaiter(V,void 0,void 0,function(){return U.__generator(this,function(re){switch(re.label){case 0:return[4,this.terminate()];case 1:return re.sent(),[2]}})})}),M.resolve(),[3,4];case 3:if(R=W.sent(),M.reject(R),!this.U_(R))throw R;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+R),this.B_(new xd,new nf,{jl:!1},y,M))];case 4:return[2]}})})},f.prototype.U_=function(u){return"FirebaseError"===u.name?u.code===j.FAILED_PRECONDITION||u.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code},f.prototype.L_=function(){if(this.cs.ps)throw new $(j.FAILED_PRECONDITION,"The client has already been terminated.")},f.prototype.disableNetwork=function(){var u=this;return this.L_(),this.cs.enqueue(function(){return u.persistence.tc(!1),function(h){return U.__awaiter(this,void 0,void 0,function(){var g;return U.__generator(this,function(y){switch(y.label){case 0:return(g=We(h)).Yu.add(0),[4,eu(g)];case 1:return y.sent(),g.th.set("Offline"),[2]}})})}(u.ph)})},f.prototype.terminate=function(){var u=this;this.cs.Ds();var h=new Wo;return this.cs.bs(function(){return U.__awaiter(u,void 0,void 0,function(){var g,y;return U.__generator(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Qh(this.ph)];case 1:return M.sent(),[4,this.Sh.Di()];case 2:return M.sent(),[4,this.persistence.Di()];case 3:return M.sent(),this.credentials.Yc(),h.resolve(),[3,5];case 4:return g=M.sent(),y=Rt(g,"Failed to shutdown persistence"),h.reject(y),[3,5];case 5:return[2]}})})}),h.promise},f.prototype.waitForPendingWrites=function(){var u=this;this.L_();var h=new Wo;return this.cs.ws(function(){return function(g,y){return U.__awaiter(this,void 0,void 0,function(){var M,P,R,V,W;return U.__generator(this,function(re){switch(re.label){case 0:Cs((M=We(g)).ph)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,(ge=M.ju,_e=We(ge),_e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(ke){return _e.Sr.qo(ke)}))];case 2:return-1===(P=re.sent())?[2,void y.resolve()]:((R=M.Lh.get(P)||[]).push(y),M.Lh.set(P,R),[3,4]);case 3:return V=re.sent(),W=Rt(V,"Initialization of waitForPendingWrites() operation failed"),y.reject(W),[3,4];case 4:return[2]}var ge,_e})})}(u.fi,h)}),h.promise},f.prototype.listen=function(u,h,g){var y=this;this.L_();var M=new T(g),P=new ml(u,M,h);return this.cs.ws(function(){return hr(y.q_,P)}),function(){M.Zl(),y.cs.ws(function(){return Io(y.q_,P)})}},f.prototype.Q_=function(u){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new Wo,[2,(this.cs.ws(function(){return function(M,P,R){return U.__awaiter(this,void 0,void 0,function(){var V,W,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,2,,3]),[4,(_e=M,ke=P,et=We(_e),et.persistence.runTransaction("read document","readonly",function(ht){return et.Cc.Cr(ht,ke)}))];case 1:return(V=ge.sent())instanceof ci?R.resolve(V):V instanceof Lr?R.resolve(null):R.reject(new $(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return W=ge.sent(),re=Rt(W,"Failed to get document '"+P+" from cache"),R.reject(re),[3,3];case 3:return[2]}var _e,ke,et})})}(g.ju,u,h)}),h.promise)]}})})},f.prototype.W_=function(u,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(M){switch(M.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return M.sent(),g=new Wo,[2,(this.cs.ws(function(){return P=y.q_,R=y.cs,V=u,W=h,re=g,ge=new T({next:function(ke){R.ws(function(){return Io(P,_e)});var et=ke.docs.has(V);!et&&ke.fromCache?re.reject(new $(j.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&ke.fromCache&&W&&"server"===W.source?re.reject(new $(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(ke)},error:function(ke){return re.reject(ke)}}),_e=new ml(Ba(V.path),ge,{includeMetadataChanges:!0,Xs:!0}),hr(P,_e);var P,R,V,W,re,ge,_e}),g.promise)]}})})},f.prototype.j_=function(u){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new Wo,[2,(this.cs.ws(function(){return function(M,P,R){return U.__awaiter(this,void 0,void 0,function(){var V,W,re,ge,_e,ke;return U.__generator(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,cr(M,P,!0)];case 1:return V=et.sent(),W=new Ga(P,V.Fc),re=W.wh(V.documents),ge=W.yr(re,!1),R.resolve(ge.snapshot),[3,3];case 2:return _e=et.sent(),ke=Rt(_e,"Failed to execute query '"+P+" against cache"),R.reject(ke),[3,3];case 3:return[2]}})})}(g.ju,u,h)}),h.promise)]}})})},f.prototype.K_=function(u,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(M){switch(M.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return M.sent(),g=new Wo,[2,(this.cs.ws(function(){return P=y.q_,R=y.cs,V=u,W=h,re=g,ge=new T({next:function(ke){R.ws(function(){return Io(P,_e)}),ke.fromCache&&"server"===W.source?re.reject(new $(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(ke)},error:function(ke){return re.reject(ke)}}),_e=new ml(V,ge,{includeMetadataChanges:!0,Xs:!0}),hr(P,_e);var P,R,V,W,re,ge,_e}),g.promise)]}})})},f.prototype.write=function(u){var h=this;this.L_();var g=new Wo;return this.cs.ws(function(){return function(y,M,P){return U.__awaiter(this,void 0,void 0,function(){var R,V,W,re;return U.__generator(this,function(ge){switch(ge.label){case 0:R=Fu(y),ge.label=1;case 1:return ge.trys.push([1,5,,6]),[4,(_e=R.ju,ke=M,ht=We(_e),an=Qt.now(),Jt=ke.reduce(function(kn,ei){return kn.add(ei.key)},Qe()),ht.persistence.runTransaction("Locally write mutations","readwrite",function(kn){return ht.Cc.kr(kn,Jt).next(function(ei){et=ei;for(var bi=[],Mi=0,mr=ke;Mi<mr.length;Mi++){var ia=mr[Mi],el=Mu(ia,et.get(ia.key));null!=el&&bi.push(new Qr(ia.key,el,pi(el.proto.mapValue),Bi.exists(!0)))}return ht.Sr.ko(kn,an,bi,ke)})}).then(function(kn){var ei=kn.lr(et);return{batchId:kn.batchId,wr:ei}}))];case 2:return V=ge.sent(),R.Sh.xi(V.batchId),function(_e,ke,et){var ht=_e.Oh[_e.currentUser.ti()];ht||(ht=new $n(Ut)),ht=ht.ot(ke,et),_e.Oh[_e.currentUser.ti()]=ht}(R,V.batchId,P),[4,oe(R,V.wr)];case 3:return ge.sent(),[4,Xs(R.ph)];case 4:return ge.sent(),[3,6];case 5:return W=ge.sent(),re=Rt(W,"Failed to persist write"),P.reject(re),[3,6];case 6:return[2]}var _e,ke,et,ht,an,Jt})})}(h.fi,u,g)}),g.promise},f.prototype.U=function(){return this.bl.U},f.prototype.G_=function(u){var h=this;this.L_();var g=new T(u);return this.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(M=this.q_,P=g,We(M).qs.add(P),void P.next())];var M,P})})}),function(){g.Zl(),h.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(M=this.q_,P=g,void We(M).qs.delete(P))];var M,P})})})}},Object.defineProperty(f.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),f.prototype.transaction=function(u){var h=this;this.L_();var g=new Wo;return this.cs.ws(function(){return new m_(h.cs,h.Ku,u,g).run(),Promise.resolve()}),g.promise},f}();function Ed(f){return function(u,h){if("object"!=typeof u||null===u)return!1;for(var g=u,y=0,M=["next","error","complete"];y<M.length;y++){var P=M[y];if(P in g&&"function"==typeof g[P])return!0}return!1}(f)}var pp=function(){function f(u,h,g,y,M){this.U=u,this.timestampsInSnapshots=h,this.H_=g,this.Y_=y,this.J_=M}return f.prototype.X_=function(u){switch(tr(u)){case 0:return null;case 1:return u.booleanValue;case 2:return Mn(u.integerValue||u.doubleValue);case 3:return this.Z_(u.timestampValue);case 4:return this.tf(u);case 5:return u.stringValue;case 6:return this.J_(ki(u.bytesValue));case 7:return this.ef(u.referenceValue);case 8:return this.nf(u.geoPointValue);case 9:return this.sf(u.arrayValue);case 10:return this.if(u.mapValue);default:throw Re()}},f.prototype.if=function(u){var h=this,g={};return nt(u.fields||{},function(y,M){g[y]=h.X_(M)}),g},f.prototype.nf=function(u){return new Yn(Mn(u.latitude),Mn(u.longitude))},f.prototype.sf=function(u){var h=this;return(u.values||[]).map(function(g){return h.X_(g)})},f.prototype.tf=function(u){switch(this.H_){case"previous":var h=ai(u);return null==h?null:this.X_(h);case"estimate":return this.Z_(Gi(u));default:return null}},f.prototype.Z_=function(u){var h=os(u),g=new Qt(h.seconds,h.nanos);return this.timestampsInSnapshots?g:g.toDate()},f.prototype.ef=function(u){var h=he.g(u);at(Gn(h));var g=new sn(h.get(1),h.get(3)),y=new Le(h.u(5));return g.isEqual(this.U)||lt("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},f}(),g_=to.ho,Uu=function(){function f(u){var h,g,y,M,P;if(void 0===u.host){if(void 0!==u.ssl)throw new $(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else gi("settings","non-empty string","host",u.host),this.host=u.host,Pe("settings","boolean","ssl",u.ssl),this.ssl=null===(h=u.ssl)||void 0===h||h;if(Ct("settings",u,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Pe("settings","object","credentials",u.credentials),this.credentials=u.credentials,Pe("settings","boolean","timestampsInSnapshots",u.timestampsInSnapshots),Pe("settings","boolean","ignoreUndefinedProperties",u.ignoreUndefinedProperties),!0===u.timestampsInSnapshots?lt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===u.timestampsInSnapshots&&lt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(g=u.timestampsInSnapshots)||void 0===g||g,this.ignoreUndefinedProperties=null!==(y=u.ignoreUndefinedProperties)&&void 0!==y&&y,Pe("settings","number","cacheSizeBytes",u.cacheSizeBytes),void 0===u.cacheSizeBytes)this.cacheSizeBytes=to._o;else{if(u.cacheSizeBytes!==g_&&u.cacheSizeBytes<to.lo)throw new $(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+to.lo);this.cacheSizeBytes=u.cacheSizeBytes}Pe("settings","boolean","experimentalForceLongPolling",u.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(M=u.experimentalForceLongPolling)&&void 0!==M&&M,Pe("settings","boolean","experimentalAutoDetectLongPolling",u.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(P=u.experimentalAutoDetectLongPolling)&&void 0!==P&&P,function(R,V,W,re){if(!0===V&&!0===re)throw new $(j.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,u.experimentalForceLongPolling,0,u.experimentalAutoDetectLongPolling)}return f.prototype.isEqual=function(u){return this.host===u.host&&this.ssl===u.ssl&&this.timestampsInSnapshots===u.timestampsInSnapshots&&this.credentials===u.credentials&&this.cacheSizeBytes===u.cacheSizeBytes&&this.experimentalForceLongPolling===u.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===u.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===u.ignoreUndefinedProperties},f}(),vh=function(){function f(u,h,g,y){var M=this;if(void 0===g&&(g=new xd),void 0===y&&(y=new nf),this.rf=g,this.af=y,this.cf=null,this.uf=new Ke,this.INTERNAL={delete:function(){return U.__awaiter(M,void 0,void 0,function(){return U.__generator(this,function(V){switch(V.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return V.sent(),[2]}})})}},"object"==typeof u.options){var P=u;this.cf=P,this.__=f._f(P),this.ff=P.name,this.df=new Xi(h)}else{var R=u;if(!R.projectId)throw new $(j.INVALID_ARGUMENT,"Must provide projectId");this.__=new sn(R.projectId,R.database),this.ff="[DEFAULT]",this.df=new Tr}this.wf=new Uu({})}return Object.defineProperty(f.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ol(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),f.prototype.settings=function(u){ot("Firestore.settings",arguments,1),un("Firestore.settings","object",1,u),u.merge&&delete(u=Object.assign(Object.assign({},this.wf),u)).merge;var h=new Uu(u);if(this.lf&&!this.wf.isEqual(h))throw new $(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=h,void 0!==h.credentials&&(this.df=function(g){if(!g)return new Tr;switch(g.type){case"gapi":var y=g.client;return at(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new ap(y,g.sessionIndex||"0");case"provider":return g.client;default:throw new $(j.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(h.credentials))},f.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},f.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},f.prototype.enablePersistence=function(u){var h,g;if(this.lf)throw new $(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,M=!1;if(u&&(void 0!==u.experimentalTabSynchronization&&lt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(g=null!==(h=u.synchronizeTabs)&&void 0!==h?h:u.experimentalTabSynchronization)&&void 0!==g&&g,M=!!u.experimentalForceOwningTab&&u.experimentalForceOwningTab,y&&M))throw new $(j.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:M})},f.prototype.clearPersistence=function(){return U.__awaiter(this,void 0,void 0,function(){var u,h=this;return U.__generator(this,function(g){if(void 0!==this.lf&&!this.lf.z_)throw new $(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return u=new Wo,[2,(this.uf.bs(function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return M.sent(),u.resolve(),[3,3];case 2:return y=M.sent(),u.reject(y),[3,3];case 3:return[2]}})})}),u.promise)]})})},f.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(f.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),f.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},f.prototype.onSnapshotsInSync=function(u){return this.hf(),Ed(u)?this.lf.G_(u):(un("Firestore.onSnapshotsInSync","function",1,u),this.lf.G_({next:u}))},f.prototype.hf=function(){return this.lf||this.Ef(new xd,new nf,{jl:!1}),this.lf},f.prototype.Af=function(){return new zo(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},f.prototype.Ef=function(u,h,g){var y=this.Af();return this.lf=new Tm(this.df,this.uf),this.lf.start(y,u,h,g)},f._f=function(u){if(!Object.prototype.hasOwnProperty.call(u.options,"projectId"))throw new $(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var g=u.options.projectId;if(!g||"string"!=typeof g)throw new $(j.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new sn(g)},Object.defineProperty(f.prototype,"app",{get:function(){if(!this.cf)throw new $(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),f.prototype.collection=function(u){return ot("Firestore.collection",arguments,1),un("Firestore.collection","non-empty string",1,u),this.hf(),new cu(he.g(u),this,null)},f.prototype.doc=function(u){return ot("Firestore.doc",arguments,1),un("Firestore.doc","non-empty string",1,u),this.hf(),Pl.Rf(he.g(u),this,null)},f.prototype.collectionGroup=function(u){if(ot("Firestore.collectionGroup",arguments,1),un("Firestore.collectionGroup","non-empty string",1,u),u.indexOf("/")>=0)throw new $(j.INVALID_ARGUMENT,"Invalid collection ID '"+u+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new lf((h=u,new Ss(he.P(),h)),this,null);var h},f.prototype.runTransaction=function(u){var h=this;return ot("Firestore.runTransaction",arguments,1),un("Firestore.runTransaction","function",1,u),this.hf().transaction(function(g){return u(new Sm(h,g))})},f.prototype.batch=function(){return this.hf(),new SC(this)},Object.defineProperty(f,"logLevel",{get:function(){switch(Ne()){case pe.LogLevel.DEBUG:return"debug";case pe.LogLevel.ERROR:return"error";case pe.LogLevel.SILENT:return"silent";case pe.LogLevel.WARN:return"warn";case pe.LogLevel.INFO:return"info";case pe.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),f.setLogLevel=function(u){ot("Firestore.setLogLevel",arguments,1),qe("setLogLevel",["debug","error","silent","warn","info","verbose"],1,u),de.setLogLevel(u)},f.prototype.gf=function(){return this.wf.timestampsInSnapshots},f.prototype.Pf=function(){return this.wf},f}(),Sm=function(){function f(u,h){this.yf=u,this.Vf=h}return f.prototype.get=function(u){var h=this;ot("Transaction.get",arguments,1);var g=zu("Transaction.get",u,this.yf);return this.Vf.v_([g.f_]).then(function(y){if(!y||1!==y.length)return Re();var M=y[0];if(M instanceof Lr)return new cf(h.yf,g.f_,null,!1,!1,g.d_);if(M instanceof ci)return new cf(h.yf,g.f_,M,!1,!1,g.d_);throw Re()})},f.prototype.set=function(u,h,g){nn("Transaction.set",arguments,2,3);var y=zu("Transaction.set",u,this.yf);g=uf("Transaction.set",g);var M=na(y.d_,h,g),P=sf(this.yf.mf,"Transaction.set",y.f_,M,null!==y.d_,g);return this.Vf.set(y.f_,P),this},f.prototype.update=function(u,h,g){for(var y,M,P=[],R=3;R<arguments.length;R++)P[R-3]=arguments[R];return"string"==typeof h||h instanceof E?(Yt("Transaction.update",arguments,3),y=zu("Transaction.update",u,this.yf),M=af(this.yf.mf,"Transaction.update",y.f_,h,g,P)):(ot("Transaction.update",arguments,2),y=zu("Transaction.update",u,this.yf),M=mh(this.yf.mf,"Transaction.update",y.f_,h)),this.Vf.update(y.f_,M),this},f.prototype.delete=function(u){ot("Transaction.delete",arguments,1);var h=zu("Transaction.delete",u,this.yf);return this.Vf.delete(h.f_),this},f}(),SC=function(){function f(u){this.yf=u,this.pf=[],this.bf=!1}return f.prototype.set=function(u,h,g){nn("WriteBatch.set",arguments,2,3),this.vf();var y=zu("WriteBatch.set",u,this.yf);g=uf("WriteBatch.set",g);var M=na(y.d_,h,g),P=sf(this.yf.mf,"WriteBatch.set",y.f_,M,null!==y.d_,g);return this.pf=this.pf.concat(P.w_(y.f_,Bi.ze())),this},f.prototype.update=function(u,h,g){for(var y,M,P=[],R=3;R<arguments.length;R++)P[R-3]=arguments[R];return this.vf(),"string"==typeof h||h instanceof E?(Yt("WriteBatch.update",arguments,3),y=zu("WriteBatch.update",u,this.yf),M=af(this.yf.mf,"WriteBatch.update",y.f_,h,g,P)):(ot("WriteBatch.update",arguments,2),y=zu("WriteBatch.update",u,this.yf),M=mh(this.yf.mf,"WriteBatch.update",y.f_,h)),this.pf=this.pf.concat(M.w_(y.f_,Bi.exists(!0))),this},f.prototype.delete=function(u){ot("WriteBatch.delete",arguments,1),this.vf();var h=zu("WriteBatch.delete",u,this.yf);return this.pf=this.pf.concat(new Ir(h.f_,Bi.ze())),this},f.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},f.prototype.vf=function(){if(this.bf)throw new $(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},f}(),Pl=function(f){function u(h,g,y){var M=this;return(M=f.call(this,g.__,h,y)||this).f_=h,M.firestore=g,M.d_=y,M.lf=M.firestore.hf(),M}return U.__extends(u,f),u.Rf=function(h,g,y){if(h.length%2!=0)throw new $(j.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+h.R()+" has "+h.length);return new u(new Le(h),g,y)},Object.defineProperty(u.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parent",{get:function(){return new cu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),u.prototype.collection=function(h){if(ot("DocumentReference.collection",arguments,1),un("DocumentReference.collection","non-empty string",1,h),!h)throw new $(j.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var g=he.g(h);return new cu(this.f_.path.child(g),this.firestore,null)},u.prototype.isEqual=function(h){if(!(h instanceof u))throw In("isEqual","DocumentReference",1,h);return this.firestore===h.firestore&&this.f_.isEqual(h.f_)&&this.d_===h.d_},u.prototype.set=function(h,g){nn("DocumentReference.set",arguments,1,2),g=uf("DocumentReference.set",g);var y=na(this.d_,h,g),M=sf(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,g);return this.lf.write(M.w_(this.f_,Bi.ze()))},u.prototype.update=function(h,g){for(var y,M=[],P=2;P<arguments.length;P++)M[P-2]=arguments[P];return"string"==typeof h||h instanceof E?(Yt("DocumentReference.update",arguments,2),y=af(this.firestore.mf,"DocumentReference.update",this.f_,h,g,M)):(ot("DocumentReference.update",arguments,1),y=mh(this.firestore.mf,"DocumentReference.update",this.f_,h)),this.lf.write(y.w_(this.f_,Bi.exists(!0)))},u.prototype.delete=function(){return ot("DocumentReference.delete",arguments,0),this.lf.write([new Ir(this.f_,Bi.ze())])},u.prototype.onSnapshot=function(){for(var h,g,y,M=this,P=[],R=0;R<arguments.length;R++)P[R]=arguments[R];nn("DocumentReference.onSnapshot",arguments,1,4);var V={includeMetadataChanges:!1},W=0;"object"!=typeof P[W]||Ed(P[W])||(Ct("DocumentReference.onSnapshot",V=P[W],["includeMetadataChanges"]),Pe("DocumentReference.onSnapshot","boolean","includeMetadataChanges",V.includeMetadataChanges),W++);var re={includeMetadataChanges:V.includeMetadataChanges};if(Ed(P[W])){var ge=P[W];P[W]=null===(h=ge.next)||void 0===h?void 0:h.bind(ge),P[W+1]=null===(g=ge.error)||void 0===g?void 0:g.bind(ge),P[W+2]=null===(y=ge.complete)||void 0===y?void 0:y.bind(ge)}else un("DocumentReference.onSnapshot","function",W,P[W]),rn("DocumentReference.onSnapshot","function",W+1,P[W+1]),rn("DocumentReference.onSnapshot","function",W+2,P[W+2]);var _e={next:function(ke){P[W]&&P[W](M.Sf(ke))},error:P[W+1],complete:P[W+2]};return this.lf.listen(Ba(this.f_.path),re,_e)},u.prototype.get=function(h){var g=this;nn("DocumentReference.get",arguments,0,1),DC("DocumentReference.get",h);var y=this.firestore.hf();return h&&"cache"===h.source?y.Q_(this.f_).then(function(M){return new cf(g.firestore,g.f_,M,!0,M instanceof ci&&M.Je,g.d_)}):y.W_(this.f_,h).then(function(M){return g.Sf(M)})},u.prototype.withConverter=function(h){return new u(this.f_,this.firestore,h)},u.prototype.Sf=function(h){var g=h.docs.get(this.f_);return new cf(this.firestore,this.f_,g,h.fromCache,h.hasPendingWrites,this.d_)},u}(oo),Uy=function(){function f(u,h){this.hasPendingWrites=u,this.fromCache=h}return f.prototype.isEqual=function(u){return this.hasPendingWrites===u.hasPendingWrites&&this.fromCache===u.fromCache},f}(),cf=function(){function f(u,h,g,y,M,P){this.yf=u,this.f_=h,this.Df=g,this.Cf=y,this.Nf=M,this.d_=P}return f.prototype.data=function(u){var h=this;if(nn("DocumentSnapshot.data",arguments,0,1),u=bh("DocumentSnapshot.data",u),this.Df){if(this.d_){var g=new Dm(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(g,u)}return new pp(this.yf.__,this.yf.gf(),u.serverTimestamps||"none",function(y){return new Pl(y,h.yf,null)},function(y){return new Hi(y)}).X_(this.Df.rn())}},f.prototype.get=function(u,h){var g=this;if(nn("DocumentSnapshot.get",arguments,1,2),h=bh("DocumentSnapshot.get",h),this.Df){var y=this.Df.data().field(Md("DocumentSnapshot.get",u,this.f_));if(null!==y)return new pp(this.yf.__,this.yf.gf(),h.serverTimestamps||"none",function(M){return new Pl(M,g.yf,g.d_)},function(M){return new Hi(M)}).X_(y)}},Object.defineProperty(f.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new Pl(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"metadata",{get:function(){return new Uy(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(u){if(!(u instanceof f))throw In("isEqual","DocumentSnapshot",1,u);return this.yf===u.yf&&this.Cf===u.Cf&&this.f_.isEqual(u.f_)&&(null===this.Df?null===u.Df:this.Df.isEqual(u.Df))&&this.d_===u.d_},f}(),Dm=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.prototype.data=function(h){return f.prototype.data.call(this,h)},u}(cf);function Vu(f,u,h){if("string"==typeof h){if(""===h)throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eu(u)&&-1!==h.indexOf("/"))throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+h+"' contains a '/' character.");var g=u.path.child(he.g(h));if(!Le.F(g))throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+g+"' is not because it has an odd number of segments ("+g.length+").");return xo(f,new Le(g))}if(h instanceof oo)return xo(f,h.f_);throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gt(h)+".")}function yh(f,u){if(!Array.isArray(f)||0===f.length)throw new $(j.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+u.toString()+"' filters.");if(f.length>10)throw new $(j.INVALID_ARGUMENT,"Invalid Query. '"+u.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===u||"array-contains-any"===u){if(f.indexOf(null)>=0)throw new $(j.INVALID_ARGUMENT,"Invalid Query. '"+u.toString()+"' filters cannot contain 'null' in the value array.");if(f.filter(function(h){return Number.isNaN(h)}).length>0)throw new $(j.INVALID_ARGUMENT,"Invalid Query. '"+u.toString()+"' filters cannot contain 'NaN' in the value array.")}}function __(f,u,h){if(!h.isEqual(u))throw new $(j.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+u.toString()+"' and so you must also use '"+u.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+h.toString()+"' instead.")}function Bu(f){if(dc(f)&&0===f.on.length)throw new $(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lf=function(){function f(u,h,g){this.Ff=u,this.firestore=h,this.d_=g}return f.prototype.where=function(u,h,g){ot("Query.where",arguments,3),Tt("Query.where",3,g);var R,W,y=qe("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,h),M=Md("Query.where",u),P=function Il(f,u,h,g,y,M,P){var R;if(y.p()){if("array-contains"===M||"array-contains-any"===M)throw new $(j.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+M+"' queries on FieldPath.documentId().");if("in"===M||"not-in"===M){yh(P,M);for(var V=[],W=0,re=P;W<re.length;W++)V.push(Vu(g,f,re[W]));R={arrayValue:{values:V}}}else R=Vu(g,f,P)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||yh(P,M),R=Pm(h,u,P,"in"===M||"not-in"===M);var _e=Ur.create(y,M,R);return function(ke,et){if(et.hn()){var ht=yi(ke);if(null!==ht&&!ht.isEqual(et.field))throw new $(j.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ht.toString()+"' and '"+et.field.toString()+"'");var an=Zl(ke);null!==an&&__(0,et.field,an)}var Jt=function(kn,ei){for(var bi=0,Mi=kn.filters;bi<Mi.length;bi++){var mr=Mi[bi];if(ei.indexOf(mr.op)>=0)return mr.op}return null}(ke,function(kn){switch(kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==Jt)throw new $(j.INVALID_ARGUMENT,Jt===et.op?"Invalid query. You cannot use more than one '"+et.op.toString()+"' filter.":"Invalid query. You cannot use '"+et.op.toString()+"' filters with '"+Jt.toString()+"' filters.")}(f,_e),_e}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,M,y,g);return new f((W=(R=this.Ff).filters.concat([P]),new Ss(R.path,R.collectionGroup,R.on.slice(),W,R.limit,R.an,R.startAt,R.endAt)),this.firestore,this.d_)},f.prototype.orderBy=function(u,h){var g;if(nn("Query.orderBy",arguments,1,2),rn("Query.orderBy","non-empty string",2,h),void 0===h||"asc"===h)g="asc";else{if("desc"!==h)throw new $(j.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+h+"', expected 'asc' or 'desc'.");g="desc"}var P,V,y=Md("Query.orderBy",u),M=function xc(f,u,h){if(null!==f.startAt)throw new $(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new $(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new Ca(u,h);return function(y,M){if(null===Zl(y)){var P=yi(y);null!==P&&__(0,P,M.field)}}(f,g),g}(this.Ff,y,g);return new f((V=(P=this.Ff).on.concat([M]),new Ss(P.path,P.collectionGroup,V,P.filters.slice(),P.limit,P.an,P.startAt,P.endAt)),this.firestore,this.d_)},f.prototype.limit=function(u){return ot("Query.limit",arguments,1),un("Query.limit","number",1,u),dn("Query.limit",1,u),new f(eh(this.Ff,u,"F"),this.firestore,this.d_)},f.prototype.limitToLast=function(u){return ot("Query.limitToLast",arguments,1),un("Query.limitToLast","number",1,u),dn("Query.limitToLast",1,u),new f(eh(this.Ff,u,"L"),this.firestore,this.d_)},f.prototype.startAt=function(u){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.startAt",arguments,1);var y=this.xf("Query.startAt",u,h,!0);return new f(hc(this.Ff,y),this.firestore,this.d_)},f.prototype.startAfter=function(u){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",u,h,!1);return new f(hc(this.Ff,y),this.firestore,this.d_)},f.prototype.endBefore=function(u){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",u,h,!0);return new f(Eo(this.Ff,y),this.firestore,this.d_)},f.prototype.endAt=function(u){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.endAt",arguments,1);var y=this.xf("Query.endAt",u,h,!1);return new f(Eo(this.Ff,y),this.firestore,this.d_)},f.prototype.isEqual=function(u){if(!(u instanceof f))throw In("isEqual","Query",1,u);return this.firestore===u.firestore&&fc(this.Ff,u.Ff)&&this.d_===u.d_},f.prototype.withConverter=function(u){return new f(this.Ff,this.firestore,u)},f.prototype.xf=function(u,h,g,y){if(Tt(u,1,h),h instanceof cf)return ot(u,U.__spreadArrays([h],g),1),function(P,R,V,W,re){if(!W)throw new $(j.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+V+"().");for(var ge=[],_e=0,ke=Bc(P);_e<ke.length;_e++){var et=ke[_e];if(et.field.p())ge.push(xo(R,W.key));else{var ht=W.field(et.field);if(An(ht))throw new $(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){var an=et.field.R();throw new $(j.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+an+"' (used as the orderBy) does not exist.")}ge.push(ht)}}return new Oo(ge,re)}(this.Ff,this.firestore.__,u,h.Df,y);var M=[h].concat(g);return function(P,R,V,W,re,ge){var _e=P.on;if(re.length>_e.length)throw new $(j.INVALID_ARGUMENT,"Too many arguments provided to "+W+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var ke=[],et=0;et<re.length;et++){var ht=re[et];if(_e[et].field.p()){if("string"!=typeof ht)throw new $(j.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+W+"(), but got a "+typeof ht);if(!Eu(P)&&-1!==ht.indexOf("/"))throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+W+"() must be a plain document ID, but '"+ht+"' contains a slash.");var an=P.path.child(he.g(ht));if(!Le.F(an))throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+W+"() must result in a valid document path, but '"+an+"' is not because it contains an odd number of segments.");var Jt=new Le(an);ke.push(xo(R,Jt))}else{var kn=Pm(V,W,ht);ke.push(kn)}}return new Oo(ke,ge)}(this.Ff,this.firestore.__,this.firestore.mf,u,M,y)},f.prototype.onSnapshot=function(){for(var u,h,g,y=this,M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];nn("Query.onSnapshot",arguments,1,4);var R={},V=0;if("object"!=typeof M[V]||Ed(M[V])||(Ct("Query.onSnapshot",R=M[V],["includeMetadataChanges"]),Pe("Query.onSnapshot","boolean","includeMetadataChanges",R.includeMetadataChanges),V++),Ed(M[V])){var W=M[V];M[V]=null===(u=W.next)||void 0===u?void 0:u.bind(W),M[V+1]=null===(h=W.error)||void 0===h?void 0:h.bind(W),M[V+2]=null===(g=W.complete)||void 0===g?void 0:g.bind(W)}else un("Query.onSnapshot","function",V,M[V]),rn("Query.onSnapshot","function",V+1,M[V+1]),rn("Query.onSnapshot","function",V+2,M[V+2]);var re={next:function(ge){M[V]&&M[V](new Od(y.firestore,y.Ff,ge,y.d_))},error:M[V+1],complete:M[V+2]};return Bu(this.Ff),this.firestore.hf().listen(this.Ff,R,re)},f.prototype.get=function(u){var h=this;nn("Query.get",arguments,0,1),DC("Query.get",u),Bu(this.Ff);var g=this.firestore.hf();return(u&&"cache"===u.source?g.j_(this.Ff):g.K_(this.Ff,u)).then(function(y){return new Od(h.firestore,h.Ff,y,h.d_)})},f}(),Od=function(){function f(u,h,g,y){this.yf=u,this.$f=h,this.kf=g,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new Uy(g.hasPendingWrites,g.fromCache)}return Object.defineProperty(f.prototype,"docs",{get:function(){var u=[];return this.forEach(function(h){return u.push(h)}),u},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(u,h){var g=this;nn("QuerySnapshot.forEach",arguments,1,2),un("QuerySnapshot.forEach","function",1,u),this.kf.docs.forEach(function(y){u.call(h,g.Lf(y,g.metadata.fromCache,g.kf.Wt.has(y.key)))})},Object.defineProperty(f.prototype,"query",{get:function(){return new lf(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),f.prototype.docChanges=function(u){u&&(Ct("QuerySnapshot.docChanges",u,["includeMetadataChanges"]),Pe("QuerySnapshot.docChanges","boolean","includeMetadataChanges",u.includeMetadataChanges));var h=!(!u||!u.includeMetadataChanges);if(h&&this.kf.Kt)throw new $(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===h||(this.Mf=function(g,y,M){if(g.Qt.m()){var P=0;return g.docChanges.map(function(V){return{type:"added",doc:M(V.doc,g.fromCache,g.Wt.has(V.doc.key)),oldIndex:-1,newIndex:P++}})}var R=g.Qt;return g.docChanges.filter(function(V){return y||3!==V.type}).map(function(V){var W=M(V.doc,g.fromCache,g.Wt.has(V.doc.key)),re=-1,ge=-1;return 0!==V.type&&(re=R.indexOf(V.doc.key),R=R.delete(V.doc.key)),1!==V.type&&(ge=(R=R.add(V.doc)).indexOf(V.doc.key)),{type:AC(V.type),doc:W,oldIndex:re,newIndex:ge}})}(this.kf,h,this.Lf.bind(this)),this.Of=h),this.Mf},f.prototype.isEqual=function(u){if(!(u instanceof f))throw In("isEqual","QuerySnapshot",1,u);return this.yf===u.yf&&fc(this.$f,u.$f)&&this.kf.isEqual(u.kf)&&this.d_===u.d_},f.prototype.Lf=function(u,h,g){return new Dm(this.yf,u.key,u,h,g,this.d_)},f}(),cu=function(f){function u(h,g,y){var M=this;if((M=f.call(this,Ba(h),g,y)||this).Bf=h,h.length%2!=1)throw new $(j.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+h.R()+" has "+h.length);return M}return U.__extends(u,f),Object.defineProperty(u.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parent",{get:function(){var h=this.Ff.path.h();return h.m()?null:new Pl(new Le(h),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),u.prototype.doc=function(h){nn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(h=Tn.k()),un("CollectionReference.doc","non-empty string",1,h);var g=he.g(h);return Pl.Rf(this.Ff.path.child(g),this.firestore,this.d_)},u.prototype.add=function(h){ot("CollectionReference.add",arguments,1);var g=this.d_?this.d_.toFirestore(h):h;un("CollectionReference.add","object",1,g);var y=this.doc();return new Pl(y.f_,this.firestore,null).set(g).then(function(){return y})},u.prototype.withConverter=function(h){return new u(this.Bf,this.firestore,h)},u}(lf);function uf(f,u){if(void 0===u)return{merge:!1};if(Ct(f,u,["merge","mergeFields"]),Pe(f,"boolean","merge",u.merge),void 0!==(M=u.mergeFields)&&function(R,V,W,re,ge){if(!(re instanceof Array))throw new $(j.INVALID_ARGUMENT,"Function "+R+"() requires its "+V+" option to be an array, but it was: "+gt(re));for(var _e=0;_e<re.length;++_e)if(!ge(re[_e]))throw new $(j.INVALID_ARGUMENT,"Function "+R+"() requires all "+V+" elements to be a string or a FieldPath, but the value at index "+_e+" was: "+gt(re[_e]))}(f,"mergeFields",0,M,function(h){return"string"==typeof h||h instanceof E}),void 0!==u.mergeFields&&void 0!==u.merge)throw new $(j.INVALID_ARGUMENT,"Invalid options passed to function "+f+'(): You cannot specify both "merge" and "mergeFields".');var M;return u}function bh(f,u){return void 0===u?{}:(Ct(f,u,["serverTimestamps"]),we(f,0,"serverTimestamps",u.serverTimestamps,["estimate","previous","none"]),u)}function DC(f,u){rn(f,"object",1,u),u&&(Ct(f,u,["source"]),we(f,0,"source",u.source,["default","server","cache"]))}function zu(f,u,h){if(u instanceof oo){if(u.firestore!==h)throw new $(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}throw In(f,"DocumentReference",1,u)}function AC(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function na(f,u,h){return f?h&&(h.merge||h.mergeFields)?f.toFirestore(u,h):f.toFirestore(u):u}var Am=function(f){function u(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(u,f),u.serverTimestamp=function(){wt("FieldValue.serverTimestamp",arguments);var h=new Xe("serverTimestamp");return h.e_="FieldValue.serverTimestamp",new u(h)},u.delete=function(){wt("FieldValue.delete",arguments);var h=new J("deleteField");return h.e_="FieldValue.delete",new u(h)},u.arrayUnion=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Yt("FieldValue.arrayUnion",arguments,1);var y=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];return Yt("arrayUnion()",arguments,1),new At("arrayUnion",M)}.apply(void 0,h);return y.e_="FieldValue.arrayUnion",new u(y)},u.arrayRemove=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Yt("FieldValue.arrayRemove",arguments,1);var y=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];return Yt("arrayRemove()",arguments,1),new Nt("arrayRemove",M)}.apply(void 0,h);return y.e_="FieldValue.arrayRemove",new u(y)},u.increment=function(h){un("FieldValue.increment","number",1,h),ot("FieldValue.increment",arguments,1);var g=new pn("increment",h);return g.e_="FieldValue.increment",new u(g)},u.prototype.isEqual=function(h){return this.l_.isEqual(h.l_)},u}(ro),kE={Firestore:vh,GeoPoint:Yn,Timestamp:Qt,Blob:Hi,Transaction:Sm,WriteBatch:SC,DocumentReference:Pl,DocumentSnapshot:cf,Query:lf,QueryDocumentSnapshot:Dm,QuerySnapshot:Od,CollectionReference:cu,FieldPath:E,FieldValue:Am,setLogLevel:vh.setLogLevel,CACHE_SIZE_UNLIMITED:g_};!function kC(f){f.INTERNAL.registerComponent(new De.Component("firestore",function(g){return y=g.getProvider("app").getImmediate(),M=g.getProvider("auth-internal"),P=new nf,R=new h_(P),new vh(y,M,R,P);var y,M,P,R},"PUBLIC").setServiceProps(Object.assign({},kE))),f.registerVersion("@firebase/firestore","1.18.0")}(Ve.default)},8836:(en,Te,Q)=>{function o(){for(var de=0,Ne=0,me=arguments.length;Ne<me;Ne++)de+=arguments[Ne].length;var lt=Array(de),st=0;for(Ne=0;Ne<me;Ne++)for(var mt=arguments[Ne],Re=0,at=mt.length;Re<at;Re++,st++)lt[st]=mt[Re];return lt}Q.r(Te),Q.d(Te,{LogLevel:()=>pe,Logger:()=>Ve,setLogLevel:()=>j,setUserLogHandler:()=>$});var U,Y=[],pe=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(pe||{}),ce={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Ae=pe.INFO,De=((U={})[pe.DEBUG]="log",U[pe.VERBOSE]="log",U[pe.INFO]="info",U[pe.WARN]="warn",U[pe.ERROR]="error",U),ut=function(de,Ne){for(var me=[],lt=2;lt<arguments.length;lt++)me[lt-2]=arguments[lt];if(!(Ne<de.logLevel)){var st=(new Date).toISOString(),mt=De[Ne];if(!mt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[mt].apply(console,o(["["+st+"]  "+de.name+":"],me))}},Ve=function(){function de(Ne){this.name=Ne,this._logLevel=Ae,this._logHandler=ut,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(de.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in pe))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),de.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?ce[Ne]:Ne},Object.defineProperty(de.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),de.prototype.debug=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.DEBUG],Ne)),this._logHandler.apply(this,o([this,pe.DEBUG],Ne))},de.prototype.log=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.VERBOSE],Ne)),this._logHandler.apply(this,o([this,pe.VERBOSE],Ne))},de.prototype.info=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.INFO],Ne)),this._logHandler.apply(this,o([this,pe.INFO],Ne))},de.prototype.warn=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.WARN],Ne)),this._logHandler.apply(this,o([this,pe.WARN],Ne))},de.prototype.error=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.ERROR],Ne)),this._logHandler.apply(this,o([this,pe.ERROR],Ne))},de}();function j(de){Y.forEach(function(Ne){Ne.setLogLevel(de)})}function $(de,Ne){for(var me=function(Re){var at=null;Ne&&Ne.level&&(at=ce[Ne.level]),Re.userLogHandler=null===de?null:function(We,xe){for(var nt=[],Ze=2;Ze<arguments.length;Ze++)nt[Ze-2]=arguments[Ze];var it=nt.map(function(he){if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(function(he){return he}).join(" ");xe>=(at??We.logLevel)&&de({level:pe[xe].toLowerCase(),message:it,args:nt,type:We.name})}},lt=0,st=Y;lt<st.length;lt++)me(st[lt])}},3661:(en,Te,Q)=>{Object.defineProperty(Te,"__esModule",{value:!0});var o=Q(8005),U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Y=function(Oe,Ce){if(!Oe)throw pe(Ce)},pe=function(Oe){return new Error("Firebase Database ("+U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Oe)},ce=function(Oe){for(var Ce=[],Me=0,$e=0;$e<Oe.length;$e++){var Fe=Oe.charCodeAt($e);Fe<128?Ce[Me++]=Fe:Fe<2048?(Ce[Me++]=Fe>>6|192,Ce[Me++]=63&Fe|128):55296==(64512&Fe)&&$e+1<Oe.length&&56320==(64512&Oe.charCodeAt($e+1))?(Fe=65536+((1023&Fe)<<10)+(1023&Oe.charCodeAt(++$e)),Ce[Me++]=Fe>>18|240,Ce[Me++]=Fe>>12&63|128,Ce[Me++]=Fe>>6&63|128,Ce[Me++]=63&Fe|128):(Ce[Me++]=Fe>>12|224,Ce[Me++]=Fe>>6&63|128,Ce[Me++]=63&Fe|128)}return Ce},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Oe,Ce){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Me=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[],Fe=0;Fe<Oe.length;Fe+=3){var xt=Oe[Fe],gn=Fe+1<Oe.length,zt=gn?Oe[Fe+1]:0,Xt=Fe+2<Oe.length,Ht=Xt?Oe[Fe+2]:0,Zn=(15&zt)<<2|Ht>>6,Li=63&Ht;Xt||(Li=64,gn||(Zn=64)),$e.push(Me[xt>>2],Me[(3&xt)<<4|zt>>4],Me[Zn],Me[Li])}return $e.join("")},encodeString:function(Oe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Oe):this.encodeByteArray(ce(Oe),Ce)},decodeString:function(Oe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Oe):function(Oe){for(var Ce=[],Me=0,$e=0;Me<Oe.length;){var Fe=Oe[Me++];if(Fe<128)Ce[$e++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){var xt=Oe[Me++];Ce[$e++]=String.fromCharCode((31&Fe)<<6|63&xt)}else if(Fe>239&&Fe<365){var Xt=((7&Fe)<<18|(63&(xt=Oe[Me++]))<<12|(63&(gn=Oe[Me++]))<<6|63&Oe[Me++])-65536;Ce[$e++]=String.fromCharCode(55296+(Xt>>10)),Ce[$e++]=String.fromCharCode(56320+(1023&Xt))}else{xt=Oe[Me++];var gn=Oe[Me++];Ce[$e++]=String.fromCharCode((15&Fe)<<12|(63&xt)<<6|63&gn)}}return Ce.join("")}(this.decodeStringToByteArray(Oe,Ce))},decodeStringToByteArray:function(Oe,Ce){this.init_();for(var Me=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[],Fe=0;Fe<Oe.length;){var xt=Me[Oe.charAt(Fe++)],zt=Fe<Oe.length?Me[Oe.charAt(Fe)]:0,Ht=++Fe<Oe.length?Me[Oe.charAt(Fe)]:64,wi=++Fe<Oe.length?Me[Oe.charAt(Fe)]:64;if(++Fe,null==xt||null==zt||null==Ht||null==wi)throw Error();$e.push(xt<<2|zt>>4),64!==Ht&&($e.push(zt<<4&240|Ht>>2),64!==wi&&$e.push(Ht<<6&192|wi))}return $e},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}},Ve=function(Oe){try{return De.decodeString(Oe,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function $(Oe,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:return new Date(Ce.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return Ce}for(var $e in Ce)Ce.hasOwnProperty($e)&&(Oe[$e]=$(Oe[$e],Ce[$e]));return Oe}var de=function(){function Oe(){var Ce=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Me,$e){Ce.resolve=Me,Ce.reject=$e})}return Oe.prototype.wrapCallback=function(Ce){var Me=this;return function($e,Fe){$e?Me.reject($e):Me.resolve(Fe),"function"==typeof Ce&&(Me.promise.catch(function(){}),1===Ce.length?Ce($e):Ce($e,Fe))}},Oe}();function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var Le=function(Oe){function Ce(Me,$e){var Fe=Oe.call(this,$e)||this;return Fe.code=Me,Fe.name="FirebaseError",Object.setPrototypeOf(Fe,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fe,wt.prototype.create),Fe}return o.__extends(Ce,Oe),Ce}(Error),wt=function(){function Oe(Ce,Me,$e){this.service=Ce,this.serviceName=Me,this.errors=$e}return Oe.prototype.create=function(Ce){for(var Me=[],$e=1;$e<arguments.length;$e++)Me[$e-1]=arguments[$e];for(var Fe=Me[0]||{},xt=this.service+"/"+Ce,gn=this.errors[Ce],zt=gn?function ot(Oe,Ce){return Oe.replace(Yt,function(Me,$e){var Fe=Ce[$e];return null!=Fe?String(Fe):"<"+$e+"?>"})}(gn,Fe):"Error",Ht=new Le(xt,this.serviceName+": "+zt+" ("+xt+")."),Oi=0,wi=Object.keys(Fe);Oi<wi.length;Oi++){var Zn=wi[Oi];"_"!==Zn.slice(-1)&&(Zn in Ht&&console.warn('Overwriting FirebaseError base field "'+Zn+'" can cause unexpected behavior.'),Ht[Zn]=Fe[Zn])}return Ht},Oe}(),Yt=/\{\$([^}]+)}/g;function nn(Oe){return JSON.parse(Oe)}var rn=function(Oe){var Ce={},Me={},$e={},Fe="";try{var xt=Oe.split(".");Ce=nn(Ve(xt[0])||""),Me=nn(Ve(xt[1])||""),Fe=xt[2],$e=Me.d||{},delete Me.d}catch{}return{header:Ce,claims:Me,data:$e,signature:Fe}},dn=function(){function Oe(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ce=1;Ce<this.blockSize;++Ce)this.pad_[Ce]=0;this.reset()}return Oe.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Oe.prototype.compress_=function(Ce,Me){Me||(Me=0);var $e=this.W_;if("string"==typeof Ce)for(var Fe=0;Fe<16;Fe++)$e[Fe]=Ce.charCodeAt(Me)<<24|Ce.charCodeAt(Me+1)<<16|Ce.charCodeAt(Me+2)<<8|Ce.charCodeAt(Me+3),Me+=4;else for(Fe=0;Fe<16;Fe++)$e[Fe]=Ce[Me]<<24|Ce[Me+1]<<16|Ce[Me+2]<<8|Ce[Me+3],Me+=4;for(Fe=16;Fe<80;Fe++)$e[Fe]=4294967295&((xt=$e[Fe-3]^$e[Fe-8]^$e[Fe-14]^$e[Fe-16])<<1|xt>>>31);var wi,Zn,gn=this.chain_[0],zt=this.chain_[1],Xt=this.chain_[2],Ht=this.chain_[3],Oi=this.chain_[4];for(Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(wi=Ht^zt&(Xt^Ht),Zn=1518500249):(wi=zt^Xt^Ht,Zn=1859775393):Fe<60?(wi=zt&Xt|Ht&(zt|Xt),Zn=2400959708):(wi=zt^Xt^Ht,Zn=3395469782);var xt=(gn<<5|gn>>>27)+wi+Oi+Zn+$e[Fe]&4294967295;Oi=Ht,Ht=Xt,Xt=4294967295&(zt<<30|zt>>>2),zt=gn,gn=xt}this.chain_[0]=this.chain_[0]+gn&4294967295,this.chain_[1]=this.chain_[1]+zt&4294967295,this.chain_[2]=this.chain_[2]+Xt&4294967295,this.chain_[3]=this.chain_[3]+Ht&4294967295,this.chain_[4]=this.chain_[4]+Oi&4294967295},Oe.prototype.update=function(Ce,Me){if(null!=Ce){void 0===Me&&(Me=Ce.length);for(var $e=Me-this.blockSize,Fe=0,xt=this.buf_,gn=this.inbuf_;Fe<Me;){if(0===gn)for(;Fe<=$e;)this.compress_(Ce,Fe),Fe+=this.blockSize;if("string"==typeof Ce){for(;Fe<Me;)if(xt[gn]=Ce.charCodeAt(Fe),++Fe,++gn===this.blockSize){this.compress_(xt),gn=0;break}}else for(;Fe<Me;)if(xt[gn]=Ce[Fe],++Fe,++gn===this.blockSize){this.compress_(xt),gn=0;break}}this.inbuf_=gn,this.total_+=Me}},Oe.prototype.digest=function(){var Ce=[],Me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var $e=this.blockSize-1;$e>=56;$e--)this.buf_[$e]=255&Me,Me/=256;this.compress_(this.buf_);var Fe=0;for($e=0;$e<5;$e++)for(var xt=24;xt>=0;xt-=8)Ce[Fe]=this.chain_[$e]>>xt&255,++Fe;return Ce},Oe}(),fn=function(){function Oe(Ce,Me){var $e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(function(){Ce($e)}).catch(function(Fe){$e.error(Fe)})}return Oe.prototype.next=function(Ce){this.forEachObserver(function(Me){Me.next(Ce)})},Oe.prototype.error=function(Ce){this.forEachObserver(function(Me){Me.error(Ce)}),this.close(Ce)},Oe.prototype.complete=function(){this.forEachObserver(function(Ce){Ce.complete()}),this.close()},Oe.prototype.subscribe=function(Ce,Me,$e){var xt,Fe=this;if(void 0===Ce&&void 0===Me&&void 0===$e)throw new Error("Missing Observer.");xt=function Tn(Oe,Ce){if("object"!=typeof Oe||null===Oe)return!1;for(var Me=0,$e=Ce;Me<$e.length;Me++){var Fe=$e[Me];if(Fe in Oe&&"function"==typeof Oe[Fe])return!0}return!1}(Ce,["next","error","complete"])?Ce:{next:Ce,error:Me,complete:$e},void 0===xt.next&&(xt.next=Ut),void 0===xt.error&&(xt.error=Ut),void 0===xt.complete&&(xt.complete=Ut);var gn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Fe.finalError?xt.error(Fe.finalError):xt.complete()}catch{}}),this.observers.push(xt),gn},Oe.prototype.unsubscribeOne=function(Ce){void 0===this.observers||void 0===this.observers[Ce]||(delete this.observers[Ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Oe.prototype.forEachObserver=function(Ce){if(!this.finalized)for(var Me=0;Me<this.observers.length;Me++)this.sendOne(Me,Ce)},Oe.prototype.sendOne=function(Ce,Me){var $e=this;this.task.then(function(){if(void 0!==$e.observers&&void 0!==$e.observers[Ce])try{Me($e.observers[Ce])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})},Oe.prototype.close=function(Ce){var Me=this;this.finalized||(this.finalized=!0,void 0!==Ce&&(this.finalError=Ce),this.task.then(function(){Me.observers=void 0,Me.onNoObservers=void 0}))},Oe}();function Ut(){}function Un(Oe,Ce,Me){var $e="";switch(Ce){case 1:$e=Me?"first":"First";break;case 2:$e=Me?"second":"Second";break;case 3:$e=Me?"third":"Third";break;case 4:$e=Me?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Oe+" failed: "+($e+" argument ")}Te.CONSTANTS=U,Te.Deferred=de,Te.ErrorFactory=wt,Te.FirebaseError=Le,Te.MAX_VALUE_MILLIS=144e5,Te.RANDOM_FACTOR=.5,Te.Sha1=dn,Te.areCookiesEnabled=function ue(){return!(!navigator||!navigator.cookieEnabled)},Te.assert=Y,Te.assertionError=pe,Te.async=function tn(Oe,Ce){return function(){for(var Me=[],$e=0;$e<arguments.length;$e++)Me[$e]=arguments[$e];Promise.resolve(!0).then(function(){Oe.apply(void 0,Me)}).catch(function(Fe){Ce&&Ce(Fe)})}},Te.base64=De,Te.base64Decode=Ve,Te.base64Encode=function(Oe){var Ce=ce(Oe);return De.encodeByteArray(Ce,!0)},Te.calculateBackoffMillis=function jt(Oe,Ce,Me){void 0===Ce&&(Ce=1e3),void 0===Me&&(Me=2);var $e=Ce*Math.pow(Me,Oe),Fe=Math.round(.5*$e*(Math.random()-.5)*2);return Math.min(144e5,$e+Fe)},Te.contains=function je(Oe,Ce){return Object.prototype.hasOwnProperty.call(Oe,Ce)},Te.createSubscribe=function Ln(Oe,Ce){var Me=new fn(Oe,Ce);return Me.subscribe.bind(Me)},Te.decode=rn,Te.deepCopy=function j(Oe){return $(void 0,Oe)},Te.deepExtend=$,Te.errorPrefix=Un,Te.getUA=Ne,Te.isAdmin=function(Oe){var Ce=rn(Oe).claims;return"object"==typeof Ce&&!0===Ce.admin},Te.isBrowser=function st(){return"object"==typeof self&&self.self===self},Te.isBrowserExtension=function mt(){var Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id},Te.isElectron=function at(){return Ne().indexOf("Electron/")>=0},Te.isEmpty=function gt(Oe){for(var Ce in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Ce))return!1;return!0},Te.isIE=function We(){var Oe=Ne();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0},Te.isIndexedDBAvailable=function it(){return"indexedDB"in self&&null!=indexedDB},Te.isMobileCordova=function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},Te.isNode=lt,Te.isNodeSdk=function nt(){return!0===U.NODE_CLIENT||!0===U.NODE_ADMIN},Te.isReactNative=function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Te.isSafari=function Ze(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},Te.isUWP=function xe(){return Ne().indexOf("MSAppHost/")>=0},Te.isValidFormat=function(Oe){var Me=rn(Oe).claims;return!!Me&&"object"==typeof Me&&Me.hasOwnProperty("iat")},Te.isValidTimestamp=function(Oe){var Ce=rn(Oe).claims,Me=Math.floor((new Date).getTime()/1e3),$e=0,Fe=0;return"object"==typeof Ce&&(Ce.hasOwnProperty("nbf")?$e=Ce.nbf:Ce.hasOwnProperty("iat")&&($e=Ce.iat),Fe=Ce.hasOwnProperty("exp")?Ce.exp:$e+86400),!!Me&&!!$e&&!!Fe&&Me>=$e&&Me<=Fe},Te.issuedAtTime=function(Oe){var Ce=rn(Oe).claims;return"object"==typeof Ce&&Ce.hasOwnProperty("iat")?Ce.iat:null},Te.jsonEval=nn,Te.map=function Tt(Oe,Ce,Me){var $e={};for(var Fe in Oe)Object.prototype.hasOwnProperty.call(Oe,Fe)&&($e[Fe]=Ce.call(Me,Oe[Fe],Fe,Oe));return $e},Te.querystring=function Ct(Oe){for(var Ce=[],Me=function(Xt,Ht){Array.isArray(Ht)?Ht.forEach(function(Oi){Ce.push(encodeURIComponent(Xt)+"="+encodeURIComponent(Oi))}):Ce.push(encodeURIComponent(Xt)+"="+encodeURIComponent(Ht))},$e=0,Fe=Object.entries(Oe);$e<Fe.length;$e++){var xt=Fe[$e];Me(xt[0],xt[1])}return Ce.length?"&"+Ce.join("&"):""},Te.querystringDecode=function In(Oe){var Ce={};return Oe.replace(/^\?/,"").split("&").forEach(function($e){if($e){var Fe=$e.split("=");Ce[Fe[0]]=Fe[1]}}),Ce},Te.safeGet=function ct(Oe,Ce){if(Object.prototype.hasOwnProperty.call(Oe,Ce))return Oe[Ce]},Te.stringLength=function(Oe){for(var Ce=0,Me=0;Me<Oe.length;Me++){var $e=Oe.charCodeAt(Me);$e<128?Ce++:$e<2048?Ce+=2:$e>=55296&&$e<=56319?(Ce+=4,Me++):Ce+=3}return Ce},Te.stringToByteArray=function(Oe){for(var Ce=[],Me=0,$e=0;$e<Oe.length;$e++){var Fe=Oe.charCodeAt($e);if(Fe>=55296&&Fe<=56319){var xt=Fe-55296;$e++,Y($e<Oe.length,"Surrogate pair missing trail surrogate."),Fe=65536+(xt<<10)+(Oe.charCodeAt($e)-56320)}Fe<128?Ce[Me++]=Fe:Fe<2048?(Ce[Me++]=Fe>>6|192,Ce[Me++]=63&Fe|128):Fe<65536?(Ce[Me++]=Fe>>12|224,Ce[Me++]=Fe>>6&63|128,Ce[Me++]=63&Fe|128):(Ce[Me++]=Fe>>18|240,Ce[Me++]=Fe>>12&63|128,Ce[Me++]=Fe>>6&63|128,Ce[Me++]=63&Fe|128)}return Ce},Te.stringify=function un(Oe){return JSON.stringify(Oe)},Te.validateArgCount=function(Oe,Ce,Me,$e){var Fe;if($e<Ce?Fe="at least "+Ce:$e>Me&&(Fe=0===Me?"none":"no more than "+Me),Fe)throw new Error(Oe+" failed: Was called with "+$e+(1===$e?" argument.":" arguments.")+" Expects "+Fe+".")},Te.validateCallback=function Ei(Oe,Ce,Me,$e){if((!$e||Me)&&"function"!=typeof Me)throw new Error(Un(Oe,Ce,$e)+"must be a valid function.")},Te.validateContextObject=function Ai(Oe,Ce,Me,$e){if((!$e||Me)&&("object"!=typeof Me||null===Me))throw new Error(Un(Oe,Ce,$e)+"must be a valid context object.")},Te.validateIndexedDBOpenable=function he(){return new Promise(function(Oe,Ce){try{var Me=!0,$e="validate-browser-context-for-indexeddb-analytics-module",Fe=window.indexedDB.open($e);Fe.onsuccess=function(){Fe.result.close(),Me||window.indexedDB.deleteDatabase($e),Oe(!0)},Fe.onupgradeneeded=function(){Me=!1},Fe.onerror=function(){var xt;Ce((null===(xt=Fe.error)||void 0===xt?void 0:xt.message)||"")}}catch(xt){Ce(xt)}})},Te.validateNamespace=function zn(Oe,Ce,Me,$e){if((!$e||Me)&&"string"!=typeof Me)throw new Error(Un(Oe,Ce,$e)+"must be a valid firebase namespace.")}},8602:(en,Te,Q)=>{Q.r(Te),Q.d(Te,{ErrorCode:()=>Hc,EventType:()=>Po,WebChannel:()=>Ks,XhrIo:()=>qc,createWebChannelTransport:()=>cs,default:()=>Ha});var o=function(w,N){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ee){z.__proto__=ee}||function(z,ee){for(var ye in ee)Object.prototype.hasOwnProperty.call(ee,ye)&&(z[ye]=ee[ye])})(w,N)};function Y(w){var N="function"==typeof Symbol&&Symbol.iterator,z=N&&w[N],ee=0;if(z)return z.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&ee>=w.length&&(w=void 0),{value:w&&w[ee++],done:!w}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae=Ae||{},De=pe||self;function ut(){}function Ve(w){var N=typeof w;return"object"!=N?N:w?Array.isArray(w)?"array":N:"null"}function j(w){var N=Ve(w);return"array"==N||"object"==N&&"number"==typeof w.length}function $(w){var N=typeof w;return"object"==N&&null!=w||"function"==N}var Ne="closure_uid_"+(1e9*Math.random()>>>0),me=0;function lt(w,N,z){return w.call.apply(w.bind,arguments)}function st(w,N,z){if(!w)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,ee),w.apply(N,ye)}}return function(){return w.apply(N,arguments)}}function mt(w,N,z){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:st).apply(null,arguments)}function Re(w,N){var z=Array.prototype.slice.call(arguments,1);return function(){var ee=z.slice();return ee.push.apply(ee,arguments),w.apply(this,ee)}}var at=Date.now;function We(w,N){function z(){}z.prototype=N.prototype,w.S=N.prototype,w.prototype=new z,w.prototype.constructor=w}function xe(){this.j=this.j,this.i=this.i}xe.prototype.j=!1,xe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function de(w){Object.prototype.hasOwnProperty.call(w,Ne)&&w[Ne]||(w[Ne]=++me)}(this)},xe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ze=Array.prototype.indexOf?function(w,N){return Array.prototype.indexOf.call(w,N,void 0)}:function(w,N){if("string"==typeof w)return"string"!=typeof N||1!=N.length?-1:w.indexOf(N,0);for(var z=0;z<w.length;z++)if(z in w&&w[z]===N)return z;return-1},it=Array.prototype.forEach?function(w,N,z){Array.prototype.forEach.call(w,N,z)}:function(w,N,z){for(var ee=w.length,ye="string"==typeof w?w.split(""):w,Ke=0;Ke<ee;Ke++)Ke in ye&&N.call(z,ye[Ke],Ke,w)};function ue(w){return Array.prototype.concat.apply([],arguments)}function Ge(w){var N=w.length;if(0<N){for(var z=Array(N),ee=0;ee<N;ee++)z[ee]=w[ee];return z}return[]}function Le(w){return/^[\s\xa0]*$/.test(w)}var nn,wt=String.prototype.trim?function(w){return w.trim()}:function(w){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(w)[1]};function ot(w,N){return-1!=w.indexOf(N)}function Yt(w,N){return w<N?-1:w>N?1:0}e:{var un=De.navigator;if(un){var rn=un.userAgent;if(rn){nn=rn;break e}}nn=""}function gi(w,N,z){for(var ee in w)N.call(z,w[ee],ee,w)}function Pe(w){var N={};for(var z in w)N[z]=w[z];return N}var we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qe(w,N){for(var z,ee,ye=1;ye<arguments.length;ye++){for(z in ee=arguments[ye])w[z]=ee[z];for(var Ke=0;Ke<we.length;Ke++)z=we[Ke],Object.prototype.hasOwnProperty.call(ee,z)&&(w[z]=ee[z])}}function je(w){return je[" "](w),w}je[" "]=ut;var tn,w,gt=ot(nn,"Opera"),Tt=ot(nn,"Trident")||ot(nn,"MSIE"),Ct=ot(nn,"Edge"),In=Ct||Tt,dn=ot(nn,"Gecko")&&!(ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge"))&&!(ot(nn,"Trident")||ot(nn,"MSIE"))&&!ot(nn,"Edge"),Ln=ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge");function fn(){var w=De.document;return w?w.documentMode:void 0}e:{var Tn="",Ut=(w=nn,dn?/rv:([^\);]+)(\)|;)/.exec(w):Ct?/Edge\/([\d\.]+)/.exec(w):Tt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(w):Ln?/WebKit\/(\S+)/.exec(w):gt?/(?:Version)[ \/]?(\S+)/.exec(w):void 0);if(Ut&&(Tn=Ut?Ut[1]:""),Tt){var cn=fn();if(null!=cn&&cn>parseFloat(Tn)){tn=String(cn);break e}}tn=Tn}var Un={};function zn(w){return function ct(w,N){var z=Un;return Object.prototype.hasOwnProperty.call(z,w)?z[w]:z[w]=N(w)}(w,function(){for(var N=0,z=wt(String(tn)).split("."),ee=wt(String(w)).split("."),ye=Math.max(z.length,ee.length),Ke=0;0==N&&Ke<ye;Ke++){var Rt=z[Ke]||"",Wn=ee[Ke]||"";do{if(Rt=/(\d*)(\D*)(.*)/.exec(Rt)||["","","",""],Wn=/(\d*)(\D*)(.*)/.exec(Wn)||["","","",""],0==Rt[0].length&&0==Wn[0].length)break;N=Yt(0==Rt[1].length?0:parseInt(Rt[1],10),0==Wn[1].length?0:parseInt(Wn[1],10))||Yt(0==Rt[2].length,0==Wn[2].length)||Yt(Rt[2],Wn[2]),Rt=Rt[3],Wn=Wn[3]}while(0==N)}return 0<=N})}var ri=De.document&&Tt&&(fn()||parseInt(tn,10))||void 0,Hi=!Tt||9<=Number(ri),zo=Tt&&!zn("9"),sn=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var w=!1,N=Object.defineProperty({},"passive",{get:function(){w=!0}});try{De.addEventListener("test",ut,N),De.removeEventListener("test",ut,N)}catch{}return w}();function Kt(w,N){this.type=w,this.a=this.target=N,this.defaultPrevented=!1}function Qt(w,N){if(Kt.call(this,w?w.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,w){var z=this.type=w.type,ee=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.a=N,N=w.relatedTarget){if(dn){e:{try{je(N.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(N=null)}}else"mouseover"==z?N=w.fromElement:"mouseout"==z&&(N=w.toElement);this.relatedTarget=N,ee?(this.clientX=void 0!==ee.clientX?ee.clientX:ee.pageX,this.clientY=void 0!==ee.clientY?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType="string"==typeof w.pointerType?w.pointerType:jt[w.pointerType]||"",this.c=w,w.defaultPrevented&&this.b()}}Kt.prototype.b=function(){this.defaultPrevented=!0},We(Qt,Kt);var jt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var w=this.c;if(w.preventDefault)w.preventDefault();else if(w.returnValue=!1,zo)try{(w.ctrlKey||112<=w.keyCode&&123>=w.keyCode)&&(w.keyCode=-1)}catch{}};var Oe="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Me(w,N,z,ee,ye){this.listener=w,this.proxy=null,this.src=N,this.type=z,this.capture=!!ee,this.ca=ye,this.key=++Ce,this.Y=this.Z=!1}function $e(w){w.Y=!0,w.listener=null,w.proxy=null,w.src=null,w.ca=null}function Fe(w){this.src=w,this.a={},this.b=0}function xt(w,N){var z=N.type;if(z in w.a){var Ke,ee=w.a[z],ye=Ze(ee,N);(Ke=0<=ye)&&Array.prototype.splice.call(ee,ye,1),Ke&&($e(N),0==w.a[z].length&&(delete w.a[z],w.b--))}}function gn(w,N,z,ee){for(var ye=0;ye<w.length;++ye){var Ke=w[ye];if(!Ke.Y&&Ke.listener==N&&Ke.capture==!!z&&Ke.ca==ee)return ye}return-1}Fe.prototype.add=function(w,N,z,ee,ye){var Ke=w.toString();(w=this.a[Ke])||(w=this.a[Ke]=[],this.b++);var Rt=gn(w,N,ee,ye);return-1<Rt?(N=w[Rt],z||(N.Z=!1)):((N=new Me(N,this.src,Ke,!!ee,ye)).Z=z,w.push(N)),N};var zt="closure_lm_"+(1e6*Math.random()|0),Xt={};function Ht(w,N,z,ee,ye){if(ee&&ee.once)return Zn(w,N,z,ee,ye);if(Array.isArray(N)){for(var Ke=0;Ke<N.length;Ke++)Ht(w,N[Ke],z,ee,ye);return null}return z=fe(z),w&&w[Oe]?w.va(N,z,$(ee)?!!ee.capture:!!ee,ye):Oi(w,N,z,!1,ee,ye)}function Oi(w,N,z,ee,ye,Ke){if(!N)throw Error("Invalid event type");var Rt=$(ye)?!!ye.capture:!!ye;if(Rt&&!Hi)return null;var Wn=yr(w);if(Wn||(w[zt]=Wn=new Fe(w)),(z=Wn.add(N,z,ee,Rt,Ke)).proxy)return z;if(ee=function wi(){var w=Pi,N=Hi?function(z){return w.call(N.src,N.listener,z)}:function(z){if(!(z=w.call(N.src,N.listener,z)))return z};return N}(),z.proxy=ee,ee.src=w,ee.listener=z,w.addEventListener)sn||(ye=Rt),void 0===ye&&(ye=!1),w.addEventListener(N.toString(),ee,ye);else if(w.attachEvent)w.attachEvent(vr(N.toString()),ee);else{if(!w.addListener||!w.removeListener)throw Error("addEventListener and attachEvent are unavailable.");w.addListener(ee)}return z}function Zn(w,N,z,ee,ye){if(Array.isArray(N)){for(var Ke=0;Ke<N.length;Ke++)Zn(w,N[Ke],z,ee,ye);return null}return z=fe(z),w&&w[Oe]?w.wa(N,z,$(ee)?!!ee.capture:!!ee,ye):Oi(w,N,z,!0,ee,ye)}function Li(w,N,z,ee,ye){if(Array.isArray(N))for(var Ke=0;Ke<N.length;Ke++)Li(w,N[Ke],z,ee,ye);else ee=$(ee)?!!ee.capture:!!ee,z=fe(z),w&&w[Oe]?(w=w.c,(N=String(N).toString())in w.a&&-1<(z=gn(Ke=w.a[N],z,ee,ye))&&($e(Ke[z]),Array.prototype.splice.call(Ke,z,1),0==Ke.length&&(delete w.a[N],w.b--))):w&&(w=yr(w))&&(N=w.a[N.toString()],w=-1,N&&(w=gn(N,z,ee,ye)),(z=-1<w?N[w]:null)&&$n(z))}function $n(w){if("number"!=typeof w&&w&&!w.Y){var N=w.src;if(N&&N[Oe])xt(N.c,w);else{var z=w.type,ee=w.proxy;N.removeEventListener?N.removeEventListener(z,ee,w.capture):N.detachEvent?N.detachEvent(vr(z),ee):N.addListener&&N.removeListener&&N.removeListener(ee),(z=yr(N))?(xt(z,w),0==z.b&&(z.src=null,N[zt]=null)):$e(w)}}}function vr(w){return w in Xt?Xt[w]:Xt[w]="on"+w}function _i(w,N){var z=w.listener,ee=w.ca||w.src;return w.Z&&$n(w),z.call(ee,N)}function Pi(w,N){if(w.Y)return!0;if(!Hi){if(!N)e:{N=["window","event"];for(var z=De,ee=0;ee<N.length;ee++)if(null==(z=z[N[ee]])){N=null;break e}N=z}return _i(w,N=new Qt(N,this))}return _i(w,new Qt(N,this))}function yr(w){return(w=w[zt])instanceof Fe?w:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(w){return"function"==Ve(w)?w:(w[Co]||(w[Co]=function(N){return w.handleEvent(N)}),w[Co])}function le(){xe.call(this),this.c=new Fe(this),this.J=this,this.C=null}function X(w,N,z,ee){if(!(N=w.c.a[String(N)]))return!0;N=N.concat();for(var ye=!0,Ke=0;Ke<N.length;++Ke){var Rt=N[Ke];if(Rt&&!Rt.Y&&Rt.capture==z){var Wn=Rt.listener,ii=Rt.ca||Rt.src;Rt.Z&&xt(w.c,Rt),ye=!1!==Wn.call(ii,ee)&&ye}}return ye&&!ee.defaultPrevented}We(le,xe),le.prototype[Oe]=!0,(ce=le.prototype).addEventListener=function(w,N,z,ee){Ht(this,w,N,z,ee)},ce.removeEventListener=function(w,N,z,ee){Li(this,w,N,z,ee)},ce.dispatchEvent=function(w){var N,z=this.C;if(z)for(N=[];z;z=z.C)N.push(z);z=this.J;var ee=w.type||w;if("string"==typeof w)w=new Kt(w,z);else if(w instanceof Kt)w.target=w.target||z;else{var ye=w;qe(w=new Kt(ee,z),ye)}if(ye=!0,N)for(var Ke=N.length-1;0<=Ke;Ke--){var Rt=w.a=N[Ke];ye=X(Rt,ee,!0,w)&&ye}if(ye=X(Rt=w.a=z,ee,!0,w)&&ye,ye=X(Rt,ee,!1,w)&&ye,N)for(Ke=0;Ke<N.length;Ke++)ye=X(Rt=w.a=N[Ke],ee,!1,w)&&ye;return ye},ce.G=function(){if(le.S.G.call(this),this.c){var N,w=this.c;for(N in w.a){for(var z=w.a[N],ee=0;ee<z.length;ee++)$e(z[ee]);delete w.a[N],w.b--}}this.C=null},ce.va=function(w,N,z,ee){return this.c.add(String(w),N,!1,z,ee)},ce.wa=function(w,N,z,ee){return this.c.add(String(w),N,!0,z,ee)};var ne=De.JSON.stringify;function K(){this.b=this.a=null}var ti,Se=new(function(){function w(N,z,ee){this.f=ee,this.c=N,this.g=z,this.b=0,this.a=null}return w.prototype.get=function(){var N;return 0<this.b?(this.b--,this.a=(N=this.a).next,N.next=null):N=this.c(),N},w}())(function(){return new It},function(w){w.reset()},100);function Qe(){var w=Nn,N=null;return w.a&&(N=w.a,w.a=w.a.next,w.a||(w.b=null),N.next=null),N}function It(){this.next=this.b=this.a=null}function yn(w){De.setTimeout(function(){throw w},0)}function Vt(w,N){ti||function xn(){var w=De.Promise.resolve(void 0);ti=function(){w.then(br)}}(),di||(ti(),di=!0),Nn.add(w,N)}K.prototype.add=function(w,N){var z=Se.get();z.set(w,N),this.b?this.b.next=z:this.a=z,this.b=z},It.prototype.set=function(w,N){this.a=w,this.b=N,this.next=null},It.prototype.reset=function(){this.next=this.b=this.a=null};var di=!1,Nn=new K;function br(){for(var w;w=Qe();){try{w.a.call(w.b)}catch(z){yn(z)}var N=Se;N.g(w),N.b<N.f&&(N.b++,w.next=N.a,N.a=w)}di=!1}function rs(w,N){le.call(this),this.b=w||1,this.a=N||De,this.f=mt(this.Ya,this),this.g=at()}function Je(w){w.aa=!1,w.M&&(w.a.clearTimeout(w.M),w.M=null)}function He(w,N,z){if("function"==Ve(w))z&&(w=mt(w,z));else{if(!w||"function"!=typeof w.handleEvent)throw Error("Invalid listener argument");w=mt(w.handleEvent,w)}return 2147483647<Number(N)?-1:De.setTimeout(w,N||0)}function _t(w){w.a=He(function(){w.a=null,w.c&&(w.c=!1,_t(w))},w.h);var N=w.b;w.b=null,w.g.apply(null,N)}We(rs,le),(ce=rs.prototype).aa=!1,ce.M=null,ce.Ya=function(){if(this.aa){var w=at()-this.g;0<w&&w<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-w):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Je(this),this.start()))}},ce.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=at())},ce.G=function(){rs.S.G.call(this),Je(this),delete this.a};var Wt=function(w){function N(z,ee,ye){var Ke=w.call(this)||this;return Ke.g=null!=ye?z.bind(ye):z,Ke.h=ee,Ke.b=null,Ke.c=!1,Ke.a=null,Ke}return function U(w,N){function z(){this.constructor=w}o(w,N),w.prototype=null===N?Object.create(N):(z.prototype=N.prototype,new z)}(N,w),N.prototype.f=function(z){this.b=arguments,this.a?this.c=!0:_t(this)},N.prototype.G=function(){w.prototype.G.call(this),this.a&&(De.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},N}(xe);function kt(w){xe.call(this),this.b=w,this.a={}}We(kt,xe);var An=[];function ai(w,N,z,ee){Array.isArray(z)||(z&&(An[0]=z.toString()),z=An);for(var ye=0;ye<z.length;ye++){var Ke=Ht(N,z[ye],ee||w.handleEvent,!1,w.b||w);if(!Ke)break;w.a[Ke.key]=Ke}}function Gi(w){gi(w.a,function(N,z){this.a.hasOwnProperty(z)&&$n(N)},w),w.a={}}function Yi(){this.a=!0}function wo(w,N,z,ee){w.info(function(){return"XMLHTTP TEXT ("+N+"): "+function Cr(w,N){if(!w.a)return N;if(!N)return null;try{var z=JSON.parse(N);if(z)for(w=0;w<z.length;w++)if(Array.isArray(z[w])){var ee=z[w];if(!(2>ee.length)){var ye=ee[1];if(Array.isArray(ye)&&!(1>ye.length)){var Ke=ye[0];if("noop"!=Ke&&"stop"!=Ke&&"close"!=Ke)for(var Rt=1;Rt<ye.length;Rt++)ye[Rt]=""}}}return ne(z)}catch{return N}}(w,z)+(ee?" "+ee:"")})}kt.prototype.G=function(){kt.S.G.call(this),Gi(this)},kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yi.prototype.info=function(){};var vs=null;function Os(){return vs=vs||new le}function os(w){Kt.call(this,"serverreachability",w)}function Mn(w){var N=Os();N.dispatchEvent(new os(N,w))}function ki(w){Kt.call(this,"statevent",w)}function xo(w){var N=Os();N.dispatchEvent(new ki(N,w))}function Hn(w){Kt.call(this,"timingevent",w)}function Sc(w,N){if("function"!=Ve(w))throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){w()},N)}We(os,Kt),We(ki,Kt),We(Hn,Kt);var cc={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Wr={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ps(){}function xu(){}Ps.prototype.a=null;var ho,da={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Dc(){Kt.call(this,"d")}function Ac(){Kt.call(this,"c")}function ha(){}function dl(w,N,z,ee){this.g=w,this.c=N,this.f=z,this.T=ee||1,this.J=new kt(this),this.P=jo,this.R=new rs(w=In?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}We(Dc,Kt),We(Ac,Kt),We(ha,Ps),ho=new ha;var jo=45e3,Mo={},wr={};function lc(w,N,z){w.H=1,w.i=ss(Mt(N)),w.j=z,w.I=!0,fa(w,null)}function fa(w,N){w.u=at(),pa(w),w.l=Mt(w.i);var z=w.l,ee=w.T;Array.isArray(ee)||(ee=[String(ee)]),Bi(z.b,"t",ee),w.D=0,w.a=Ys(w.g,w.g.C?N:null),0<w.O&&(w.F=new Wt(mt(w.Ca,w,w.a),w.O)),ai(w.J,w.a,"readystatechange",w.Wa),N=w.B?Pe(w.B):{},w.j?(w.m||(w.m="POST"),N["Content-Type"]="application/x-www-form-urlencoded",w.a.ba(w.l,w.m,w.j,N)):(w.m="GET",w.a.ba(w.l,w.m,null,N)),Mn(1),function tr(w,N,z,ee,ye,Ke){w.info(function(){if(w.a)if(Ke)for(var Rt="",Wn=Ke.split("&"),ii=0;ii<Wn.length;ii++){var hr=Wn[ii].split("=");if(1<hr.length){var Io=hr[0];hr=hr[1];var ls=Io.split("_");Rt=2<=ls.length&&"type"==ls[1]?Rt+(Io+"=")+hr+"&":Rt+(Io+"=redacted&")}}else Rt=null;else Rt=Ke;return"XMLHTTP REQ ("+ee+") [attempt "+ye+"]: "+N+"\n"+z+"\n"+Rt})}(w.c,w.m,w.l,w.f,w.T,w.j)}function Ui(w,N,z){for(var ee=!0;!w.A&&w.D<z.length;){var ye=kc(w,z);if(ye==wr){4==N&&(w.h=4,xo(14),ee=!1),wo(w.c,w.f,null,"[Incomplete Response]");break}if(ye==Mo){w.h=4,xo(15),wo(w.c,w.f,z,"[Invalid Chunk]"),ee=!1;break}wo(w.c,w.f,ye,null),xr(w,ye)}4==N&&0==z.length&&(w.h=1,xo(16),ee=!1),w.b=w.b&&ee,ee?0<z.length&&!w.W&&(w.W=!0,(N=w.g).a==w&&N.V&&!N.F&&(N.c.info("Great, no buffering proxy detected. Bytes received: "+z.length),Go(N),N.F=!0)):(wo(w.c,w.f,z,"[Invalid Chunked Response]"),Vi(w),qn(w))}function kc(w,N){var z=w.D,ee=N.indexOf("\n",z);return-1==ee?wr:(z=Number(N.substring(z,ee)),isNaN(z)?Mo:(ee+=1)+z>N.length?wr:(N=N.substr(ee,z),w.D=ee+z,N))}function pa(w){w.U=at()+w.P,Is(w,w.P)}function Is(w,N){if(null!=w.o)throw Error("WatchDog timer not null");w.o=Sc(mt(w.Ua,w),N)}function uc(w){w.o&&(De.clearTimeout(w.o),w.o=null)}function qn(w){0==w.g.v||w.A||eo(w.g,w)}function Vi(w){uc(w);var N=w.F;N&&"function"==typeof N.ja&&N.ja(),w.F=null,Je(w.R),Gi(w.J),w.a&&(N=w.a,w.a=null,N.abort(),N.ja())}function xr(w,N){try{var z=w.g;if(0!=z.v&&(z.a==w||or(z.b,w)))if(z.I=w.N,!w.C&&or(z.b,w)&&3==z.v){try{var ee=z.ka.a.parse(N)}catch{ee=null}if(Array.isArray(ee)&&3==ee.length){var ye=ee;if(0==ye[0]){e:if(!z.j){if(z.a){if(!(z.a.u+3e3<w.u))break e;za(z),Eo(z)}zc(z),xo(18)}}else z.oa=ye[1],0<z.oa-z.P&&37500>ye[2]&&z.H&&0==z.o&&!z.m&&(z.m=Sc(mt(z.Ra,z),6e3));if(1>=Nr(z.b)&&z.ea){try{z.ea()}catch{}z.ea=void 0}}else Oo(z,11)}else if((w.C||z.a==w)&&za(z),!Le(N))for(N=ee=z.ka.a.parse(N),ee=0;ee<N.length;ee++)if(z.P=(ye=N[ee])[0],ye=ye[1],2==z.v)if("c"==ye[0]){z.J=ye[1],z.ga=ye[2];var Ke=ye[3];null!=Ke&&(z.ha=Ke,z.c.info("VER="+z.ha));var Rt=ye[4];null!=Rt&&(z.pa=Rt,z.c.info("SVER="+z.pa));var Wn=ye[5];if(null!=Wn&&"number"==typeof Wn&&0<Wn){var ii=1.5*Wn;z.D=ii,z.c.info("backChannelRequestTimeoutMs_="+ii)}ii=z;var hr=w.a;if(hr){var Io=hr.a?hr.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var ls=ii.b;!ls.a&&(ot(Io,"spdy")||ot(Io,"quic")||ot(Io,"h2"))&&(ls.f=ls.g,ls.a=new Set,ls.b&&(Qr(ls,ls.b),ls.b=null))}if(ii.A){var Zc=hr.a?hr.a.getResponseHeader("X-HTTP-Session-Id"):null;Zc&&(ii.na=Zc,Gn(ii.B,ii.A,Zc))}}z.v=3,z.f&&z.f.ta(),z.V&&(z.N=at()-w.u,z.c.info("Handshake RTT: "+z.N+"ms"));var Qs=w;if((ii=z).la=Gl(ii,ii.C?ii.ga:null,ii.fa),Qs.C){_a(ii.b,Qs);var ml=Qs,To=ii.D;To&&ml.setTimeout(To),ml.o&&(uc(ml),pa(ml)),ii.a=Qs}else ba(ii);0<z.g.length&&Ds(z)}else"stop"!=ye[0]&&"close"!=ye[0]||Oo(z,7);else 3==z.v&&("stop"==ye[0]||"close"==ye[0]?"stop"==ye[0]?Oo(z,7):hc(z):"noop"!=ye[0]&&z.f&&z.f.sa(ye),z.o=0);Mn(4)}catch{}}function Mr(w,N){if(w.forEach&&"function"==typeof w.forEach)w.forEach(N,void 0);else if(j(w)||"string"==typeof w)it(w,N,void 0);else{if(w.L&&"function"==typeof w.L)var z=w.L();else if(w.K&&"function"==typeof w.K)z=void 0;else if(j(w)||"string"==typeof w){z=[];for(var ee=w.length,ye=0;ye<ee;ye++)z.push(ye)}else for(ye in z=[],ee=0,w)z[ee++]=ye;ee=function La(w){if(w.K&&"function"==typeof w.K)return w.K();if("string"==typeof w)return w.split("");if(j(w)){for(var N=[],z=w.length,ee=0;ee<z;ee++)N.push(w[ee]);return N}for(ee in N=[],z=0,w)N[z++]=w[ee];return N}(w),ye=ee.length;for(var Ke=0;Ke<ye;Ke++)N.call(void 0,ee[Ke],z&&z[Ke],w)}}function Rc(w,N){this.b={},this.a=[],this.c=0;var z=arguments.length;if(1<z){if(z%2)throw Error("Uneven number of arguments");for(var ee=0;ee<z;ee+=2)this.set(arguments[ee],arguments[ee+1])}else if(w)if(w instanceof Rc)for(z=w.L(),ee=0;ee<z.length;ee++)this.set(z[ee],w.get(z[ee]));else for(ee in w)this.set(ee,w[ee])}function Nc(w){if(w.c!=w.a.length){for(var N=0,z=0;N<w.a.length;){var ee=w.a[N];Ho(w.b,ee)&&(w.a[z++]=ee),N++}w.a.length=z}if(w.c!=w.a.length){var ye={};for(z=N=0;N<w.a.length;)Ho(ye,ee=w.a[N])||(w.a[z++]=ee,ye[ee]=1),N++;w.a.length=z}}function Ho(w,N){return Object.prototype.hasOwnProperty.call(w,N)}(ce=dl.prototype).setTimeout=function(w){this.P=w},ce.Wa=function(w){w=w.target;var N=this.F;N&&3==yi(w)?N.f():this.Ca(w)},ce.Ca=function(w){try{if(w==this.a)e:{var N=yi(this.a),z=this.a.ua(),ee=this.a.X();if(!(3>N||3==N&&!In&&!this.a.$())){this.A||4!=N||7==z||Mn(8==z||0>=ee?3:2),uc(this);var ye=this.a.X();this.N=ye;var Ke=this.a.$();if(this.b=200==ye,function jr(w,N,z,ee,ye,Ke,Rt){w.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+ye+"]: "+N+"\n"+z+"\n"+Ke+" "+Rt})}(this.c,this.m,this.l,this.f,this.T,N,ye),this.b){if(this.V&&!this.C){t:{if(this.a){var Rt,Wn=this.a;if((Rt=Wn.a?Wn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(Rt)){var ii=Rt;break t}}ii=null}if(!ii){this.b=!1,this.h=3,xo(12),Vi(this),qn(this);break e}wo(this.c,this.f,ii,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,xr(this,ii)}this.I?(Ui(this,N,Ke),In&&this.b&&3==N&&(ai(this.J,this.R,"tick",this.Va),this.R.start())):(wo(this.c,this.f,Ke,null),xr(this,Ke)),4==N&&Vi(this),this.b&&!this.A&&(4==N?eo(this.g,this):(this.b=!1,pa(this)))}else 400==ye&&0<Ke.indexOf("Unknown SID")?(this.h=3,xo(12)):(this.h=0,xo(13)),Vi(this),qn(this)}}}catch{}},ce.Va=function(){if(this.a){var w=yi(this.a),N=this.a.$();this.D<N.length&&(uc(this),Ui(this,w,N),this.b&&4!=w&&pa(this))}},ce.cancel=function(){this.A=!0,Vi(this)},ce.Ua=function(){this.o=null;var w=at();0<=w-this.U?(function Na(w,N){w.info(function(){return"TIMEOUT: "+N})}(this.c,this.l),2!=this.H&&(Mn(3),xo(17)),Vi(this),this.h=2,qn(this)):Is(this,this.U-w)},(ce=Rc.prototype).K=function(){Nc(this);for(var w=[],N=0;N<this.a.length;N++)w.push(this.b[this.a[N]]);return w},ce.L=function(){return Nc(this),this.a.concat()},ce.get=function(w,N){return Ho(this.b,w)?this.b[w]:N},ce.set=function(w,N){Ho(this.b,w)||(this.c++,this.a.push(w)),this.b[w]=N},ce.forEach=function(w,N){for(var z=this.L(),ee=0;ee<z.length;ee++){var ye=z[ee],Ke=this.get(ye);w.call(N,Ke,ye,this)}};var $s=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ri(w,N){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,w instanceof Ri){this.a=void 0!==N?N:w.a,En(this,w.f),this.j=w.j,Ii(this,w.c),fo(this,w.h),this.g=w.g,N=w.b;var z=new ur;z.c=N.c,N.a&&(z.a=new Rc(N.a),z.b=N.b),Gs(this,z),this.i=w.i}else w&&(z=String(w).match($s))?(this.a=!!N,En(this,z[1]||"",!0),this.j=as(z[2]||""),Ii(this,z[3]||"",!0),fo(this,z[4]),this.g=as(z[5]||"",!0),Gs(this,z[6]||"",!0),this.i=as(z[7]||"")):(this.a=!!N,this.b=new ur(null,this.a))}function Mt(w){return new Ri(w)}function En(w,N,z){w.f=z?as(N,!0):N,w.f&&(w.f=w.f.replace(/:$/,""))}function Ii(w,N,z){w.c=z?as(N,!0):N}function fo(w,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);w.h=N}else w.h=null}function Gs(w,N,z){N instanceof ur?(w.b=N,function Kr(w,N){N&&!w.f&&(Pr(w),w.c=null,w.a.forEach(function(z,ee){var ye=ee.toLowerCase();ee!=ye&&(ga(this,ee),Bi(this,ye,z))},w)),w.f=N}(w.b,w.a)):(z||(N=on(N,Ts)),w.b=new ur(N,w.a))}function Gn(w,N,z){w.b.set(N,z)}function ss(w){return Gn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^at()).toString(36)),w}function as(w,N){return w?N?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function on(w,N,z){return"string"==typeof w?(w=encodeURI(w).replace(N,Yr),z&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Yr(w){return"%"+((w=w.charCodeAt(0))>>4&15).toString(16)+(15&w).toString(16)}Ri.prototype.toString=function(){var w=[],N=this.f;N&&w.push(on(N,Hl,!0),":");var z=this.c;return(z||"file"==N)&&(w.push("//"),(N=this.j)&&w.push(on(N,Hl,!0),"@"),w.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(z=this.h)&&w.push(":",String(z))),(z=this.g)&&(this.c&&"/"!=z.charAt(0)&&w.push("/"),w.push(on(z,"/"==z.charAt(0)?Or:Er,!0))),(z=this.b.toString())&&w.push("?",z),(z=this.i)&&w.push("#",on(z,qo)),w.join("")};var Hl=/[#\/\?@]/g,Er=/[#\?:]/g,Or=/[#\?]/g,Ts=/[#\?@]/g,qo=/#/g;function ur(w,N){this.b=this.a=null,this.c=w||null,this.f=!!N}function Pr(w){w.a||(w.a=new Rc,w.b=0,w.c&&function Fc(w,N){if(w){w=w.split("&");for(var z=0;z<w.length;z++){var ee=w[z].indexOf("="),ye=null;if(0<=ee){var Ke=w[z].substring(0,ee);ye=w[z].substring(ee+1)}else Ke=w[z];N(Ke,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}(w.c,function(N,z){w.add(decodeURIComponent(N.replace(/\+/g," ")),z)}))}function ga(w,N){Pr(w),N=Zo(w,N),Ho(w.a.b,N)&&(w.c=null,w.b-=w.a.get(N).length,Ho((w=w.a).b,N)&&(delete w.b[N],w.c--,w.a.length>2*w.c&&Nc(w)))}function Ua(w,N){return Pr(w),N=Zo(w,N),Ho(w.a.b,N)}function Bi(w,N,z){ga(w,N),0<z.length&&(w.c=null,w.a.set(Zo(w,N),Ge(z)),w.b+=z.length)}function Zo(w,N){return N=String(N),w.f&&(N=N.toLowerCase()),N}function ni(w,N){this.b=w,this.a=N}function Lc(w){this.g=w||Mu,w=De.PerformanceNavigationTiming?0<(w=De.performance.getEntriesByType("navigation")).length&&("hq"==w[0].nextHopProtocol||"h2"==w[0].nextHopProtocol):!!(De.ia&&De.ia.ya&&De.ia.ya()&&De.ia.ya().qb),this.f=w?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ce=ur.prototype).add=function(w,N){Pr(this),this.c=null,w=Zo(this,w);var z=this.a.get(w);return z||this.a.set(w,z=[]),z.push(N),this.b+=1,this},ce.forEach=function(w,N){Pr(this),this.a.forEach(function(z,ee){it(z,function(ye){w.call(N,ye,ee,this)},this)},this)},ce.L=function(){Pr(this);for(var w=this.a.K(),N=this.a.L(),z=[],ee=0;ee<N.length;ee++)for(var ye=w[ee],Ke=0;Ke<ye.length;Ke++)z.push(N[ee]);return z},ce.K=function(w){Pr(this);var N=[];if("string"==typeof w)Ua(this,w)&&(N=ue(N,this.a.get(Zo(this,w))));else{w=this.a.K();for(var z=0;z<w.length;z++)N=ue(N,w[z])}return N},ce.set=function(w,N){return Pr(this),this.c=null,Ua(this,w=Zo(this,w))&&(this.b-=this.a.get(w).length),this.a.set(w,[N]),this.b+=1,this},ce.get=function(w,N){return w&&0<(w=this.K(w)).length?String(w[0]):N},ce.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var w=[],N=this.a.L(),z=0;z<N.length;z++){var ee=N[z],ye=encodeURIComponent(String(ee));ee=this.K(ee);for(var Ke=0;Ke<ee.length;Ke++){var Rt=ye;""!==ee[Ke]&&(Rt+="="+encodeURIComponent(String(ee[Ke]))),w.push(Rt)}}return this.c=w.join("&")};var Mu=10;function Va(w){return!!w.b||!!w.a&&w.a.size>=w.f}function Nr(w){return w.b?1:w.a?w.a.size:0}function or(w,N){return w.b?w.b==N:!!w.a&&w.a.has(N)}function Qr(w,N){w.a?w.a.add(N):w.b=N}function _a(w,N){w.b&&w.b==N?w.b=null:w.a&&w.a.has(N)&&w.a.delete(N)}function qi(w){var N,z;if(null!=w.b)return w.c.concat(w.b.s);if(null!=w.a&&0!==w.a.size){var ee=w.c;try{for(var ye=Y(w.a.values()),Ke=ye.next();!Ke.done;Ke=ye.next())ee=ee.concat(Ke.value.s)}catch(Wn){N={error:Wn}}finally{try{Ke&&!Ke.done&&(z=ye.return)&&z.call(ye)}finally{if(N)throw N.error}}return ee}return Ge(w.c)}function hl(){}function Jr(){this.a=new hl}function Ir(w,N,z){var ee=z||"";try{Mr(w,function(ye,Ke){var Rt=ye;$(ye)&&(Rt=ne(ye)),N.push(ee+Ke+"="+encodeURIComponent(Rt))})}catch(ye){throw N.push(ee+"type="+encodeURIComponent("_badmap")),ye}}function Fr(w,N,z,ee,ye){try{N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null,ye(ee)}catch{}}Lc.prototype.cancel=function(){var w,N;if(this.c=qi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var z=Y(this.a.values()),ee=z.next();!ee.done;ee=z.next())ee.value.cancel()}catch(Ke){w={error:Ke}}finally{try{ee&&!ee.done&&(N=z.return)&&N.call(z)}finally{if(w)throw w.error}}this.a.clear()}},hl.prototype.stringify=function(w){return De.JSON.stringify(w,void 0)},hl.prototype.parse=function(w){return De.JSON.parse(w,void 0)};var Xr=De.JSON.parse;function pi(w){le.call(this),this.headers=new Rc,this.H=w||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=va,this.D=this.F=!1}We(pi,le);var va="",ci=/^https?$/i,Lr=["POST","PUT"];function Ss(w){return"content-type"==w.toLowerCase()}function Uc(w,N){w.b=!1,w.a&&(w.g=!0,w.a.abort(),w.g=!1),w.f=N,w.h=5,Ba(w),dc(w)}function Ba(w){w.u||(w.u=!0,w.dispatchEvent("complete"),w.dispatchEvent("error"))}function Vc(w){if(w.b&&typeof Ae<"u"&&(!w.s[1]||4!=yi(w)||2!=w.X()))if(w.l&&4==yi(w))He(w.za,0,w);else if(w.dispatchEvent("readystatechange"),4==yi(w)){w.b=!1;try{var ee,N=w.X();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}if(!(ee=z)){var ye;if(ye=0===N){var Ke=String(w.B).match($s)[1]||null;if(!Ke&&De.self&&De.self.location){var Rt=De.self.location.protocol;Ke=Rt.substr(0,Rt.length-1)}ye=!ci.test(Ke?Ke.toLowerCase():"")}ee=ye}if(ee)w.dispatchEvent("complete"),w.dispatchEvent("success");else{w.h=6;try{var Wn=2<yi(w)?w.a.statusText:""}catch{Wn=""}w.f=Wn+" ["+w.X()+"]",Ba(w)}}finally{dc(w)}}}function dc(w,N){if(w.a){Zl(w);var z=w.a,ee=w.s[0]?ut:null;w.a=null,w.s=null,N||w.dispatchEvent("ready");try{z.onreadystatechange=ee}catch{}}}function Zl(w){w.a&&w.D&&(w.a.ontimeout=null),w.m&&(De.clearTimeout(w.m),w.m=null)}function yi(w){return w.a?w.a.readyState:0}function Bc(w,N,z){e:{for(ee in z){var ee=!1;break e}ee=!0}ee||(z=function Eu(w){var N="";return gi(w,function(z,ee){N+=ee,N+=":",N+=z,N+="\r\n"}),N}(z),"string"==typeof w?null!=z&&encodeURIComponent(String(z)):Gn(w,N,z))}function $o(w,N,z){return z&&z.internalChannelParams&&z.internalChannelParams[w]||N}function eh(w){this.pa=0,this.g=[],this.c=new Yi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=$o("failFast",!1,w),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=$o("baseRetryDelayMs",5e3,w),this.Ma=$o("retryDelaySeedMs",1e4,w),this.Ja=$o("forwardChannelMaxRetries",2,w),this.ma=$o("forwardChannelRequestTimeoutMs",2e4,w),this.Ka=w&&w.g||void 0,this.D=void 0,this.C=w&&w.supportsCrossDomainXhr||!1,this.J="",this.b=new Lc(w&&w.concurrentRequestLimit),this.ka=new Jr,this.da=w&&w.fastHandshake||!1,this.Ga=w&&w.b||!1,w&&w.f&&(this.c.a=!1),w&&w.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&w&&w.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function hc(w){if(fc(w),3==w.v){var N=w.R++,z=Mt(w.B);Gn(z,"SID",w.J),Gn(z,"RID",N),Gn(z,"TYPE","terminate"),Ur(w,z),(N=new dl(w,w.c,N,void 0)).H=2,N.i=ss(Mt(z)),z=!1,De.navigator&&De.navigator.sendBeacon&&(z=De.navigator.sendBeacon(N.i.toString(),"")),!z&&De.Image&&((new Image).src=N.i,z=!0),z||(N.a=Ys(N.g,null),N.a.ba(N.i)),N.u=at(),pa(N)}pc(w)}function Eo(w){w.a&&(Go(w),w.a.cancel(),w.a=null)}function fc(w){Eo(w),w.j&&(De.clearTimeout(w.j),w.j=null),za(w),w.b.cancel(),w.h&&("number"==typeof w.h&&De.clearTimeout(w.h),w.h=null)}function ya(w,N){w.g.push(new ni(w.La++,N)),3==w.v&&Ds(w)}function Ds(w){Va(w.b)||w.h||(w.h=!0,Vt(w.Ba,w),w.u=0)}function Ou(w,N){var z;z=N?N.f:w.R++;var ee=Mt(w.B);Gn(ee,"SID",w.J),Gn(ee,"RID",z),Gn(ee,"AID",w.P),Ur(w,ee),w.i&&w.l&&Bc(ee,w.i,w.l),z=new dl(w,w.c,z,w.u+1),null===w.i&&(z.B=w.l),N&&(w.g=N.s.concat(w.g)),N=Ws(w,z,1e3),z.setTimeout(Math.round(.5*w.ma)+Math.round(.5*w.ma*Math.random())),Qr(w.b,z),lc(z,ee,N)}function Ur(w,N){w.f&&Mr({},function(z,ee){Gn(N,ee,z)})}function Ws(w,N,z){z=Math.min(w.g.length,z);var ee=w.f?mt(w.f.Ha,w.f,w):null;e:for(var ye=w.g,Ke=-1;;){var Rt=["count="+z];-1==Ke?0<z?Rt.push("ofs="+(Ke=ye[0].b)):Ke=0:Rt.push("ofs="+Ke);for(var Wn=!0,ii=0;ii<z;ii++){var hr=ye[ii].b,Io=ye[ii].a;if(0>(hr-=Ke))Ke=Math.max(0,ye[ii].b-100),Wn=!1;else try{Ir(Io,Rt,"req"+hr+"_")}catch{ee&&ee(Io)}}if(Wn){ee=Rt.join("&");break e}}return w=w.g.splice(0,z),N.s=w,ee}function ba(w){w.a||w.j||(w.U=1,Vt(w.Aa,w),w.o=0)}function zc(w){return!(w.a||w.j||3<=w.o||(w.U++,w.j=Sc(mt(w.Aa,w),jc(w,w.o)),w.o++,0))}function Go(w){null!=w.s&&(De.clearTimeout(w.s),w.s=null)}function dr(w){w.a=new dl(w,w.c,"rpc",w.U),null===w.i&&(w.a.B=w.l),w.a.O=0;var N=Mt(w.la);Gn(N,"RID","rpc"),Gn(N,"SID",w.J),Gn(N,"CI",w.H?"0":"1"),Gn(N,"AID",w.P),Ur(w,N),Gn(N,"TYPE","xmlhttp"),w.i&&w.l&&Bc(N,w.i,w.l),w.D&&w.a.setTimeout(w.D);var z=w.a;w=w.ga,z.H=1,z.i=ss(Mt(N)),z.j=null,z.I=!0,fa(z,w)}function za(w){null!=w.m&&(De.clearTimeout(w.m),w.m=null)}function eo(w,N){var z=null;if(w.a==N){za(w),Go(w),w.a=null;var ee=2}else{if(!or(w.b,N))return;z=N.s,_a(w.b,N),ee=1}if(w.I=N.N,0!=w.v)if(N.b)if(1==ee){z=N.j?N.j.length:0,N=at()-N.u;var ye=w.u;(ee=Os()).dispatchEvent(new Hn(ee,z,N,ye)),Ds(w)}else ba(w);else if(3==(ye=N.h)||0==ye&&0<w.I||!(1==ee&&function $l(w,N){return!(Nr(w.b)>=w.b.f-(w.h?1:0)||(w.h?(w.g=N.s.concat(w.g),0):1==w.v||2==w.v||w.u>=(w.Ia?0:w.Ja)||(w.h=Sc(mt(w.Ba,w,N),jc(w,w.u)),w.u++,0)))}(w,N)||2==ee&&zc(w)))switch(z&&0<z.length&&(N=w.b,N.c=N.c.concat(z)),ye){case 1:Oo(w,5);break;case 4:Oo(w,10);break;case 3:Oo(w,6);break;default:Oo(w,2)}}function jc(w,N){var z=w.Fa+Math.floor(Math.random()*w.Ma);return w.f||(z*=2),z*N}function Oo(w,N){if(w.c.info("Error code "+N),2==N){var z=null;w.f&&(z=null);var ee=mt(w.Xa,w);z||(z=new Ri("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||En(z,"https"),ss(z)),function fl(w,N){var z=new Yi;if(De.Image){var ee=new Image;ee.onload=Re(Fr,z,ee,"TestLoadImage: loaded",!0,N),ee.onerror=Re(Fr,z,ee,"TestLoadImage: error",!1,N),ee.onabort=Re(Fr,z,ee,"TestLoadImage: abort",!1,N),ee.ontimeout=Re(Fr,z,ee,"TestLoadImage: timeout",!1,N),De.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=w}else N(!1)}(z.toString(),ee)}else xo(2);w.v=0,w.f&&w.f.ra(N),pc(w),fc(w)}function pc(w){w.v=0,w.I=-1,w.f&&((0!=qi(w.b).length||0!=w.g.length)&&(w.b.c.length=0,Ge(w.g),w.g.length=0),w.f.qa())}function Gl(w,N,z){var ee=function vi(w){return w instanceof Ri?Mt(w):new Ri(w,void 0)}(z);if(""!=ee.c)N&&Ii(ee,N+"."+ee.c),fo(ee,ee.h);else{var ye=De.location;ee=function ma(w,N,z,ee){var ye=new Ri(null,void 0);return w&&En(ye,w),N&&Ii(ye,N),z&&fo(ye,z),ee&&(ye.g=ee),ye}(ye.protocol,N?N+"."+ye.hostname:ye.hostname,+ye.port,z)}return w.W&&gi(w.W,function(Ke,Rt){Gn(ee,Rt,Ke)}),z=w.na,(N=w.A)&&z&&Gn(ee,N,z),Gn(ee,"VER",w.ha),Ur(w,ee),ee}function Ys(w,N){if(N&&!w.C)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new pi(w.Ka)).F=w.C,N}function Ca(){}function pl(){if(Tt&&!(10<=Number(ri)))throw Error("Environmental error: no available transport.")}function xi(w,N){le.call(this),this.a=new eh(N),this.l=w,this.b=N&&N.messageUrlParams||null,w=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.a.l=w,w=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(w?w["X-WebChannel-Content-Type"]=N.messageContentType:w={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.a&&(w?w["X-WebChannel-Client-Profile"]=N.a:w={"X-WebChannel-Client-Profile":N.a}),this.a.O=w,(w=N&&N.httpHeadersOverwriteParam)&&!Le(w)&&(this.a.i=w),this.h=N&&N.supportsCrossDomainXhr||!1,this.g=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!Le(N)&&(this.a.A=N,null!==(w=this.b)&&N in w&&N in(w=this.b)&&delete w[N]),this.f=new Et(this)}function Wo(w){Dc.call(this);var N=w.__sm__;if(N){e:{for(var z in N){w=z;break e}w=void 0}(this.c=w)?(w=this.c,this.data=null!==N&&w in N?N[w]:void 0):this.data=N}else this.data=w}function ja(){Ac.call(this),this.status=1}function Et(w){this.a=w}(ce=pi.prototype).ba=function(w,N,z,ee){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+w);N=N?N.toUpperCase():"GET",this.B=w,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function Fa(w){var N;return(N=w.a)||(N=w.a={}),N}(this.H?this.H:ho),this.a.onreadystatechange=mt(this.za,this);try{this.A=!0,this.a.open(N,String(w),!0),this.A=!1}catch(Ke){return void Uc(this,Ke)}w=z||"";var ye=new Rc(this.headers);ee&&Mr(ee,function(Ke,Rt){ye.set(Rt,Ke)}),ee=function he(w){e:{for(var N=Ss,z=w.length,ee="string"==typeof w?w.split(""):w,ye=0;ye<z;ye++)if(ye in ee&&N.call(void 0,ee[ye],ye,w)){N=ye;break e}N=-1}return 0>N?null:"string"==typeof w?w.charAt(N):w[N]}(ye.L()),z=De.FormData&&w instanceof De.FormData,!(0<=Ze(Lr,N))||ee||z||ye.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ye.forEach(function(Ke,Rt){this.a.setRequestHeader(Rt,Ke)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Zl(this),0<this.o&&((this.D=function ql(w){return Tt&&zn(9)&&"number"==typeof w.timeout&&void 0!==w.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mt(this.xa,this)):this.m=He(this.xa,this.o,this)),this.l=!0,this.a.send(w),this.l=!1}catch(Ke){Uc(this,Ke)}},ce.xa=function(){typeof Ae<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ce.abort=function(w){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=w||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dc(this))},ce.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),dc(this,!0)),pi.S.G.call(this)},ce.za=function(){this.j||(this.A||this.l||this.g?Vc(this):this.Ta())},ce.Ta=function(){Vc(this)},ce.X=function(){try{return 2<yi(this)?this.a.status:-1}catch{return-1}},ce.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},ce.Na=function(w){if(this.a){var N=this.a.responseText;return w&&0==N.indexOf(w)&&(N=N.substring(w.length)),Xr(N)}},ce.ua=function(){return this.h},ce.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ce=eh.prototype).ha=8,ce.v=1,ce.Ba=function(w){if(this.h)if(this.h=null,1==this.v){if(!w){this.R=Math.floor(1e5*Math.random()),w=this.R++;var ee,N=new dl(this,this.c,w,void 0),z=this.l;if(this.O&&(z?qe(z=Pe(z),this.O):z=this.O),null===this.i&&(N.B=z),this.da)e:{for(var ye=ee=0;ye<this.g.length;ye++){var Ke=this.g[ye];if(void 0===(Ke="__data__"in Ke.a&&"string"==typeof(Ke=Ke.a.__data__)?Ke.length:void 0))break;if(4096<(ee+=Ke)){ee=ye;break e}if(4096===ee||ye===this.g.length-1){ee=ye+1;break e}}ee=1e3}else ee=1e3;ee=Ws(this,N,ee),Gn(ye=Mt(this.B),"RID",w),Gn(ye,"CVER",22),this.A&&Gn(ye,"X-HTTP-Session-Id",this.A),Ur(this,ye),this.i&&z&&Bc(ye,this.i,z),Qr(this.b,N),this.Ga&&Gn(ye,"TYPE","init"),this.da?(Gn(ye,"$req",ee),Gn(ye,"SID","null"),N.V=!0,lc(N,ye,null)):lc(N,ye,ee),this.v=2}}else 3==this.v&&(w?Ou(this,w):0==this.g.length||Va(this.b)||Ou(this))},ce.Aa=function(){if(this.j=null,dr(this),this.V&&!(this.F||null==this.a||0>=this.N)){var w=2*this.N;this.c.info("BP detection timer enabled: "+w),this.s=Sc(mt(this.Sa,this),w)}},ce.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Eo(this),dr(this))},ce.Ra=function(){null!=this.m&&(this.m=null,Eo(this),zc(this),xo(19))},ce.Xa=function(w){w?(this.c.info("Successfully pinged google.com"),xo(2)):(this.c.info("Failed to ping google.com"),xo(1))},(ce=Ca.prototype).ta=function(){},ce.sa=function(){},ce.ra=function(){},ce.qa=function(){},ce.Ha=function(){},pl.prototype.a=function(w,N){return new xi(w,N)},We(xi,le),(ce=xi.prototype).addEventListener=function(w,N,z,ee){xi.S.addEventListener.call(this,w,N,z,ee)},ce.removeEventListener=function(w,N,z,ee){xi.S.removeEventListener.call(this,w,N,z,ee)},ce.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var w=this.a,N=this.l,z=this.b||void 0;xo(0),w.fa=N,w.W=z||{},w.H=w.T,w.B=Gl(w,null,w.fa),Ds(w)},ce.close=function(){hc(this.a)},ce.Pa=function(w){if("string"==typeof w){var N={};N.__data__=w,ya(this.a,N)}else this.g?((N={}).__data__=ne(w),ya(this.a,N)):ya(this.a,w)},ce.G=function(){this.a.f=null,delete this.f,hc(this.a),delete this.a,xi.S.G.call(this)},We(Wo,Dc),We(ja,Ac),We(Et,Ca),Et.prototype.ta=function(){this.a.dispatchEvent("a")},Et.prototype.sa=function(w){this.a.dispatchEvent(new Wo(w))},Et.prototype.ra=function(w){this.a.dispatchEvent(new ja(w))},Et.prototype.qa=function(){this.a.dispatchEvent("b")},pl.prototype.createWebChannel=pl.prototype.a,xi.prototype.send=xi.prototype.Pa,xi.prototype.open=xi.prototype.Oa,xi.prototype.close=xi.prototype.close,cc.NO_ERROR=0,cc.TIMEOUT=8,cc.HTTP_ERROR=6,Wr.COMPLETE="complete",xu.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",le.prototype.listen=le.prototype.va,pi.prototype.listenOnce=pi.prototype.wa,pi.prototype.getLastError=pi.prototype.Qa,pi.prototype.getLastErrorCode=pi.prototype.ua,pi.prototype.getStatus=pi.prototype.X,pi.prototype.getResponseJson=pi.prototype.Na,pi.prototype.getResponseText=pi.prototype.$,pi.prototype.send=pi.prototype.ba;var cs=function(){return new pl},Hc=cc,Po=Wr,Ks=xu,qc=pi;const Ha={createWebChannelTransport:cs,ErrorCode:cc,EventType:Wr,WebChannel:xu,XhrIo:pi}},5619:(en,Te,Q)=>{Q.d(Te,{X:()=>U});var o=Q(8645);class U extends o.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ce=super._subscribe(pe);return!ce.closed&&pe.next(this._value),ce}getValue(){const{hasError:pe,thrownError:ce,_value:Ae}=this;if(pe)throw ce;return this._throwIfClosed(),Ae}next(pe){super.next(this._value=pe)}}},5592:(en,Te,Q)=>{Q.d(Te,{y:()=>ut});var o=Q(305),U=Q(7394),Y=Q(4850),pe=Q(8407),ce=Q(2653),Ae=Q(4674),De=Q(1441);let ut=(()=>{class de{constructor(me){me&&(this._subscribe=me)}lift(me){const lt=new de;return lt.source=this,lt.operator=me,lt}subscribe(me,lt,st){const mt=function $(de){return de&&de instanceof o.Lv||function j(de){return de&&(0,Ae.m)(de.next)&&(0,Ae.m)(de.error)&&(0,Ae.m)(de.complete)}(de)&&(0,U.Nn)(de)}(me)?me:new o.Hp(me,lt,st);return(0,De.x)(()=>{const{operator:Re,source:at}=this;mt.add(Re?Re.call(mt,at):at?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(me){try{return this._subscribe(me)}catch(lt){me.error(lt)}}forEach(me,lt){return new(lt=Ve(lt))((st,mt)=>{const Re=new o.Hp({next:at=>{try{me(at)}catch(We){mt(We),Re.unsubscribe()}},error:mt,complete:st});this.subscribe(Re)})}_subscribe(me){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(me)}[Y.L](){return this}pipe(...me){return(0,pe.U)(me)(this)}toPromise(me){return new(me=Ve(me))((lt,st)=>{let mt;this.subscribe(Re=>mt=Re,Re=>st(Re),()=>lt(mt))})}}return de.create=Ne=>new de(Ne),de})();function Ve(de){var Ne;return null!==(Ne=de??ce.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(en,Te,Q)=>{Q.d(Te,{x:()=>De});var o=Q(5592),U=Q(7394);const pe=(0,Q(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=Q(9039),Ae=Q(1441);let De=(()=>{class Ve extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const de=new ut(this,this);return de.operator=$,de}_throwIfClosed(){if(this.closed)throw new pe}next($){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next($)}})}error($){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:de}=this;for(;de.length;)de.shift().error($)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:de,isStopped:Ne,observers:me}=this;return de||Ne?U.Lc:(this.currentObservers=null,me.push($),new U.w0(()=>{this.currentObservers=null,(0,ce.P)(me,$)}))}_checkFinalizedStatuses($){const{hasError:de,thrownError:Ne,isStopped:me}=this;de?$.error(Ne):me&&$.complete()}asObservable(){const $=new o.y;return $.source=this,$}}return Ve.create=(j,$)=>new ut(j,$),Ve})();class ut extends De{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,de;null===(de=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===de||de.call($,j)}error(j){var $,de;null===(de=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===de||de.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,de;return null!==(de=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==de?de:U.Lc}}},305:(en,Te,Q)=>{Q.d(Te,{Hp:()=>st,Lv:()=>de});var o=Q(4674),U=Q(7394),Y=Q(2653),pe=Q(3894),ce=Q(2420);const Ae=Ve("C",void 0,void 0);function Ve(xe,nt,Ze){return{kind:xe,value:nt,error:Ze}}var j=Q(7599),$=Q(1441);class de extends U.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,U.Nn)(nt)&&nt.add(this)):this.destination=We}static create(nt,Ze,it){return new st(nt,Ze,it)}next(nt){this.isStopped?at(function ut(xe){return Ve("N",xe,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?at(function De(xe){return Ve("E",void 0,xe)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?at(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(xe,nt){return Ne.call(xe,nt)}class lt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(nt)}catch(it){mt(it)}}error(nt){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(nt)}catch(it){mt(it)}else mt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(Ze){mt(Ze)}}}class st extends de{constructor(nt,Ze,it){let he;if(super(),(0,o.m)(nt)||!nt)he={next:nt??void 0,error:Ze??void 0,complete:it??void 0};else{let ue;this&&Y.config.useDeprecatedNextContext?(ue=Object.create(nt),ue.unsubscribe=()=>this.unsubscribe(),he={next:nt.next&&me(nt.next,ue),error:nt.error&&me(nt.error,ue),complete:nt.complete&&me(nt.complete,ue)}):he=nt}this.destination=new lt(he)}}function mt(xe){Y.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(xe):(0,pe.h)(xe)}function at(xe,nt){const{onStoppedNotification:Ze}=Y.config;Ze&&j.z.setTimeout(()=>Ze(xe,nt))}const We={closed:!0,next:ce.Z,error:function Re(xe){throw xe},complete:ce.Z}},7394:(en,Te,Q)=>{Q.d(Te,{Lc:()=>Ae,w0:()=>ce,Nn:()=>De});var o=Q(4674);const Y=(0,Q(2306).d)(Ve=>function($){Ve(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((de,Ne)=>`${Ne+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var pe=Q(9039);class ce{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const me of $)me.remove(this);else $.remove(this);const{initialTeardown:de}=this;if((0,o.m)(de))try{de()}catch(me){j=me instanceof Y?me.errors:[me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const me of Ne)try{ut(me)}catch(lt){j=j??[],lt instanceof Y?j=[...j,...lt.errors]:j.push(lt)}}if(j)throw new Y(j)}}add(j){var $;if(j&&j!==this)if(this.closed)ut(j);else{if(j instanceof ce){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,pe.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,pe.P)($,j),j instanceof ce&&j._removeParent(this)}}ce.EMPTY=(()=>{const Ve=new ce;return Ve.closed=!0,Ve})();const Ae=ce.EMPTY;function De(Ve){return Ve instanceof ce||Ve&&"closed"in Ve&&(0,o.m)(Ve.remove)&&(0,o.m)(Ve.add)&&(0,o.m)(Ve.unsubscribe)}function ut(Ve){(0,o.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(en,Te,Q)=>{Q.d(Te,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(en,Te,Q)=>{Q.d(Te,{E:()=>U});const U=new(Q(5592).y)(ce=>ce.complete())},2459:(en,Te,Q)=>{Q.d(Te,{D:()=>nt});var o=Q(4829),U=Q(3093),Y=Q(5137),Ae=Q(5592),ut=Q(4971),Ve=Q(4674),j=Q(7103);function de(Ze,it){if(!Ze)throw new Error("Iterable cannot be null");return new Ae.y(he=>{(0,j.f)(he,it,()=>{const ue=Ze[Symbol.asyncIterator]();(0,j.f)(he,it,()=>{ue.next().then(Ge=>{Ge.done?he.complete():he.next(Ge.value)})},0,!0)})})}var Ne=Q(8382),me=Q(4026),lt=Q(4266),st=Q(3664),mt=Q(5726),Re=Q(9853),at=Q(541);function nt(Ze,it){return it?function xe(Ze,it){if(null!=Ze){if((0,Ne.c)(Ze))return function pe(Ze,it){return(0,o.Xf)(Ze).pipe((0,Y.R)(it),(0,U.Q)(it))}(Ze,it);if((0,lt.z)(Ze))return function De(Ze,it){return new Ae.y(he=>{let ue=0;return it.schedule(function(){ue===Ze.length?he.complete():(he.next(Ze[ue++]),he.closed||this.schedule())})})}(Ze,it);if((0,me.t)(Ze))return function ce(Ze,it){return(0,o.Xf)(Ze).pipe((0,Y.R)(it),(0,U.Q)(it))}(Ze,it);if((0,mt.D)(Ze))return de(Ze,it);if((0,st.T)(Ze))return function $(Ze,it){return new Ae.y(he=>{let ue;return(0,j.f)(he,it,()=>{ue=Ze[ut.h](),(0,j.f)(he,it,()=>{let Ge,Le;try{({value:Ge,done:Le}=ue.next())}catch(wt){return void he.error(wt)}Le?he.complete():he.next(Ge)},0,!0)}),()=>(0,Ve.m)(ue?.return)&&ue.return()})}(Ze,it);if((0,at.L)(Ze))return function We(Ze,it){return de((0,at.Q)(Ze),it)}(Ze,it)}throw(0,Re.z)(Ze)}(Ze,it):(0,o.Xf)(Ze)}},4829:(en,Te,Q)=>{Q.d(Te,{Xf:()=>Ne});var o=Q(7582),U=Q(4266),Y=Q(4026),pe=Q(5592),ce=Q(8382),Ae=Q(5726),De=Q(9853),ut=Q(3664),Ve=Q(541),j=Q(4674),$=Q(3894),de=Q(4850);function Ne(xe){if(xe instanceof pe.y)return xe;if(null!=xe){if((0,ce.c)(xe))return function me(xe){return new pe.y(nt=>{const Ze=xe[de.L]();if((0,j.m)(Ze.subscribe))return Ze.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,U.z)(xe))return function lt(xe){return new pe.y(nt=>{for(let Ze=0;Ze<xe.length&&!nt.closed;Ze++)nt.next(xe[Ze]);nt.complete()})}(xe);if((0,Y.t)(xe))return function st(xe){return new pe.y(nt=>{xe.then(Ze=>{nt.closed||(nt.next(Ze),nt.complete())},Ze=>nt.error(Ze)).then(null,$.h)})}(xe);if((0,Ae.D)(xe))return Re(xe);if((0,ut.T)(xe))return function mt(xe){return new pe.y(nt=>{for(const Ze of xe)if(nt.next(Ze),nt.closed)return;nt.complete()})}(xe);if((0,Ve.L)(xe))return function at(xe){return Re((0,Ve.Q)(xe))}(xe)}throw(0,De.z)(xe)}function Re(xe){return new pe.y(nt=>{(function We(xe,nt){var Ze,it,he,ue;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,o.KL)(xe);!(it=yield Ze.next()).done;)if(nt.next(it.value),nt.closed)return}catch(Ge){he={error:Ge}}finally{try{it&&!it.done&&(ue=Ze.return)&&(yield ue.call(Ze))}finally{if(he)throw he.error}}nt.complete()})})(xe,nt).catch(Ze=>nt.error(Ze))})}},3019:(en,Te,Q)=>{Q.d(Te,{T:()=>Ae});var o=Q(7537),U=Q(4829),Y=Q(6232),pe=Q(9940),ce=Q(2459);function Ae(...De){const ut=(0,pe.yG)(De),Ve=(0,pe._6)(De,1/0),j=De;return j.length?1===j.length?(0,U.Xf)(j[0]):(0,o.J)(Ve)((0,ce.D)(j,ut)):Y.E}},2096:(en,Te,Q)=>{Q.d(Te,{of:()=>Y});var o=Q(9940),U=Q(2459);function Y(...pe){const ce=(0,o.yG)(pe);return(0,U.D)(pe,ce)}},8251:(en,Te,Q)=>{Q.d(Te,{x:()=>U});var o=Q(305);function U(pe,ce,Ae,De,ut){return new Y(pe,ce,Ae,De,ut)}class Y extends o.Lv{constructor(ce,Ae,De,ut,Ve,j){super(ce),this.onFinalize=Ve,this.shouldUnsubscribe=j,this._next=Ae?function($){try{Ae($)}catch(de){ce.error(de)}}:super._next,this._error=ut?function($){try{ut($)}catch(de){ce.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch($){ce.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(en,Te,Q)=>{Q.d(Te,{x:()=>pe});var o=Q(2737),U=Q(9360),Y=Q(8251);function pe(Ae,De=o.y){return Ae=Ae??ce,(0,U.e)((ut,Ve)=>{let j,$=!0;ut.subscribe((0,Y.x)(Ve,de=>{const Ne=De(de);($||!Ae(j,Ne))&&($=!1,j=Ne,Ve.next(de))}))})}function ce(Ae,De){return Ae===De}},7398:(en,Te,Q)=>{Q.d(Te,{U:()=>Y});var o=Q(9360),U=Q(8251);function Y(pe,ce){return(0,o.e)((Ae,De)=>{let ut=0;Ae.subscribe((0,U.x)(De,Ve=>{De.next(pe.call(ce,Ve,ut++))}))})}},7537:(en,Te,Q)=>{Q.d(Te,{J:()=>Y});var o=Q(1631),U=Q(2737);function Y(pe=1/0){return(0,o.z)(U.y,pe)}},1631:(en,Te,Q)=>{Q.d(Te,{z:()=>ut});var o=Q(7398),U=Q(4829),Y=Q(9360),pe=Q(7103),ce=Q(8251),De=Q(4674);function ut(Ve,j,$=1/0){return(0,De.m)(j)?ut((de,Ne)=>(0,o.U)((me,lt)=>j(de,me,Ne,lt))((0,U.Xf)(Ve(de,Ne))),$):("number"==typeof j&&($=j),(0,Y.e)((de,Ne)=>function Ae(Ve,j,$,de,Ne,me,lt,st){const mt=[];let Re=0,at=0,We=!1;const xe=()=>{We&&!mt.length&&!Re&&j.complete()},nt=it=>Re<de?Ze(it):mt.push(it),Ze=it=>{me&&j.next(it),Re++;let he=!1;(0,U.Xf)($(it,at++)).subscribe((0,ce.x)(j,ue=>{Ne?.(ue),me?nt(ue):j.next(ue)},()=>{he=!0},void 0,()=>{if(he)try{for(Re--;mt.length&&Re<de;){const ue=mt.shift();lt?(0,pe.f)(j,lt,()=>Ze(ue)):Ze(ue)}xe()}catch(ue){j.error(ue)}}))};return Ve.subscribe((0,ce.x)(j,nt,()=>{We=!0,xe()})),()=>{st?.()}}(de,Ne,Ve,$)))}},3093:(en,Te,Q)=>{Q.d(Te,{Q:()=>pe});var o=Q(7103),U=Q(9360),Y=Q(8251);function pe(ce,Ae=0){return(0,U.e)((De,ut)=>{De.subscribe((0,Y.x)(ut,Ve=>(0,o.f)(ut,ce,()=>ut.next(Ve),Ae),()=>(0,o.f)(ut,ce,()=>ut.complete(),Ae),Ve=>(0,o.f)(ut,ce,()=>ut.error(Ve),Ae)))})}},3020:(en,Te,Q)=>{Q.d(Te,{B:()=>ce});var o=Q(4829),U=Q(8645),Y=Q(305),pe=Q(9360);function ce(De={}){const{connector:ut=(()=>new U.x),resetOnError:Ve=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=De;return de=>{let Ne,me,lt,st=0,mt=!1,Re=!1;const at=()=>{me?.unsubscribe(),me=void 0},We=()=>{at(),Ne=lt=void 0,mt=Re=!1},xe=()=>{const nt=Ne;We(),nt?.unsubscribe()};return(0,pe.e)((nt,Ze)=>{st++,!Re&&!mt&&at();const it=lt=lt??ut();Ze.add(()=>{st--,0===st&&!Re&&!mt&&(me=Ae(xe,$))}),it.subscribe(Ze),!Ne&&st>0&&(Ne=new Y.Hp({next:he=>it.next(he),error:he=>{Re=!0,at(),me=Ae(We,Ve,he),it.error(he)},complete:()=>{mt=!0,at(),me=Ae(We,j),it.complete()}}),(0,o.Xf)(nt).subscribe(Ne))})(de)}}function Ae(De,ut,...Ve){if(!0===ut)return void De();if(!1===ut)return;const j=new Y.Hp({next:()=>{j.unsubscribe(),De()}});return(0,o.Xf)(ut(...Ve)).subscribe(j)}},5137:(en,Te,Q)=>{Q.d(Te,{R:()=>U});var o=Q(9360);function U(Y,pe=0){return(0,o.e)((ce,Ae)=>{Ae.add(Y.schedule(()=>ce.subscribe(Ae),pe))})}},4664:(en,Te,Q)=>{Q.d(Te,{w:()=>pe});var o=Q(4829),U=Q(9360),Y=Q(8251);function pe(ce,Ae){return(0,U.e)((De,ut)=>{let Ve=null,j=0,$=!1;const de=()=>$&&!Ve&&ut.complete();De.subscribe((0,Y.x)(ut,Ne=>{Ve?.unsubscribe();let me=0;const lt=j++;(0,o.Xf)(ce(Ne,lt)).subscribe(Ve=(0,Y.x)(ut,st=>ut.next(Ae?Ae(Ne,st,lt,me++):st),()=>{Ve=null,de()}))},()=>{$=!0,de()}))})}},9397:(en,Te,Q)=>{Q.d(Te,{b:()=>ce});var o=Q(4674),U=Q(9360),Y=Q(8251),pe=Q(2737);function ce(Ae,De,ut){const Ve=(0,o.m)(Ae)||De||ut?{next:Ae,error:De,complete:ut}:Ae;return Ve?(0,U.e)((j,$)=>{var de;null===(de=Ve.subscribe)||void 0===de||de.call(Ve);let Ne=!0;j.subscribe((0,Y.x)($,me=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,me),$.next(me)},()=>{var me;Ne=!1,null===(me=Ve.complete)||void 0===me||me.call(Ve),$.complete()},me=>{var lt;Ne=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,me),$.error(me)},()=>{var me,lt;Ne&&(null===(me=Ve.unsubscribe)||void 0===me||me.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):pe.y}},1954:(en,Te,Q)=>{Q.d(Te,{o:()=>ce});var o=Q(7394);class U extends o.w0{constructor(De,ut){super()}schedule(De,ut=0){return this}}const Y={setInterval(Ae,De,...ut){const{delegate:Ve}=Y;return Ve?.setInterval?Ve.setInterval(Ae,De,...ut):setInterval(Ae,De,...ut)},clearInterval(Ae){const{delegate:De}=Y;return(De?.clearInterval||clearInterval)(Ae)},delegate:void 0};var pe=Q(9039);class ce extends U{constructor(De,ut){super(De,ut),this.scheduler=De,this.work=ut,this.pending=!1}schedule(De,ut=0){var Ve;if(this.closed)return this;this.state=De;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId($,this.id,ut),this}requestAsyncId(De,ut,Ve=0){return Y.setInterval(De.flush.bind(De,this),Ve)}recycleAsyncId(De,ut,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ut;null!=ut&&Y.clearInterval(ut)}execute(De,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(De,ut);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ut){let j,Ve=!1;try{this.work(De)}catch($){Ve=!0,j=$||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:De,scheduler:ut}=this,{actions:Ve}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ve,this),null!=De&&(this.id=this.recycleAsyncId(ut,De,null)),this.delay=null,super.unsubscribe()}}}},2631:(en,Te,Q)=>{Q.d(Te,{v:()=>Y});var o=Q(4552);class U{constructor(ce,Ae=U.now){this.schedulerActionCtor=ce,this.now=Ae}schedule(ce,Ae=0,De){return new this.schedulerActionCtor(this,ce).schedule(De,Ae)}}U.now=o.l.now;class Y extends U{constructor(ce,Ae=U.now){super(ce,Ae),this.actions=[],this._active=!1}flush(ce){const{actions:Ae}=this;if(this._active)return void Ae.push(ce);let De;this._active=!0;do{if(De=ce.execute(ce.state,ce.delay))break}while(ce=Ae.shift());if(this._active=!1,De){for(;ce=Ae.shift();)ce.unsubscribe();throw De}}}},6321:(en,Te,Q)=>{Q.d(Te,{P:()=>pe,z:()=>Y});var o=Q(1954);const Y=new(Q(2631).v)(o.o),pe=Y},4552:(en,Te,Q)=>{Q.d(Te,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},7599:(en,Te,Q)=>{Q.d(Te,{z:()=>o});const o={setTimeout(U,Y,...pe){const{delegate:ce}=o;return ce?.setTimeout?ce.setTimeout(U,Y,...pe):setTimeout(U,Y,...pe)},clearTimeout(U){const{delegate:Y}=o;return(Y?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(en,Te,Q)=>{Q.d(Te,{h:()=>U});const U=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(en,Te,Q)=>{Q.d(Te,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(en,Te,Q)=>{Q.d(Te,{_6:()=>Ae,jO:()=>pe,yG:()=>ce});var o=Q(4674),U=Q(671);function Y(De){return De[De.length-1]}function pe(De){return(0,o.m)(Y(De))?De.pop():void 0}function ce(De){return(0,U.K)(Y(De))?De.pop():void 0}function Ae(De,ut){return"number"==typeof Y(De)?De.pop():ut}},9039:(en,Te,Q)=>{function o(U,Y){if(U){const pe=U.indexOf(Y);0<=pe&&U.splice(pe,1)}}Q.d(Te,{P:()=>o})},2306:(en,Te,Q)=>{function o(U){const pe=U(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}Q.d(Te,{d:()=>o})},1441:(en,Te,Q)=>{Q.d(Te,{O:()=>pe,x:()=>Y});var o=Q(2653);let U=null;function Y(ce){if(o.config.useDeprecatedSynchronousErrorHandling){const Ae=!U;if(Ae&&(U={errorThrown:!1,error:null}),ce(),Ae){const{errorThrown:De,error:ut}=U;if(U=null,De)throw ut}}else ce()}function pe(ce){o.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ce)}},7103:(en,Te,Q)=>{function o(U,Y,pe,ce=0,Ae=!1){const De=Y.schedule(function(){pe(),Ae?U.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(U.add(De),!Ae)return De}Q.d(Te,{f:()=>o})},2737:(en,Te,Q)=>{function o(U){return U}Q.d(Te,{y:()=>o})},4266:(en,Te,Q)=>{Q.d(Te,{z:()=>o});const o=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(en,Te,Q)=>{Q.d(Te,{D:()=>U});var o=Q(4674);function U(Y){return Symbol.asyncIterator&&(0,o.m)(Y?.[Symbol.asyncIterator])}},4674:(en,Te,Q)=>{function o(U){return"function"==typeof U}Q.d(Te,{m:()=>o})},8382:(en,Te,Q)=>{Q.d(Te,{c:()=>Y});var o=Q(4850),U=Q(4674);function Y(pe){return(0,U.m)(pe[o.L])}},3664:(en,Te,Q)=>{Q.d(Te,{T:()=>Y});var o=Q(4971),U=Q(4674);function Y(pe){return(0,U.m)(pe?.[o.h])}},4026:(en,Te,Q)=>{Q.d(Te,{t:()=>U});var o=Q(4674);function U(Y){return(0,o.m)(Y?.then)}},541:(en,Te,Q)=>{Q.d(Te,{L:()=>pe,Q:()=>Y});var o=Q(7582),U=Q(4674);function Y(ce){return(0,o.FC)(this,arguments,function*(){const De=ce.getReader();try{for(;;){const{value:ut,done:Ve}=yield(0,o.qq)(De.read());if(Ve)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ut)}}finally{De.releaseLock()}})}function pe(ce){return(0,U.m)(ce?.getReader)}},671:(en,Te,Q)=>{Q.d(Te,{K:()=>U});var o=Q(4674);function U(Y){return Y&&(0,o.m)(Y.schedule)}},9360:(en,Te,Q)=>{Q.d(Te,{A:()=>U,e:()=>Y});var o=Q(4674);function U(pe){return(0,o.m)(pe?.lift)}function Y(pe){return ce=>{if(U(ce))return ce.lift(function(Ae){try{return pe(Ae,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(en,Te,Q)=>{function o(){}Q.d(Te,{Z:()=>o})},8407:(en,Te,Q)=>{Q.d(Te,{U:()=>Y,z:()=>U});var o=Q(2737);function U(...pe){return Y(pe)}function Y(pe){return 0===pe.length?o.y:1===pe.length?pe[0]:function(Ae){return pe.reduce((De,ut)=>ut(De),Ae)}}},3894:(en,Te,Q)=>{Q.d(Te,{h:()=>Y});var o=Q(2653),U=Q(7599);function Y(pe){U.z.setTimeout(()=>{const{onUnhandledError:ce}=o.config;if(!ce)throw pe;ce(pe)})}},9853:(en,Te,Q)=>{function o(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(Te,{z:()=>o})},8005:(en,Te,Q)=>{Q.r(Te),Q.d(Te,{__assign:()=>Y,__asyncDelegator:()=>Re,__asyncGenerator:()=>mt,__asyncValues:()=>at,__await:()=>st,__awaiter:()=>ut,__classPrivateFieldGet:()=>Ze,__classPrivateFieldSet:()=>it,__createBinding:()=>j,__decorate:()=>ce,__exportStar:()=>$,__extends:()=>U,__generator:()=>Ve,__importDefault:()=>nt,__importStar:()=>xe,__makeTemplateObject:()=>We,__metadata:()=>De,__param:()=>Ae,__read:()=>Ne,__rest:()=>pe,__spread:()=>me,__spreadArrays:()=>lt,__values:()=>de});var o=function(he,ue){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ge,Le){Ge.__proto__=Le}||function(Ge,Le){for(var wt in Le)Le.hasOwnProperty(wt)&&(Ge[wt]=Le[wt])})(he,ue)};function U(he,ue){function Ge(){this.constructor=he}o(he,ue),he.prototype=null===ue?Object.create(ue):(Ge.prototype=ue.prototype,new Ge)}var Y=function(){return Y=Object.assign||function(ue){for(var Ge,Le=1,wt=arguments.length;Le<wt;Le++)for(var ot in Ge=arguments[Le])Object.prototype.hasOwnProperty.call(Ge,ot)&&(ue[ot]=Ge[ot]);return ue},Y.apply(this,arguments)};function pe(he,ue){var Ge={};for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&ue.indexOf(Le)<0&&(Ge[Le]=he[Le]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(Le=Object.getOwnPropertySymbols(he);wt<Le.length;wt++)ue.indexOf(Le[wt])<0&&Object.prototype.propertyIsEnumerable.call(he,Le[wt])&&(Ge[Le[wt]]=he[Le[wt]])}return Ge}function ce(he,ue,Ge,Le){var Yt,wt=arguments.length,ot=wt<3?ue:null===Le?Le=Object.getOwnPropertyDescriptor(ue,Ge):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(he,ue,Ge,Le);else for(var nn=he.length-1;nn>=0;nn--)(Yt=he[nn])&&(ot=(wt<3?Yt(ot):wt>3?Yt(ue,Ge,ot):Yt(ue,Ge))||ot);return wt>3&&ot&&Object.defineProperty(ue,Ge,ot),ot}function Ae(he,ue){return function(Ge,Le){ue(Ge,Le,he)}}function De(he,ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,ue)}function ut(he,ue,Ge,Le){return new(Ge||(Ge=Promise))(function(ot,Yt){function nn(gi){try{rn(Le.next(gi))}catch(Pe){Yt(Pe)}}function un(gi){try{rn(Le.throw(gi))}catch(Pe){Yt(Pe)}}function rn(gi){gi.done?ot(gi.value):function wt(ot){return ot instanceof Ge?ot:new Ge(function(Yt){Yt(ot)})}(gi.value).then(nn,un)}rn((Le=Le.apply(he,ue||[])).next())})}function Ve(he,ue){var Le,wt,ot,Yt,Ge={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return Yt={next:nn(0),throw:nn(1),return:nn(2)},"function"==typeof Symbol&&(Yt[Symbol.iterator]=function(){return this}),Yt;function nn(rn){return function(gi){return function un(rn){if(Le)throw new TypeError("Generator is already executing.");for(;Ge;)try{if(Le=1,wt&&(ot=2&rn[0]?wt.return:rn[0]?wt.throw||((ot=wt.return)&&ot.call(wt),0):wt.next)&&!(ot=ot.call(wt,rn[1])).done)return ot;switch(wt=0,ot&&(rn=[2&rn[0],ot.value]),rn[0]){case 0:case 1:ot=rn;break;case 4:return Ge.label++,{value:rn[1],done:!1};case 5:Ge.label++,wt=rn[1],rn=[0];continue;case 7:rn=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!(ot=(ot=Ge.trys).length>0&&ot[ot.length-1])&&(6===rn[0]||2===rn[0])){Ge=0;continue}if(3===rn[0]&&(!ot||rn[1]>ot[0]&&rn[1]<ot[3])){Ge.label=rn[1];break}if(6===rn[0]&&Ge.label<ot[1]){Ge.label=ot[1],ot=rn;break}if(ot&&Ge.label<ot[2]){Ge.label=ot[2],Ge.ops.push(rn);break}ot[2]&&Ge.ops.pop(),Ge.trys.pop();continue}rn=ue.call(he,Ge)}catch(gi){rn=[6,gi],wt=0}finally{Le=ot=0}if(5&rn[0])throw rn[1];return{value:rn[0]?rn[1]:void 0,done:!0}}([rn,gi])}}}function j(he,ue,Ge,Le){void 0===Le&&(Le=Ge),he[Le]=ue[Ge]}function $(he,ue){for(var Ge in he)"default"!==Ge&&!ue.hasOwnProperty(Ge)&&(ue[Ge]=he[Ge])}function de(he){var ue="function"==typeof Symbol&&Symbol.iterator,Ge=ue&&he[ue],Le=0;if(Ge)return Ge.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Le>=he.length&&(he=void 0),{value:he&&he[Le++],done:!he}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(he,ue){var Ge="function"==typeof Symbol&&he[Symbol.iterator];if(!Ge)return he;var wt,Yt,Le=Ge.call(he),ot=[];try{for(;(void 0===ue||ue-- >0)&&!(wt=Le.next()).done;)ot.push(wt.value)}catch(nn){Yt={error:nn}}finally{try{wt&&!wt.done&&(Ge=Le.return)&&Ge.call(Le)}finally{if(Yt)throw Yt.error}}return ot}function me(){for(var he=[],ue=0;ue<arguments.length;ue++)he=he.concat(Ne(arguments[ue]));return he}function lt(){for(var he=0,ue=0,Ge=arguments.length;ue<Ge;ue++)he+=arguments[ue].length;var Le=Array(he),wt=0;for(ue=0;ue<Ge;ue++)for(var ot=arguments[ue],Yt=0,nn=ot.length;Yt<nn;Yt++,wt++)Le[wt]=ot[Yt];return Le}function st(he){return this instanceof st?(this.v=he,this):new st(he)}function mt(he,ue,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,Le=Ge.apply(he,ue||[]),ot=[];return wt={},Yt("next"),Yt("throw"),Yt("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function Yt(we){Le[we]&&(wt[we]=function(qe){return new Promise(function(je,ct){ot.push([we,qe,je,ct])>1||nn(we,qe)})})}function nn(we,qe){try{!function un(we){we.value instanceof st?Promise.resolve(we.value.v).then(rn,gi):Pe(ot[0][2],we)}(Le[we](qe))}catch(je){Pe(ot[0][3],je)}}function rn(we){nn("next",we)}function gi(we){nn("throw",we)}function Pe(we,qe){we(qe),ot.shift(),ot.length&&nn(ot[0][0],ot[0][1])}}function Re(he){var ue,Ge;return ue={},Le("next"),Le("throw",function(wt){throw wt}),Le("return"),ue[Symbol.iterator]=function(){return this},ue;function Le(wt,ot){ue[wt]=he[wt]?function(Yt){return(Ge=!Ge)?{value:st(he[wt](Yt)),done:"return"===wt}:ot?ot(Yt):Yt}:ot}}function at(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ue=he[Symbol.asyncIterator];return ue?ue.call(he):(he=de(he),Ge={},Le("next"),Le("throw"),Le("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function Le(ot){Ge[ot]=he[ot]&&function(Yt){return new Promise(function(nn,un){!function wt(ot,Yt,nn,un){Promise.resolve(un).then(function(rn){ot({value:rn,done:nn})},Yt)}(nn,un,(Yt=he[ot](Yt)).done,Yt.value)})}}}function We(he,ue){return Object.defineProperty?Object.defineProperty(he,"raw",{value:ue}):he.raw=ue,he}function xe(he){if(he&&he.__esModule)return he;var ue={};if(null!=he)for(var Ge in he)Object.hasOwnProperty.call(he,Ge)&&(ue[Ge]=he[Ge]);return ue.default=he,ue}function nt(he){return he&&he.__esModule?he:{default:he}}function Ze(he,ue){if(!ue.has(he))throw new TypeError("attempted to get private field on non-instance");return ue.get(he)}function it(he,ue,Ge){if(!ue.has(he))throw new TypeError("attempted to set private field on non-instance");return ue.set(he,Ge),Ge}},5879:(en,Te,Q)=>{Q.d(Te,{$8M:()=>pr,$WT:()=>La,$Z:()=>nk,AFp:()=>mO,ALo:()=>Wx,AaK:()=>de,AsE:()=>$0,BQk:()=>Up,CHM:()=>Ns,CRH:()=>bI,DdM:()=>Zx,EEQ:()=>y,EJc:()=>qv,EiD:()=>rO,EpF:()=>Yw,F$t:()=>Jw,F4k:()=>rg,FYo:()=>lw,FiY:()=>Xe,Gf:()=>Kp,GfV:()=>h0,GkF:()=>L0,Gpc:()=>lt,Gre:()=>co,GuJ:()=>Gi,HDt:()=>_M,Hsn:()=>Xw,Ikx:()=>Ld,JOm:()=>bh,JVY:()=>sA,JZr:()=>We,Jf7:()=>BA,KtG:()=>Du,L6k:()=>JE,LAX:()=>cA,LFG:()=>It,LSH:()=>du,Lbi:()=>ew,Lck:()=>KP,MAs:()=>Gw,MMx:()=>Iv,NdJ:()=>U0,O4$:()=>Ma,Ojb:()=>nw,OlP:()=>ir,Oqu:()=>mx,P3R:()=>Lo,PXZ:()=>Zv,Q6J:()=>Fp,QGY:()=>av,QbO:()=>tw,Qsj:()=>uw,R0b:()=>sa,RDi:()=>GE,Rgc:()=>_g,SBq:()=>Bm,Sil:()=>bb,Suo:()=>aM,TTD:()=>Wl,TgZ:()=>so,Tol:()=>_v,Udp:()=>ux,VKq:()=>gg,VuI:()=>CT,W1O:()=>_b,WLB:()=>rI,X6Q:()=>OM,XFs:()=>sn,Xpm:()=>Mo,Xq5:()=>Lw,Xts:()=>O_,Y36:()=>zm,YKP:()=>zx,YNc:()=>aP,Yjl:()=>uc,Yz7:()=>fn,Z0I:()=>cn,ZZ4:()=>Qv,_Bn:()=>Pv,_UZ:()=>Ww,_Vd:()=>d0,_c5:()=>FM,_uU:()=>px,aQg:()=>RM,c2e:()=>gM,cJS:()=>Tn,cg1:()=>Ec,dDg:()=>CR,dqk:()=>Me,eBb:()=>aA,eFA:()=>tT,eJc:()=>Qp,ekj:()=>dx,eoX:()=>XI,evT:()=>zA,f3M:()=>Vt,g9A:()=>t0,h0i:()=>zd,hGG:()=>Rb,hij:()=>Z0,iGM:()=>mb,ifc:()=>_t,ip1:()=>jv,jDz:()=>Tf,kEZ:()=>oI,kL8:()=>cg,kcU:()=>bs,lG2:()=>Is,lcZ:()=>Yx,lnq:()=>gx,lqb:()=>Hu,lri:()=>xb,mCW:()=>E_,n5z:()=>bd,n_E:()=>Yp,oAB:()=>Ui,oJD:()=>dt,oxw:()=>Qw,pB0:()=>lA,q3G:()=>Fm,q4F:()=>SA,qFp:()=>BR,qLn:()=>Dd,qOj:()=>Dp,qZA:()=>ov,qbA:()=>sI,qzn:()=>xh,rWj:()=>Hs,rg0:()=>To,s9C:()=>uv,sBO:()=>Wv,s_b:()=>Nv,soG:()=>tm,tb:()=>Tg,tp0:()=>Nt,uIk:()=>Ym,vHH:()=>xe,vpe:()=>Ad,wAp:()=>lg,xi3:()=>Kx,xp6:()=>ek,ynx:()=>sv,z2F:()=>td,z3N:()=>Td,zSh:()=>YC,zs3:()=>hu});var o=Q(8645),U=Q(7394),Y=Q(5592),pe=Q(3019),ce=Q(5619),Ae=Q(2096),De=Q(3020),ut=Q(4664),Ve=Q(3997);function j(a){for(let c in a)if(a[c]===j)return c;throw Error("Could not find renamed property on target object.")}function $(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function de(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(de).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Ne(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const me=j({__forward_ref__:j});function lt(a){return a.__forward_ref__=lt,a.toString=function(){return de(this())},a}function st(a){return mt(a)?a():a}function mt(a){return"function"==typeof a&&a.hasOwnProperty(me)&&a.__forward_ref__===lt}function Re(a){return a&&!!a.\u0275providers}const We="https://g.co/ng/security#xss";class xe extends Error{constructor(c,d){super(function nt(a,c){return`NG0${Math.abs(a)}${c?": "+c:""}`}(c,d)),this.code=c}}function Ze(a){return"string"==typeof a?a:null==a?"":String(a)}function Le(a,c){throw new xe(-201,!1)}function Tt(a,c){null==a&&function Ct(a,c,d,p){throw new Error(`ASSERTION ERROR: ${a}`+(null==p?"":` [Expected=> ${d} ${p} ${c} <=Actual]`))}(c,a,null,"!=")}function fn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Tn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ut(a){return Un(a,Ai)||Un(a,Hi)}function cn(a){return null!==Ut(a)}function Un(a,c){return a.hasOwnProperty(c)?a[c]:null}function Ei(a){return a&&(a.hasOwnProperty(ri)||a.hasOwnProperty(zo))?a[ri]:null}const Ai=j({\u0275prov:j}),ri=j({\u0275inj:j}),Hi=j({ngInjectableDef:j}),zo=j({ngInjectorDef:j});var sn=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(sn||{});let Kt;function jt(a){const c=Kt;return Kt=a,c}function Oe(a,c,d){const p=Ut(a);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&sn.Optional?null:void 0!==c?c:void Le(de(a))}const Me=globalThis,_i={},Pi="__NG_DI_FLAG__",yr="ngTempTokenPath",fe=/\n/gm,X="__source";let ne;function Se(a){const c=ne;return ne=a,c}function Qe(a,c=sn.Default){if(void 0===ne)throw new xe(-203,!1);return null===ne?Oe(a,void 0,c):ne.get(a,c&sn.Optional?null:void 0,c)}function It(a,c=sn.Default){return(function Qt(){return Kt}()||Qe)(st(a),c)}function Vt(a,c=sn.Default){return It(a,ti(c))}function ti(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function xn(a){const c=[];for(let d=0;d<a.length;d++){const p=st(a[d]);if(Array.isArray(p)){if(0===p.length)throw new xe(900,!1);let _,b=sn.Default;for(let O=0;O<p.length;O++){const I=p[O],k=Nn(I);"number"==typeof k?-1===k?_=I.token:b|=k:_=I}c.push(It(_,b))}else c.push(It(p))}return c}function di(a,c){return a[Pi]=c,a.prototype[Pi]=c,a}function Nn(a){return a[Pi]}function Je(a){return{toString:a}.toString()}var He=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(He||{}),_t=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(_t||{});const Wt={},kt=[],An=j({\u0275cmp:j}),ai=j({\u0275dir:j}),Gi=j({\u0275pipe:j}),Yi=j({\u0275mod:j}),tr=j({\u0275fac:j}),jr=j({__NG_ELEMENT_ID__:j}),wo=j({__NG_ENV_ID__:j});function Na(a,c,d){let p=a.length;for(;;){const _=a.indexOf(c,d);if(-1===_)return _;if(0===_||a.charCodeAt(_-1)<=32){const b=c.length;if(_+b===p||a.charCodeAt(_+b)<=32)return _}d=_+1}}function Cr(a,c,d){let p=0;for(;p<d.length;){const _=d[p];if("number"==typeof _){if(0!==_)break;p++;const b=d[p++],O=d[p++],I=d[p++];a.setAttribute(c,O,I,b)}else{const b=_,O=d[++p];Os(b)?a.setProperty(c,b,O):a.setAttribute(c,b,O),p++}}return p}function vs(a){return 3===a||4===a||6===a}function Os(a){return 64===a.charCodeAt(0)}function os(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let p=0;p<c.length;p++){const _=c[p];"number"==typeof _?d=_:0===d||Mn(a,d,_,null,-1===d||2===d?c[++p]:null)}}return a}function Mn(a,c,d,p,_){let b=0,O=a.length;if(-1===c)O=-1;else for(;b<a.length;){const I=a[b++];if("number"==typeof I){if(I===c){O=-1;break}if(I>c){O=b-1;break}}}for(;b<a.length;){const I=a[b];if("number"==typeof I)break;if(I===d){if(null===p)return void(null!==_&&(a[b+1]=_));if(p===a[b+1])return void(a[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==O&&(a.splice(O,0,c),b=O+1),a.splice(b++,0,d),null!==p&&a.splice(b++,0,p),null!==_&&a.splice(b++,0,_)}const ki="ng-template";function xo(a,c,d){let p=0,_=!0;for(;p<a.length;){let b=a[p++];if("string"==typeof b&&_){const O=a[p++];if(d&&"class"===b&&-1!==Na(O.toLowerCase(),c,0))return!0}else{if(1===b){for(;p<a.length&&"string"==typeof(b=a[p++]);)if(b.toLowerCase()===c)return!0;return!1}"number"==typeof b&&(_=!1)}}return!1}function Hn(a){return 4===a.type&&a.value!==ki}function Sc(a,c,d){return c===(4!==a.type||d?a.value:ki)}function cc(a,c,d){let p=4;const _=a.attrs||[],b=function da(a){for(let c=0;c<a.length;c++)if(vs(a[c]))return c;return a.length}(_);let O=!1;for(let I=0;I<c.length;I++){const k=c[I];if("number"!=typeof k){if(!O)if(4&p){if(p=2|1&p,""!==k&&!Sc(a,k,d)||""===k&&1===c.length){if(Wr(p))return!1;O=!0}}else{const B=8&p?k:c[++I];if(8&p&&null!==a.attrs){if(!xo(a.attrs,B,d)){if(Wr(p))return!1;O=!0}continue}const se=Ps(8&p?"class":k,_,Hn(a),d);if(-1===se){if(Wr(p))return!1;O=!0;continue}if(""!==B){let Ee;Ee=se>b?"":_[se+1].toLowerCase();const ze=8&p?Ee:null;if(ze&&-1!==Na(ze,B,0)||2&p&&B!==Ee){if(Wr(p))return!1;O=!0}}}}else{if(!O&&!Wr(p)&&!Wr(k))return!1;if(O&&Wr(k))continue;O=!1,p=k|1&p}}return Wr(p)||O}function Wr(a){return 0==(1&a)}function Ps(a,c,d,p){if(null===c)return-1;let _=0;if(p||!d){let b=!1;for(;_<c.length;){const O=c[_];if(O===a)return _;if(3===O||6===O)b=!0;else{if(1===O||2===O){let I=c[++_];for(;"string"==typeof I;)I=c[++_];continue}if(4===O)break;if(0===O){_+=4;continue}}_+=b?1:2}return-1}return function Dc(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const p=a[d];if("number"==typeof p)return-1;if(p===c)return d;d++}return-1}(c,a)}function Fa(a,c,d=!1){for(let p=0;p<c.length;p++)if(cc(a,c[p],d))return!0;return!1}function Ac(a,c){e:for(let d=0;d<c.length;d++){const p=c[d];if(a.length===p.length){for(let _=0;_<a.length;_++)if(a[_]!==p[_])continue e;return!0}}return!1}function ho(a,c){return a?":not("+c.trim()+")":c}function ha(a){let c=a[0],d=1,p=2,_="",b=!1;for(;d<a.length;){let O=a[d];if("string"==typeof O)if(2&p){const I=a[++d];_+="["+O+(I.length>0?'="'+I+'"':"")+"]"}else 8&p?_+="."+O:4&p&&(_+=" "+O);else""!==_&&!Wr(O)&&(c+=ho(b,_),_=""),p=O,b=b||!Wr(p);d++}return""!==_&&(c+=ho(b,_)),c}function Mo(a){return Je(()=>{const c=Rc(a),d={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===He.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||_t.Emulated,styles:a.styles||kt,_:null,schemas:a.schemas||null,tView:null,id:""};Nc(d);const p=a.dependencies;return d.directiveDefs=Ho(p,!1),d.pipeDefs=Ho(p,!0),d.id=function Fc(a){let c=0;const d=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const _ of d)c=Math.imul(31,c)+_.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(d),d})}function lc(a){return qn(a)||Vi(a)}function fa(a){return null!==a}function Ui(a){return Je(()=>({type:a.type,bootstrap:a.bootstrap||kt,declarations:a.declarations||kt,imports:a.imports||kt,exports:a.exports||kt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function pa(a,c){if(null==a)return Wt;const d={};for(const p in a)if(a.hasOwnProperty(p)){let _=a[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),d[_]=p,c&&(c[_]=b)}return d}function Is(a){return Je(()=>{const c=Rc(a);return Nc(c),c})}function uc(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function qn(a){return a[An]||null}function Vi(a){return a[ai]||null}function xr(a){return a[Gi]||null}function La(a){const c=qn(a)||Vi(a)||xr(a);return null!==c&&c.standalone}function Mr(a,c){const d=a[Yi]||null;if(!d&&!0===c)throw new Error(`Type ${de(a)} does not have '\u0275mod' property.`);return d}function Rc(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:a.inputs||Wt,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||kt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pa(a.inputs,c),outputs:pa(a.outputs)}}function Nc(a){a.features?.forEach(c=>c(a))}function Ho(a,c){if(!a)return null;const d=c?xr:lc;return()=>("function"==typeof a?a():a).map(p=>d(p)).filter(fa)}const Ri=0,Mt=1,En=2,Ii=3,fo=4,Gs=5,Gn=6,ss=7,vi=8,ma=9,as=10,on=11,Yr=12,Hl=13,Er=14,Or=15,Ts=16,qo=17,ur=18,Pr=19,ga=20,Ua=21,Bi=22,Zo=23,Kr=24,ni=25,Mu=1,Va=2,Nr=7,Qr=9,qi=11;function Jr(a){return Array.isArray(a)&&"object"==typeof a[Mu]}function Ir(a){return Array.isArray(a)&&!0===a[Mu]}function fl(a){return 0!=(4&a.flags)}function Fr(a){return a.componentOffset>-1}function Xr(a){return 1==(1&a.flags)}function pi(a){return!!a.template}function va(a){return 0!=(512&a[En])}function Ws(a,c){return a.hasOwnProperty(tr)?a[tr]:null}let dr=null,za=!1;function eo(a){const c=dr;return dr=a,c}const jc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function pc(a){if(!Hc(a)||a.dirty){if(!a.producerMustRecompute(a)&&!Wo(a))return void(a.dirty=!1);a.producerRecomputeValue(a),a.dirty=!1}}function Ca(a){a.dirty=!0,function Gl(a){if(void 0===a.liveConsumerNode)return;const c=za;za=!0;try{for(const d of a.liveConsumerNode)d.dirty||Ca(d)}finally{za=c}}(a),a.consumerMarkedDirty?.(a)}function pl(a){return a&&(a.nextProducerIndex=0),eo(a)}function xi(a,c){if(eo(c),a&&void 0!==a.producerNode&&void 0!==a.producerIndexOfThis&&void 0!==a.producerLastReadVersion){if(Hc(a))for(let d=a.nextProducerIndex;d<a.producerNode.length;d++)cs(a.producerNode[d],a.producerIndexOfThis[d]);for(;a.producerNode.length>a.nextProducerIndex;)a.producerNode.pop(),a.producerLastReadVersion.pop(),a.producerIndexOfThis.pop()}}function Wo(a){Po(a);for(let c=0;c<a.producerNode.length;c++){const d=a.producerNode[c],p=a.producerLastReadVersion[c];if(p!==d.version||(pc(d),p!==d.version))return!0}return!1}function ja(a){if(Po(a),Hc(a))for(let c=0;c<a.producerNode.length;c++)cs(a.producerNode[c],a.producerIndexOfThis[c]);a.producerNode.length=a.producerLastReadVersion.length=a.producerIndexOfThis.length=0,a.liveConsumerNode&&(a.liveConsumerNode.length=a.liveConsumerIndexOfThis.length=0)}function cs(a,c){if(function Ks(a){a.liveConsumerNode??=[],a.liveConsumerIndexOfThis??=[]}(a),Po(a),1===a.liveConsumerNode.length)for(let p=0;p<a.producerNode.length;p++)cs(a.producerNode[p],a.producerIndexOfThis[p]);const d=a.liveConsumerNode.length-1;if(a.liveConsumerNode[c]=a.liveConsumerNode[d],a.liveConsumerIndexOfThis[c]=a.liveConsumerIndexOfThis[d],a.liveConsumerNode.length--,a.liveConsumerIndexOfThis.length--,c<a.liveConsumerNode.length){const p=a.liveConsumerIndexOfThis[c],_=a.liveConsumerNode[c];Po(_),_.producerIndexOfThis[p]=c}}function Hc(a){return a.consumerIsAlwaysLive||(a?.liveConsumerNode?.length??0)>0}function Po(a){a.producerNode??=[],a.producerIndexOfThis??=[],a.producerLastReadVersion??=[]}let ee=null;function To(a){const c=eo(null);try{return a()}finally{eo(c)}}const sd=()=>{},$h=(()=>({...jc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:a=>{a.schedule(a.ref)},hasRun:!1,cleanupFn:sd}))();class Gh{constructor(c,d,p){this.previousValue=c,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function Wl(){return Yl}function Yl(a){return a.type.prototype.ngOnChanges&&(a.setInput=As),ad}function ad(){const a=gl(this),c=a?.current;if(c){const d=a.previous;if(d===Wt)a.previous=c;else for(let p in c)d[p]=c[p];a.current=null,this.ngOnChanges(c)}}function As(a,c,d,p){const _=this.declaredInputs[d],b=gl(a)||function cd(a,c){return a[$c]=c}(a,{previous:Wt,current:null}),O=b.current||(b.current={}),I=b.previous,k=I[_];O[_]=new Gh(k&&k.currentValue,c,I===Wt),a[p]=c}Wl.ngInherit=!0;const $c="__ngSimpleChanges__";function gl(a){return a[$c]||null}const ks=function(a,c,d){},th="svg";function Ti(a){for(;Array.isArray(a);)a=a[Ri];return a}function qa(a,c){return Ti(c[a])}function Yo(a,c){return Ti(c[a.index])}function nh(a,c){return a.data[c]}function vl(a,c){return a[c]}function Ki(a,c){const d=c[a];return Jr(d)?d:d[Ri]}function yl(a,c){return null==c?null:a[c]}function oh(a){a[qo]=0}function Gc(a){1024&a[En]||(a[En]|=1024,Hr(a,1))}function Wh(a){1024&a[En]&&(a[En]&=-1025,Hr(a,-1))}function Hr(a,c){let d=a[Ii];if(null===d)return;d[Gs]+=c;let p=d;for(d=d[Ii];null!==d&&(1===c&&1===p[Gs]||-1===c&&0===p[Gs]);)d[Gs]+=c,p=d,d=d[Ii]}const On={lFrame:ys(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wi(){return On.bindingsEnabled}function Rs(){return null!==On.skipHydrationRootTNode}function pt(){return On.lFrame.lView}function oi(){return On.lFrame.tView}function Ns(a){return On.lFrame.contextLView=a,a[vi]}function Du(a){return On.lFrame.contextLView=null,a}function Do(){let a=ud();for(;null!==a&&64===a.type;)a=a.parent;return a}function ud(){return On.lFrame.currentTNode}function ko(a,c){const d=On.lFrame;d.currentTNode=a,d.isParent=c}function Qi(){return On.lFrame.isParent}function po(){On.lFrame.isParent=!1}function Ji(){const a=On.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function fr(){return On.lFrame.bindingIndex}function no(){return On.lFrame.bindingIndex++}function io(a){const c=On.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function dd(a,c){const d=On.lFrame;d.bindingIndex=d.bindingRootIndex=a,Au(c)}function Au(a){On.lFrame.currentDirectiveIndex=a}function ch(){return On.lFrame.currentQueryIndex}function bl(a){On.lFrame.currentQueryIndex=a}function lh(a){const c=a[Mt];return 2===c.type?c.declTNode:1===c.type?a[Gn]:null}function Za(a,c,d){if(d&sn.SkipSelf){let _=c,b=a;for(;!(_=_.parent,null!==_||d&sn.Host||(_=lh(b),null===_||(b=b[Er],10&_.type))););if(null===_)return!1;c=_,a=b}const p=On.lFrame=ku();return p.currentTNode=c,p.lView=a,!0}function Ql(a){const c=ku(),d=a[Mt];On.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function ku(){const a=On.lFrame,c=null===a?null:a.child;return null===c?ys(a):c}function ys(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Cl(){const a=On.lFrame;return On.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const _c=Cl;function vc(){const a=Cl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function us(){return On.lFrame.selectedIndex}function xa(a){On.lFrame.selectedIndex=a}function ar(){const a=On.lFrame;return nh(a.tView,a.selectedIndex)}function Ma(){On.lFrame.currentNamespace=th}function bs(){!function Fn(){On.lFrame.currentNamespace=null}()}let Ro=!0;function Xl(){return Ro}function bc(a){Ro=a}function $a(a,c){for(let d=c.directiveStart,p=c.directiveEnd;d<p;d++){const b=a.data[d].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:I,ngAfterViewInit:k,ngAfterViewChecked:B,ngOnDestroy:G}=b;O&&(a.contentHooks??=[]).push(-d,O),I&&((a.contentHooks??=[]).push(d,I),(a.contentCheckHooks??=[]).push(d,I)),k&&(a.viewHooks??=[]).push(-d,k),B&&((a.viewHooks??=[]).push(d,B),(a.viewCheckHooks??=[]).push(d,B)),null!=G&&(a.destroyHooks??=[]).push(d,G)}}function Zr(a,c,d){Xi(a,c,3,d)}function Cc(a,c,d,p){(3&a[En])===d&&Xi(a,c,d,p)}function Tr(a,c){let d=a[En];(3&d)===c&&(d&=8191,d+=1,a[En]=d)}function Xi(a,c,d,p){const b=p??-1,O=c.length-1;let I=0;for(let k=void 0!==p?65535&a[qo]:0;k<O;k++)if("number"==typeof c[k+1]){if(I=c[k],null!=p&&I>=p)break}else c[k]<0&&(a[qo]+=65536),(I<b||-1==b)&&(ap(a,d,c,k),a[qo]=(4294901760&a[qo])+k+2),k++}function nr(a,c){ks(4,a,c);const d=eo(null);try{c.call(a)}finally{eo(d),ks(5,a,c)}}function ap(a,c,d,p){const _=d[p]<0,b=d[p+1],I=a[_?-d[p]:d[p]];_?a[En]>>13<a[qo]>>16&&(3&a[En])===c&&(a[En]+=8192,nr(I,b)):nr(I,b)}const Fs=-1;class hd{constructor(c,d,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function Kc(a){return a!==Fs}function Qc(a){return 32767&a}function wl(a,c){let d=function gd(a){return a>>16}(a),p=c;for(;d>0;)p=p[Er],d--;return p}let Ru=!0;function Cs(a){const c=Ru;return Ru=a,c}const Xh=255,hh=5;let ef=0;const Ko={};function Xs(a,c){const d=Nu(a,c);if(-1!==d)return d;const p=c[Mt];p.firstCreatePass&&(a.injectorIndex=c.length,tu(p.data,a),tu(c,null),tu(p.blueprint,null));const _=nu(a,c),b=a.injectorIndex;if(Kc(_)){const O=Qc(_),I=wl(_,c),k=I[Mt].data;for(let B=0;B<8;B++)c[b+B]=I[O+B]|k[O+B]}return c[b+8]=_,b}function tu(a,c){a.push(0,0,0,0,0,0,0,0,c)}function Nu(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function nu(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,p=null,_=c;for(;null!==_;){if(p=up(_),null===p)return Fs;if(d++,_=_[Er],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return Fs}function iu(a,c,d){!function _d(a,c,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(jr)&&(p=d[jr]),null==p&&(p=d[jr]=ef++);const _=p&Xh;c.data[a+(_>>hh)]|=1<<_}(a,c,d)}function ru(a,c,d){if(d&sn.Optional||void 0!==a)return a;Le()}function ou(a,c,d,p){if(d&sn.Optional&&void 0===p&&(p=null),!(d&(sn.Self|sn.Host))){const _=a[ma],b=jt(void 0);try{return _?_.get(c,p,d&sn.Optional):Oe(c,p,d&sn.Optional)}finally{jt(b)}}return ru(p,0,d)}function ea(a,c,d,p=sn.Default,_){if(null!==a){if(2048&c[En]&&!(p&sn.Self)){const O=function No(a,c,d,p,_){let b=a,O=c;for(;null!==b&&null!==O&&2048&O[En]&&!(512&O[En]);){const I=Ls(b,O,d,p|sn.Self,Ko);if(I!==Ko)return I;let k=b.parent;if(!k){const B=O[ga];if(B){const G=B.get(d,Ko,p);if(G!==Ko)return G}k=up(O),O=O[Er]}b=k}return _}(a,c,d,p,Ko);if(O!==Ko)return O}const b=Ls(a,c,d,p,Ko);if(b!==Ko)return b}return ou(c,d,p,_)}function Ls(a,c,d,p,_){const b=function fh(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(jr)?a[jr]:void 0;return"number"==typeof c?c>=0?c&Xh:wc:c}(d);if("function"==typeof b){if(!Za(c,a,p))return p&sn.Host?ru(_,0,p):ou(c,d,p,_);try{let O;if(O=b(p),null!=O||p&sn.Optional)return O;Le()}finally{_c()}}else if("number"==typeof b){let O=null,I=Nu(a,c),k=Fs,B=p&sn.Host?c[Or][Gn]:null;for((-1===I||p&sn.SkipSelf)&&(k=-1===I?nu(a,c):c[I+8],k!==Fs&&xl(p,!1)?(O=c[Mt],I=Qc(k),c=wl(k,c)):I=-1);-1!==I;){const G=c[Mt];if(ph(b,I,G.data)){const se=lp(I,c,d,O,p,B);if(se!==Ko)return se}k=c[I+8],k!==Fs&&xl(p,c[Mt].data[I+8]===B)&&ph(b,I,c)?(O=G,I=Qc(k),c=wl(k,c)):I=-1}}return _}function lp(a,c,d,p,_,b){const O=c[Mt],I=O.data[a+8],G=yd(I,O,d,null==p?Fr(I)&&Ru:p!=O&&0!=(3&I.type),_&sn.Host&&b===I);return null!==G?Ga(c,O,G,I):Ko}function yd(a,c,d,p,_){const b=a.providerIndexes,O=c.data,I=1048575&b,k=a.directiveStart,G=b>>20,Ee=_?I+G:a.directiveEnd;for(let ze=p?I:I+G;ze<Ee;ze++){const ft=O[ze];if(ze<k&&d===ft||ze>=k&&ft.type===d)return ze}if(_){const ze=O[k];if(ze&&pi(ze)&&ze.type===d)return k}return null}function Ga(a,c,d,p){let _=a[d];const b=c.data;if(function Em(a){return a instanceof hd}(_)){const O=_;O.resolving&&function he(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new xe(-200,`Circular dependency in DI detected for ${a}${d}`)}(function it(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ze(a)}(b[d]));const I=Cs(O.canSeeViewProviders);O.resolving=!0;const B=O.injectImpl?jt(O.injectImpl):null;Za(a,p,sn.Default);try{_=a[d]=O.factory(void 0,b,a,p),c.firstCreatePass&&d>=p.directiveStart&&function li(a,c,d){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=c.type.prototype;if(p){const O=Yl(c);(d.preOrderHooks??=[]).push(a,O),(d.preOrderCheckHooks??=[]).push(a,O)}_&&(d.preOrderHooks??=[]).push(0-a,_),b&&((d.preOrderHooks??=[]).push(a,b),(d.preOrderCheckHooks??=[]).push(a,b))}(d,b[d],c)}finally{null!==B&&jt(B),Cs(I),O.resolving=!1,_c()}}return _}function ph(a,c,d){return!!(d[c+(a>>hh)]&1<<a)}function xl(a,c){return!(a&sn.Self||a&sn.Host&&c)}class si{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,p){return ea(this._tNode,this._lView,c,ti(p),d)}}function wc(){return new si(Do(),pt())}function bd(a){return Je(()=>{const c=a.prototype.constructor,d=c[tr]||Vn(c),p=Object.prototype;let _=Object.getPrototypeOf(a.prototype).constructor;for(;_&&_!==p;){const b=_[tr]||Vn(_);if(b&&b!==d)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function Vn(a){return mt(a)?()=>{const c=Vn(st(a));return c&&c()}:Ws(a)}function up(a){const c=a[Mt],d=c.type;return 2===d?c.declTNode:1===d?a[Gn]:null}function pr(a){return function vd(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const p=d.length;let _=0;for(;_<p;){const b=d[_];if(vs(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof d[_];)_++;else{if(b===c)return d[_+1];_+=2}}}return null}(Do(),a)}const Ea="__parameters__";function H(a,c,d){return Je(()=>{const p=function F(a){return function(...d){if(a){const p=a(...d);for(const _ in p)this[_]=p[_]}}}(c);function _(...b){if(this instanceof _)return p.apply(this,b),this;const O=new _(...b);return I.annotation=O,I;function I(k,B,G){const se=k.hasOwnProperty(Ea)?k[Ea]:Object.defineProperty(k,Ea,{value:[]})[Ea];for(;se.length<=G;)se.push(null);return(se[G]=se[G]||[]).push(O),k}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=a,_.annotationCls=_,_})}function El(a,c){a.forEach(d=>Array.isArray(d)?El(d,c):c(d))}function l_(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function Cd(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function wd(a,c){const d=[];for(let p=0;p<a;p++)d.push(c);return d}function ta(a,c,d){let p=su(a,c);return p>=0?a[1|p]=d:(p=~p,function Om(a,c,d,p){let _=a.length;if(_==c)a.push(d,p);else if(1===_)a.push(p,a[0]),a[0]=d;else{for(_--,a.push(a[_-1],a[_]);_>c;)a[_]=a[_-2],_--;a[c]=d,a[c+1]=p}}(a,p,c,d)),p}function dp(a,c){const d=su(a,c);if(d>=0)return a[1|d]}function su(a,c){return function xd(a,c,d){let p=0,_=a.length>>d;for(;_!==p;){const b=p+(_-p>>1),O=a[b<<d];if(c===O)return b<<d;O>c?_=b:p=b+1}return~(_<<d)}(a,c,1)}const Xe=di(H("Optional"),8),Nt=di(H("SkipSelf"),4);function cu(a){return 128==(128&a.flags)}var bh=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(bh||{});const DC=/^>|^->|<!--|-->|--!>|<!-$/g,zu=/(<|>)/g,AC="\u200b$1\u200b";const Am=new Map;let kE=0;function u(a){return Am.get(a)||null}class g{get lView(){return u(this.lViewId)}constructor(c,d,p){this.lViewId=c,this.nodeIndex=d,this.native=p}}function y(a){let c=W(a);if(c){if(Jr(c)){const d=c;let p,_,b;if(ge(a)){if(p=function ht(a,c){const d=a[Mt].components;if(d)for(let p=0;p<d.length;p++){const _=d[p];if(Ki(_,a)[vi]===c)return _}else if(Ki(ni,a)[vi]===c)return ni;return-1}(d,a),-1==p)throw new Error("The provided component was not found in the application");_=a}else if(function _e(a){return a&&a.constructor&&a.constructor.\u0275dir}(a)){if(p=function an(a,c){let d=a[Mt].firstChild;for(;d;){const _=d.directiveEnd;for(let b=d.directiveStart;b<_;b++)if(a[b]===c)return d.index;d=et(d)}return-1}(d,a),-1==p)throw new Error("The provided directive was not found in the application");b=function Jt(a,c){const d=c[Mt].data[a];if(0===d.directiveStart)return kt;const p=[];for(let _=d.directiveStart;_<d.directiveEnd;_++){const b=c[_];ge(b)||p.push(b)}return p}(p,d)}else if(p=ke(d,a),-1==p)return null;const O=Ti(d[p]),I=W(O),k=I&&!Array.isArray(I)?I:M(d,p,O);if(_&&void 0===k.component&&(k.component=_,V(k.component,k)),b&&void 0===k.directives){k.directives=b;for(let B=0;B<b.length;B++)V(b[B],k)}V(k.native,k),c=k}}else{const d=a;let p=d;for(;p=p.parentNode;){const _=W(p);if(_){const b=Array.isArray(_)?_:_.lView;if(!b)return null;const O=ke(b,d);if(O>=0){const I=Ti(b[O]),k=M(b,O,I);V(I,k),c=k;break}}}}return c||null}function M(a,c,d){return new g(a[Pr],c,d)}const R="__ngContext__";function V(a,c){Jr(c)?(a[R]=c[Pr],function f(a){Am.set(a[Pr],a)}(c)):a[R]=c}function W(a){const c=a[R];return"number"==typeof c?u(c):c||null}function ge(a){return a&&a.constructor&&a.constructor.\u0275cmp}function ke(a,c){const d=a[Mt];for(let p=ni;p<d.bindingStartIndex;p++)if(Ti(a[p])===c)return p;return-1}function et(a){if(a.child)return a.child;if(a.next)return a.next;for(;a.parent&&!a.parent.next;)a=a.parent;return a.parent&&a.parent.next}let bi;function Mi(a,c){return bi(a,c)}function ia(a){const c=a[Ii];return Ir(c)?c[Ii]:c}function mp(a){return Ch(a[Yr])}function hf(a){return Ch(a[fo])}function Ch(a){for(;null!==a&&!Ir(a);)a=a[fo];return a}function Pd(a,c,d,p,_){if(null!=p){let b,O=!1;Ir(p)?b=p:Jr(p)&&(O=!0,p=p[Ri]);const I=Ti(p);0===a&&null!==d?null==_?UE(c,d,I):gp(c,d,I,_||null,!0):1===a&&null!==d?gp(c,d,I,_||null,!0):2===a?function Zy(a,c,d){const p=v_(a,c);p&&function QD(a,c,d,p){a.removeChild(c,d,p)}(a,p,c,d)}(c,I,O):3===a&&c.destroyNode(I),null!=b&&function XD(a,c,d,p,_){const b=d[Nr];b!==Ti(d)&&Pd(c,a,p,b,_);for(let I=qi;I<d.length;I++){const k=d[I];wh(k[Mt],k,a,c,p,b)}}(c,a,b,d,_)}}function ra(a,c){return a.createComment(function na(a){return a.replace(DC,c=>c.replace(zu,AC))}(c))}function Mc(a,c,d){return a.createElement(c,d)}function KD(a,c){const d=a[Qr],p=d.indexOf(c);Wh(c),d.splice(p,1)}function zy(a,c){if(a.length<=qi)return;const d=qi+c,p=a[d];if(p){const _=p[Ts];null!==_&&_!==a&&KD(_,p),c>0&&(a[d-1][fo]=p[fo]);const b=Cd(a,qi+c);!function By(a,c){wh(a,c,c[on],2,null,null),c[Ri]=null,c[Gn]=null}(p[Mt],p);const O=b[ur];null!==O&&O.detachView(b[Mt]),p[Ii]=null,p[fo]=null,p[En]&=-129}return p}function NC(a,c){if(!(256&c[En])){const d=c[on];c[Zo]&&ja(c[Zo]),c[Kr]&&ja(c[Kr]),d.destroyNode&&wh(a,c,d,3,null,null),function YD(a){let c=a[Yr];if(!c)return jy(a[Mt],a);for(;c;){let d=null;if(Jr(c))d=c[Yr];else{const p=c[qi];p&&(d=p)}if(!d){for(;c&&!c[fo]&&c!==a;)Jr(c)&&jy(c[Mt],c),c=c[Ii];null===c&&(c=a),Jr(c)&&jy(c[Mt],c),d=c&&c[fo]}c=d}}(c)}}function jy(a,c){if(!(256&c[En])){c[En]&=-129,c[En]|=256,function NE(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let p=0;p<d.length;p+=2){const _=c[d[p]];if(!(_ instanceof hd)){const b=d[p+1];if(Array.isArray(b))for(let O=0;O<b.length;O+=2){const I=_[b[O]],k=b[O+1];ks(4,I,k);try{k.call(I)}finally{ks(5,I,k)}}else{ks(4,_,b);try{b.call(_)}finally{ks(5,_,b)}}}}}(a,c),function FC(a,c){const d=a.cleanup,p=c[ss];if(null!==d)for(let b=0;b<d.length-1;b+=2)if("string"==typeof d[b]){const O=d[b+3];O>=0?p[O]():p[-O].unsubscribe(),b+=2}else d[b].call(p[d[b+1]]);null!==p&&(c[ss]=null);const _=c[Ua];if(null!==_){c[Ua]=null;for(let b=0;b<_.length;b++)(0,_[b])()}}(a,c),1===c[Mt].type&&c[on].destroy();const d=c[Ts];if(null!==d&&Ir(c[Ii])){d!==c[Ii]&&KD(d,c);const p=c[ur];null!==p&&p.detachView(a)}!function h(a){Am.delete(a[Pr])}(c)}}function FE(a,c,d){return function LE(a,c,d){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return d[Ri];{const{componentOffset:_}=p;if(_>-1){const{encapsulation:b}=a.data[p.directiveStart+_];if(b===_t.None||b===_t.Emulated)return null}return Yo(p,d)}}(a,c.parent,d)}function gp(a,c,d,p,_){a.insertBefore(c,d,p,_)}function UE(a,c,d){a.appendChild(c,d)}function VE(a,c,d,p,_){null!==p?gp(a,c,d,p,_):UE(a,c,d)}function v_(a,c){return a.parentNode(c)}function BE(a,c,d){return zE(a,c,d)}let y_,$y,BC,M_,zE=function LC(a,c,d){return 40&a.type?Yo(a,d):null};function Hy(a,c,d,p){const _=FE(a,p,c),b=c[on],I=BE(p.parent||c[Gn],p,c);if(null!=_)if(Array.isArray(d))for(let k=0;k<d.length;k++)VE(b,_,d[k],I,!1);else VE(b,_,d,I,!1);void 0!==y_&&y_(b,p,c,d,_)}function b_(a,c){if(null!==c){const d=c.type;if(3&d)return Yo(c,a);if(4&d)return qy(-1,a[c.index]);if(8&d){const p=c.child;if(null!==p)return b_(a,p);{const _=a[c.index];return Ir(_)?qy(-1,_):Ti(_)}}if(32&d)return Mi(c,a)()||Ti(a[c.index]);{const p=HE(a,c);return null!==p?Array.isArray(p)?p[0]:b_(ia(a[Or]),p):b_(a,c.next)}}return null}function HE(a,c){return null!==c?a[Or][Gn].projection[c.projection]:null}function qy(a,c){const d=qi+a+1;if(d<c.length){const p=c[d],_=p[Mt].firstChild;if(null!==_)return b_(p,_)}return c[Nr]}function C_(a,c,d,p,_,b,O){for(;null!=d;){const I=p[d.index],k=d.type;if(O&&0===c&&(I&&V(Ti(I),p),d.flags|=2),32!=(32&d.flags))if(8&k)C_(a,c,d.child,p,_,b,!1),Pd(c,a,_,I,b);else if(32&k){const B=Mi(d,p);let G;for(;G=B();)Pd(c,a,_,G,b);Pd(c,a,_,I,b)}else 16&k?qE(a,c,p,d,_,b):Pd(c,a,_,I,b);d=O?d.projectionNext:d.next}}function wh(a,c,d,p,_,b){C_(d,p,a.firstChild,c,_,b,!1)}function qE(a,c,d,p,_,b){const O=d[Or],k=O[Gn].projection[p.projection];if(Array.isArray(k))for(let B=0;B<k.length;B++)Pd(c,a,_,k[B],b);else{let B=k;const G=O[Ii];cu(p)&&(B.flags|=128),C_(a,c,B,G,_,b,!0)}}function ZE(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function w_(a,c,d){const{mergedAttrs:p,classes:_,styles:b}=d;null!==p&&Cr(a,c,p),null!==_&&ZE(a,c,_),null!==b&&function eA(a,c,d){a.setAttribute(c,"style",d)}(a,c,b)}function _p(a){return function Gy(){if(void 0===$y&&($y=null,Me.trustedTypes))try{$y=Me.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return $y}()?.createHTML(a)||a}function GE(a){BC=a}function km(){if(void 0!==BC)return BC;if(typeof document<"u")return document;throw new xe(210,!1)}function Rm(){if(void 0===M_&&(M_=null,Me.trustedTypes))try{M_=Me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return M_}function WE(a){return Rm()?.createHTML(a)||a}function Wy(a){return Rm()?.createScriptURL(a)||a}class vp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class KE extends vp{getTypeName(){return"HTML"}}class nA extends vp{getTypeName(){return"Style"}}class iA extends vp{getTypeName(){return"Script"}}class rA extends vp{getTypeName(){return"URL"}}class oA extends vp{getTypeName(){return"ResourceURL"}}function Td(a){return a instanceof vp?a.changingThisBreaksApplicationSecurity:a}function xh(a,c){const d=function QE(a){return a instanceof vp&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${We})`)}return d===c}function sA(a){return new KE(a)}function JE(a){return new nA(a)}function aA(a){return new iA(a)}function cA(a){return new rA(a)}function lA(a){return new oA(a)}class uA{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(_p(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class dA{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=_p(c),d}}const zC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function E_(a){return(a=String(a)).match(zC)?a:"unsafe:"+a}function Mh(a){const c={};for(const d of a.split(","))c[d]=!0;return c}function Yy(...a){const c={};for(const d of a)for(const p in d)d.hasOwnProperty(p)&&(c[p]=!0);return c}const hA=Mh("area,br,col,hr,img,wbr"),fA=Mh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sd=Mh("rp,rt"),tO=Yy(hA,Yy(fA,Mh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yy(Sd,Mh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yy(Sd,fA)),HC=Mh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iO=Yy(HC,Mh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pA=Mh("script,style,template");class mA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,p=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?p=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,p&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let _=this.checkClobberedElement(d,d.nextSibling);if(_){d=_;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!tO.hasOwnProperty(d))return this.sanitizedSomething=!0,!pA.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const p=c.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),O=b.name,I=O.toLowerCase();if(!iO.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let k=b.value;HC[I]&&(k=E_(k)),this.buf.push(" ",O,'="',_A(k),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();tO.hasOwnProperty(d)&&!hA.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(_A(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const gA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n3=/([^\#-~ |!])/g;function _A(a){return a.replace(/&/g,"&amp;").replace(gA,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(n3,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qC;function rO(a,c){let d=null;try{qC=qC||function XE(a){const c=new dA(a);return function eO(){try{return!!(new window.DOMParser).parseFromString(_p(""),"text/html")}catch{return!1}}()?new uA(c):c}(a);let p=c?String(c):"";d=qC.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=d.innerHTML,d=qC.getInertBodyElement(p)}while(p!==b);return _p((new mA).sanitizeChildren(oO(d)||d))}finally{if(d){const p=oO(d)||d;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function oO(a){return"content"in a&&function i3(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Fm=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(Fm||{});function dt(a){const c=yp();return c?WE(c.sanitize(Fm.HTML,a)||""):xh(a,"HTML")?WE(Td(a)):rO(km(),Ze(a))}function du(a){const c=yp();return c?c.sanitize(Fm.URL,a)||"":xh(a,"URL")?Td(a):E_(Ze(a))}function ie(a){const c=yp();if(c)return Wy(c.sanitize(Fm.RESOURCE_URL,a)||"");if(xh(a,"ResourceURL"))return Wy(Td(a));throw new xe(904,!1)}function Lo(a,c,d){return function vA(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?ie:du}(c,d)(a)}function yp(){const a=pt();return a&&a[as].sanitizer}class ir{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=fn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const O_=new ir("ENVIRONMENT_INITIALIZER"),aO=new ir("INJECTOR",-1),GC=new ir("INJECTOR_DEF_TYPES");class WC{get(c,d=_i){if(d===_i){const p=new Error(`NullInjectorError: No provider for ${de(c)}!`);throw p.name="NullInjectorError",p}return d}}function yA(...a){return{\u0275providers:lO(0,a),\u0275fromNgModule:!0}}function lO(a,...c){const d=[],p=new Set;let _;const b=O=>{d.push(O)};return El(c,O=>{const I=O;bp(I,b,[],p)&&(_||=[],_.push(I))}),void 0!==_&&oa(_,b),d}function oa(a,c){for(let d=0;d<a.length;d++){const{ngModule:p,providers:_}=a[d];P_(_,b=>{c(b,p)})}}function bp(a,c,d,p){if(!(a=st(a)))return!1;let _=null,b=Ei(a);const O=!b&&qn(a);if(b||O){if(O&&!O.standalone)return!1;_=a}else{const k=a.ngModule;if(b=Ei(k),!b)return!1;_=k}const I=p.has(_);if(O){if(I)return!1;if(p.add(_),O.dependencies){const k="function"==typeof O.dependencies?O.dependencies():O.dependencies;for(const B of k)bp(B,c,d,p)}}else{if(!b)return!1;{if(null!=b.imports&&!I){let B;p.add(_);try{El(b.imports,G=>{bp(G,c,d,p)&&(B||=[],B.push(G))})}finally{}void 0!==B&&oa(B,c)}if(!I){const B=Ws(_)||(()=>new _);c({provide:_,useFactory:B,deps:kt},_),c({provide:GC,useValue:_,multi:!0},_),c({provide:O_,useValue:()=>It(_),multi:!0},_)}const k=b.providers;if(null!=k&&!I){const B=a;P_(k,G=>{c(G,B)})}}}return _!==a&&void 0!==a.providers}function P_(a,c){for(let d of a)Re(d)&&(d=d.\u0275providers),Array.isArray(d)?P_(d,c):c(d)}const Ky=j({provide:String,useValue:j});function Lm(a){return null!==a&&"object"==typeof a&&Ky in a}function Cp(a){return"function"==typeof a}const YC=new ir("Set Injector scope."),Jy={},I_={};let Xy;function wp(){return void 0===Xy&&(Xy=new WC),Xy}class Hu{}class e0 extends Hu{get destroyed(){return this._destroyed}constructor(c,d,p,_){super(),this.parent=d,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xp(c,O=>this.processProvider(O)),this.records.set(aO,ff(void 0,this)),_.has("environment")&&this.records.set(Hu,ff(void 0,this));const b=this.records.get(YC);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(GC.multi,kt,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of c)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const d=Se(this),p=jt(void 0);try{return c()}finally{Se(d),jt(p)}}get(c,d=_i,p=sn.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(wo))return c[wo](this);p=ti(p);const b=Se(this),O=jt(void 0);try{if(!(p&sn.SkipSelf)){let k=this.records.get(c);if(void 0===k){const B=function pO(a){return"function"==typeof a||"object"==typeof a&&a instanceof ir}(c)&&Ut(c);k=B&&this.injectableDefInScope(B)?ff(KC(c),Jy):null,this.records.set(c,k)}if(null!=k)return this.hydrate(c,k)}return(p&sn.Self?wp():this.parent).get(c,d=p&sn.Optional&&d===_i?null:d)}catch(I){if("NullInjectorError"===I.name){if((I[yr]=I[yr]||[]).unshift(de(c)),b)throw I;return function br(a,c,d,p){const _=a[yr];throw c[X]&&_.unshift(c[X]),a.message=function rs(a,c,d,p=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let _=de(c);if(Array.isArray(c))_=c.map(de).join(" -> ");else if("object"==typeof c){let b=[];for(let O in c)if(c.hasOwnProperty(O)){let I=c[O];b.push(O+":"+("string"==typeof I?JSON.stringify(I):de(I)))}_=`{${b.join(", ")}}`}return`${d}${p?"("+p+")":""}[${_}]: ${a.replace(fe,"\n  ")}`}("\n"+a.message,_,d,p),a.ngTokenPath=_,a[yr]=null,a}(I,c,"R3InjectorError",this.source)}throw I}finally{jt(O),Se(b)}}resolveInjectorInitializers(){const c=Se(this),d=jt(void 0);try{const _=this.get(O_.multi,kt,sn.Self);for(const b of _)b()}finally{Se(c),jt(d)}}toString(){const c=[],d=this.records;for(const p of d.keys())c.push(de(p));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let d=Cp(c=st(c))?c:st(c&&c.provide);const p=function CA(a){return Lm(a)?ff(void 0,a.useValue):ff(QC(a),Jy)}(c);if(Cp(c)||!0!==c.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=ff(void 0,Jy,!0),_.factory=()=>xn(_.multi),this.records.set(d,_)),d=c,_.multi.push(c)}this.records.set(d,p)}hydrate(c,d){return d.value===Jy&&(d.value=I_,d.value=d.factory()),"object"==typeof d.value&&d.value&&function JC(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=st(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(c){const d=this._onDestroyHooks.indexOf(c);-1!==d&&this._onDestroyHooks.splice(d,1)}}function KC(a){const c=Ut(a),d=null!==c?c.factory:Ws(a);if(null!==d)return d;if(a instanceof ir)throw new xe(204,!1);if(a instanceof Function)return function bA(a){const c=a.length;if(c>0)throw wd(c,"?"),new xe(204,!1);const d=function zn(a){return a&&(a[Ai]||a[Hi])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new xe(204,!1)}function QC(a,c,d){let p;if(Cp(a)){const _=st(a);return Ws(_)||KC(_)}if(Lm(a))p=()=>st(a.useValue);else if(function dO(a){return!(!a||!a.useFactory)}(a))p=()=>a.useFactory(...xn(a.deps||[]));else if(function Qy(a){return!(!a||!a.useExisting)}(a))p=()=>It(st(a.useExisting));else{const _=st(a&&(a.useClass||a.provide));if(!function fO(a){return!!a.deps}(a))return Ws(_)||KC(_);p=()=>new _(...xn(a.deps))}return p}function ff(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function xp(a,c){for(const d of a)Array.isArray(d)?xp(d,c):d&&Re(d)?xp(d.\u0275providers,c):c(d)}const mO=new ir("AppId",{providedIn:"root",factory:()=>XC}),XC="ng",t0=new ir("Platform Initializer"),ew=new ir("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tw=new ir("AnimationModuleType"),nw=new ir("CSP nonce",{providedIn:"root",factory:()=>km().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _O=(a,c,d)=>null;function ow(a,c,d=!1){return _O(a,c,d)}class wO{}class OA{}class cw{resolveComponentFactory(c){throw function PA(a){const c=Error(`No component factory found for ${de(a)}.`);return c.ngComponent=a,c}(c)}}let d0=(()=>{class a{static#e=this.NULL=new cw}return a})();function c3(){return Vm(Do(),pt())}function Vm(a,c){return new Bm(Yo(a,c))}let Bm=(()=>{class a{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=c3}return a})();function TA(a){return a instanceof Bm?a.nativeElement:a}class lw{}let uw=(()=>{class a{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ep(){const a=pt(),d=Ki(Do().index,a);return(Jr(d)?d:a)[on]}()}return a})(),l3=(()=>{class a{static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:()=>null})}return a})();class h0{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const SA=new h0("16.2.7"),dw={};function Op(a,c=null,d=null,p){const _=EO(a,c,d,p);return _.resolveInjectorInitializers(),_}function EO(a,c=null,d=null,p,_=new Set){const b=[d||kt,yA(a)];return p=p||("object"==typeof a?void 0:de(a)),new e0(b,c||wp(),p||null,_)}let hu=(()=>{class a{static#e=this.THROW_IF_NOT_FOUND=_i;static#t=this.NULL=new WC;static create(d,p){if(Array.isArray(d))return Op({name:""},p,d,"");{const _=d.name??"";return Op({name:_},d.parent,d.providers,_)}}static#n=this.\u0275prov=fn({token:a,providedIn:"any",factory:()=>It(aO)});static#i=this.__NG_ELEMENT_ID__=-1}return a})();function Pp(a){return a.ngOriginalError}class Dd{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Pp(c);for(;d&&Pp(d);)d=Pp(d);return d||null}}function pw(a){return c=>{setTimeout(a,void 0,c)}}const Ad=class RA extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,p){let _=c,b=d||(()=>null),O=p;if(c&&"object"==typeof c){const k=c;_=k.next?.bind(k),b=k.error?.bind(k),O=k.complete?.bind(k)}this.__isAsync&&(b=pw(b),_&&(_=pw(_)),O&&(O=pw(O)));const I=super.subscribe({next:_,error:b,complete:O});return c instanceof U.w0&&c.add(I),I}};function PO(...a){}class sa{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ad(!1),this.onMicrotaskEmpty=new Ad(!1),this.onStable=new Ad(!1),this.onError=new Ad(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&d,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function NA(){const a="function"==typeof Me.requestAnimationFrame;let c=Me[a?"requestAnimationFrame":"setTimeout"],d=Me[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&d){const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p);const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function y3(a){const c=()=>{!function v3(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Me,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,TO(a),a.isCheckStableRunning=!0,IO(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),TO(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,_,b,O,I)=>{if(function VA(a){return!(!Array.isArray(a)||1!==a.length)&&!0===a[0].data?.__ignore_ng_zone__}(I))return d.invokeTask(_,b,O,I);try{return FA(a),d.invokeTask(_,b,O,I)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||a.shouldCoalesceRunChangeDetection)&&c(),SO(a)}},onInvoke:(d,p,_,b,O,I,k)=>{try{return FA(a),d.invoke(_,b,O,I,k)}finally{a.shouldCoalesceRunChangeDetection&&c(),SO(a)}},onHasTask:(d,p,_,b)=>{d.hasTask(_,b),p===_&&("microTask"==b.change?(a._hasPendingMicrotasks=b.microTask,TO(a),IO(a)):"macroTask"==b.change&&(a.hasPendingMacrotasks=b.macroTask))},onHandleError:(d,p,_,b)=>(d.handleError(_,b),a.runOutsideAngular(()=>a.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sa.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(sa.isInAngularZone())throw new xe(909,!1)}run(c,d,p){return this._inner.run(c,d,p)}runTask(c,d,p,_){const b=this._inner,O=b.scheduleEventTask("NgZoneEvent: "+_,c,_3,PO,PO);try{return b.runTask(O,d,p)}finally{b.cancelTask(O)}}runGuarded(c,d,p){return this._inner.runGuarded(c,d,p)}runOutsideAngular(c){return this._outer.run(c)}}const _3={};function IO(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function TO(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function FA(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function SO(a){a._nesting--,IO(a)}class b3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ad,this.onMicrotaskEmpty=new Ad,this.onStable=new Ad,this.onError=new Ad}run(c,d,p){return c.apply(d,p)}runGuarded(c,d,p){return c.apply(d,p)}runOutsideAngular(c){return c()}runTask(c,d,p,_){return c.apply(d,p)}}const LA=new ir("",{providedIn:"root",factory:UA});function UA(){const a=Vt(sa);let c=!0;const d=new Y.y(_=>{c=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{_.next(c),_.complete()})}),p=new Y.y(_=>{let b;a.runOutsideAngular(()=>{b=a.onStable.subscribe(()=>{sa.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(c=!0,_.next(!0))})})});const O=a.onUnstable.subscribe(()=>{sa.assertInAngularZone(),c&&(c=!1,a.runOutsideAngular(()=>{_.next(!1)}))});return()=>{b.unsubscribe(),O.unsubscribe()}});return(0,pe.T)(d,p.pipe((0,De.B)()))}function BA(a){return a.ownerDocument.defaultView}function zA(a){return a.ownerDocument}function gf(a){return a instanceof Function?a():a}let DO=(()=>{class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:()=>new a})}return a})();function f0(a){for(;a;){a[En]|=64;const c=ia(a);if(va(a)&&!c)return a;a=c}return null}const $A=new ir("",{providedIn:"root",factory:()=>!1});let gw=null;function KA(a,c){return a[c]??XA()}function QA(a,c){const d=XA();d.producerNode?.length&&(a[c]=gw,d.lView=a,gw=JA())}const T3={...jc,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{f0(a.lView)},lView:null};function JA(){return Object.create(T3)}function XA(){return gw??=JA(),gw}const ui={};function ek(a){tk(oi(),pt(),us()+a,!1)}function tk(a,c,d,p){if(!p)if(3==(3&c[En])){const b=a.preOrderCheckHooks;null!==b&&Zr(c,b,d)}else{const b=a.preOrderHooks;null!==b&&Cc(c,b,0,d)}xa(d)}function zm(a,c=sn.Default){const d=pt();return null===d?It(a,c):ea(Do(),d,st(a),c)}function nk(){throw new Error("invalid")}function _w(a,c,d,p,_,b,O,I,k,B,G){const se=c.blueprint.slice();return se[Ri]=_,se[En]=140|p,(null!==B||a&&2048&a[En])&&(se[En]|=2048),oh(se),se[Ii]=se[Er]=a,se[vi]=d,se[as]=O||a&&a[as],se[on]=I||a&&a[on],se[ma]=k||a&&a[ma]||null,se[Gn]=b,se[Pr]=function kC(){return kE++}(),se[Bi]=G,se[ga]=B,se[Or]=2==c.type?a[Or]:se,se}function jm(a,c,d,p,_){let b=a.data[c];if(null===b)b=function Tl(a,c,d,p,_){const b=ud(),O=Qi(),k=a.data[c]=function sk(a,c,d,p,_,b){let O=c?c.injectorIndex:-1,I=0;return Rs()&&(I|=128),{type:d,index:p,insertBeforeIndex:null,injectorIndex:O,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?b:b&&b.parent,d,c,p,_);return null===a.firstChild&&(a.firstChild=k),null!==b&&(O?null==b.child&&null!==k.parent&&(b.child=k):null===b.next&&(b.next=k,k.prev=b)),k}(a,c,d,p,_),function Kh(){return On.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=d,b.value=p,b.attrs=_;const O=function Ao(){const a=On.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();b.injectorIndex=null===O?-1:O.injectorIndex}return ko(b,!0),b}function qt(a,c,d,p){if(0===d)return-1;const _=c.length;for(let b=0;b<d;b++)c.push(p),a.blueprint.push(p),a.data.push(null);return _}function p0(a,c,d,p,_){const b=KA(c,Zo),O=us(),I=2&p;try{xa(-1),I&&c.length>ni&&tk(a,c,ni,!1),ks(I?2:0,_);const B=I?b:null,G=pl(B);try{null!==B&&(B.dirty=!1),d(p,_)}finally{xi(B,G)}}finally{I&&null===c[Zo]&&QA(c,Zo),xa(O),ks(I?3:1,_)}}function Kn(a,c,d){if(fl(c)){const p=eo(null);try{const b=c.directiveEnd;for(let O=c.directiveStart;O<b;O++){const I=a.data[O];I.contentQueries&&I.contentQueries(1,d[O],O)}}finally{eo(p)}}}function Hm(a,c,d){Wi()&&(function NO(a,c,d,p){const _=d.directiveStart,b=d.directiveEnd;Fr(d)&&function xw(a,c,d){const p=Yo(c,a),_=AO(d);let O=16;d.signals?O=4096:d.onPush&&(O=64);const I=Tp(a,_w(a,_,null,O,p,c,null,a[as].rendererFactory.createRenderer(p,d),null,null,null));a[c.index]=I}(c,d,a.data[_+d.componentOffset]),a.firstCreatePass||Xs(d,c),V(p,c);const O=d.initialInputs;for(let I=_;I<b;I++){const k=a.data[I],B=Ga(c,a,I,d);V(B,c),null!==O&&B_(0,I-_,B,k,0,O),pi(k)&&(Ki(d.index,c)[vi]=Ga(c,a,I,d))}}(a,c,d,Yo(d,c)),64==(64&d.flags)&&v0(a,c,d))}function Ip(a,c,d=Yo){const p=c.localNames;if(null!==p){let _=c.index+1;for(let b=0;b<p.length;b+=2){const O=p[b+1],I=-1===O?d(c,a):a[O];a[_++]=I}}}function AO(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=L_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):c}function L_(a,c,d,p,_,b,O,I,k,B,G){const se=ni+p,Ee=se+_,ze=function ik(a,c){const d=[];for(let p=0;p<c;p++)d.push(p<a?null:ui);return d}(se,Ee),ft="function"==typeof B?B():B;return ze[Mt]={type:a,blueprint:ze,template:d,queries:null,viewQuery:I,declTNode:c,data:ze.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:k,consts:ft,incompleteFirstPass:!1,ssrId:G}}let Pa=a=>null;function vw(a,c,d,p){for(let _ in a)if(a.hasOwnProperty(_)){d=null===d?{}:d;const b=a[_];null===p?g0(d,c,_,b):p.hasOwnProperty(_)&&g0(d,c,p[_],b)}return d}function g0(a,c,d,p){a.hasOwnProperty(d)?a[d].push(c,p):a[d]=[c,p]}function Sl(a,c,d,p,_,b,O,I){const k=Yo(c,d);let G,B=c.inputs;!I&&null!=B&&(G=B[p])?(q_(a,d,G,p,_),Fr(c)&&function U_(a,c){const d=Ki(c,a);16&d[En]||(d[En]|=64)}(d,c.index)):3&c.type&&(p=function Ka(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(p),_=null!=O?O(_,c.value||"",p):_,b.setProperty(k,p,_))}function V_(a,c,d,p){if(Wi()){const _=null===p?null:{"":-1},b=function ck(a,c){const d=a.directiveRegistry;let p=null,_=null;if(d)for(let b=0;b<d.length;b++){const O=d[b];if(Fa(c,O.selectors,!1))if(p||(p=[]),pi(O))if(null!==O.findHostDirectiveDefs){const I=[];_=_||new Map,O.findHostDirectiveDefs(O,I,_),p.unshift(...I,O),y0(a,c,I.length)}else p.unshift(O),y0(a,c,0);else _=_||new Map,O.findHostDirectiveDefs?.(O,p,_),p.push(O)}return null===p?null:[p,_]}(a,d);let O,I;null===b?O=I=null:[O,I]=b,null!==O&&RO(a,c,d,O,_,I),_&&function yw(a,c,d){if(c){const p=a.localNames=[];for(let _=0;_<c.length;_+=2){const b=d[c[_+1]];if(null==b)throw new xe(-301,!1);p.push(c[_],b)}}}(d,p,_)}d.mergedAttrs=os(d.mergedAttrs,d.attrs)}function RO(a,c,d,p,_,b){for(let B=0;B<p.length;B++)iu(Xs(d,c),a,p[B].type);!function Cw(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}(d,a.data.length,p.length);for(let B=0;B<p.length;B++){const G=p[B];G.providersResolver&&G.providersResolver(G)}let O=!1,I=!1,k=qt(a,c,p.length,null);for(let B=0;B<p.length;B++){const G=p[B];d.mergedAttrs=os(d.mergedAttrs,G.hostAttrs),ww(a,d,c,k,G),bw(k,G,_),null!==G.contentQueries&&(d.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(d.flags|=64);const se=G.type.prototype;!O&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((a.preOrderHooks??=[]).push(d.index),O=!0),!I&&(se.ngOnChanges||se.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(d.index),I=!0),k++}!function kO(a,c,d){const _=c.directiveEnd,b=a.data,O=c.attrs,I=[];let k=null,B=null;for(let G=c.directiveStart;G<_;G++){const se=b[G],Ee=d?d.get(se):null,ft=Ee?Ee.outputs:null;k=vw(se.inputs,G,k,Ee?Ee.inputs:null),B=vw(se.outputs,G,B,ft);const Pt=null===k||null===O||Hn(c)?null:z_(k,G,O);I.push(Pt)}null!==k&&(k.hasOwnProperty("class")&&(c.flags|=8),k.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=I,c.inputs=k,c.outputs=B}(a,d,b)}function v0(a,c,d){const p=d.directiveStart,_=d.directiveEnd,b=d.index,O=function Mm(){return On.lFrame.currentDirectiveIndex}();try{xa(b);for(let I=p;I<_;I++){const k=a.data[I],B=c[I];Au(I),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&FO(k,B)}}finally{xa(-1),Au(O)}}function FO(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function y0(a,c,d){c.componentOffset=d,(a.components??=[]).push(c.index)}function bw(a,c,d){if(d){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)d[c.exportAs[p]]=a;pi(c)&&(d[""]=a)}}function ww(a,c,d,p,_){a.data[p]=_;const b=_.factory||(_.factory=Ws(_.type)),O=new hd(b,pi(_),zm);a.blueprint[p]=O,d[p]=O,function ak(a,c,d,p,_){const b=_.hostBindings;if(b){let O=a.hostBindingOpCodes;null===O&&(O=a.hostBindingOpCodes=[]);const I=~c.index;(function qm(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(O)!=I&&O.push(I),O.push(d,p,b)}}(a,c,p,qt(a,d,_.hostVars,ui),_)}function qu(a,c,d,p,_,b){const O=Yo(a,c);!function Mw(a,c,d,p,_,b,O){if(null==b)a.removeAttribute(c,_,d);else{const I=null==O?Ze(b):O(b,p||"",_);a.setAttribute(c,_,I,d)}}(c[on],O,b,a.value,d,p,_)}function B_(a,c,d,p,_,b){const O=b[c];if(null!==O)for(let I=0;I<O.length;)LO(p,d,O[I++],O[I++],O[I++])}function LO(a,c,d,p,_){const b=eo(null);try{const O=a.inputTransforms;null!==O&&O.hasOwnProperty(p)&&(_=O[p].call(c,_)),null!==a.setInput?a.setInput(c,_,d,p):c[p]=_}finally{eo(b)}}function z_(a,c,d){let p=null,_=0;for(;_<d.length;){const b=d[_];if(0!==b)if(5!==b){if("number"==typeof b)break;if(a.hasOwnProperty(b)){null===p&&(p=[]);const O=a[b];for(let I=0;I<O.length;I+=2)if(O[I]===c){p.push(b,O[I+1],d[_+1]);break}}_+=2}else _+=2;else _+=4}return p}function UO(a,c,d,p){return[a,!0,!1,c,null,0,p,d,null,null,null]}function VO(a,c){const d=a.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const b=d[p+1];if(-1!==b){const O=a.data[b];bl(d[p]),O.contentQueries(2,c[b],b)}}}function Tp(a,c){return a[Yr]?a[Hl][fo]=c:a[Yr]=c,a[Hl]=c,c}function j_(a,c,d){bl(0);const p=eo(null);try{c(a,d)}finally{eo(p)}}function Ew(a){return a[ss]||(a[ss]=[])}function Ow(a){return a.cleanup||(a.cleanup=[])}function H_(a,c){const d=a[ma],p=d?d.get(Dd,null):null;p&&p.handleError(c)}function q_(a,c,d,p,_){for(let b=0;b<d.length;){const O=d[b++],I=d[b++];LO(a.data[O],c[O],p,I,_)}}function Zu(a,c,d){const p=qa(c,a);!function Vy(a,c,d){a.setValue(c,d)}(a[on],p,d)}function Iw(a,c){const d=Ki(c,a),p=d[Mt];!function Tw(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])}(p,d);const _=d[Ri];null!==_&&null===d[Bi]&&(d[Bi]=ow(_,d[ma])),b0(p,d,d[vi])}function b0(a,c,d){Ql(c);try{const p=a.viewQuery;null!==p&&j_(1,p,d);const _=a.template;null!==_&&p0(a,c,_,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&VO(a,c),a.staticViewQueries&&j_(2,a.viewQuery,d);const b=a.components;null!==b&&function BO(a,c){for(let d=0;d<c.length;d++)Iw(a,c[d])}(c,b)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{c[En]&=-5,vc()}}let zO=(()=>{class a{constructor(){this.all=new Set,this.queue=new Map}create(d,p,_){const b=typeof Zone>"u"?null:Zone.current,O=function So(a,c,d){const p=Object.create($h);d&&(p.consumerAllowSignalWrites=!0),p.fn=a,p.schedule=c;const _=O=>{p.cleanupFn=O};return p.ref={notify:()=>Ca(p),run:()=>{if(p.dirty=!1,p.hasRun&&!Wo(p))return;p.hasRun=!0;const O=pl(p);try{p.cleanupFn(),p.cleanupFn=sd,p.fn(_)}finally{xi(p,O)}},cleanup:()=>p.cleanupFn()},p.ref}(d,B=>{this.all.has(B)&&this.queue.set(B,b)},_);let I;this.all.add(O),O.notify();const k=()=>{O.cleanup(),I?.(),this.all.delete(O),this.queue.delete(O)};return I=p?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[d,p]of this.queue)this.queue.delete(d),p?p.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:()=>new a})}return a})();function Z_(a,c,d){let p=d?a.styles:null,_=d?a.classes:null,b=0;if(null!==c)for(let O=0;O<c.length;O++){const I=c[O];"number"==typeof I?b=I:1==b?_=Ne(_,I):2==b&&(p=Ne(p,I+": "+c[++O]+";"))}d?a.styles=p:a.stylesWithoutHost=p,d?a.classes=_:a.classesWithoutHost=_}function Sp(a,c,d,p,_=!1){for(;null!==d;){const b=c[d.index];null!==b&&p.push(Ti(b)),Ir(b)&&Sw(b,p);const O=d.type;if(8&O)Sp(a,c,d.child,p);else if(32&O){const I=Mi(d,c);let k;for(;k=I();)p.push(k)}else if(16&O){const I=HE(c,d);if(Array.isArray(I))p.push(...I);else{const k=ia(c[Or]);Sp(k[Mt],k,I,p,!0)}}d=_?d.projectionNext:d.next}return p}function Sw(a,c){for(let d=qi;d<a.length;d++){const p=a[d],_=p[Mt].firstChild;null!==_&&Sp(p[Mt],p,_,c)}a[Nr]!==a[Ri]&&c.push(a[Nr])}function C0(a,c,d,p=!0){const _=c[as],b=_.rendererFactory,O=_.afterRenderEventManager;b.begin?.(),O?.begin();try{w0(a,c,a.template,d)}catch(k){throw p&&H_(c,k),k}finally{b.end?.(),_.effectManager?.flush(),O?.end()}}function w0(a,c,d,p){const _=c[En];if(256!=(256&_)){c[as].effectManager?.flush(),Ql(c);try{oh(c),function mo(a){return On.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&p0(a,c,d,2,p);const O=3==(3&_);if(O){const B=a.preOrderCheckHooks;null!==B&&Zr(c,B,null)}else{const B=a.preOrderHooks;null!==B&&Cc(c,B,0,null),Tr(c,0)}if(function Ia(a){for(let c=mp(a);null!==c;c=hf(c)){if(!c[Va])continue;const d=c[Qr];for(let p=0;p<d.length;p++){Gc(d[p])}}}(c),Vs(c,2),null!==a.contentQueries&&VO(a,c),O){const B=a.contentCheckHooks;null!==B&&Zr(c,B)}else{const B=a.contentHooks;null!==B&&Cc(c,B,1),Tr(c,1)}!function S3(a,c){const d=a.hostBindingOpCodes;if(null===d)return;const p=KA(c,Kr);try{for(let _=0;_<d.length;_++){const b=d[_];if(b<0)xa(~b);else{const O=b,I=d[++_],k=d[++_];dd(I,O),p.dirty=!1;const B=pl(p);try{k(2,c[O])}finally{xi(p,B)}}}}finally{null===c[Kr]&&QA(c,Kr),xa(-1)}}(a,c);const I=a.components;null!==I&&qO(c,I,0);const k=a.viewQuery;if(null!==k&&j_(2,k,p),O){const B=a.viewCheckHooks;null!==B&&Zr(c,B)}else{const B=a.viewHooks;null!==B&&Cc(c,B,2),Tr(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[En]&=-73,Wh(c)}finally{vc()}}}function Vs(a,c){for(let d=mp(a);null!==d;d=hf(d))for(let p=qi;p<d.length;p++)M0(d[p],c)}function x0(a,c,d){M0(Ki(c,a),d)}function M0(a,c){if(!function rh(a){return 128==(128&a[En])}(a))return;const d=a[Mt],p=a[En];if(80&p&&0===c||1024&p||2===c)w0(d,a,d.template,a[vi]);else if(a[Gs]>0){Vs(a,1);const _=d.components;null!==_&&qO(a,_,1)}}function qO(a,c,d){for(let p=0;p<c.length;p++)x0(a,c[p],d)}class $_{get rootNodes(){const c=this._lView,d=c[Mt];return Sp(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vi]}set context(c){this._lView[vi]=c}get destroyed(){return 256==(256&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Ii];if(Ir(c)){const d=c[8],p=d?d.indexOf(this):-1;p>-1&&(zy(c,p),Cd(d,p))}this._attachedToViewContainer=!1}NC(this._lView[Mt],this._lView)}onDestroy(c){!function mc(a,c){if(256==(256&a[En]))throw new xe(911,!1);null===a[Ua]&&(a[Ua]=[]),a[Ua].push(c)}(this._lView,c)}markForCheck(){f0(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-129}reattach(){this._lView[En]|=128}detectChanges(){C0(this._lView[Mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RE(a,c){wh(a,c,c[on],2,null,null)}(this._lView[Mt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class lk extends $_{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;C0(c[Mt],c,c[vi],!1)}checkNoChanges(){}get context(){return null}}class Aw extends d0{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=qn(c);return new Oh(d,this.ngModule)}}function ZO(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class dk{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,p){p=ti(p);const _=this.injector.get(c,dw,p);return _!==dw||d===dw?_:this.parentInjector.get(c,d,p)}}class Oh extends OA{get inputs(){const c=this.componentDef,d=c.inputTransforms,p=ZO(c.inputs);if(null!==d)for(const _ of p)d.hasOwnProperty(_.propName)&&(_.transform=d[_.propName]);return p}get outputs(){return ZO(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function dl(a){return a.map(ha).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,p,_){let b=(_=_||this.ngModule)instanceof Hu?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const O=b?new dk(c,b):c,I=O.get(lw,null);if(null===I)throw new xe(407,!1);const se={rendererFactory:I,sanitizer:O.get(l3,null),effectManager:O.get(zO,null),afterRenderEventManager:O.get(DO,null)},Ee=I.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",ft=p?function rk(a,c,d,p){const b=p.get($A,!1)||d===_t.ShadowDom,O=a.selectRootElement(c,b);return function ok(a){Pa(a)}(O),O}(Ee,p,this.componentDef.encapsulation,O):Mc(Ee,ze,function uk(a){const c=a.toLowerCase();return"svg"===c?th:"math"===c?"math":null}(ze)),vn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let bt=null;null!==ft&&(bt=ow(ft,O,!0));const Jn=L_(0,null,null,1,0,null,null,null,null,null,null),fi=_w(null,Jn,null,vn,null,null,se,Ee,O,null,bt);let _r,ec;Ql(fi);try{const Lh=this.componentDef;let zf,HM=null;Lh.findHostDirectiveDefs?(zf=[],HM=new Map,Lh.findHostDirectiveDefs(Lh,zf,HM),zf.push(Lh)):zf=[Lh];const qM=function kw(a,c){const d=a[Mt],p=ni;return a[p]=c,jm(d,p,2,"#host",null)}(fi,ft),ZM=function $O(a,c,d,p,_,b,O){const I=_[Mt];!function hk(a,c,d,p){for(const _ of a)c.mergedAttrs=os(c.mergedAttrs,_.hostAttrs);null!==c.mergedAttrs&&(Z_(c,c.mergedAttrs,!0),null!==d&&w_(p,d,c))}(p,a,c,O);let k=null;null!==c&&(k=ow(c,_[ma]));const B=b.rendererFactory.createRenderer(c,d);let G=16;d.signals?G=4096:d.onPush&&(G=64);const se=_w(_,AO(d),null,G,_[a.index],a,b,B,null,null,k);return I.firstCreatePass&&y0(I,a,p.length-1),Tp(_,se),_[a.index]=se}(qM,ft,Lh,zf,fi,se,Ee);ec=nh(Jn,ni),ft&&function Rw(a,c,d,p){if(p)Cr(a,d,["ng-version",SA.full]);else{const{attrs:_,classes:b}=function jo(a){const c=[],d=[];let p=1,_=2;for(;p<a.length;){let b=a[p];if("string"==typeof b)2===_?""!==b&&c.push(b,a[++p]):8===_&&d.push(b);else{if(!Wr(_))break;_=b}p++}return{attrs:c,classes:d}}(c.selectors[0]);_&&Cr(a,d,_),b&&b.length>0&&ZE(a,d,b.join(" "))}}(Ee,Lh,ft,p),void 0!==d&&function Nw(a,c,d){const p=a.projection=[];for(let _=0;_<c.length;_++){const b=d[_];p.push(null!=b?Array.from(b):null)}}(ec,this.ngContentSelectors,d),_r=function E0(a,c,d,p,_,b){const O=Do(),I=_[Mt],k=Yo(O,_);RO(I,_,O,d,null,p);for(let G=0;G<d.length;G++)V(Ga(_,I,O.directiveStart+G,O),_);v0(I,_,O),k&&V(k,_);const B=Ga(_,I,O.directiveStart+O.componentOffset,O);if(a[vi]=_[vi]=B,null!==b)for(const G of b)G(B,c);return Kn(I,O,a),B}(ZM,Lh,zf,HM,fi,[GO]),b0(Jn,fi,null)}finally{vc()}return new G_(this.componentType,_r,Vm(ec,fi),fi,ec)}}class G_ extends wO{constructor(c,d,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new lk(_),this.componentType=c}setInput(c,d){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),d))return;const b=this._rootLView;q_(b[Mt],b,_,c,d),this.previousInputValues.set(c,d),f0(Ki(this._tNode.index,b))}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function GO(){const a=Do();$a(pt()[Mt],a)}function Dp(a){let c=function WO(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const p=[a];for(;c;){let _;if(pi(a))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);_=c.\u0275dir}if(_){if(d){p.push(_);const O=a;O.inputs=W_(a.inputs),O.inputTransforms=W_(a.inputTransforms),O.declaredInputs=W_(a.declaredInputs),O.outputs=W_(a.outputs);const I=_.hostBindings;I&&fk(a,I);const k=_.viewQuery,B=_.contentQueries;if(k&&KO(a,k),B&&O0(a,B),$(a.inputs,_.inputs),$(a.declaredInputs,_.declaredInputs),$(a.outputs,_.outputs),null!==_.inputTransforms&&(null===O.inputTransforms&&(O.inputTransforms={}),$(O.inputTransforms,_.inputTransforms)),pi(_)&&_.data.animation){const G=a.data;G.animation=(G.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let O=0;O<b.length;O++){const I=b[O];I&&I.ngInherit&&I(a),I===Dp&&(d=!1)}}c=Object.getPrototypeOf(c)}!function YO(a){let c=0,d=null;for(let p=a.length-1;p>=0;p--){const _=a[p];_.hostVars=c+=_.hostVars,_.hostAttrs=os(_.hostAttrs,d=os(d,_.hostAttrs))}}(p)}function W_(a){return a===Wt?{}:a===kt?[]:a}function KO(a,c){const d=a.viewQuery;a.viewQuery=d?(p,_)=>{c(p,_),d(p,_)}:c}function O0(a,c){const d=a.contentQueries;a.contentQueries=d?(p,_,b)=>{c(p,_,b),d(p,_,b)}:c}function fk(a,c){const d=a.hostBindings;a.hostBindings=d?(p,_)=>{c(p,_),d(p,_)}:c}function Lw(a){const c=a.inputConfig,d={};for(const p in c)if(c.hasOwnProperty(p)){const _=c[p];Array.isArray(_)&&_[2]&&(d[p]=_[2])}a.inputTransforms=d}function Y_(a){return!!T0(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function T0(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function $u(a,c,d){return a[c]=d}function Gm(a,c){return a[c]}function xs(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function Ph(a,c,d,p){const _=xs(a,c,d);return xs(a,c+1,p)||_}function Wm(a,c,d,p,_){const b=Ph(a,c,d,p);return xs(a,c+2,_)||b}function Ym(a,c,d,p){const _=pt();return xs(_,no(),c)&&(oi(),qu(ar(),_,a,c,d,p)),Ym}function Ap(a,c,d,p){return xs(a,no(),d)?c+Ze(d)+p:ui}function aP(a,c,d,p,_,b,O,I){const k=pt(),B=oi(),G=a+ni,se=B.firstCreatePass?function Ck(a,c,d,p,_,b,O,I,k){const B=c.consts,G=jm(c,a,4,O||null,yl(B,I));V_(c,d,G,yl(B,k)),$a(c,G);const se=G.tView=L_(2,G,p,_,b,c.directiveRegistry,c.pipeRegistry,null,c.schemas,B,null);return null!==c.queries&&(c.queries.template(c,G),se.queries=c.queries.embeddedTView(G)),G}(G,B,k,c,d,p,_,b,O):B.data[G];ko(se,!1);const Ee=cP(B,k,se,a);Xl()&&Hy(B,k,Ee,se),V(Ee,k),Tp(k,k[G]=UO(Ee,k,Ee,se)),Xr(se)&&Hm(B,k,se),null!=O&&Ip(k,se,I)}let cP=function iv(a,c,d,p){return bc(!0),c[on].createComment("")};function Gw(a){return vl(function sp(){return On.lFrame.contextLView}(),ni+a)}function Fp(a,c,d){const p=pt();return xs(p,no(),c)&&Sl(oi(),ar(),p,a,c,p[on],d,!1),Fp}function Lp(a,c,d,p,_){const O=_?"class":"style";q_(a,d,c.inputs[O],O,p)}function so(a,c,d,p){const _=pt(),b=oi(),O=ni+a,I=_[on],k=b.firstCreatePass?function wk(a,c,d,p,_,b){const O=c.consts,k=jm(c,a,2,p,yl(O,_));return V_(c,d,k,yl(O,b)),null!==k.attrs&&Z_(k,k.attrs,!1),null!==k.mergedAttrs&&Z_(k,k.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,k),k}(O,b,_,c,d,p):b.data[O],B=lP(b,_,k,I,c,a);_[O]=B;const G=Xr(k);return ko(k,!0),w_(I,B,k),32!=(32&k.flags)&&Xl()&&Hy(b,_,B,k),0===function ld(){return On.lFrame.elementDepthCount}()&&V(B,_),function qr(){On.lFrame.elementDepthCount++}(),G&&(Hm(b,_,k),Kn(b,k,_)),null!==p&&Ip(_,k),so}function ov(){let a=Do();Qi()?po():(a=a.parent,ko(a,!1));const c=a;(function Yc(a){return On.skipHydrationRootTNode===a})(c)&&function gc(){On.skipHydrationRootTNode=null}(),function Yh(){On.lFrame.elementDepthCount--}();const d=oi();return d.firstCreatePass&&($a(d,a),fl(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function md(a){return 0!=(8&a.flags)}(c)&&Lp(d,c,pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function eu(a){return 0!=(16&a.flags)}(c)&&Lp(d,c,pt(),c.stylesWithoutHost,!1),ov}function Ww(a,c,d,p){return so(a,c,d,p),ov(),Ww}let lP=(a,c,d,p,_,b)=>(bc(!0),Mc(p,_,function cr(){return On.lFrame.currentNamespace}()));function sv(a,c,d){const p=pt(),_=oi(),b=a+ni,O=_.firstCreatePass?function dP(a,c,d,p,_){const b=c.consts,O=yl(b,p),I=jm(c,a,8,"ng-container",O);return null!==O&&Z_(I,O,!0),V_(c,d,I,yl(b,_)),null!==c.queries&&c.queries.elementStart(c,I),I}(b,_,p,c,d):_.data[b];ko(O,!0);const I=Gu(_,p,O,a);return p[b]=I,Xl()&&Hy(_,p,I,O),V(I,p),Xr(O)&&(Hm(_,p,O),Kn(_,O,p)),null!=d&&Ip(p,O),sv}function Up(){let a=Do();const c=oi();return Qi()?po():(a=a.parent,ko(a,!1)),c.firstCreatePass&&($a(c,a),fl(a)&&c.queries.elementEnd(a)),Up}function L0(a,c,d){return sv(a,c,d),Up(),L0}let Gu=(a,c,d,p)=>(bc(!0),ra(c[on],""));function Yw(){return pt()}function av(a){return!!a&&"function"==typeof a.then}function rg(a){return!!a&&"function"==typeof a.subscribe}function U0(a,c,d,p){const _=pt(),b=oi(),O=Do();return function Kw(a,c,d,p,_,b,O){const I=Xr(p),B=a.firstCreatePass&&Ow(a),G=c[vi],se=Ew(c);let Ee=!0;if(3&p.type||O){const Pt=Yo(p,c),Gt=O?O(Pt):Pt,vn=se.length,bt=O?fi=>O(Ti(fi[p.index])):p.index;let Jn=null;if(!O&&I&&(Jn=function B0(a,c,d,p){const _=a.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const O=_[b];if(O===d&&_[b+1]===p){const I=c[ss],k=_[b+2];return I.length>k?I[k]:null}"string"==typeof O&&(b+=2)}return null}(a,c,_,p.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=b,Jn.__ngLastListenerFn__=b,Ee=!1;else{b=fP(p,c,G,b,!1);const fi=d.listen(Gt,_,b);se.push(b,fi),B&&B.push(_,bt,vn,vn+1)}}else b=fP(p,c,G,b,!1);const ze=p.outputs;let ft;if(Ee&&null!==ze&&(ft=ze[_])){const Pt=ft.length;if(Pt)for(let Gt=0;Gt<Pt;Gt+=2){const _r=c[ft[Gt]][ft[Gt+1]].subscribe(b),ec=se.length;se.push(b,_r),B&&B.push(_,p.index,ec,-(ec+1))}}}(b,_,_[on],O,a,c,p),U0}function cv(a,c,d,p){try{return ks(6,c,d),!1!==d(p)}catch(_){return H_(a,_),!1}finally{ks(7,c,d)}}function fP(a,c,d,p,_){return function b(O){if(O===Function)return p;f0(a.componentOffset>-1?Ki(a.index,c):c);let k=cv(c,d,p,O),B=b.__ngNextListenerFn__;for(;B;)k=cv(c,d,B,O)&&k,B=B.__ngNextListenerFn__;return _&&!1===k&&O.preventDefault(),k}}function Qw(a=1){return function yc(a){return(On.lFrame.contextLView=function Jl(a,c){for(;a>0;)c=c[Er],a--;return c}(a,On.lFrame.contextLView))[vi]}(a)}function lv(a,c){let d=null;const p=function xu(a){const c=a.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(a);for(let _=0;_<c.length;_++){const b=c[_];if("*"!==b){if(null===p?Fa(a,b,!0):Ac(p,b))return _}else d=_}return d}function Jw(a){const c=pt()[Or][Gn];if(!c.projection){const p=c.projection=wd(a?a.length:1,null),_=p.slice();let b=c.child;for(;null!==b;){const O=a?lv(b,a):0;null!==O&&(_[O]?_[O].projectionNext=b:p[O]=b,_[O]=b),b=b.next}}}function Xw(a,c=0,d){const p=pt(),_=oi(),b=jm(_,ni+a,16,null,d||null);null===b.projection&&(b.projection=c),po(),(!p[Bi]||Rs())&&32!=(32&b.flags)&&function UC(a,c,d){qE(c[on],0,c,d,FE(a,d,c),BE(d.parent||c[Gn],d,c))}(_,p,b)}function uv(a,c,d){return dv(a,"",c,"",d),uv}function dv(a,c,d,p,_){const b=pt(),O=Ap(b,c,d,p);return O!==ui&&Sl(oi(),ar(),b,a,O,b[on],_,!1),dv}function fv(a,c){return a<<17|c<<2}function Wu(a){return a>>17&32767}function z0(a){return 2|a}function fu(a){return(131068&a)>>2}function sx(a,c){return-131069&a|c<<2}function pv(a){return 1|a}function cx(a,c,d,p,_){const b=a[d+1],O=null===c;let I=p?Wu(b):fu(b),k=!1;for(;0!==I&&(!1===k||O);){const G=a[I+1];lx(a[I],c)&&(k=!0,a[I+1]=p?pv(G):z0(G)),I=p?Wu(G):fu(G)}k&&(a[d+1]=p?z0(b):pv(b))}function lx(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&su(a,c)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function j0(a){return a.substring(_o.key,_o.keyEnd)}function Al(a,c){const d=_o.textEnd;return d===c?-1:(c=_o.keyEnd=function H0(a,c,d){for(;c<d&&a.charCodeAt(c)>32;)c++;return c}(a,_o.key=c,d),Nd(a,c,d))}function Nd(a,c,d){for(;c<d&&a.charCodeAt(c)<=32;)c++;return c}function ux(a,c,d){return Qu(a,c,d,!1),ux}function dx(a,c){return Qu(a,c,null,!0),dx}function _v(a){Qa(ln,Fd,a,!0)}function Fd(a,c){for(let d=function Sh(a){return function gv(a){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=a.length}(a),Al(a,Nd(a,0,_o.textEnd))}(c);d>=0;d=Al(c,d))ta(a,j0(c),!0)}function Qu(a,c,d,p){const _=pt(),b=oi(),O=io(2);b.firstUpdatePass&&Bs(b,a,O,p),c!==ui&&xs(_,O,c)&&yP(b,b.data[us()],_,_[on],a,_[O+1]=function yt(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=de(Td(a)))),a}(c,d),p,O)}function Qa(a,c,d,p){const _=oi(),b=io(2);_.firstUpdatePass&&Bs(_,null,b,p);const O=pt();if(d!==ui&&xs(O,b,d)){const I=_.data[us()];if(Ms(I,p)&&!hx(_,b)){let k=p?I.classesWithoutHost:I.stylesWithoutHost;null!==k&&(d=Ne(k,d||"")),Lp(_,I,O,d,p)}else!function Cn(a,c,d,p,_,b,O,I){_===ui&&(_=kt);let k=0,B=0,G=0<_.length?_[0]:null,se=0<b.length?b[0]:null;for(;null!==G||null!==se;){const Ee=k<_.length?_[k+1]:void 0,ze=B<b.length?b[B+1]:void 0;let Pt,ft=null;G===se?(k+=2,B+=2,Ee!==ze&&(ft=se,Pt=ze)):null===se||null!==G&&G<se?(k+=2,ft=G):(B+=2,ft=se,Pt=ze),null!==ft&&yP(a,c,d,p,ft,Pt,O,I),G=k<_.length?_[k]:null,se=B<b.length?b[B]:null}}(_,I,O,O[on],O[b+1],O[b+1]=function pu(a,c,d){if(null==d||""===d)return kt;const p=[],_=Td(d);if(Array.isArray(_))for(let b=0;b<_.length;b++)a(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&a(p,b,_[b]);else"string"==typeof _&&c(p,_);return p}(a,c,d),p,b)}}function hx(a,c){return c>=a.expandoStartIndex}function Bs(a,c,d,p){const _=a.data;if(null===_[d+1]){const b=_[us()],O=hx(a,d);Ms(b,p)&&null===c&&!O&&(c=!1),c=function og(a,c,d,p){const _=function Kl(a){const c=On.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let b=p?c.residualClasses:c.residualStyles;if(null===_)0===(p?c.classBindings:c.styleBindings)&&(d=ao(d=Ot(null,a,c,d,p),c.attrs,p),b=null);else{const O=c.directiveStylingLast;if(-1===O||a[O]!==_)if(d=Ot(_,a,c,d,p),null===b){let k=function Mf(a,c,d){const p=d?c.classBindings:c.styleBindings;if(0!==fu(p))return a[Wu(p)]}(a,c,p);void 0!==k&&Array.isArray(k)&&(k=Ot(null,a,c,k[1],p),k=ao(k,c.attrs,p),function fx(a,c,d,p){a[Wu(d?c.classBindings:c.styleBindings)]=p}(a,c,p,k))}else b=function Pk(a,c,d){let p;const _=c.directiveEnd;for(let b=1+c.directiveStylingLast;b<_;b++)p=ao(p,a[b].hostAttrs,d);return ao(p,c.attrs,d)}(a,c,p)}return void 0!==b&&(p?c.residualClasses=b:c.residualStyles=b),d}(_,b,c,p),function ax(a,c,d,p,_,b){let O=b?c.classBindings:c.styleBindings,I=Wu(O),k=fu(O);a[p]=d;let G,B=!1;if(Array.isArray(d)?(G=d[1],(null===G||su(d,G)>0)&&(B=!0)):G=d,_)if(0!==k){const Ee=Wu(a[I+1]);a[p+1]=fv(Ee,I),0!==Ee&&(a[Ee+1]=sx(a[Ee+1],p)),a[I+1]=function pP(a,c){return 131071&a|c<<17}(a[I+1],p)}else a[p+1]=fv(I,0),0!==I&&(a[I+1]=sx(a[I+1],p)),I=p;else a[p+1]=fv(k,0),0===I?I=p:a[k+1]=sx(a[k+1],p),k=p;B&&(a[p+1]=z0(a[p+1])),cx(a,G,p,!0),cx(a,G,p,!1),function Rd(a,c,d,p,_){const b=_?a.residualClasses:a.residualStyles;null!=b&&"string"==typeof c&&su(b,c)>=0&&(d[p+1]=pv(d[p+1]))}(c,G,a,p,b),O=fv(I,k),b?c.classBindings=O:c.styleBindings=O}(_,b,c,d,O,p)}}function Ot(a,c,d,p,_){let b=null;const O=d.directiveEnd;let I=d.directiveStylingLast;for(-1===I?I=d.directiveStart:I++;I<O&&(b=c[I],p=ao(p,b.hostAttrs,_),b!==a);)I++;return null!==a&&(d.directiveStylingLast=I),p}function ao(a,c,d){const p=d?1:2;let _=-1;if(null!==c)for(let b=0;b<c.length;b++){const O=c[b];"number"==typeof O?_=O:_===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ta(a,O,!!d||c[++b]))}return void 0===a?null:a}function ln(a,c,d){const p=String(c);""!==p&&!p.includes(" ")&&ta(a,p,d)}function yP(a,c,d,p,_,b,O,I){if(!(3&c.type))return;const k=a.data,B=k[I+1],G=function Yu(a){return 1==(1&a)}(B)?$t(k,c,d,_,fu(B),O):void 0;tt(G)||(tt(b)||function Dl(a){return 2==(2&a)}(B)&&(b=$t(k,null,d,_,I,O)),function VC(a,c,d,p,_){if(c)_?a.addClass(d,p):a.removeClass(d,p);else{let b=-1===p.indexOf("-")?void 0:bh.DashCase;null==_?a.removeStyle(d,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=bh.Important),a.setStyle(d,p,_,b))}}(p,O,qa(us(),d),_,b))}function $t(a,c,d,p,_,b){const O=null===c;let I;for(;_>0;){const k=a[_],B=Array.isArray(k),G=B?k[1]:k,se=null===G;let Ee=d[_+1];Ee===ui&&(Ee=se?kt:void 0);let ze=se?dp(Ee,p):G===p?Ee:void 0;if(B&&!tt(ze)&&(ze=dp(k,p)),tt(ze)&&(I=ze,O))return I;const ft=a[_+1];_=O?Wu(ft):fu(ft)}if(null!==c){let k=b?c.residualClasses:c.residualStyles;null!=k&&(I=dp(k,p))}return I}function tt(a){return void 0!==a}function Ms(a,c){return 0!=(a.flags&(c?8:16))}function px(a,c=""){const d=pt(),p=oi(),_=a+ni,b=p.firstCreatePass?jm(p,_,1,c,null):p.data[_],O=bP(p,d,b,c,a);d[_]=O,Xl()&&Hy(p,d,O,b),ko(b,!1)}let bP=(a,c,d,p,_)=>(bc(!0),function Id(a,c){return a.createText(c)}(c[on],p));function mx(a){return Z0("",a,""),mx}function Z0(a,c,d){const p=pt(),_=Ap(p,a,c,d);return _!==ui&&Zu(p,us(),_),Z0}function $0(a,c,d,p,_){const b=pt(),O=function Km(a,c,d,p,_,b){const I=Ph(a,fr(),d,_);return io(2),I?c+Ze(d)+p+Ze(_)+b:ui}(b,a,c,d,p,_);return O!==ui&&Zu(b,us(),O),$0}function gx(a,c,d,p,_,b,O){const I=pt(),k=function yf(a,c,d,p,_,b,O,I){const B=Wm(a,fr(),d,_,O);return io(3),B?c+Ze(d)+p+Ze(_)+b+Ze(O)+I:ui}(I,a,c,d,p,_,b,O);return k!==ui&&Zu(I,us(),k),gx}function co(a,c,d){Qa(ta,Fd,Ap(pt(),a,c,d),!0)}function Ld(a,c,d){const p=pt();return xs(p,no(),c)&&Sl(oi(),ar(),p,a,c,p[on],d,!0),Ld}const Rl=void 0;var xx=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OP(a){const d=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let ag={};function Ec(a){const c=function PP(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=Mx(c);if(d)return d;const p=c.split("-")[0];if(d=Mx(p),d)return d;if("en"===p)return xx;throw new xe(701,!1)}function cg(a){return Ec(a)[lg.PluralCase]}function Mx(a){return a in ag||(ag[a]=Me.ng&&Me.ng.common&&Me.ng.common.locales&&Me.ng.common.locales[a]),ag[a]}var lg=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(lg||{});const Ah="en-US";let SP=Ah;function Ux(a,c,d,p,_){if(a=st(a),Array.isArray(a))for(let b=0;b<a.length;b++)Ux(a[b],c,d,p,_);else{const b=oi(),O=pt(),I=Do();let k=Cp(a)?a:st(a.provide);const B=QC(a),G=1048575&I.providerIndexes,se=I.directiveStart,Ee=I.providerIndexes>>20;if(Cp(a)||!a.multi){const ze=new hd(B,_,zm),ft=Vx(k,c,_?G:G+Ee,se);-1===ft?(iu(Xs(I,O),b,k),ob(b,a,c.length),c.push(k),I.directiveStart++,I.directiveEnd++,_&&(I.providerIndexes+=1048576),d.push(ze),O.push(ze)):(d[ft]=ze,O[ft]=ze)}else{const ze=Vx(k,c,G+Ee,se),ft=Vx(k,c,G,G+Ee),Gt=ft>=0&&d[ft];if(_&&!Gt||!_&&!(ze>=0&&d[ze])){iu(Xs(I,O),b,k);const vn=function Ov(a,c,d,p,_){const b=new hd(a,d,zm);return b.multi=[],b.index=c,b.componentProviders=0,YP(b,_,p&&!d),b}(_?Bx:$k,d.length,_,p,B);!_&&Gt&&(d[ft].providerFactory=vn),ob(b,a,c.length,0),c.push(k),I.directiveStart++,I.directiveEnd++,_&&(I.providerIndexes+=1048576),d.push(vn),O.push(vn)}else ob(b,a,ze>-1?ze:ft,YP(d[_?ft:ze],B,!_&&p));!_&&p&&Gt&&d[ft].componentProviders++}}}function ob(a,c,d,p){const _=Cp(c),b=function hO(a){return!!a.useClass}(c);if(_||b){const k=(b?st(c.useClass):c).prototype.ngOnDestroy;if(k){const B=a.destroyHooks||(a.destroyHooks=[]);if(!_&&c.multi){const G=B.indexOf(d);-1===G?B.push(d,[p,k]):B[G+1].push(p,k)}else B.push(d,k)}}}function YP(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function Vx(a,c,d,p){for(let _=d;_<p;_++)if(c[_]===a)return _;return-1}function $k(a,c,d,p){return Rh(this.multi,[])}function Bx(a,c,d,p){const _=this.multi;let b;if(this.providerFactory){const O=this.providerFactory.componentProviders,I=Ga(d,d[Mt],this.providerFactory.index,p);b=I.slice(0,O),Rh(_,b);for(let k=O;k<I.length;k++)b.push(I[k])}else b=[],Rh(_,b);return b}function Rh(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function Pv(a,c=[]){return d=>{d.providersResolver=(p,_)=>function WP(a,c,d){const p=oi();if(p.firstCreatePass){const _=pi(a);Ux(d,p.data,p.blueprint,_,!0),Ux(c,p.data,p.blueprint,_,!1)}}(p,_?_(a):a,c)}}class zd{}class zx{}function KP(a,c){return new sb(a,c??null,[])}class sb extends zd{constructor(c,d,p){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Aw(this);const _=Mr(c);this._bootstrapComponents=gf(_.bootstrap),this._r3Injector=EO(c,d,[{provide:zd,useValue:this},{provide:d0,useValue:this.componentFactoryResolver},...p],de(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class If extends zx{constructor(c){super(),this.moduleType=c}create(c){return new sb(this.moduleType,c,[])}}class ab extends zd{constructor(c){super(),this.componentFactoryResolver=new Aw(this),this.instance=null;const d=new e0([...c.providers,{provide:zd,useValue:this},{provide:d0,useValue:this.componentFactoryResolver}],c.parent||wp(),c.debugName,new Set(["environment"]));this.injector=d,c.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Iv(a,c,d=null){return new ab({providers:a,parent:c,debugName:d,runEnvironmentInitializers:!0}).injector}let jx=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const p=lO(0,d.type),_=p.length>0?Iv([p],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,_)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:a,providedIn:"environment",factory:()=>new a(It(Hu))})}return a})();function Tf(a){a.getStandaloneInjector=c=>c.get(jx).getOrCreateStandaloneInjector(a)}function Zx(a,c,d){const p=Ji()+a,_=pt();return _[p]===ui?$u(_,p,d?c.call(d):c()):Gm(_,p)}function gg(a,c,d,p){return uI(pt(),Ji(),a,c,d,p)}function rI(a,c,d,p,_){return dI(pt(),Ji(),a,c,d,p,_)}function oI(a,c,d,p,_,b){return function Gx(a,c,d,p,_,b,O,I){const k=c+d;return Wm(a,k,_,b,O)?$u(a,k+3,I?p.call(I,_,b,O):p(_,b,O)):Df(a,k+3)}(pt(),Ji(),a,c,d,p,_,b)}function sI(a,c,d,p,_,b,O,I){const k=Ji()+a,B=pt(),G=function nl(a,c,d,p,_,b){const O=Ph(a,c,d,p);return Ph(a,c+2,_,b)||O}(B,k,d,p,_,b);return xs(B,k+4,O)||G?$u(B,k+5,I?c.call(I,d,p,_,b,O):c(d,p,_,b,O)):Gm(B,k+5)}function Df(a,c){const d=a[c];return d===ui?void 0:d}function uI(a,c,d,p,_,b){const O=c+d;return xs(a,O,_)?$u(a,O+1,b?p.call(b,_):p(_)):Df(a,O+1)}function dI(a,c,d,p,_,b,O){const I=c+d;return Ph(a,I,_,b)?$u(a,I+2,O?p.call(O,_,b):p(_,b)):Df(a,I+2)}function Wx(a,c){const d=oi();let p;const _=a+ni;d.firstCreatePass?(p=function Wp(a,c){if(c)for(let d=c.length-1;d>=0;d--){const p=c[d];if(a===p.name)return p}}(c,d.pipeRegistry),d.data[_]=p,p.onDestroy&&(d.destroyHooks??=[]).push(_,p.onDestroy)):p=d.data[_];const b=p.factory||(p.factory=Ws(p.type)),I=jt(zm);try{const k=Cs(!1),B=b();return Cs(k),function $w(a,c,d,p){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),c[d]=p}(d,pt(),_,B),B}finally{jt(I)}}function Yx(a,c,d){const p=a+ni,_=pt(),b=vl(_,p);return Dr(_,p)?uI(_,Ji(),c,b.transform,d,b):b.transform(d)}function Kx(a,c,d,p){const _=a+ni,b=pt(),O=vl(b,_);return Dr(b,_)?dI(b,Ji(),c,O.transform,d,p,O):O.transform(d,p)}function Dr(a,c){return a[Mt].data[c].pure}function ub(){return this._results[Symbol.iterator]()}class Yp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ad)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Yp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=ub)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const p=this;p.dirty=!1;const _=function Vr(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Ya(a,c,d){if(a.length!==c.length)return!1;for(let p=0;p<a.length;p++){let _=a[p],b=c[p];if(d&&(_=d(_),b=d(b)),b!==_)return!1}return!0}(p._results,_,d))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function kv(a,c,d,p=!0){const _=c[Mt];if(function XL(a,c,d,p){const _=qi+p,b=d.length;p>0&&(d[_-1][fo]=c),p<b-qi?(c[fo]=d[_],l_(d,qi+p,c)):(d.push(c),c[fo]=null),c[Ii]=d;const O=c[Ts];null!==O&&d!==O&&function RC(a,c){const d=a[Qr];c[Or]!==c[Ii][Ii][Or]&&(a[Va]=!0),null===d?a[Qr]=[c]:d.push(c)}(O,c);const I=c[ur];null!==I&&I.insertView(a),c[En]|=128}(_,c,a,d),p){const b=qy(d,a),O=c[on],I=v_(O,a[Nr]);null!==I&&function WD(a,c,d,p,_,b){p[Ri]=_,p[Gn]=c,wh(a,p,d,1,_,b)}(_,a[Gn],O,c,I,b)}}let _g=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=fI}return a})();const vg=_g,Nh=class extends vg{constructor(c,d,p){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,d){return this.createEmbeddedViewImpl(c,d)}createEmbeddedViewImpl(c,d,p){const _=function hI(a,c,d,p){const _=c.tView,I=_w(a,_,d,4096&a[En]?4096:16,null,c,null,null,null,p?.injector??null,p?.hydrationInfo??null);I[Ts]=a[c.index];const B=a[ur];return null!==B&&(I[ur]=B.createEmbeddedView(_)),b0(_,I,d),I}(this._declarationLView,this._declarationTContainer,c,{injector:d,hydrationInfo:p});return new $_(_)}};function fI(){return Rv(Do(),pt())}function Rv(a,c){return 4&a.type?new Nh(c,a,Vm(a,c)):null}let Nv=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=mI}return a})();function mI(){return iM(Do(),pt())}const eM=Nv,Fv=class extends eM{constructor(c,d,p){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=p}get element(){return Vm(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const c=nu(this._hostTNode,this._hostLView);if(Kc(c)){const d=wl(c,this._hostLView),p=Qc(c);return new si(d[Mt].data[p+8],d)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=tM(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-qi}createEmbeddedView(c,d,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const I=c.createEmbeddedViewImpl(d||{},b,null);return this.insertImpl(I,_,false),I}createComponent(c,d,p,_,b){const O=c&&!function Wa(a){return"function"==typeof a}(c);let I;if(O)I=d;else{const Pt=d||{};I=Pt.index,p=Pt.injector,_=Pt.projectableNodes,b=Pt.environmentInjector||Pt.ngModuleRef}const k=O?c:new Oh(qn(c)),B=p||this.parentInjector;if(!b&&null==k.ngModule){const Gt=(O?B:this.parentInjector).get(Hu,null);Gt&&(b=Gt)}qn(k.componentType??{});const ze=k.create(B,_,null,b);return this.insertImpl(ze.hostView,I,false),ze}insert(c,d){return this.insertImpl(c,d,!1)}insertImpl(c,d,p){const _=c._lView;if(function Js(a){return Ir(a[Ii])}(_)){const k=this.indexOf(c);if(-1!==k)this.detach(k);else{const B=_[Ii],G=new Fv(B,B[Gn],B[Ii]);G.detach(G.indexOf(c))}}const O=this._adjustIndex(d),I=this._lContainer;return kv(I,_,O,!p),c.attachToViewContainerRef(),l_(nM(I),O,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=tM(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),p=zy(this._lContainer,d);p&&(Cd(nM(this._lContainer),d),NC(p[Mt],p))}detach(c){const d=this._adjustIndex(c,-1),p=zy(this._lContainer,d);return p&&null!=Cd(nM(this._lContainer),d)?new $_(p):null}_adjustIndex(c,d=0){return c??this.length+d}};function tM(a){return a[8]}function nM(a){return a[8]||(a[8]=[])}function iM(a,c){let d;const p=c[a.index];return Ir(p)?d=p:(d=UO(p,c,null,a),c[a.index]=d,Tp(c,d)),hb(d,c,a,p),new Fv(d,a,c)}let hb=function Cg(a,c,d,p){if(a[Nr])return;let _;_=8&d.type?Ti(p):function gI(a,c){const d=a[on],p=d.createComment(""),_=Yo(c,a);return gp(d,v_(d,_),p,function JD(a,c){return a.nextSibling(c)}(d,_),!1),p}(c,d),a[Nr]=_};class wg{constructor(c){this.queryList=c,this.matches=null}clone(){return new wg(this.queryList)}setDirty(){this.queryList.setDirty()}}class fb{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const p=null!==c.contentQueries?c.contentQueries[0]:d.length,_=[];for(let b=0;b<p;b++){const O=d.getByIndex(b);_.push(this.queries[O.indexInDeclarationView].clone())}return new fb(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==Xu(c,d).matches&&this.queries[d].setDirty()}}class rM{constructor(c,d,p=null){this.predicate=c,this.flags=d,this.read=p}}class pb{constructor(c=[]){this.queries=c}elementStart(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let p=0;p<this.length;p++){const _=null!==d?d.length:0,b=this.getByIndex(p).embeddedTView(c,_);b&&(b.indexInDeclarationView=p,null!==d?d.push(b):d=[b])}return null!==d?new pb(d):null}template(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class oM{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new oM(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(c,d,_I(d,b)),this.matchTNodeWithReadOption(c,d,yd(d,c,b,!1,!1))}else p===_g?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,yd(d,c,p,!1,!1))}matchTNodeWithReadOption(c,d,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===Bm||_===Nv||_===_g&&4&d.type)this.addMatch(d.index,-2);else{const b=yd(d,c,_,!1,!1);null!==b&&this.addMatch(d.index,b)}else this.addMatch(d.index,p)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function _I(a,c){const d=a.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===c)return d[p+1];return null}function Qk(a,c,d,p){return-1===d?function vI(a,c){return 11&a.type?Vm(a,c):4&a.type?Rv(a,c):null}(c,a):-2===d?function Jk(a,c,d){return d===Bm?Vm(c,a):d===_g?Rv(c,a):d===Nv?iM(c,a):void 0}(a,c,p):Ga(a,a[Mt],d,c)}function yI(a,c,d,p){const _=c[ur].queries[p];if(null===_.matches){const b=a.data,O=d.matches,I=[];for(let k=0;k<O.length;k+=2){const B=O[k];I.push(B<0?null:Qk(c,b[B],O[k+1],d.metadata.read))}_.matches=I}return _.matches}function sM(a,c,d,p){const _=a.queries.getByIndex(d),b=_.matches;if(null!==b){const O=yI(a,c,_,d);for(let I=0;I<b.length;I+=2){const k=b[I];if(k>0)p.push(O[I/2]);else{const B=b[I+1],G=c[-k];for(let se=qi;se<G.length;se++){const Ee=G[se];Ee[Ts]===Ee[Ii]&&sM(Ee[Mt],Ee,B,p)}if(null!==G[Qr]){const se=G[Qr];for(let Ee=0;Ee<se.length;Ee++){const ze=se[Ee];sM(ze[Mt],ze,B,p)}}}}}return p}function mb(a){const c=pt(),d=oi(),p=ch();bl(p+1);const _=Xu(d,p);if(a.dirty&&function ih(a){return 4==(4&a[En])}(c)===(2==(2&_.metadata.flags))){if(null===_.matches)a.reset([]);else{const b=_.crossesNgTemplate?sM(d,c,p,[]):yI(d,c,_,p);a.reset(b,TA),a.notifyOnChanges()}return!0}return!1}function Kp(a,c,d){const p=oi();p.firstCreatePass&&(cM(p,new rM(a,c,d),-1),2==(2&c)&&(p.staticViewQueries=!0)),gb(p,pt(),c)}function aM(a,c,d,p){const _=oi();if(_.firstCreatePass){const b=Do();cM(_,new rM(c,d,p),b.index),function Vv(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(_,a),2==(2&d)&&(_.staticContentQueries=!0)}gb(_,pt(),d)}function bI(){return function fs(a,c){return a[ur].queries[c].queryList}(pt(),ch())}function gb(a,c,d){const p=new Yp(4==(4&d));(function _f(a,c,d,p){const _=Ew(c);_.push(d),a.firstCreatePass&&Ow(a).push(p,_.length-1)})(a,c,p,p.destroy),null===c[ur]&&(c[ur]=new fb),c[ur].queries.push(new wg(p))}function cM(a,c,d){null===a.queries&&(a.queries=new pb),a.queries.track(new oM(c,d))}function Xu(a,c){return a.queries.getByIndex(c)}function _b(a,c){return Rv(a,c)}function Qp(a){return!!Mr(a)}const jv=new ir("Application Initializer");let mM=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p}),this.appInits=Vt(jv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const _ of this.appInits){const b=_();if(av(b))d.push(b);else if(rg(b)){const O=new Promise((I,k)=>{b.subscribe({complete:I,error:k})});d.push(O)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{p()}).catch(_=>{this.reject(_)}),0===d.length&&p(),this.initialized=!0}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),gM=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();const tm=new ir("LocaleId",{providedIn:"root",factory:()=>Vt(tm,sn.Optional|sn.SkipSelf)||function Hv(){return typeof $localize<"u"&&$localize.locale||Ah}()}),qv=new ir("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let _M=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class yb{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let bb=(()=>{class a{compileModuleSync(d){return new If(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),b=gf(Mr(d).declarations).reduce((O,I)=>{const k=qn(I);return k&&O.push(new Oh(k)),O},[]);return new yb(p,b)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const xb=new ir(""),Hs=new ir("");let yM,CR=(()=>{class a{constructor(d,p,_){this._ngZone=d,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yM||(function wR(a){yM=a}(_),_.addToWindow(p)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==b),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:b,updateCb:_})}whenStable(d,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,p,_){return[]}static#e=this.\u0275fac=function(p){return new(p||a)(It(sa),It(XI),It(Hs))};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac})}return a})(),XI=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){return yM?.findTestabilityInTree(this,d,p)??null}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})(),Zd=null;const eT=new ir("AllowMultipleToken"),Ig=new ir("PlatformDestroyListeners"),Tg=new ir("appBootstrapListener");class Zv{constructor(c,d){this.name=c,this.token=d}}function tT(a,c,d=[]){const p=`Platform: ${c}`,_=new ir(p);return(b=[])=>{let O=xM();if(!O||O.injector.get(eT,!1)){const I=[...d,...b,{provide:_,useValue:!0}];a?a(I):function Eb(a){if(Zd&&!Zd.get(eT,!1))throw new xe(400,!1);(function Mb(){!function Ke(a){ee=a}(()=>{throw new xe(600,!1)})})(),Zd=a;const c=a.get(MM);(function Ob(a){a.get(t0,null)?.forEach(d=>d())})(a)}(function wM(a=[],c){return hu.create({name:c,providers:[{provide:YC,useValue:"platform"},{provide:Ig,useValue:new Set([()=>Zd=null])},...a]})}(I,p))}return function nT(a){const c=xM();if(!c)throw new xe(401,!1);return c}()}}function xM(){return Zd?.get(MM)??null}let MM=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const _=function oT(a="zone.js",c){return"noop"===a?new b3:"zone.js"===a?new sa(c):a}(p?.ngZone,function rT(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:p?.ngZoneEventCoalescing,runCoalescing:p?.ngZoneRunCoalescing}));return _.run(()=>{const b=function QP(a,c,d){return new sb(a,c,d)}(d.moduleType,this.injector,function Pb(a){return[{provide:sa,useFactory:a},{provide:O_,multi:!0,useFactory:()=>{const c=Vt(cT,{optional:!0});return()=>c.initialize()}},{provide:EM,useFactory:aT},{provide:LA,useFactory:UA}]}(()=>_)),O=b.injector.get(Dd,null);return _.runOutsideAngular(()=>{const I=_.onError.subscribe({next:k=>{O.handleError(k)}});b.onDestroy(()=>{Sg(this._modules,b),I.unsubscribe()})}),function sT(a,c,d){try{const p=d();return av(p)?p.catch(_=>{throw c.runOutsideAngular(()=>a.handleError(_)),_}):p}catch(p){throw c.runOutsideAngular(()=>a.handleError(p)),p}}(O,_,()=>{const I=b.injector.get(mM);return I.runInitializers(),I.donePromise.then(()=>(function DP(a){Tt(a,"Expected localeId to be defined"),"string"==typeof a&&(SP=a.toLowerCase().replace(/_/g,"-"))}(b.injector.get(tm,Ah)||Ah),this._moduleDoBootstrap(b),b))})})}bootstrapModule(d,p=[]){const _=rm({},p);return function xR(a,c,d){const p=new If(d);return Promise.resolve(p)}(0,0,d).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(d){const p=d.injector.get(td);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!d.instance.ngDoBootstrap)throw new xe(-403,!1);d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const d=this._injector.get(Ig,null);d&&(d.forEach(p=>p()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(p){return new(p||a)(It(hu))};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();function rm(a,c){return Array.isArray(c)?c.reduce(rm,a):{...a,...c}}let td=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(EM),this.zoneIsStable=Vt(LA),this.componentTypes=[],this.components=[],this.isStable=Vt(_M).hasPendingTasks.pipe((0,ut.w)(d=>d?(0,Ae.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,De.B)()),this._injector=Vt(Hu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,p){const _=d instanceof OA;if(!this._injector.get(mM).done)throw!_&&La(d),new xe(405,!1);let O;O=_?d:this._injector.get(d0).resolveComponentFactory(d),this.componentTypes.push(O.componentType);const I=function bM(a){return a.isBoundToModule}(O)?void 0:this._injector.get(zd),B=O.create(hu.NULL,[],p||O.selector,I),G=B.location.nativeElement,se=B.injector.get(xb,null);return se?.registerApplication(G),B.onDestroy(()=>{this.detachView(B.hostView),Sg(this.components,B),se?.unregisterApplication(G)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;Sg(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const p=this._injector.get(Tg,[]);p.push(...this._bootstrapListeners),p.forEach(_=>_(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Sg(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new xe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Sg(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}const EM=new ir("",{providedIn:"root",factory:()=>Vt(Dd).handleError.bind(void 0)});function aT(){const a=Vt(sa),c=Vt(Dd);return d=>a.runOutsideAngular(()=>c.handleError(d))}let cT=(()=>{class a{constructor(){this.zone=Vt(sa),this.applicationRef=Vt(td)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function OM(){return!1}let Wv=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=Ib}return a})();function Ib(a){return function PM(a,c,d){if(Fr(a)&&!d){const p=Ki(a.index,c);return new $_(p,p)}return 47&a.type?new $_(c[Or],c):null}(Do(),pt(),16==(16&a))}class fT{constructor(){}supports(c){return Y_(c)}create(c){return new Yv(c)}}const kR=(a,c)=>c;class Yv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||kR}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,p=this._removalsHead,_=0,b=null;for(;d||p;){const O=!p||d&&d.currentIndex<Kv(p,_,b)?d:p,I=Kv(O,_,b),k=O.currentIndex;if(O===p)_--,p=p._nextRemoved;else if(d=d._next,null==O.previousIndex)_++;else{b||(b=[]);const B=I-_,G=k-_;if(B!=G){for(let Ee=0;Ee<B;Ee++){const ze=Ee<b.length?b[Ee]:b[Ee]=0,ft=ze+Ee;G<=ft&&ft<B&&(b[Ee]=ze+1)}b[O.previousIndex]=G-B}}I!==k&&c(O,I,k)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Y_(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,b,O,d=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let I=0;I<this.length;I++)b=c[I],O=this._trackByFn(I,b),null!==d&&Object.is(d.trackById,O)?(p&&(d=this._verifyReinsertion(d,b,O,I)),Object.is(d.item,b)||this._addIdentityChange(d,b)):(d=this._mismatch(d,b,O,I),p=!0),d=d._next}else _=0,function I0(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Symbol.iterator]();let p;for(;!(p=d.next()).done;)c(p.value)}}(c,I=>{O=this._trackByFn(_,I),null!==d&&Object.is(d.trackById,O)?(p&&(d=this._verifyReinsertion(d,I,O,_)),Object.is(d.item,I)||this._addIdentityChange(d,I)):(d=this._mismatch(d,I,O,_),p=!0),d=d._next,_++}),this.length=_;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,p,_){let b;return null===c?b=this._itTail:(b=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,b,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,b,_)):c=this._addAfter(new DM(d,p),b,_),c}_verifyReinsertion(c,d,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?c=this._reinsertAfter(b,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,b=c._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(c,d,p),this._addToMoves(c,p),c}_moveAfter(c,d,p){return this._unlink(c),this._insertAfter(c,d,p),this._addToMoves(c,p),c}_addAfter(c,d,p){return this._insertAfter(c,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,p){const _=null===d?this._itHead:d._next;return c._next=_,c._prev=d,null===_?this._itTail=c:_._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new Ab),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,p=c._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ab),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class DM{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kg{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const d=c._prevDup,p=c._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class Ab{constructor(){this.map=new Map}put(c){const d=c.trackById;let p=this.map.get(d);p||(p=new kg,this.map.set(d,p)),p.add(c)}get(c,d){const _=this.map.get(c);return _?_.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kv(a,c,d){const p=a.previousIndex;if(null===p)return p;let _=0;return d&&p<d.length&&(_=d[p]),p+c+_}class Rg{constructor(){}supports(c){return c instanceof Map||T0(c)}create(){return new AM}}class AM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||T0(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,_)=>{if(d&&d.key===_)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const b=this._getOrCreateRecordForKey(_,p);d=this._insertBeforeOrAppend(d,b)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const p=c._prev;return d._next=c,d._prev=p,c._prev=d,p&&(p._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,d);const b=_._prev,O=_._next;return b&&(b._next=O),O&&(O._prev=b),_._next=null,_._prev=null,_}const p=new pT(c);return this._records.set(c,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(p=>d(c[p],p))}}class pT{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kb(){return new Qv([new fT])}let Qv=(()=>{class a{static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:kb});constructor(d){this.factories=d}static create(d,p){if(null!=p){const _=p.factories.slice();d=d.concat(_)}return new a(d)}static extend(d){return{provide:a,useFactory:p=>a.create(d,p||kb()),deps:[[a,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(null!=p)return p;throw new xe(901,!1)}}return a})();function kM(){return new RM([new Rg])}let RM=(()=>{class a{static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:kM});constructor(d){this.factories=d}static create(d,p){if(p){const _=p.factories.slice();d=d.concat(_)}return new a(d)}static extend(d){return{provide:a,useFactory:p=>a.create(d,p||kM()),deps:[[a,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(p)return p;throw new xe(901,!1)}}return a})();const FM=tT(null,"core",[]);let Rb=(()=>{class a{constructor(d){}static#e=this.\u0275fac=function(p){return new(p||a)(It(td))};static#t=this.\u0275mod=Ui({type:a});static#n=this.\u0275inj=Tn({})}return a})();function CT(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function BR(a){const c=qn(a);if(!c)return null;const d=new Oh(c);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},4097:(en,Te,Q)=>{Q.d(Te,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=Q(534);(0,o.registerVersion)("firebase","9.23.0","app")},120:(en,Te,Q)=>{Q.d(Te,{Z:()=>o.Z});var o=Q(3106);o.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(en,Te,Q)=>{Q.r(Te);var o=Q(5861),U=Q(3106),Y=Q(6710),pe=Q(9058),De=(Q(534),Q(7879),Q(4537));function ut(){return window}function $(){return $=(0,o.Z)(function*(X,ne,K){var Se;const{BuildInfo:Qe}=ut();(0,Y.as)(ne.sessionId,"AuthEvent did not contain a session ID");const It=yield function Re(X){return at.apply(this,arguments)}(ne.sessionId),yn={};return(0,Y.at)()?yn.ibi=Qe.packageName:(0,Y.au)()?yn.apn=Qe.packageName:(0,Y.av)(X,"operation-not-supported-in-this-environment"),Qe.displayName&&(yn.appDisplayName=Qe.displayName),yn.sessionId=It,(0,Y.aw)(X,K,ne.type,void 0,null!==(Se=ne.eventId)&&void 0!==Se?Se:void 0,yn)}),$.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(X){const{BuildInfo:ne}=ut(),K={};(0,Y.at)()?K.iosBundleId=ne.packageName:(0,Y.au)()?K.androidPackageName=ne.packageName:(0,Y.av)(X,"operation-not-supported-in-this-environment"),yield(0,Y.ax)(X,K)})).apply(this,arguments)}function st(){return(st=(0,o.Z)(function*(X,ne,K){const{cordova:Se}=ut();let Qe=()=>{};try{yield new Promise((It,yn)=>{let Vt=null;function ti(){var Nn;It();const br=null===(Nn=Se.plugins.browsertab)||void 0===Nn?void 0:Nn.close;"function"==typeof br&&br(),"function"==typeof K?.close&&K.close()}function xn(){Vt||(Vt=window.setTimeout(()=>{yn((0,Y.az)(X,"redirect-cancelled-by-user"))},2e3))}function di(){"visible"===document?.visibilityState&&xn()}ne.addPassiveListener(ti),document.addEventListener("resume",xn,!1),(0,Y.au)()&&document.addEventListener("visibilitychange",di,!1),Qe=()=>{ne.removePassiveListener(ti),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",di,!1),Vt&&window.clearTimeout(Vt)}})}finally{Qe()}})).apply(this,arguments)}function at(){return(at=(0,o.Z)(function*(X){const ne=function We(X){if((0,Y.as)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const ne=new ArrayBuffer(X.length),K=new Uint8Array(ne);for(let Se=0;Se<X.length;Se++)K[Se]=X.charCodeAt(Se);return K}(X),K=yield crypto.subtle.digest("SHA-256",ne);return Array.from(new Uint8Array(K)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nt extends Y.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ne=>{this.resolveInialized=ne})}addPassiveListener(ne){this.passiveListeners.add(ne)}removePassiveListener(ne){this.passiveListeners.delete(ne)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ne){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(ne)),super.onEvent(ne)}initialized(){var ne=this;return(0,o.Z)(function*(){yield ne.initPromise})()}}function he(X){return ue.apply(this,arguments)}function ue(){return(ue=(0,o.Z)(function*(X){const ne=yield wt()._get(ot(X));return ne&&(yield wt()._remove(ot(X))),ne})).apply(this,arguments)}function Le(){const X=[];for(let K=0;K<20;K++){const Se=Math.floor(62*Math.random());X.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Se))}return X.join("")}function wt(){return(0,Y.aC)(Y.b)}function ot(X){return(0,Y.aD)("authEvent",X.config.apiKey,X.name)}function un(X){if(!X?.includes("?"))return{};const[ne,...K]=X.split("?");return(0,pe.zd)(K.join("?"))}const Pe=class gi{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(ne){var K=this;return(0,o.Z)(function*(){const Se=ne._key();let Qe=K.eventManagers.get(Se);return Qe||(Qe=new nt(ne),K.eventManagers.set(Se,Qe),K.attachCallbackListeners(ne,Qe)),Qe})()}_openPopup(ne){(0,Y.av)(ne,"operation-not-supported-in-this-environment")}_openRedirect(ne,K,Se,Qe){var It=this;return(0,o.Z)(function*(){!function mt(X){var ne,K,Se,Qe,It,yn,Vt,ti,xn,di;const Nn=ut();(0,Y.aA)("function"==typeof(null===(ne=Nn?.universalLinks)||void 0===ne?void 0:ne.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aA)(typeof(null===(K=Nn?.BuildInfo)||void 0===K?void 0:K.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aA)("function"==typeof(null===(It=null===(Qe=null===(Se=Nn?.cordova)||void 0===Se?void 0:Se.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===It?void 0:It.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(ti=null===(Vt=null===(yn=Nn?.cordova)||void 0===yn?void 0:yn.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===ti?void 0:ti.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(di=null===(xn=Nn?.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===di?void 0:di.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ne);const yn=yield It._initialize(ne);yield yn.initialized(),yn.resetRedirect(),(0,Y.aG)(),yield It._originValidation(ne);const Vt=function Ze(X,ne,K=null){return{type:ne,eventId:K,urlResponse:null,sessionId:Le(),postBody:null,tenantId:X.tenantId,error:(0,Y.az)(X,"no-auth-event")}}(ne,Se,Qe);yield function it(X,ne){return wt()._set(ot(X),ne)}(ne,Vt);const ti=yield function j(X,ne,K){return $.apply(this,arguments)}(ne,Vt,K),xn=yield function me(X){const{cordova:ne}=ut();return new Promise(K=>{ne.plugins.browsertab.isAvailable(Se=>{let Qe=null;Se?ne.plugins.browsertab.openUrl(X):Qe=ne.InAppBrowser.open(X,(0,Y.ay)()?"_blank":"_system","location=yes"),K(Qe)})})}(ti);return function lt(X,ne,K){return st.apply(this,arguments)}(ne,yn,xn)})()}_isIframeWebStorageSupported(ne,K){throw new Error("Method not implemented.")}_originValidation(ne){const K=ne._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function de(X){return Ne.apply(this,arguments)}(ne)),this.originValidationPromises[K]}attachCallbackListeners(ne,K){const{universalLinks:Se,handleOpenURL:Qe,BuildInfo:It}=ut(),yn=setTimeout((0,o.Z)(function*(){yield he(ne),K.onEvent(we())}),500),Vt=function(){var di=(0,o.Z)(function*(Nn){clearTimeout(yn);const br=yield he(ne);let rs=null;br&&Nn?.url&&(rs=function Ge(X,ne){var K,Se;const Qe=function nn(X){const ne=un(X),K=ne.link?decodeURIComponent(ne.link):void 0,Se=un(K).link,Qe=ne.deep_link_id?decodeURIComponent(ne.deep_link_id):void 0;return un(Qe).link||Qe||Se||K||X}(ne);if(Qe.includes("/__/auth/callback")){const It=un(Qe),yn=It.firebaseError?function Yt(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(It.firebaseError)):null,Vt=null===(Se=null===(K=yn?.code)||void 0===K?void 0:K.split("auth/"))||void 0===Se?void 0:Se[1],ti=Vt?(0,Y.az)(Vt):null;return ti?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:ti,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Qe,postBody:null}}return null}(br,Nn.url)),K.onEvent(rs||we())});return function(br){return di.apply(this,arguments)}}();typeof Se<"u"&&"function"==typeof Se.subscribe&&Se.subscribe(null,Vt);const ti=Qe,xn=`${It.packageName.toLowerCase()}://`;ut().handleOpenURL=function(){var di=(0,o.Z)(function*(Nn){if(Nn.toLowerCase().startsWith(xn)&&Vt({url:Nn}),"function"==typeof ti)try{ti(Nn)}catch(br){console.error(br)}});return function(Nn){return di.apply(this,arguments)}}()}};function we(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.az)("no-auth-event")}}function Tt(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function In(X=(0,pe.z$)()){return!("file:"!==Tt()&&"ionic:"!==Tt()&&"capacitor:"!==Tt()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tn(){try{const X=self.localStorage,ne=Y.aL();if(X)return X.setItem(ne,"1"),X.removeItem(ne),!function tn(X=(0,pe.z$)()){return function Ln(){return(0,pe.w1)()&&11===document?.documentMode}()||function fn(X=(0,pe.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,pe.hl)()}catch{return Ut()&&(0,pe.hl)()}return!1}function Ut(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cn(){return(function Ct(){return"http:"===Tt()||"https:"===Tt()}()||(0,pe.ru)()||In())&&!function dn(){return(0,pe.b$)()||(0,pe.UG)()}()&&Tn()&&!Ut()}function Un(){return In()&&typeof document<"u"}function Ei(){return(Ei=(0,o.Z)(function*(){return!!Un()&&new Promise(X=>{const ne=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ne),X(!0)})})})).apply(this,arguments)}const ri={LOCAL:"local",NONE:"none",SESSION:"session"},Hi=Y.aA,zo="persistence";function Kt(X){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,o.Z)(function*(X){yield X._initializationPromise;const ne=Oe(),K=Y.aD(zo,X.config.apiKey,X.name);ne&&ne.setItem(K,X._getPersistence())})).apply(this,arguments)}function Oe(){var X;try{return(null===(X=function Ai(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const Ce=Y.aA;class Me{constructor(){this.browserResolver=Y.aC(Y.k),this.cordovaResolver=Y.aC(Pe),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(ne){var K=this;return(0,o.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(ne)})()}_openPopup(ne,K,Se,Qe){var It=this;return(0,o.Z)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openPopup(ne,K,Se,Qe)})()}_openRedirect(ne,K,Se,Qe){var It=this;return(0,o.Z)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openRedirect(ne,K,Se,Qe)})()}_isIframeWebStorageSupported(ne,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ne,K)}_originValidation(ne){return this.assertedUnderlyingResolver._originValidation(ne)}get _shouldInitProactively(){return Un()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ce(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ne=this;return(0,o.Z)(function*(){if(ne.underlyingResolver)return;const K=yield function zn(){return Ei.apply(this,arguments)}();ne.underlyingResolver=K?ne.cordovaResolver:ne.browserResolver})()}}function $e(X){return X.unwrap()}function xt(X){return zt(X)}function zt(X){const{_tokenResponse:ne}=X instanceof pe.ZR?X.customData:X;if(!ne)return null;if(!(X instanceof pe.ZR)&&"temporaryProof"in ne&&"phoneNumber"in ne)return Y.P.credentialFromResult(X);const K=ne.providerId;if(!K||K===Y.p.PASSWORD)return null;let Se;switch(K){case Y.p.GOOGLE:Se=Y.V;break;case Y.p.FACEBOOK:Se=Y.U;break;case Y.p.GITHUB:Se=Y.W;break;case Y.p.TWITTER:Se=Y.Z;break;default:const{oauthIdToken:Qe,oauthAccessToken:It,oauthTokenSecret:yn,pendingToken:Vt,nonce:ti}=ne;return It||yn||Qe||Vt?Vt?K.startsWith("saml.")?Y.aO._create(K,Vt):Y.L._fromParams({providerId:K,signInMethod:K,pendingToken:Vt,idToken:Qe,accessToken:It}):new Y.X(K).credential({idToken:Qe,accessToken:It,rawNonce:ti}):null}return X instanceof pe.ZR?Se.credentialFromError(X):Se.credentialFromResult(X)}function Xt(X,ne){return ne.catch(K=>{throw K instanceof pe.ZR&&function gn(X,ne){var K;const Se=null===(K=ne.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===ne?.code)ne.resolver=new wi(X,Y.aq(X,ne));else if(Se){const Qe=zt(ne),It=ne;Qe&&(It.credential=Qe,It.tenantId=Se.tenantId||void 0,It.email=Se.email||void 0,It.phoneNumber=Se.phoneNumber||void 0)}}(X,K),K}).then(K=>{const Qe=K.user;return{operationType:K.operationType,credential:xt(K),additionalUserInfo:Y.ao(K),user:Zn.getOrCreate(Qe)}})}function Ht(X,ne){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,o.Z)(function*(X,ne){const K=yield ne;return{verificationId:K.verificationId,confirm:Se=>Xt(X,K.confirm(Se))}})).apply(this,arguments)}class wi{constructor(ne,K){this.resolver=K,this.auth=function Fe(X){return X.wrapped()}(ne)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ne){return Xt($e(this.auth),this.resolver.resolveSignIn(ne))}}class Zn{constructor(ne){this._delegate=ne,this.multiFactor=Y.ar(ne)}static getOrCreate(ne){return Zn.USER_MAP.has(ne)||Zn.USER_MAP.set(ne,new Zn(ne)),Zn.USER_MAP.get(ne)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ne){return this._delegate.getIdTokenResult(ne)}getIdToken(ne){return this._delegate.getIdToken(ne)}linkAndRetrieveDataWithCredential(ne){return this.linkWithCredential(ne)}linkWithCredential(ne){var K=this;return(0,o.Z)(function*(){return Xt(K.auth,Y.a0(K._delegate,ne))})()}linkWithPhoneNumber(ne,K){var Se=this;return(0,o.Z)(function*(){return Ht(Se.auth,Y.l(Se._delegate,ne,K))})()}linkWithPopup(ne){var K=this;return(0,o.Z)(function*(){return Xt(K.auth,Y.d(K._delegate,ne,Me))})()}linkWithRedirect(ne){var K=this;return(0,o.Z)(function*(){return yield Kt(Y.aH(K.auth)),Y.g(K._delegate,ne,Me)})()}reauthenticateAndRetrieveDataWithCredential(ne){return this.reauthenticateWithCredential(ne)}reauthenticateWithCredential(ne){var K=this;return(0,o.Z)(function*(){return Xt(K.auth,Y.a1(K._delegate,ne))})()}reauthenticateWithPhoneNumber(ne,K){return Ht(this.auth,Y.r(this._delegate,ne,K))}reauthenticateWithPopup(ne){return Xt(this.auth,Y.e(this._delegate,ne,Me))}reauthenticateWithRedirect(ne){var K=this;return(0,o.Z)(function*(){return yield Kt(Y.aH(K.auth)),Y.h(K._delegate,ne,Me)})()}sendEmailVerification(ne){return Y.ae(this._delegate,ne)}unlink(ne){var K=this;return(0,o.Z)(function*(){return yield Y.an(K._delegate,ne),K})()}updateEmail(ne){return Y.aj(this._delegate,ne)}updatePassword(ne){return Y.ak(this._delegate,ne)}updatePhoneNumber(ne){return Y.u(this._delegate,ne)}updateProfile(ne){return Y.ai(this._delegate,ne)}verifyBeforeUpdateEmail(ne,K){return Y.af(this._delegate,ne,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zn.USER_MAP=new WeakMap;const Li=Y.aA;let $n=(()=>{class X{constructor(K,Se){if(this.app=K,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=K.options;Li(Qe,"invalid-api-key",{appName:K.name}),Li(Qe,"invalid-api-key",{appName:K.name});const It=typeof window<"u"?Me:void 0;this._delegate=Se.initialize({options:{persistence:_i(Qe,K.name),popupRedirectResolver:It}}),this._delegate._updateErrorMap(Y.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Se){Y.I(this._delegate,K,Se)}applyActionCode(K){return Y.a5(this._delegate,K)}checkActionCode(K){return Y.a6(this._delegate,K)}confirmPasswordReset(K,Se){return Y.a4(this._delegate,K,Se)}createUserWithEmailAndPassword(K,Se){var Qe=this;return(0,o.Z)(function*(){return Xt(Qe._delegate,Y.a8(Qe._delegate,K,Se))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return Y.ad(this._delegate,K)}isSignInWithEmailLink(K){return Y.ab(this._delegate,K)}getRedirectResult(){var K=this;return(0,o.Z)(function*(){Li(cn(),K._delegate,"operation-not-supported-in-this-environment");const Se=yield Y.j(K._delegate,Me);return Se?Xt(K._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function qe(X,ne){(0,Y.aH)(X)._logFramework(ne)}(this._delegate,K)}onAuthStateChanged(K,Se,Qe){const{next:It,error:yn,complete:Vt}=vr(K,Se,Qe);return this._delegate.onAuthStateChanged(It,yn,Vt)}onIdTokenChanged(K,Se,Qe){const{next:It,error:yn,complete:Vt}=vr(K,Se,Qe);return this._delegate.onIdTokenChanged(It,yn,Vt)}sendSignInLinkToEmail(K,Se){return Y.aa(this._delegate,K,Se)}sendPasswordResetEmail(K,Se){return Y.a3(this._delegate,K,Se||void 0)}setPersistence(K){var Se=this;return(0,o.Z)(function*(){let Qe;switch(function sn(X,ne){Hi(Object.values(ri).includes(ne),X,"invalid-persistence-type"),(0,pe.b$)()?Hi(ne!==ri.SESSION,X,"unsupported-persistence-type"):(0,pe.UG)()?Hi(ne===ri.NONE,X,"unsupported-persistence-type"):Ut()?Hi(ne===ri.NONE||ne===ri.LOCAL&&(0,pe.hl)(),X,"unsupported-persistence-type"):Hi(ne===ri.NONE||Tn(),X,"unsupported-persistence-type")}(Se._delegate,K),K){case ri.SESSION:Qe=Y.a;break;case ri.LOCAL:Qe=(yield Y.aC(Y.i)._isAvailable())?Y.i:Y.b;break;case ri.NONE:Qe=Y.N;break;default:return Y.av("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return Xt(this._delegate,Y._(this._delegate))}signInWithCredential(K){return Xt(this._delegate,Y.$(this._delegate,K))}signInWithCustomToken(K){return Xt(this._delegate,Y.a2(this._delegate,K))}signInWithEmailAndPassword(K,Se){return Xt(this._delegate,Y.a9(this._delegate,K,Se))}signInWithEmailLink(K,Se){return Xt(this._delegate,Y.ac(this._delegate,K,Se))}signInWithPhoneNumber(K,Se){return Ht(this._delegate,Y.s(this._delegate,K,Se))}signInWithPopup(K){var Se=this;return(0,o.Z)(function*(){return Li(cn(),Se._delegate,"operation-not-supported-in-this-environment"),Xt(Se._delegate,Y.c(Se._delegate,K,Me))})()}signInWithRedirect(K){var Se=this;return(0,o.Z)(function*(){return Li(cn(),Se._delegate,"operation-not-supported-in-this-environment"),yield Kt(Se._delegate),Y.f(Se._delegate,K,Me)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return Y.a7(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=ri,X})();function vr(X,ne,K){let Se=X;"function"!=typeof X&&({next:Se,error:ne,complete:K}=X);const Qe=Se;return{next:yn=>Qe(yn&&Zn.getOrCreate(yn)),error:ne,complete:K}}function _i(X,ne){const K=function jt(X,ne){const K=Oe();if(!K)return[];const Se=Y.aD(zo,X,ne);switch(K.getItem(Se)){case ri.NONE:return[Y.N];case ri.LOCAL:return[Y.i,Y.a];case ri.SESSION:return[Y.a];default:return[]}}(X,ne);if(typeof self<"u"&&!K.includes(Y.i)&&K.push(Y.i),typeof window<"u")for(const Se of[Y.b,Y.a])K.includes(Se)||K.push(Se);return K.includes(Y.N)||K.push(Y.N),K}class Pi{constructor(){this.providerId="phone",this._delegate=new Y.P($e(U.Z.auth()))}static credential(ne,K){return Y.P.credential(ne,K)}verifyPhoneNumber(ne,K){return this._delegate.verifyPhoneNumber(ne,K)}unwrap(){return this._delegate}}Pi.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,Pi.PROVIDER_ID=Y.P.PROVIDER_ID;const yr=Y.aA;class Co{constructor(ne,K,Se=U.Z.app()){var Qe;yr(null===(Qe=Se.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new Y.R(ne,K,Se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(X){X.INTERNAL.registerComponent(new De.wA("auth-compat",ne=>{const K=ne.getProvider("app-compat").getImmediate(),Se=ne.getProvider("auth");return new $n(K,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.Q,FacebookAuthProvider:Y.U,GithubAuthProvider:Y.W,GoogleAuthProvider:Y.V,OAuthProvider:Y.X,SAMLAuthProvider:Y.Y,PhoneAuthProvider:Pi,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:Co,TwitterAuthProvider:Y.Z,Auth:$n,AuthCredential:Y.J,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},3106:(en,Te,Q)=>{Q.d(Te,{Z:()=>lt});var o=Q(9058),U=Q(4537),Y=Q(534),pe=Q(7879);class ce{constructor(mt,Re){this._delegate=mt,this.firebase=Re,(0,Y._addComponent)(mt,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(mt,Re=Y._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(mt);return!We.isInitialized()&&"EXPLICIT"===(null===(at=We.getComponent())||void 0===at?void 0:at.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Re})}_removeServiceInstance(mt,Re=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(Re)}_addComponent(mt){(0,Y._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,Y._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function Ve(){const st=function ut(st){const mt={},Re={__esModule:!0,initializeApp:function xe(he,ue={}){const Ge=Y.initializeApp(he,ue);if((0,o.r3)(mt,Ge.name))return mt[Ge.name];const Le=new st(Ge,Re);return mt[Ge.name]=Le,Le},app:We,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function Ze(he){const ue=he.name,Ge=ue.replace("-compat","");if(Y._registerComponent(he)&&"PUBLIC"===he.type){const Le=(wt=We())=>{if("function"!=typeof wt[Ge])throw De.create("invalid-app-argument",{appName:ue});return wt[Ge]()};void 0!==he.serviceProps&&(0,o.ZB)(Le,he.serviceProps),Re[Ge]=Le,st.prototype[Ge]=function(...wt){return this._getService.bind(this,ue).apply(this,he.multipleInstances?wt:[])}}return"PUBLIC"===he.type?Re[Ge]:null},removeApp:function at(he){delete mt[he]},useAsService:function it(he,ue){return"serverAuth"===ue?null:ue},modularAPIs:Y}};function We(he){if(!(0,o.r3)(mt,he=he||Y._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:he});return mt[he]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function nt(){return Object.keys(mt).map(he=>mt[he])}}),We.App=st,Re}(ce);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function mt(Re){(0,o.ZB)(st,Re)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),st}(),$=new pe.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=j;!function me(st){(0,Y.registerVersion)("@firebase/app-compat","0.2.13",st)}()},534:(en,Te,Q)=>{Q.r(Te),Q.d(Te,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Oe,_addOrOverwriteComponent:()=>Ce,_apps:()=>Qt,_clearComponents:()=>xt,_components:()=>jt,_getProvider:()=>$e,_registerComponent:()=>Me,_removeServiceInstance:()=>Fe,deleteApp:()=>Li,getApp:()=>wi,getApps:()=>Zn,initializeApp:()=>Oi,onLog:()=>_i,registerVersion:()=>vr,setLogLevel:()=>Pi});var o=Q(5861),U=Q(4537),Y=Q(7879),pe=Q(9058);const ce=(Je,He)=>He.some(_t=>Je instanceof _t);let Ae,De;const j=new WeakMap,$=new WeakMap,de=new WeakMap,Ne=new WeakMap,me=new WeakMap;let mt={get(Je,He,_t){if(Je instanceof IDBTransaction){if("done"===He)return $.get(Je);if("objectStoreNames"===He)return Je.objectStoreNames||de.get(Je);if("store"===He)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return xe(Je[He])},set:(Je,He,_t)=>(Je[He]=_t,!0),has:(Je,He)=>Je instanceof IDBTransaction&&("done"===He||"store"===He)||He in Je};function We(Je){return"function"==typeof Je?function at(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...He){return Je.apply(nt(this),He),xe(j.get(this))}:function(...He){return xe(Je.apply(nt(this),He))}:function(He,..._t){const Wt=Je.call(nt(this),He,..._t);return de.set(Wt,He.sort?He.sort():[He]),xe(Wt)}}(Je):(Je instanceof IDBTransaction&&function st(Je){if($.has(Je))return;const He=new Promise((_t,Wt)=>{const kt=()=>{Je.removeEventListener("complete",An),Je.removeEventListener("error",ai),Je.removeEventListener("abort",ai)},An=()=>{_t(),kt()},ai=()=>{Wt(Je.error||new DOMException("AbortError","AbortError")),kt()};Je.addEventListener("complete",An),Je.addEventListener("error",ai),Je.addEventListener("abort",ai)});$.set(Je,He)}(Je),ce(Je,function ut(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,mt):Je)}function xe(Je){if(Je instanceof IDBRequest)return function lt(Je){const He=new Promise((_t,Wt)=>{const kt=()=>{Je.removeEventListener("success",An),Je.removeEventListener("error",ai)},An=()=>{_t(xe(Je.result)),kt()},ai=()=>{Wt(Je.error),kt()};Je.addEventListener("success",An),Je.addEventListener("error",ai)});return He.then(_t=>{_t instanceof IDBCursor&&j.set(_t,Je)}).catch(()=>{}),me.set(He,Je),He}(Je);if(Ne.has(Je))return Ne.get(Je);const He=We(Je);return He!==Je&&(Ne.set(Je,He),me.set(He,Je)),He}const nt=Je=>me.get(Je),he=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ge=new Map;function Le(Je,He){if(!(Je instanceof IDBDatabase)||He in Je||"string"!=typeof He)return;if(Ge.get(He))return Ge.get(He);const _t=He.replace(/FromIndex$/,""),Wt=He!==_t,kt=ue.includes(_t);if(!(_t in(Wt?IDBIndex:IDBObjectStore).prototype)||!kt&&!he.includes(_t))return;const An=function(){var ai=(0,o.Z)(function*(Gi,...Yi){const tr=this.transaction(Gi,kt?"readwrite":"readonly");let jr=tr.store;return Wt&&(jr=jr.index(Yi.shift())),(yield Promise.all([jr[_t](...Yi),kt&&tr.done]))[0]});return function(Yi){return ai.apply(this,arguments)}}();return Ge.set(He,An),An}!function Re(Je){mt=Je(mt)}(Je=>({...Je,get:(He,_t,Wt)=>Le(He,_t)||Je.get(He,_t,Wt),has:(He,_t)=>!!Le(He,_t)||Je.has(He,_t)}));class wt{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function ot(Je){const He=Je.getComponent();return"VERSION"===He?.type}(_t)){const Wt=_t.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(_t=>_t).join(" ")}}const Yt="@firebase/app",un=new Y.Yd("@firebase/app"),sn="[DEFAULT]",Kt={[Yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,jt=new Map;function Oe(Je,He){try{Je.container.addComponent(He)}catch(_t){un.debug(`Component ${He.name} failed to register with FirebaseApp ${Je.name}`,_t)}}function Ce(Je,He){Je.container.addOrOverwriteComponent(He)}function Me(Je){const He=Je.name;if(jt.has(He))return un.debug(`There were multiple attempts to register component ${He}.`),!1;jt.set(He,Je);for(const _t of Qt.values())Oe(_t,Je);return!0}function $e(Je,He){const _t=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Je.container.getProvider(He)}function Fe(Je,He,_t=sn){$e(Je,He).clearInstance(_t)}function xt(){jt.clear()}const zt=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xt{constructor(He,_t,Wt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Ht="9.23.0";function Oi(Je,He={}){let _t=Je;"object"!=typeof He&&(He={name:He});const Wt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},He),kt=Wt.name;if("string"!=typeof kt||!kt)throw zt.create("bad-app-name",{appName:String(kt)});if(_t||(_t=(0,pe.aH)()),!_t)throw zt.create("no-options");const An=Qt.get(kt);if(An){if((0,pe.vZ)(_t,An.options)&&(0,pe.vZ)(Wt,An.config))return An;throw zt.create("duplicate-app",{appName:kt})}const ai=new U.H0(kt);for(const Yi of jt.values())ai.addComponent(Yi);const Gi=new Xt(_t,Wt,ai);return Qt.set(kt,Gi),Gi}function wi(Je=sn){const He=Qt.get(Je);if(!He&&Je===sn&&(0,pe.aH)())return Oi();if(!He)throw zt.create("no-app",{appName:Je});return He}function Zn(){return Array.from(Qt.values())}function Li(Je){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(Je){const He=Je.name;Qt.has(He)&&(Qt.delete(He),yield Promise.all(Je.container.getProviders().map(_t=>_t.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function vr(Je,He,_t){var Wt;let kt=null!==(Wt=Kt[Je])&&void 0!==Wt?Wt:Je;_t&&(kt+=`-${_t}`);const An=kt.match(/\s|\//),ai=He.match(/\s|\//);if(An||ai){const Gi=[`Unable to register library "${kt}" with version "${He}":`];return An&&Gi.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),An&&ai&&Gi.push("and"),ai&&Gi.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void un.warn(Gi.join(" "))}Me(new U.wA(`${kt}-version`,()=>({library:kt,version:He}),"VERSION"))}function _i(Je,He){if(null!==Je&&"function"!=typeof Je)throw zt.create("invalid-log-argument");(0,Y.Am)(Je,He)}function Pi(Je){(0,Y.Ub)(Je)}const yr="firebase-heartbeat-database",Co=1,fe="firebase-heartbeat-store";let le=null;function X(){return le||(le=function Ze(Je,He,{blocked:_t,upgrade:Wt,blocking:kt,terminated:An}={}){const ai=indexedDB.open(Je,He),Gi=xe(ai);return Wt&&ai.addEventListener("upgradeneeded",Yi=>{Wt(xe(ai.result),Yi.oldVersion,Yi.newVersion,xe(ai.transaction),Yi)}),_t&&ai.addEventListener("blocked",Yi=>_t(Yi.oldVersion,Yi.newVersion,Yi)),Gi.then(Yi=>{An&&Yi.addEventListener("close",()=>An()),kt&&Yi.addEventListener("versionchange",tr=>kt(tr.oldVersion,tr.newVersion,tr))}).catch(()=>{}),Gi}(yr,Co,{upgrade:(Je,He)=>{0===He&&Je.createObjectStore(fe)}}).catch(Je=>{throw zt.create("idb-open",{originalErrorMessage:Je.message})})),le}function K(){return(K=(0,o.Z)(function*(Je){try{return yield(yield X()).transaction(fe).objectStore(fe).get(It(Je))}catch(He){if(He instanceof pe.ZR)un.warn(He.message);else{const _t=zt.create("idb-get",{originalErrorMessage:He?.message});un.warn(_t.message)}}})).apply(this,arguments)}function Se(Je,He){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,o.Z)(function*(Je,He){try{const Wt=(yield X()).transaction(fe,"readwrite");yield Wt.objectStore(fe).put(He,It(Je)),yield Wt.done}catch(_t){if(_t instanceof pe.ZR)un.warn(_t.message);else{const Wt=zt.create("idb-set",{originalErrorMessage:_t?.message});un.warn(Wt.message)}}})).apply(this,arguments)}function It(Je){return`${Je.name}!${Je.options.appId}`}class ti{constructor(He){this.container=He,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Nn(_t),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var He=this;return(0,o.Z)(function*(){const Wt=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=xn();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),He._heartbeatsCache.lastSentHeartbeatDate!==kt&&!He._heartbeatsCache.heartbeats.some(An=>An.date===kt))return He._heartbeatsCache.heartbeats.push({date:kt,agent:Wt}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(An=>{const ai=new Date(An.date).valueOf();return Date.now()-ai<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,o.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache||0===He._heartbeatsCache.heartbeats.length)return"";const _t=xn(),{heartbeatsToSend:Wt,unsentEntries:kt}=function di(Je,He=1024){const _t=[];let Wt=Je.slice();for(const kt of Je){const An=_t.find(ai=>ai.agent===kt.agent);if(An){if(An.dates.push(kt.date),br(_t)>He){An.dates.pop();break}}else if(_t.push({agent:kt.agent,dates:[kt.date]}),br(_t)>He){_t.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Wt}}(He._heartbeatsCache.heartbeats),An=(0,pe.L)(JSON.stringify({version:2,heartbeats:Wt}));return He._heartbeatsCache.lastSentHeartbeatDate=_t,kt.length>0?(He._heartbeatsCache.heartbeats=kt,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),An})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,o.Z)(function*(){return(yield He._canUseIndexedDBPromise)&&(yield function ne(Je){return K.apply(this,arguments)}(He.app))||{heartbeats:[]}})()}overwrite(He){var _t=this;return(0,o.Z)(function*(){var Wt;if(yield _t._canUseIndexedDBPromise){const An=yield _t.read();return Se(_t.app,{lastSentHeartbeatDate:null!==(Wt=He.lastSentHeartbeatDate)&&void 0!==Wt?Wt:An.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var _t=this;return(0,o.Z)(function*(){var Wt;if(yield _t._canUseIndexedDBPromise){const An=yield _t.read();return Se(_t.app,{lastSentHeartbeatDate:null!==(Wt=He.lastSentHeartbeatDate)&&void 0!==Wt?Wt:An.lastSentHeartbeatDate,heartbeats:[...An.heartbeats,...He.heartbeats]})}})()}}function br(Je){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function rs(Je){Me(new U.wA("platform-logger",He=>new wt(He),"PRIVATE")),Me(new U.wA("heartbeat",He=>new ti(He),"PRIVATE")),vr(Yt,"0.9.13",Je),vr(Yt,"0.9.13","esm2017"),vr("fire-js","")}("")},4537:(en,Te,Q)=>{Q.d(Te,{H0:()=>ut,wA:()=>Y,zt:()=>ce});var o=Q(5861),U=Q(9058);class Y{constructor(j,$,de){this.name=j,this.instanceFactory=$,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const pe="[DEFAULT]";class ce{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const de=new U.BH;if(this.instancesDeferred.set($,de),this.isInitialized($)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:$});Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const de=this.normalizeInstanceIdentifier(j?.identifier),Ne=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(me){if(Ne)return null;throw me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function De(Ve){return"EAGER"===Ve.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[$,de]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier($);try{const me=this.getOrInitializeService({instanceIdentifier:Ne});de.resolve(me)}catch{}}}}clearInstance(j=pe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,o.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...$.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=pe){return this.instances.has(j)}getOptions(j=pe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,de=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:de,options:$});for(const[me,lt]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(me)&&lt.resolve(Ne);return Ne}onInit(j,$){var de;const Ne=this.normalizeInstanceIdentifier($),me=null!==(de=this.onInitCallbacks.get(Ne))&&void 0!==de?de:new Set;me.add(j),this.onInitCallbacks.set(Ne,me);const lt=this.instances.get(Ne);return lt&&j(lt,Ne),()=>{me.delete(j)}}invokeOnInitCallbacks(j,$){const de=this.onInitCallbacks.get($);if(de)for(const Ne of de)try{Ne(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let de=this.instances.get(j);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=j,Ve===pe?void 0:Ve),options:$}),this.instances.set(j,de),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(de,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,de)}catch{}var Ve;return de||null}normalizeInstanceIdentifier(j=pe){return this.component?this.component.multipleInstances?j:pe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ce(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(en,Te,Q)=>{Q.d(Te,{Am:()=>Ve,Ub:()=>ut,Yd:()=>De,in:()=>U});const o=[];var U=function(j){return j[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j}(U||{});const Y={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,ce={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Ae=(j,$,...de)=>{if($<j.logLevel)return;const Ne=(new Date).toISOString(),me=ce[$];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[me](`[${Ne}]  ${j.name}:`,...de)};class De{constructor($){this.name=$,this._logLevel=pe,this._logHandler=Ae,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in U))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?Y[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...$),this._logHandler(this,U.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...$),this._logHandler(this,U.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,U.INFO,...$),this._logHandler(this,U.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,U.WARN,...$),this._logHandler(this,U.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...$),this._logHandler(this,U.ERROR,...$)}}function ut(j){o.forEach($=>{$.setLogLevel(j)})}function Ve(j,$){for(const de of o){let Ne=null;$&&$.level&&(Ne=Y[$.level]),de.userLogHandler=null===j?null:(me,lt,...st)=>{const mt=st.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");lt>=(Ne??me.logLevel)&&j({level:U[lt].toLowerCase(),message:mt,args:st,type:me.name})}}}},5861:(en,Te,Q)=>{function o(Y,pe,ce,Ae,De,ut,Ve){try{var j=Y[ut](Ve),$=j.value}catch(de){return void ce(de)}j.done?pe($):Promise.resolve($).then(Ae,De)}function U(Y){return function(){var pe=this,ce=arguments;return new Promise(function(Ae,De){var ut=Y.apply(pe,ce);function Ve($){o(ut,Ae,De,Ve,j,"next",$)}function j($){o(ut,Ae,De,Ve,j,"throw",$)}Ve(void 0)})}}Q.d(Te,{Z:()=>U})},7582:(en,Te,Q)=>{function pe(Pe,we){var qe={};for(var je in Pe)Object.prototype.hasOwnProperty.call(Pe,je)&&we.indexOf(je)<0&&(qe[je]=Pe[je]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(je=Object.getOwnPropertySymbols(Pe);ct<je.length;ct++)we.indexOf(je[ct])<0&&Object.prototype.propertyIsEnumerable.call(Pe,je[ct])&&(qe[je[ct]]=Pe[je[ct]])}return qe}function ce(Pe,we,qe,je){var Tt,ct=arguments.length,gt=ct<3?we:null===je?je=Object.getOwnPropertyDescriptor(we,qe):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gt=Reflect.decorate(Pe,we,qe,je);else for(var Ct=Pe.length-1;Ct>=0;Ct--)(Tt=Pe[Ct])&&(gt=(ct<3?Tt(gt):ct>3?Tt(we,qe,gt):Tt(we,qe))||gt);return ct>3&&gt&&Object.defineProperty(we,qe,gt),gt}function de(Pe,we,qe,je){return new(qe||(qe=Promise))(function(gt,Tt){function Ct(Ln){try{dn(je.next(Ln))}catch(fn){Tt(fn)}}function In(Ln){try{dn(je.throw(Ln))}catch(fn){Tt(fn)}}function dn(Ln){Ln.done?gt(Ln.value):function ct(gt){return gt instanceof qe?gt:new qe(function(Tt){Tt(gt)})}(Ln.value).then(Ct,In)}dn((je=je.apply(Pe,we||[])).next())})}function xe(Pe){return this instanceof xe?(this.v=Pe,this):new xe(Pe)}function nt(Pe,we,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,je=qe.apply(Pe,we||[]),gt=[];return ct={},Tt("next"),Tt("throw"),Tt("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function Tt(tn){je[tn]&&(ct[tn]=function(Tn){return new Promise(function(Ut,cn){gt.push([tn,Tn,Ut,cn])>1||Ct(tn,Tn)})})}function Ct(tn,Tn){try{!function In(tn){tn.value instanceof xe?Promise.resolve(tn.value.v).then(dn,Ln):fn(gt[0][2],tn)}(je[tn](Tn))}catch(Ut){fn(gt[0][3],Ut)}}function dn(tn){Ct("next",tn)}function Ln(tn){Ct("throw",tn)}function fn(tn,Tn){tn(Tn),gt.shift(),gt.length&&Ct(gt[0][0],gt[0][1])}}function it(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,we=Pe[Symbol.asyncIterator];return we?we.call(Pe):(Pe=function st(Pe){var we="function"==typeof Symbol&&Symbol.iterator,qe=we&&Pe[we],je=0;if(qe)return qe.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&je>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[je++],done:!Pe}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),qe={},je("next"),je("throw"),je("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function je(gt){qe[gt]=Pe[gt]&&function(Tt){return new Promise(function(Ct,In){!function ct(gt,Tt,Ct,In){Promise.resolve(In).then(function(dn){gt({value:dn,done:Ct})},Tt)}(Ct,In,(Tt=Pe[gt](Tt)).done,Tt.value)})}}}Q.d(Te,{FC:()=>nt,KL:()=>it,_T:()=>pe,gn:()=>ce,mG:()=>de,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=9945)}]);