<mat-toolbar color="primary">
    <h1 class="log-in-a" *ngIf="user$ | async as user">
        Üdvözöljük, {{user.displayName}}!</h1>

    <ng-container *ngIf="user$ | async as user; else loginButton">
        <button mat-button [matMenuTriggerFor]="userMenu">
            <img class="profile-image-toolbar" width="30" height="30"
                [src]="user.photoURL ?? 'assets/image-placeholder.png'" />
            <mat-icon>expand_more</mat-icon>
        </button>
    </ng-container>
    <ng-template #loginButton>
        <button class="Btn" routerLink="login">
            <div class="sign"><svg viewBox="0 0 512 512">
                    <path
                        d="M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z">
                    </path>
                </svg></div>
            <div class="text">Bejelentkezés</div>
        </button>
    </ng-template>
</mat-toolbar>
<div *ngIf="!(user$ | async)">

</div>
<div class="content">
    <router-outlet></router-outlet>
</div>

<mat-menu #userMenu="matMenu">
    <button mat-menu-item routerLink="/home">Rendelések</button>
    <button mat-menu-item routerLink="/user/profile">Profil</button>
    <button mat-menu-item (click)="logout()">Kijelentkezés</button>
</mat-menu>

<!--<div class="orders" *ngFor="let orders of items">{{orders.email}}</div>
<div class="orders" *ngFor="let users of users">{{users.email}}</div>
<div *ngFor="let email of findMatchingEmails()">
    {{ email }}
</div>
<div *ngIf="userEmail">
    Bejelentkezett email cím: {{ userEmail }}
</div>
<div class="order-container" *ngFor="let order of userOrders">
    <p>{{ order.price }}</p>
    <p>{{ order.gift }}</p>
    <p>{{ order.insurance }}</p>
    <div class="item-container" *ngFor="let item of order.items">
        {{ item.product.description }}
        <p>{{ item.product.imagePath }}</p>
        <p>{{ item.quantity }}</p>
    </div>
</div>
-->
<!--

    <div class="order-table" *ngIf="user$ | async as user">
        <div class="order-row" *ngFor="let order of userOrders">
        <div class="item-container" *ngFor="let item of order.items">
            <div class="product-image">
                <img [src]="item.product.imagePath">
            </div>
            <div class="description">{{ item.product.description }}</div>
            <div class="quantity">{{ item.quantity }} db</div>
            <div class="product-price">{{ item.product.price }} Ft/db</div>
        </div>
        <div class="order-data">
            <p class="gift">Ajándékcsomagolás: {{ order.gift ? 'Igen, +1590 Ft' : 'Nem' }}</p>
            <p class="insurance">Küldemény biztosítása: {{ order.insurance ? 'Igen, +500 Ft' : 'Nem' }}</p>
            <p class="shipping-price">Szállítás díja: {{ order.shippingPrice }} Ft</p>
            
            <p class="order-date">Rendelés dátuma: {{ order.orderDate.toDate() | date: 'yyyy-MM-dd' }}</p>
            <p class="total-price">Összesen: {{ order.price }} Ft</p>
        </div>
    </div>
</div>
-->